(()=>{var e,t,n,r,o={609241156049813:(e,t,n)=>{"use strict";var r={};n.r(r),n.d(r,{default:()=>eo});var o={};n.r(o),n.d(o,{LND_SLIDE:()=>pV,PRT_SLIDE:()=>fV,SQR_SLIDE:()=>hV});n(474207229921038),n(801928582246384);var a=n(770494409974674),i=n.n(a),c=n(28123281552855),l={insert:"head",singleton:!1};i()(c.Z,l);c.Z.locals;var s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return new Date(1e3*e).toISOString().substring(11,t<.01?23:t<.1?22:t<1?21:19).replace(/^0(?:0:0?)?/,"")},u=function(e){return Math.round(Math.round(30*e)/30*1e4)/1e4},d=function(e,t){return u(e)===u(t)},m=function(e,t){return e.start===t.start&&e.end===t.end},p=function(e,t){return e.start<=t.start&&t.start<=e.end||t.start<=e.start&&e.start<=t.end},f=n(0x666c254417d1),h=n.n(f),g=n(859461168962135),y=n.n(g);function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var E=function(){var e="Vimeo::Editor::LoggerSettings",t=JSON.parse(localStorage&&localStorage.getItem(e)||"{}");return{setEnabled:function(n,r){(t[n]||(t[n]={})).enabled=r,localStorage&&localStorage.setItem(e,JSON.stringify(t))},isEnabled:function(e,n){var r=t[e]||(t[e]={});return void 0===r.enabled?n:r.enabled}}}(),w=!!!window.location.host.match(/\.ci\.vimeows\.com$/)&&window.Sentry&&new window.Sentry.BrowserClient({dsn:"https://2676d63804ce457abe28f36867869d47@o189131.ingest.sentry.io/5281723",release:"2ab5e4e0ef_a6326305"}),A=console.table?function(){var e;return(e=console).table.apply(e,arguments)}:function(){var e;return(e=console).log.apply(e,arguments)},C={ALL:{disable:function(){return Object.entries(C).forEach((function(e){var t=b(e,2),n=t[0],r=t[1];"ALL"!==n&&r.disable()}))},enable:function(){return Object.entries(C).forEach((function(e){var t=b(e,2),n=t[0],r=t[1];"ALL"!==n&&r.enable()}))}}},S=function(e){var t=function(e){return{debug:y(),error:function(t){var n=new Error("[".concat(e,"] ").concat(t));if(w)w.captureException(n);else{console.error(n);for(var r=arguments.length,o=new Array(r>1?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];var i;o.length>0&&(i=console).error.apply(i,o)}},info:y(),log:y(),warn:function(t){console.warn(new Error("[".concat(e,"] ").concat(t)));for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var a;r.length>0&&(a=console).error.apply(a,r)},group:y(),groupCollapsed:y(),groupEnd:y(),table:y()}}(e),n=function(e){return{debug:function(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=console).debug.apply(t,["[".concat(e,"]")].concat(r))},error:function(t){console.error(new Error("[".concat(e,"] ").concat(t)));for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var a;r.length>0&&(a=console).error.apply(a,r)},info:function(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=console).info.apply(t,["[".concat(e,"]")].concat(r))},log:function(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=console).log.apply(t,["[".concat(e,"]")].concat(r))},warn:function(t){console.warn(new Error("[".concat(e,"] ").concat(t)));for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var a;r.length>0&&(a=console).warn.apply(a,r)},group:function(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=console).group.apply(t,["[".concat(e,"]")].concat(r))},groupCollapsed:function(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=console).groupCollapsed.apply(t,["[".concat(e,"]")].concat(r))},groupEnd:function(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=console).groupEnd.apply(t,["[".concat(e,"]")].concat(r))},table:function(){return A.apply(void 0,arguments)}}}(e),r=E.isEnabled(e,false)?n:t,o={debug:function(){var e;return(e=r).debug.apply(e,arguments)},error:function(){var e;return(e=r).error.apply(e,arguments)},info:function(){var e;return(e=r).info.apply(e,arguments)},log:function(){var e;return(e=r).log.apply(e,arguments)},warn:function(){var e;return(e=r).warn.apply(e,arguments)},group:function(){var e;return(e=r).group.apply(e,arguments)},groupCollapsed:function(){var e;return(e=r).groupCollapsed.apply(e,arguments)},groupEnd:function(){var e;return(e=r).groupEnd.apply(e,arguments)},table:function(){var e;return(e=r).table.apply(e,arguments)},enable:function(){r=n,E.setEnabled(e,!0)},disable:function(){r=t,E.setEnabled(e,!1)}};return C[e]=o,o};window.LOGGER=C;var _,x=function(e){var t=new Error(e);window.Sentry&&window.Sentry.captureException?window.Sentry.captureException(t):setTimeout((function(){throw t}),100)},I=n(400015813793502),T=n(460806944873002);function O(){var e=[];return[function(t){e.forEach((function(e){return e(t)}))},function(t){return e.push(t),function(){return e.splice(e.indexOf(t),1)}}]}function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){B(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e){e.SET_CURRENT_TIME="SET_CURRENT_TIME",e.SET_PAUSED="SET_PAUSED"}(_||(_={}));var j={currentTime:0,paused:!0};var L=-1/0;function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var z=S("StagePlayerProvider"),U=(0,f.createContext)(null);function F(e){var t=new Map;function n(n){if(t.has(n))return t.get(n);var r=function(e){var t=e.sceneId,n=e.setStoreCurrentTime,r=e.setStorePaused,o=(0,I.throttle)(n,300),a=null,i={play:function(e){a?a.play(e):z.error("Cannot play: master is not provided")},pause:function(){a?a.pause():z.error("Cannot pause: master is not provided")},seek:function(e){a?a.seek(e):z.error("Cannot seek: master is not provided")},get currentTime(){return a?a.currentTime:L},get paused(){return!a||a.paused}},c=D(O(),2),l=c[0],s=c[1],d=D(O(),2),m=d[0],p=d[1],f=D(O(),2),h=f[0],g=f[1],y=function(){l(),r(t,!1)},b=function(){m(),a.seek(u(a.currentTime)),o.flush(),r(t,!0)},v=function(e){h(e),o(t,u(e))},E=function(){a&&(a.onPlay=I.noop,a.onPause=I.noop,a.onTimeUpdate=I.noop)};return{registerMaster:function(e){return null!==a&&(z.error("Unexpected master override"),E()),(a=e).onPlay=y,a.onPause=b,a.onTimeUpdate=v,a.currentTime!==L&&v(a.currentTime),a.paused||y(),E},scenePlayer:{onPlay:s,onPause:p,onTimeUpdate:g,get player(){return i}}}}(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({sceneId:n},e));return t.set(n,r),r}return{registerMaster:function(e,t){return n(e).registerMaster(t)},getScenePlayer:function(e){return n(e).scenePlayer}}}U.displayName="StagePlayer";var H={setStoreCurrentTime:function(e,t){return function(n,r){var o=r().scenesStagePlayer,a=e in o?o[e]:j;n({type:_.SET_CURRENT_TIME,payload:{sceneId:e,stagePlayer:M(M({},a),{},{currentTime:t})}})}},setStorePaused:function(e,t){return function(n,r){var o=r().scenesStagePlayer,a=e in o?o[e]:j;n({type:_.SET_PAUSED,payload:{sceneId:e,stagePlayer:M(M({},a),{},{paused:t})}})}}},V=(0,T.$j)(null,H)((function(e){var t,n,r=e.setStoreCurrentTime,o=e.setStorePaused,a=e.children,i=(t=function(){return F({setStoreCurrentTime:r,setStorePaused:o})},null!==(n=(0,f.useRef)(null)).current||(n.current=t()),n);return h().createElement(U.Provider,{value:i.current,"data-component-name":"StagePlayerProviderImpl"},a)}));function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){Y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var q="INIT_FEATURE_TOGGLES",Z="SET_FEATURE_TOGGLE_VALUE",X="Vimeo::Wizard::FeatureToggles";function K(e){var t=e.isStaff?JSON.parse(sessionStorage.getItem(X)):null,n=e.isStaff;n||(t=null);var r=G(G({},e),t),o=G(G({},r),{},{ladyBug:n});return{type:q,payload:o}}var Q=n(350946856597094),$=n.n(Q),J="INITIALIZE_VALUES";var ee="SET_INITIAL_VALUE",te="SET_VIEWED_UPSELL_TIER_VALUE";function ne(e){return{type:te,payload:e}}S("Translation");var re={};new URLSearchParams(window.location.search).get("lang");var oe=re,ae=function(e){Object.assign(re,e)},ie="story",ce="theme",le="sound",se="initial",ue="rendering",de="uploading",me="finished",pe="error",fe="assets",he="video_settings",ge="ui",ye={default:"#cccccc",primary:"#000000",secondary:"#ffffff"},be="auto",ve=function(e){return function(t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{type:"[".concat(e,"] ").concat(t),payload:n}}}},Ee=ve(ge),we=ve(fe),Ae=ve(he),Ce=(ve("example"),Ae("INIT_VIDEO_SETTINGS"),Ae("SET_THEME"),Ae("SET_SELECTED_PALETTE"),Ae("SET_SELECTED_FONT"),Ae("RESTORE_UNFINISHED_SESSION"),Ae("SET_TITLE"),Ae("SET_VSID"));S("REDUX");function Se(e){return function(e){if(Array.isArray(e))return _e(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return _e(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _e(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xe(Object(n),!0).forEach((function(t){Te(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Oe={pending:[],completed:[],isIdle:!0},ke="ADD_PENDING_UPLOAD",Me="UPDATE_PENDING_PROGRESS_UPLOAD",Be="PENDING_UPLOAD_COMPLETED",je="REMOVE_PENDING_UPLOAD",Le="RETRY_PENDING_UPLOAD",Pe="PENDING_UPLOAD_ERROR";const Ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case ke:return Ie(Ie({},e),{},{pending:[r].concat(Se(e.pending))});case Me:var o=e.pending.map((function(e){return e.key===r.key?Object.assign({},e,{progress:Ie(Ie({},e.progress),{},{loaded:r.loaded})}):e}));return Ie(Ie({},e),{},{pending:o});case Be:var a=r.complete,i=r.pendingKey,c=e.pending.filter((function(e){return e.key!==i}));return Ie(Ie({},e),{},{pending:c,completed:[a].concat(Se(e.completed))});case Pe:var l=e.pending.map((function(e){return e.key===r.pendingKey?Object.assign({},e,{error:r.error}):e}));return Ie(Ie({},e),{},{pending:l});case je:var s=e.pending.filter((function(e){return e.key!==r.pendingKey}));return Ie(Ie({},e),{},{pending:s});case Le:var u=e.pending.map((function(e){return e.key===r.key?Object.assign({},e,{progress:Ie(Ie({},e.progress),{},{loaded:0}),cancellationToken:r.cancellationToken,error:null}):e}));return Ie(Ie({},e),{},{pending:u});default:return e}};var De="GODADDY",Re="CONSTANTCONTACT",ze="FACEBOOKCCM",Ue="WOOCOMMERCE",Fe="WORDPRESS";const He=function(e){var t=e.height,n=void 0===t?"100%":t,r=e.width,o=void 0===r?"100%":r;return h().createElement("svg",{width:o,height:n,fill:"none",xmlns:"http://www.w3.org/2000/svg"},h().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M241.763 19.193c-.247-.344-.544-.442-.988-.197-.642.344-1.433.59-2.223.59-2.223 0-3.754-1.523-3.754-3.684 0-2.162 1.531-3.684 3.754-3.684.741 0 1.581.196 2.223.589.444.246.741.197.988-.197l.247-.343c.247-.393.197-.737-.149-.983-.988-.638-2.025-.933-3.26-.933-1.729 0-3.26.59-4.347 1.67-1.037 1.032-1.581 2.407-1.581 3.93 0 1.523.544 2.898 1.581 3.93 1.087 1.08 2.569 1.67 4.347 1.67 1.285 0 2.322-.295 3.359-.983.297-.245.346-.54.099-.933l-.296-.442zM246.999 13.25c-2.371 0-4.248 1.817-4.248 4.076 0 2.31 1.877 4.127 4.248 4.127 2.42 0 4.297-1.818 4.297-4.127-.049-2.26-1.976-4.077-4.297-4.077zm0 6.434c-1.285 0-2.272-1.031-2.272-2.309 0-1.326.987-2.357 2.272-2.357 1.284 0 2.272 1.031 2.272 2.357-.049 1.278-1.037 2.31-2.272 2.31zM257.076 13.25c-1.136 0-2.025.49-2.421 1.325v-.442c0-.442-.247-.687-.691-.687h-.692c-.444 0-.691.245-.691.687v6.485c0 .442.247.687.691.687h.692c.444 0 .691-.245.691-.688v-3.143c0-.835.396-2.457 1.976-2.457.84 0 1.334.688 1.334 1.867v3.684c0 .442.247.688.692.688h.691c.445 0 .692-.245.692-.688v-3.782c0-2.21-1.136-3.537-2.964-3.537zM275.452 13.396h-.692c-.444 0-.691.246-.691.688v.344c-.593-.786-1.532-1.228-2.569-1.228-2.223 0-3.853 1.72-3.853 4.077 0 2.358 1.63 4.127 3.853 4.127 1.087 0 1.976-.443 2.569-1.229v.344c0 .442.247.688.691.688h.692c.444 0 .691-.246.691-.688v-6.386c.05-.442-.247-.736-.691-.736zm-3.557 6.288c-1.284 0-2.173-.982-2.173-2.358 0-1.375.889-2.358 2.173-2.358 1.285 0 2.223.983 2.223 2.358 0 1.425-.938 2.358-2.223 2.358zM282.12 15.018c.247 0 .791.049 1.334.294.445.197.741.148.988-.196l.198-.246c.148-.196.197-.393.148-.54-.049-.148-.148-.295-.346-.442-.938-.54-1.828-.688-2.42-.688-2.668 0-4.495 1.72-4.495 4.175 0 2.358 1.877 4.029 4.495 4.029.543 0 1.383-.099 2.223-.54.247-.148.444-.345.494-.541.049-.197 0-.344-.149-.54l-.197-.246c-.247-.344-.544-.393-.988-.147-.593.294-1.235.294-1.334.294-1.482 0-2.519-.982-2.519-2.358 0-1.326 1.087-2.309 2.568-2.309zM291.605 19.93l-.494-.639c-.099-.098-.148-.147-.247-.147s-.198.049-.297.147l-.049.05c-.049.098-.296.294-.593.343-.098 0-.197.05-.296 0-.445-.049-.692-.344-.692-.933v-3.783h1.877c.247 0 .396-.147.396-.393v-.785c0-.246-.149-.393-.396-.393h-1.877v-1.474c0-.442-.247-.688-.691-.688h-.642c-.445 0-.692.246-.692.688v1.424h-.79c-.247 0-.395.148-.395.393v.786c0 .246.148.393.395.393h.79V18.702c0 2.407 1.68 2.75 2.668 2.75a5.5 5.5 0 00.938-.098c.148-.049.296-.098.445-.196.247-.098.395-.246.592-.442.099-.099.198-.197.247-.295a.702.702 0 00-.197-.491zM266.412 19.291c-.099-.098-.148-.147-.247-.147s-.198.049-.296.147l-.05.05c-.049.098-.296.294-.592.343-.099 0-.198.05-.297 0-.444-.049-.691-.344-.691-.933v-3.783h1.877c.247 0 .395-.147.395-.393v-.785c0-.246-.148-.393-.395-.393h-1.877v-1.474c0-.442-.247-.688-.692-.688h-.692c-.444 0-.691.246-.691.688v1.424h-.791c-.246 0-.395.148-.395.393v.786c0 .246.149.393.395.393h.791V18.702c0 2.407 1.679 2.75 2.667 2.75.346 0 .643-.049.939-.098.148-.049.296-.098.444-.196.247-.098.396-.246.593-.442.099-.099.198-.197.247-.295.148-.147.099-.344-.049-.54l-.593-.59zM170.433 19.144c-.247-.344-.544-.442-.988-.197-.643.344-1.433.59-2.223.59-2.223 0-3.755-1.523-3.755-3.684 0-2.162 1.532-3.685 3.755-3.685.741 0 1.58.197 2.223.59.444.246.741.196.988-.197l.247-.344c.247-.392.197-.736-.149-.982-.988-.638-2.025-.933-3.26-.933-1.729 0-3.26.59-4.347 1.67-1.037 1.032-1.581 2.407-1.581 3.93 0 1.523.544 2.898 1.581 3.93 1.087 1.08 2.569 1.67 4.347 1.67 1.284 0 2.322-.295 3.359-.983.297-.245.346-.54.099-.933l-.296-.442zM175.669 13.25c-2.371 0-4.249 1.817-4.249 4.076 0 2.31 1.878 4.127 4.249 4.127 2.42 0 4.297-1.818 4.297-4.127-.049-2.26-1.976-4.077-4.297-4.077zm0 6.434c-1.285 0-2.273-1.031-2.273-2.309 0-1.326.988-2.357 2.273-2.357 1.284 0 2.272 1.031 2.272 2.357-.049 1.278-1.037 2.31-2.272 2.31zM185.746 13.25c-1.136 0-2.026.49-2.421 1.325v-.442c0-.442-.247-.687-.691-.687h-.692c-.444 0-.691.245-.691.687v6.485c0 .442.247.687.691.687h.692c.444 0 .691-.245.691-.688v-3.143c0-.835.395-2.457 1.976-2.457.84 0 1.334.688 1.334 1.867v3.684c0 .442.247.688.692.688h.691c.445 0 .692-.245.692-.688v-3.782c0-2.21-1.136-3.537-2.964-3.537zM193.896 16.688l-1.037-.344c-.543-.148-.741-.393-.741-.737 0-.442.395-.737.889-.737.346 0 .593.098.791.344.247.295.494.393.889.344l.346-.098c.247-.05.444-.197.494-.393a.572.572 0 00-.099-.54c-.494-.836-1.334-1.278-2.47-1.278-1.63 0-2.816 1.032-2.816 2.456 0 1.032.692 1.818 2.124 2.21l.988.345c.593.196.791.442.791.736 0 .443-.445.787-1.087.787-.494 0-.988-.197-1.235-.54-.247-.296-.445-.492-.889-.394l-.395.098c-.247.05-.445.197-.494.344a.704.704 0 00.049.54c.494.983 1.581 1.573 2.964 1.573 2.075 0 3.013-1.229 3.013-2.457 0-.736-.395-1.719-2.075-2.26zM210.939 13.396h-.692c-.445 0-.692.246-.692.688v.344c-.592-.786-1.531-1.228-2.568-1.228-2.223 0-3.853 1.72-3.853 4.077 0 2.358 1.63 4.127 3.853 4.127 1.086 0 1.976-.443 2.568-1.229v.344c0 .442.247.688.692.688h.692c.444 0 .691-.246.691-.688v-6.435c.05-.442-.247-.688-.691-.688zm-3.557 6.288c-1.284 0-2.174-.982-2.174-2.358 0-1.375.89-2.358 2.174-2.358 1.284 0 2.223.983 2.223 2.358 0 1.376-.939 2.358-2.223 2.358zM218.002 13.25c-1.136 0-2.025.49-2.42 1.325v-.442c0-.442-.247-.687-.692-.687h-.691c-.445 0-.692.245-.692.687v6.485c0 .442.247.687.692.687h.691c.445 0 .692-.245.692-.688v-3.143c0-.835.395-2.457 1.976-2.457.84 0 1.334.688 1.334 1.867v3.684c0 .442.247.688.691.688h.692c.444 0 .691-.245.691-.688v-3.782c0-2.21-1.136-3.537-2.964-3.537zM227.24 19.242c-.099-.098-.148-.147-.247-.147s-.198.049-.297.147l-.049.05c-.049.098-.296.294-.593.343-.099 0-.197.05-.296 0-.445-.049-.692-.344-.692-.933v-3.783h1.877c.247 0 .396-.147.396-.393v-.736c0-.246-.149-.393-.396-.393h-1.877v-1.474c0-.442-.247-.688-.691-.688h-.642c-.445 0-.692.246-.692.688v1.424h-.79c-.247 0-.396.148-.396.393v.786c0 .246.149.393.396.393h.79v3.783c0 2.407 1.679 2.75 2.667 2.75.346 0 .643-.049.939-.098.148-.049.296-.098.445-.196.247-.098.395-.246.592-.442.099-.099.198-.197.247-.295.149-.147.099-.344-.049-.54l-.642-.639zM202.047 19.242c-.099-.098-.148-.147-.247-.147s-.198.049-.296.147l-.05.05c-.049.098-.296.294-.593.343-.098 0-.197.05-.296 0-.445-.049-.691-.344-.691-.933v-3.783h1.877c.247 0 .395-.147.395-.393v-.736c0-.246-.148-.393-.395-.393h-1.877v-1.474c0-.442-.247-.688-.692-.688h-.642c-.445 0-.692.246-.692.688v1.424h-.79c-.247 0-.395.148-.395.393v.786c0 .246.148.393.395.393h.79V18.702c0 2.407 1.68 2.75 2.668 2.75a5.5 5.5 0 00.938-.098c.148-.049.297-.098.445-.196.247-.098.395-.246.593-.442.098-.099.197-.197.247-.295.148-.147.098-.344-.05-.54l-.642-.639zM145.931 13.347c.247.737.939 1.18 1.729 1.18.198 0 .395-.05.593-.099.939-.344 1.433-1.375 1.087-2.309-.593-1.62-1.828-2.898-3.557-3.684-.889-.393-1.976 0-2.42.884-.396.884 0 1.965.889 2.407.889.393 1.432.934 1.679 1.621zM145.339 2.05a1.803 1.803 0 00-2.125 1.424c-.197.982.445 1.915 1.433 2.112 4.1.786 6.866 3.537 7.558 7.516.148.884.938 1.473 1.778 1.473.099 0 .198 0 .297-.049.987-.196 1.63-1.13 1.481-2.063-.938-5.403-4.841-9.333-10.422-10.414zM140.745 20.028c-1.631 0-3.014-1.326-3.014-2.996a3.017 3.017 0 013.014-2.997c.988 0 1.827-.786 1.827-1.818 0-1.031-.79-1.817-1.827-1.817-3.656 0-6.62 2.947-6.62 6.583 0 3.634 2.964 6.582 6.62 6.582 3.655 0 6.619-2.948 6.619-6.582 0-.983-.791-1.818-1.828-1.818-.988 0-1.828.786-1.828 1.818a2.955 2.955 0 01-2.963 3.045z",fill:"#181818"}),h().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M151.661 15.263c-.988 0-1.827.786-1.827 1.818 0 5.01-4.1 9.087-9.139 9.087-5.038 0-9.138-4.077-9.138-9.087s4.1-9.088 9.138-9.088a1.819 1.819 0 100-3.635C133.73 4.358 128 10.056 128 17.032c0 6.975 5.73 12.673 12.745 12.673 7.014 0 12.744-5.698 12.744-12.673 0-.983-.79-1.769-1.828-1.769z",fill:"#181818"}),h().createElement("path",{d:"M108 0h-1v28h1V0z",fill:"#BDCAD3"}),h().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.778 12.01c-.084 1.802-1.36 4.27-3.831 7.402-2.555 3.272-4.716 4.908-6.484 4.908-1.095 0-2.022-.996-2.779-2.989l-1.516-5.48c-.562-1.992-1.165-2.99-1.81-2.99-.14 0-.632.292-1.474.873L0 12.61c.927-.802 1.842-1.605 2.742-2.41C3.978 9.15 4.907 8.596 5.525 8.54c1.462-.138 2.362.847 2.7 2.955.365 2.275.618 3.69.76 4.244.421 1.887.885 2.83 1.392 2.83.393 0 .983-.612 1.771-1.836.787-1.225 1.208-2.156 1.265-2.796.112-1.057-.31-1.587-1.265-1.587-.45 0-.913.102-1.39.304.923-2.98 2.687-4.428 5.29-4.346 1.931.056 2.841 1.29 2.73 3.702z",fill:"#17272E"}),h().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M26.703 3.067c-.028.69-.38 1.352-1.055 1.986a3.801 3.801 0 01-2.7 1.075c-1.602 0-2.377-.689-2.32-2.067.027-.717.456-1.407 1.286-2.069.83-.66 1.75-.992 2.764-.992.59 0 1.082.228 1.477.683.393.455.576.917.548 1.384zm3.67 14.78c-.787 1.468-1.87 2.797-3.248 3.987-1.885 1.606-3.769 2.409-5.652 2.409-.873 0-1.541-.277-2.005-.831-.463-.554-.681-1.273-.653-2.16.027-.913.315-2.326.864-4.236.549-1.911.824-2.936.824-3.074 0-.72-.255-1.08-.76-1.08-.169 0-.647.291-1.435.872l-.97-1.123c.9-.802 1.8-1.605 2.7-2.41 1.209-1.052 2.109-1.606 2.7-1.662.928-.082 1.61.186 2.046.808.435.622.597 1.428.486 2.422-.366 1.684-.761 3.823-1.183 6.417-.028 1.188.408 1.781 1.308 1.781.394 0 1.096-.41 2.11-1.23.843-.683 1.532-1.325 2.067-1.928l.802 1.039z",fill:"#17272E"}),h().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M56.718 17.848c-.787 1.467-1.87 2.796-3.248 3.986-1.885 1.606-3.769 2.409-5.652 2.409-1.83 0-2.715-.996-2.659-2.99.028-.887.204-1.953.527-3.199.323-1.246.5-2.215.528-2.908.028-1.051-.296-1.579-.974-1.579-.734 0-1.608.86-2.624 2.578-1.072 1.8-1.652 3.546-1.735 5.236-.057 1.193.061 2.107.355 2.744-1.963.056-3.338-.264-4.122-.956-.703-.61-1.024-1.62-.967-3.034a11.05 11.05 0 01.414-2.66c.247-.887.386-1.676.414-2.37.057-1.025-.324-1.538-1.14-1.538-.706 0-1.466.791-2.282 2.37a11.935 11.935 0 00-1.352 4.946c-.056 1.552.045 2.632.302 3.242-1.93.056-3.301-.345-4.112-1.203-.673-.718-.98-1.808-.924-3.273.027-.718.156-1.72.388-3.005.231-1.285.36-2.286.388-3.005.055-.497-.072-.746-.38-.746-.169 0-.647.28-1.435.84l-1.012-1.121c.14-.11 1.026-.914 2.658-2.41 1.18-1.08 1.982-1.634 2.404-1.662.731-.056 1.321.242 1.771.893.45.651.676 1.406.676 2.265 0 .277-.028.54-.084.79a7.683 7.683 0 011.477-1.663c1.293-1.108 2.742-1.732 4.345-1.87 1.378-.111 2.362.207 2.954.955.477.61.7 1.483.674 2.619.197-.165.408-.346.634-.54.646-.749 1.278-1.344 1.897-1.787 1.04-.748 2.124-1.164 3.248-1.248 1.35-.11 2.32.207 2.911.953.505.607.731 1.477.676 2.607-.029.774-.219 1.899-.57 3.376-.353 1.477-.528 2.325-.528 2.546-.028.58.029.98.17 1.2.14.222.476.331 1.011.331.394 0 1.096-.41 2.11-1.23.843-.683 1.532-1.325 2.067-1.928l.801 1.039z",fill:"#17272E"}),h().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M62.962 13.465c.027-.743-.282-1.116-.928-1.116-.843 0-1.698.572-2.569 1.716-.87 1.145-1.32 2.24-1.347 3.287-.016 0-.016.18 0 .538a9.51 9.51 0 003.58-2.274c.814-.881 1.235-1.6 1.264-2.15zm9.576 4.34c-.816 1.329-2.419 2.656-4.81 3.984-2.98 1.688-6.004 2.531-9.069 2.531-2.278 0-3.91-.748-4.894-2.243-.703-1.025-1.04-2.244-1.012-3.657.027-2.244 1.04-4.376 3.037-6.4 2.194-2.215 4.781-3.324 7.762-3.324 2.757 0 4.219 1.106 4.388 3.317.112 1.409-.676 2.86-2.362 4.353-1.802 1.631-4.066 2.667-6.793 3.11.505.69 1.265 1.035 2.278 1.035 2.024 0 4.232-.506 6.624-1.522 1.715-.713 3.065-1.454 4.05-2.221l.801 1.037z",fill:"#17272E"}),h().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M79.222 14.862c.028-.75-.078-1.437-.317-2.061-.239-.624-.584-.938-1.033-.938-1.435 0-2.616.764-3.543 2.291-.789 1.25-1.21 2.582-1.266 3.997-.028.695.099 1.306.38 1.833.308.611.744.916 1.308.916 1.265 0 2.348-.735 3.248-2.207.76-1.222 1.166-2.498 1.223-3.83zm4.767.157c-.113 2.546-1.069 4.745-2.868 6.599-1.8 1.853-4.037 2.78-6.708 2.78-2.222 0-3.91-.706-5.062-2.117-.843-1.05-1.308-2.365-1.392-3.941-.142-2.38.73-4.566 2.616-6.558 2.024-2.213 4.569-3.32 7.635-3.32 1.968 0 3.458.652 4.471 1.951.957 1.19 1.392 2.726 1.308 4.606z",fill:"#17272E"}))},Ve=function(e){var t=e.height,n=void 0===t?"100%":t,r=e.width,o=void 0===r?"100%":r;return h().createElement("svg",{width:o,height:n,viewBox:"0 0 244 36",fill:"none",xmlns:"http://www.w3.org/2000/svg"},h().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M153.619 26.1668V19.8743C153.619 19.7381 153.564 19.6076 153.465 19.5134C153.366 19.4193 153.233 19.3699 153.096 19.3768H147.202C147.063 19.3746 146.929 19.4287 146.83 19.5267C146.732 19.6247 146.678 19.7583 146.68 19.8969V21.607C146.678 21.7455 146.732 21.8791 146.83 21.9771C146.929 22.0751 147.063 22.1292 147.202 22.127H149.213C148.583 23.0013 147.231 23.7973 145.536 23.7973C142.312 23.7973 140.581 21.5141 140.581 18.7373C140.581 15.873 142.615 13.6641 145.454 13.6641C147.644 13.6641 149.067 14.6923 149.866 16.206C149.92 16.3332 150.013 16.4397 150.133 16.5099C150.269 16.5611 150.419 16.5587 150.554 16.5032L152.781 15.6488C153.086 15.544 153.18 15.4352 153.18 15.292C153.177 15.2047 153.158 15.1187 153.123 15.0386C151.874 12.0071 149.06 10.5 145.541 10.5C140.774 10.5 137 13.9175 137 18.8753C137 23.6461 140.495 26.9973 144.968 26.9973C147.35 26.9973 149.456 26.0381 150.667 24.515V26.1668C150.664 26.3054 150.718 26.4392 150.817 26.5373C150.915 26.6354 151.05 26.6894 151.189 26.6868H153.096C153.236 26.689 153.37 26.6349 153.468 26.5369C153.566 26.4389 153.621 26.3053 153.619 26.1668ZM207.673 10.7401H205.362C205.231 10.7362 205.104 10.7847 205.01 10.8747C204.915 10.9648 204.861 11.0888 204.859 11.219V16.734C204.327 15.9128 203.12 15.2747 201.611 15.2747C198.749 15.2747 196.096 17.53 196.096 21.132C196.096 24.714 198.772 27.0105 201.656 27.0105C203.142 27.0105 204.264 26.3737 204.882 25.5074V26.2131C204.883 26.4768 205.097 26.6906 205.362 26.6921H207.673C207.801 26.6954 207.926 26.646 208.016 26.5555C208.107 26.4649 208.157 26.3412 208.154 26.2131V11.2217C208.158 11.0932 208.108 10.9688 208.017 10.8776C207.926 10.7865 207.802 10.7367 207.673 10.7401ZM174.127 10.7401H167.979C167.845 10.7375 167.716 10.7896 167.621 10.8842C167.526 10.9789 167.474 11.1079 167.477 11.2416V26.168C167.467 26.3062 167.516 26.4421 167.611 26.5429C167.707 26.6436 167.84 26.7001 167.979 26.6987H174.127C179.046 26.6987 182.464 23.4404 182.464 18.7002C182.464 13.9307 179.046 10.7401 174.127 10.7401ZM154.49 21.1758C154.49 17.8711 157.19 15.2734 160.531 15.2734V15.2748C163.898 15.2748 166.594 17.8724 166.594 21.1758C166.594 24.462 163.894 27.0132 160.531 27.0132C157.19 27.0132 154.49 24.458 154.49 21.1758ZM157.819 21.1533C157.819 22.6869 158.991 23.9273 160.531 23.9273V23.9326C162.093 23.9326 163.265 22.6909 163.265 21.1572C163.265 19.6236 162.093 18.3606 160.531 18.3606C158.991 18.3606 157.819 19.6196 157.819 21.1533ZM170.908 23.5466H174.272C176.995 23.5466 178.871 21.4279 178.871 18.6936C178.871 15.9129 176.995 13.8844 174.272 13.8844H170.908V23.5466ZM194.7 15.5944H192.389C192.124 15.6152 191.917 15.8314 191.909 16.0959V16.7791C191.383 15.9128 190.194 15.2747 188.712 15.2747C185.83 15.2747 183.13 17.53 183.13 21.1319C183.13 24.714 185.806 27.0105 188.69 27.0105C190.176 27.0105 191.39 26.3737 191.916 25.5073V26.2131C191.917 26.4765 192.131 26.6899 192.396 26.6921H194.707C194.835 26.695 194.959 26.6455 195.05 26.555C195.141 26.4646 195.19 26.341 195.188 26.2131V16.0959C195.191 15.9645 195.142 15.837 195.05 15.7426C194.958 15.6481 194.832 15.5947 194.7 15.5944ZM186.644 21.1559C186.644 22.7811 187.793 23.9525 189.324 23.9525V23.9512C190.856 23.9512 192.004 22.7798 192.004 21.1546C192.004 19.5294 190.854 18.3606 189.324 18.3606C187.793 18.3606 186.644 19.5307 186.644 21.1559ZM199.633 21.1546C199.633 22.797 200.773 23.9804 202.297 23.9804C203.822 23.9804 204.961 22.797 204.961 21.1546C204.961 19.5121 203.817 18.3287 202.297 18.3287C200.777 18.3287 199.633 19.5121 199.633 21.1546ZM220.643 10.7401H218.336C218.205 10.7362 218.078 10.7846 217.983 10.8746C217.889 10.9647 217.834 11.0887 217.832 11.219V16.734C217.306 15.9128 216.093 15.2747 214.583 15.2747C211.722 15.2747 209.069 17.53 209.069 21.132C209.069 24.714 211.746 27.0105 214.629 27.0105C216.117 27.0105 217.237 26.3737 217.855 25.5074V26.2131C217.856 26.477 218.071 26.6906 218.336 26.6921H220.643C220.771 26.6954 220.895 26.646 220.986 26.5554C221.077 26.4648 221.126 26.341 221.122 26.2131V11.2217C221.127 11.0933 221.078 10.9689 220.987 10.8777C220.896 10.7865 220.772 10.7367 220.643 10.7401ZM212.603 21.1546C212.603 22.797 213.742 23.9804 215.267 23.9804H215.271C216.795 23.9804 217.931 22.797 217.931 21.1546C217.931 19.5121 216.787 18.3287 215.267 18.3287C213.747 18.3287 212.603 19.5121 212.603 21.1546ZM233.297 16.3706L229.848 28.1502C229.182 30.2463 227.697 31.5001 225.386 31.5001C224.335 31.5001 223.379 31.2865 222.629 30.8593C222.192 30.6112 221.83 30.3843 221.83 30.0208C221.83 29.7953 221.903 29.6785 222.036 29.4676L222.721 28.446C222.914 28.1608 223.056 28.0679 223.264 28.0679C223.429 28.072 223.588 28.1272 223.72 28.2258C224.15 28.5031 224.55 28.7419 225.158 28.7419C225.87 28.7419 226.413 28.515 226.706 27.6713L227.002 26.6935H225.606C225.311 26.7029 225.051 26.5016 224.988 26.2146L221.902 16.3706C221.787 15.9832 221.892 15.5958 222.464 15.5958H224.895C225.192 15.5958 225.399 15.6967 225.53 16.1199L227.809 24.0468L229.94 16.1199C230.008 15.8466 230.192 15.5958 230.558 15.5958H232.864C233.318 15.5945 233.456 15.9129 233.297 16.3706ZM233.36 13.2648V13.1122C233.36 13.1015 233.363 13.0911 233.371 13.083C233.378 13.0762 233.388 13.0725 233.398 13.0724H234.372C234.383 13.0721 234.393 13.0759 234.4 13.083C234.407 13.0911 234.411 13.1015 234.411 13.1122V13.2648C234.411 13.275 234.407 13.2849 234.4 13.2926C234.393 13.2998 234.383 13.3036 234.372 13.3033H234.017V14.2598C234.016 14.2815 233.998 14.2989 233.977 14.2996H233.793C233.783 14.2995 233.773 14.2952 233.766 14.2876C233.758 14.2804 233.754 14.2703 233.754 14.2598V13.3033H233.398C233.388 13.3041 233.378 13.3003 233.37 13.2929C233.363 13.2855 233.359 13.2752 233.36 13.2648ZM235.328 13.7212L235.062 13.107C235.06 13.0969 235.055 13.0877 235.047 13.0804C235.037 13.0749 235.025 13.0722 235.013 13.0725H234.713C234.703 13.0717 234.693 13.0753 234.685 13.0824C234.678 13.0895 234.674 13.0994 234.674 13.1096V14.2612C234.674 14.2711 234.677 14.2808 234.684 14.2881C234.691 14.2954 234.7 14.2995 234.71 14.2997H234.888C234.898 14.2999 234.908 14.2959 234.915 14.2886C234.922 14.2813 234.925 14.2713 234.925 14.2612V13.3922L235.21 14.0237C235.214 14.0359 235.221 14.0466 235.231 14.0542C235.242 14.0601 235.254 14.0629 235.266 14.0622H235.407C235.42 14.063 235.432 14.0603 235.443 14.0542C235.453 14.0462 235.46 14.0356 235.464 14.0237L235.751 13.3922V14.2612C235.75 14.2716 235.754 14.2819 235.761 14.2891C235.769 14.2962 235.779 14.3 235.789 14.2997H235.962C235.973 14.3001 235.983 14.2961 235.99 14.2888C235.997 14.2814 236.001 14.2714 236 14.2612V13.1096C236 13.0994 235.996 13.0895 235.989 13.0824C235.981 13.0753 235.971 13.0717 235.961 13.0725H235.652C235.64 13.072 235.627 13.0747 235.616 13.0804C235.606 13.0868 235.599 13.0961 235.595 13.107L235.328 13.7212Z",fill:"#1A2E3B"}),h().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M26.7781 15.0091C26.6943 16.8116 25.4171 19.2795 22.9465 22.4122C20.3922 25.6841 18.231 27.3203 16.4632 27.3203C15.3684 27.3203 14.4413 26.3242 13.6844 24.331C13.179 22.5043 12.6735 20.6776 12.168 18.8509C11.6059 16.8589 11.003 15.8617 10.3583 15.8617C10.2177 15.8617 9.7259 16.1533 8.88381 16.7339L8 15.6115C8.92705 14.8087 9.84171 14.0059 10.7417 13.2018C11.9781 12.1488 12.9065 11.595 13.5253 11.5391C14.9874 11.4006 15.8874 12.3856 16.2253 14.4942C16.5901 16.769 16.8429 18.184 16.9846 18.738C17.4063 20.6253 17.8697 21.5681 18.3766 21.5681C18.7697 21.5681 19.3602 20.9557 20.148 19.7316C20.9345 18.5071 21.3562 17.5756 21.413 16.9355C21.5251 15.8787 21.1034 15.3492 20.148 15.3492C19.6981 15.3492 19.2345 15.4513 18.7575 15.6528C19.6808 12.6722 21.445 11.2246 24.0486 11.3069C25.9792 11.3629 26.8891 12.5969 26.7781 15.0091Z",fill:"#17272E"}),h().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M34.7034 6.06728C34.6752 6.75712 34.3238 7.41919 33.6482 8.05311C32.8887 8.76979 31.9887 9.12822 30.9484 9.12822C29.3457 9.12822 28.5714 8.4395 28.6282 7.06076C28.6552 6.34426 29.0842 5.65442 29.9139 4.99235C30.7438 4.3316 31.6646 4 32.6779 4C33.2684 4 33.7604 4.22838 34.1548 4.68271C34.5482 5.13817 34.7307 5.59962 34.7034 6.06728ZM38.3735 20.8477C37.5857 22.3148 36.5034 23.6436 35.1251 24.834C33.24 26.4396 31.3564 27.2426 29.4727 27.2426C28.5998 27.2426 27.9316 26.9656 27.4682 26.4116C27.0046 25.8578 26.7865 25.1389 26.8148 24.252C26.8419 23.3389 27.1303 21.9263 27.6788 20.0156C28.2276 18.105 28.5025 17.08 28.5025 16.9415C28.5025 16.2224 28.2484 15.8617 27.743 15.8617C27.5741 15.8617 27.0958 16.1533 26.308 16.7339L25.3379 15.6115C26.2377 14.8087 27.1377 14.0059 28.0377 13.2018C29.247 12.1488 30.147 11.5948 30.7388 11.5391C31.6659 11.4565 32.3476 11.7249 32.784 12.3468C33.2192 12.9685 33.3807 13.7751 33.2697 14.7688C32.9036 16.4534 32.5089 18.5922 32.0874 21.1864C32.059 22.3743 32.4954 22.9671 33.3954 22.9671C33.7887 22.9671 34.4914 22.5578 35.5047 21.7368C36.348 21.0541 37.0371 20.4117 37.5722 19.8091L38.3735 20.8477Z",fill:"#17272E"}),h().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M64.7185 20.8476C63.9307 22.3147 62.8484 23.6436 61.4699 24.8339C59.5852 26.4397 57.7012 27.2425 55.8177 27.2425C53.988 27.2425 53.1031 26.2466 53.1594 24.2522C53.1867 23.3655 53.3631 22.3003 53.6859 21.0542C54.009 19.808 54.1853 18.8387 54.2137 18.1464C54.2421 17.0946 53.9177 16.5674 53.2396 16.5674C52.5063 16.5674 51.6322 17.4273 50.6164 19.1448C49.5438 20.9459 48.9644 22.6914 48.8806 24.3809C48.8238 25.5737 48.9421 26.4883 49.2356 27.1247C47.273 27.1806 45.8981 26.8612 45.1141 26.1687C44.4114 25.559 44.0897 24.5487 44.1465 23.1348C44.1735 22.2481 44.3116 21.3614 44.5606 20.4749C44.8084 19.5882 44.9465 18.7987 44.9749 18.1051C45.0316 17.0801 44.6507 16.5674 43.8345 16.5674C43.1293 16.5674 42.3686 17.358 41.5526 18.937C40.7364 20.516 40.2853 22.1655 40.2013 23.883C40.1446 25.4352 40.2457 26.515 40.5034 27.1247C38.5728 27.1806 37.2019 26.7796 36.3907 25.9222C35.7177 25.2045 35.4107 24.1137 35.4674 22.649C35.4945 21.931 35.6227 20.929 35.8545 19.6439C36.0863 18.3588 36.2156 17.358 36.2429 16.6391C36.2983 16.1424 36.1713 15.8933 35.8631 15.8933C35.6941 15.8933 35.2158 16.1739 34.4282 16.7339L33.416 15.6117C33.5566 15.5023 34.4417 14.6981 36.0739 13.2017C37.2549 12.1221 38.0562 11.5681 38.4779 11.5402C39.209 11.4844 39.7994 11.7819 40.2495 12.4331C40.6994 13.0841 40.925 13.8394 40.925 14.6981C40.925 14.9751 40.8968 15.2386 40.8413 15.4878C41.2629 14.8513 41.7547 14.2962 42.3181 13.8249C43.6113 12.7172 45.06 12.0928 46.6627 11.9543C48.041 11.8438 49.0248 12.1621 49.6166 12.9103C50.0935 13.52 50.3179 14.3934 50.2909 15.5289C50.4882 15.3638 50.6989 15.1829 50.9246 14.9884C51.5707 14.2404 52.2031 13.6452 52.8219 13.2017C53.8623 12.4535 54.9459 12.0382 56.0703 11.9543C57.4202 11.8438 58.3903 12.1609 58.981 12.9067C59.4863 13.514 59.712 14.3836 59.6566 15.5145C59.628 16.288 59.4383 17.4128 59.0871 18.8897C58.7343 20.3666 58.5593 21.2145 58.5593 21.4355C58.5311 22.0162 58.5878 22.4157 58.7282 22.6368C58.8688 22.8578 59.2053 22.967 59.7404 22.967C60.1337 22.967 60.8362 22.5578 61.8497 21.7367C62.693 21.0542 63.3819 20.4117 63.9172 19.8093L64.7185 20.8476Z",fill:"#17272E"}),h().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M70.9616 16.4654C70.9888 15.7221 70.6804 15.3492 70.0345 15.3492C69.1913 15.3492 68.3357 15.9214 67.4654 17.0654C66.5949 18.2095 66.145 19.3051 66.1178 20.3521C66.1018 20.3521 66.1018 20.5319 66.1178 20.8901C67.4936 20.3945 68.6871 19.6367 69.698 18.6164C70.5117 17.7348 70.9332 17.0168 70.9616 16.4654ZM80.538 20.8051C79.7218 22.1339 78.1193 23.4614 75.7288 24.7889C72.7479 26.4773 69.7239 27.3203 66.6591 27.3203C64.3808 27.3203 62.7486 26.5719 61.7648 25.077C61.062 24.0518 60.7242 22.8335 60.7526 21.4197C60.7799 19.1764 61.7932 17.0436 63.7903 15.0201C65.9835 12.8047 68.5711 11.6956 71.5522 11.6956C74.3086 11.6956 75.7707 12.8021 75.9397 15.0127C76.0519 16.4217 75.2641 17.8731 73.5776 19.3659C71.7764 20.9971 69.5119 22.0331 66.7848 22.4751C67.2903 23.1662 68.0496 23.5113 69.0629 23.5113C71.0873 23.5113 73.2953 23.0049 75.6869 21.9894C77.4018 21.2765 78.7517 20.5354 79.7366 19.7679L80.538 20.8051Z",fill:"#17272E"}),h().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M87.2221 17.8623C87.2504 17.1129 87.1445 16.4253 86.9053 15.801C86.6661 15.1766 86.3211 14.8634 85.8722 14.8634C84.4373 14.8634 83.2562 15.6274 82.3293 17.1542C81.5402 18.404 81.1184 19.7362 81.063 21.1512C81.0348 21.8461 81.1617 22.457 81.4426 22.9841C81.7508 23.5951 82.1872 23.8999 82.7506 23.8999C84.0156 23.8999 85.0992 23.1652 85.9992 21.693C86.7584 20.4711 87.1655 19.1947 87.2221 17.8623ZM91.9893 18.019C91.8762 20.5646 90.9205 22.7643 89.1207 24.6177C87.3207 26.4712 85.0843 27.3981 82.4129 27.3981C80.1914 27.3981 78.5036 26.6923 77.351 25.2809C76.5078 24.2304 76.043 22.9162 75.9592 21.3396C75.8175 18.9603 76.6889 16.7738 78.575 14.782C80.5994 12.5689 83.144 11.4626 86.2099 11.4626C88.1777 11.4626 89.6682 12.1136 90.6813 13.4132C91.6381 14.6035 92.0733 16.1386 91.9893 18.019Z",fill:"#17272E"}),h().createElement("rect",{x:"116",y:"4",width:"1",height:"28",fill:"#BDCAD3"}))};var We=n(435868881209306),Ge=n(423856988495148),Ye=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=t.split("."),r=e,o=0;o<n.length;++o){if(void 0===r[n[o]]||null===r[n[o]])return;r=r[n[o]]}return r},qe=function(e,t,n){var r=Ye(e,t);return void 0===r?n:r},Ze=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"HBox ".concat(e["data-component-name"]):"HBox"}})).withConfig({displayName:"layout__HBox",componentId:"sc-11e000y-0"})(["display:flex;flex:",";align-items:",";flex-wrap:",";flex:",";justify-content:",";"],(function(e){return e.flex}),(function(e){return e.align}),(function(e){return e.wrap}),(function(e){return e.flex||0}),(function(e){return e.justify})),Xe=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"VBox ".concat(e["data-component-name"]):"VBox"}})).withConfig({displayName:"layout__VBox",componentId:"sc-11e000y-1"})(["display:flex;flex-direction:column;flex:",";align-items:",";flex-wrap:",";justify-content:",";"],(function(e){return e.flex}),(function(e){return e.align}),(function(e){return e.wrap}),(function(e){return e.justify})),Ke=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"Box ".concat(e["data-component-name"]):"Box"}})).withConfig({displayName:"layout__Box",componentId:"sc-11e000y-2"})(["flex:",";padding:",";"],(function(e){return e.flex}),(function(e){return e.padding})),Qe=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"CenterAbsoluteChild ".concat(e["data-component-name"]):"CenterAbsoluteChild"}})).withConfig({displayName:"layout__CenterAbsoluteChild",componentId:"sc-11e000y-3"})(["position:absolute;top:50%;right:50%;transform:translate(50%,-50%);"]),$e=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"Position ".concat(e["data-component-name"]):"Position"}})).withConfig({displayName:"layout__Position",componentId:"sc-11e000y-4"})(["position:",";top:",";left:",";right:",";bottom:",";z-index:",";"],(function(e){return e.relativity}),(function(e){return e.top}),(function(e){return e.left}),(function(e){return e.right}),(function(e){return e.bottom}),(function(e){return e.zIndex})),Je=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"PositionCenter ".concat(e["data-component-name"]):"PositionCenter"}})).withConfig({displayName:"layout__PositionCenter",componentId:"sc-11e000y-5"})(["position:",";top:50%;right:50%;transform:translate(50%,-50%);"],(function(e){return e.relativity})),et=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"Container ".concat(e["data-component-name"]):"Container"}})).withConfig({displayName:"layout__Container",componentId:"sc-11e000y-6"})(["max-width:",";padding:",";width:100%;height:100%;margin:0 auto;"],(function(e){return e.maxWidth||"1600px"}),(function(e){return e.padding})),tt=(0,We.rem)(3),nt=(0,Ge.css)(["&:before{content:'';height:",";background-image:linear-gradient( to right,#73d2f6,#0088cc 22%,#7fc400 36%,#ffd583 48%,#ffb21e 63%,#ff4d4d 76%,#503873 );position:absolute;top:0;left:0;width:100%;}"],tt),rt=(0,Ge.default)(Ze).attrs((function(e){return{"data-component-name":e["data-component-name"]?"WizardAppBar ".concat(e["data-component-name"]):"WizardAppBar"}})).withConfig({displayName:"app-bar-style__WizardAppBar",componentId:"sc-1xgj89v-0"})(["width:100%;padding:"," ",";box-shadow:0 1px 0 0 #eef1f2;background-color:#f6f7f8;flex-basis:auto;",";",";"],(0,We.rem)(15),(0,We.rem)(30),(function(e){return e.showVimeoRibbonBar?"margin-top: ".concat(tt):""}),(function(e){return e.showVimeoRibbonBar?nt:""})),ot=Ge.default.header.attrs((function(e){return{"data-component-name":e["data-component-name"]?"EditorAppBar ".concat(e["data-component-name"]):"EditorAppBar"}})).withConfig({displayName:"app-bar-style__EditorAppBar",componentId:"sc-1xgj89v-1"})(["padding:"," ",";height:",";flex:0 0 auto;background-color:#f6f7f8;text-align:left;border-bottom:1px solid rgba(0,0,0,0.1);font-size:12px;font-weight:normal;font-style:normal;font-stretch:normal;line-height:1.5;display:flex;",";"],(0,We.rem)(12),(0,We.rem)(30),(0,We.rem)(63),(function(e){return e.showVimeoRibbonBar&&nt})),at=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"EditorAppBarLeft ".concat(e["data-component-name"]):"EditorAppBarLeft"}})).withConfig({displayName:"app-bar-style__EditorAppBarLeft",componentId:"sc-1xgj89v-2"})(["flex:0 1 auto;width:50%;display:flex;flex-direction:row;align-items:center;"]),it=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"EditorAppBarRight ".concat(e["data-component-name"]):"EditorAppBarRight"}})).withConfig({displayName:"app-bar-style__EditorAppBarRight",componentId:"sc-1xgj89v-3"})(["flex:0 1 auto;width:50%;justify-content:right;display:flex;justify-content:flex-end;"]),ct=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"EditorAppBarCenter ".concat(e["data-component-name"]):"EditorAppBarCenter"}})).withConfig({displayName:"app-bar-style__EditorAppBarCenter",componentId:"sc-1xgj89v-4"})(["display:flex;align-items:center;font-size:",";white-space:nowrap;"],(0,We.rem)(16)),lt=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"BackArrowWrapper ".concat(e["data-component-name"]):"BackArrowWrapper"}})).withConfig({displayName:"app-bar-style__BackArrowWrapper",componentId:"sc-1xgj89v-5"})(["margin-left:",";margin-right:",";cursor:pointer;"],(0,We.rem)(-14),(0,We.rem)(8)),st=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"Logo ".concat(e["data-component-name"]):"Logo"}})).withConfig({displayName:"app-bar-style__Logo",componentId:"sc-1xgj89v-6"})(["position:relative;display:inline-block;width:",";margin-right:",";&::before{content:'';position:absolute;left:0;top:50%;transform:translateY(-50%);height:",";width:",";background-image:url(",");background-position:center;background-repeat:no-repeat;background-size:100% 100%;cursor:",";}"],(function(e){return qe(e,"theme.logo.width",(0,We.rem)(100))}),(function(e){return!e.skipMargin&&"".concat((0,We.rem)(25))}),(function(e){return e.height?e.height:qe(e,"theme.logo.height",(0,We.rem)(40))}),(function(e){return qe(e,"theme.logo.width",(0,We.rem)(100))}),(function(e){return qe(e,"theme.logo.url","")}),(function(e){return e.cursor?e.cursor:"pointer"}));function ut(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ut(Object(n),!0).forEach((function(t){mt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ut(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var pt={name:null,logo:function(e){var t=e.onClick,n=e.height;return h().createElement(st,{role:"banner",onClick:function(){return t()},height:n,"data-component-name":"partnerConfigAppInitialState"})},dynamicStepsData:function(e){return e},showDivider:!0,canSkipTitleModal:!0,iframeMode:!1},ft=function(e){var t=e.partnerAppName,n=e.onBackButtonClick,r=e.mediaModalConfig,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pt;switch(t){case De:return dt(dt({},o),{},{name:De,logo:function(){return h().createElement(Ve,{width:"244px","data-component-name":"logo"})},showDivider:!1,dynamicStepsData:function(){return[]},canSkipTitleModal:!1,iframeMode:!1});case Re:return dt(dt({},o),{},{name:Re,logo:function(){return h().createElement(gt,{"data-component-name":"logo"},h().createElement(He,{width:"300px",height:"30px"}))},showDivider:!1,dynamicStepsData:function(){return[]},canSkipTitleModal:!1,backButtonText:oe.BackToConstantContact,onBackButtonClick:n,iframeMode:!0});case ze:return dt(dt({},o),{},{logo:function(e){var t=e.height;return h().createElement(st,{role:"banner",height:t,cursor:"default","data-component-name":"logo"})},name:ze});case Fe:return null!=r&&r.hasPartnerTab?dt(dt({},o),{},{logo:function(){return h().createElement(st,{role:"banner",cursor:"default",skipMargin:!0,"data-component-name":"logo"})},getPartnerAssets:null==r?void 0:r.getPartnerAssets,name:Ue,dynamicStepsData:function(){return[]},showDivider:!1,iframeMode:!0,backButtonText:oe.Videos,onBackButtonClick:n}):dt(dt({},o),{},{name:Fe,logo:function(){return h().createElement(st,{role:"banner",cursor:"default",skipMargin:!0,"data-component-name":"logo"})},dynamicStepsData:function(){return[]},showDivider:!1,iframeMode:!0,backButtonText:oe.Videos,onBackButtonClick:n});default:return o}};function ht(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case J:return ft({partnerAppName:t.payload.name,onBackButtonClick:t.payload.onBackButtonClick,mediaModalConfig:t.payload.mediaModalConfig},e);default:return e}}var gt=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"ConstantContactCobrandedWrapper ".concat(e["data-component-name"]):"ConstantContactCobrandedWrapper"}})).withConfig({displayName:"partner-configreducer__ConstantContactCobrandedWrapper",componentId:"kzwb36-0"})(["padding:"," "," "," ",";"],(0,We.rem)(3),(0,We.rem)(3),(0,We.rem)(0),(0,We.rem)(6)),yt={plus:{name:"plus",text:"Plus"},pro:{name:"pro",text:"Pro"},business:{name:"business",text:"Business"},enterprise:{name:"enterprise",text:"Enterprise"}};function bt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bt(Object(n),!0).forEach((function(t){Et(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Et(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wt={capabilities:{canAddLogo:{allowed:!1,tier:yt.pro,showBadge:!1,isVisible:!0,isUpsellBlocker:!1},canBrandVideo:{allowed:!1,tier:yt.pro,showBadge:!1,isVisible:!0,isUpsellBlocker:!1},canToggleWatermark:{allowed:!1,tier:yt.pro,showBadge:!1,isVisible:!0,isUpsellBlocker:!1},hasStock:{allowed:!1,tier:yt.pro,showBadge:!1,isVisible:!0,isUpsellBlocker:!1},hasMaxDuration:{allowed:!1,tier:yt.pro,showBadge:!1,isVisible:!0,isUpsellBlocker:!1},canUploadImageSticker:{allowed:!1,tier:yt.pro,showBadge:!1,isVisible:!0,isUpsellBlocker:!1}},accountTier:null,upsellTierViewed:{},showTierBadges:[],badgeLevels:{},isUpsellBlocker:!1},At=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];return Object.keys(t).forEach((function(r){(!t[e]||t[e]<t[r])&&n.push(r)})),n},Ct=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=At(e,t),r={};return Object.keys(t).forEach((function(e){-1!==n.indexOf(e)&&(r[e]=!1)})),r},St=function(e,t){return vt(vt({},e),{},Et({},t,!0))};function _t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ee:return vt(vt(vt({},e),t.payload),{},{showTierBadges:At(t.payload.accountTier,t.payload.badgeLevels),upsellTierViewed:Ct(t.payload.accountTier,t.payload.badgeLevels)});case te:return vt(vt({},e),{},{upsellTierViewed:St(e.upsellTierViewed,[t.payload])});default:return e}}var xt={primary:"#ffffff",secondary:"#ebebeb",default:"#000000"};function It(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Tt=S("SettingsAdapter");const Ot=new(function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.settings=t||{}}var t,n,r;return t=e,(n=[{key:"init",value:function(e){Tt.debug("Initializing Settings",e),this.settings=Object.assign({},this.settings,e)}},{key:"get",value:function(e,t){try{return qe(this.settings,e,t)}catch(e){return void Tt.error("reason: ",e)}}}])&&It(t.prototype,n),r&&It(t,r),e}())({isDev:!1});function kt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Bt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=Object.assign.apply(Object,[{}].concat(t));return Object.entries(r).map((function(e,t){var n=Mt(e,2),r=n[0],o=n[1],a="".concat(r,"=").concat(o);return 0===t?"?".concat(a):a})).join("&")}function Lt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t?kt({},e,t):n}var Pt=n(571262146731022),Nt=n.n(Pt),Dt={axiosConfig:{withCredentials:!0,timeout:12e4,headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}}};function Rt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},Dt.axiosConfig,e);return t.headers=Object.assign({},t.headers,e.headers),t}function zt(e){return Rt(e).headers}var Ut=/^(https?:)?\/\//,Ft=function(e){if(Ut.test(e))return e;var t=Ot.get("serverUrl");if("string"!=typeof t)throw new Error("`serverUrl` is missing in Entry settings. `serverUrl` is a mandatory setting, it MUST be provided by the host application.");return"".concat(t).concat(e)},Ht={get:function(e,t){return Nt().get(Ft(e),Rt(t))},post:function(e,t,n){return Nt().post(Ft(e),t,Rt(n))},get CancelToken(){return Nt().CancelToken},isCancel:function(e){return Nt().isCancel(e)}};function Vt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Wt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vt(Object(n),!0).forEach((function(t){Gt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Gt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Yt=S("FontAndColorsUtil"),qt=function(e,t){var n=e.display_name.toUpperCase(),r=t.display_name.toUpperCase();return n<r?-1:n>r?1:0},Zt="fonts",Xt="color_crayons",Kt="color_palettes",Qt=!1,$t=function(e){var t,n=e.getState(),r=Wt(Wt({},null==n?void 0:n.flags),null===(t=n.featureToggles)||void 0===t?void 0:t.values);Qt=r.useTestAssets},Jt=null,en=function(e){return function(e){Jt&&Jt(),Jt=e.subscribe((function(){return $t(e)})),$t(e)}(e)},tn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.nonLatin,r=void 0!==n&&n,o=new FormData;return o.set("types",JSON.stringify(Object.fromEntries(e.map((function(e){return[e,Qt?"is_test":"live"]}))))),Ht.post("/api/storyboard/assets/get?non_latin=".concat(r),o).then((function(e){return e.data})).catch((function(e){return Yt.error("Failed loading assets",e),e.response}))},nn="[".concat(fe,"] INITIALIZE_ASSETS"),rn="[".concat(fe,"] SET_TAGS"),on="[".concat(fe,"] SET_SELECTED_THEME_TAG"),an="[".concat(fe,"] SET_BRANDING"),cn="[".concat(fe,"] SET_STYLES"),ln="[".concat(fe,"] SET_TRACKS"),sn="[".concat(fe,"] SET_IS_LOADING"),un="[".concat(fe,"] SET_ERROR"),dn="[".concat(fe,"] START_FETCH_ASSETS"),mn="[".concat(fe,"] END_FETCH_ASSETS"),pn="[".concat(he,"] INIT_VIDEO_SETTINGS"),fn="[".concat(he,"] SET_VSID"),hn="[".concat(he,"] SET_THEME"),gn="[".concat(he,"] SET_SELECTED_PALETTE"),yn="[".concat(he,"] SET_SELECTED_FONT"),bn="SET_VIDEO_CONTENT_DURATION",vn="[".concat(he,"] RESTORE_UNFINISHED_SESSION"),En="[".concat(he,"] SET_TITLE"),wn="[".concat(ge,"] CHANGE_STEP"),An="[".concat(ge,"] CHANGE_STEP_IDS"),Cn="[".concat(ge,"] SET_VALIDITY"),Sn="[".concat(ge,"] SET_DEEPLINKS"),_n="[".concat(ge,"] FINISHED_DEEPLINKS_INITIALIZATION"),xn="[".concat(ge,"] SET_ORDER"),In="[".concat(ge,"] SET_SELECTION_ORDER_LIST"),Tn="[".concat(ge,"] SET_VALUE_TAB_MEDIA_MODAL"),On="[".concat(ge,"] SET_VALUE_TAB_MEDIA_MODAL_UPLOADS"),kn="[".concat(ge,"] SET_TEAM_OWNER_ID");function Mn(e){return function(e){if(Array.isArray(e))return Bn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Bn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bn(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ln(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jn(Object(n),!0).forEach((function(t){Pn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Nn={styles:{data:[],defaultThemeSelection:null},tags:{selectedTagId:null,ids:[],loadedTags:{},data:[]},fonts:{data:[]},palettes:{data:[]},branding:{},isLoading:!1,isError:!1},Dn=function(e,t){var n=e.fonts.data.find((function(e){return e.name===t.font}))||e.fonts.data[0],r={primary:e.branding.data.colorPrimary||xt.primary,secondary:e.branding.data.colorSecondary||xt.secondary,default:e.branding.data.colorDefault||xt.default};return Ln(Ln({},e.branding.data),{},{brandFont:n,brandPalette:r})},Rn=function(e,t){var n=t[0].data.primary_color&&t[0].data.secondary_color&&t[0].data.default_color,r=t[0].data.font_name;if(n&&r){var o={primary:"#".concat(t[0].data.primary_color),secondary:"#".concat(t[0].data.secondary_color),default:"#".concat(t[0].data.default_color)},a=t[2].fonts.find((function(e){return e.name===r}));return Ln(Ln({},e.branding.data),{},{brandPalette:o,brandFont:a})}return Ln({},e.branding.data)},zn=function(e){var t=Mn(e).map((function(e){return e.id}));return Mn(t)},Un=function(e,t){var n=qe(e.tags,"selectedTagId","unknown");return Ln(Ln({},e.styles.data),{},Pn({},n,Mn(t)))},Fn=function(e,t){var n=Mn(t).sort(qt);return[].concat(Mn(e),Mn(n))},Hn=function(e,t){return[].concat(Mn(e),Mn(Object.values(t)))},Vn=function(e,t){return Ln(Ln({},e),{},{styles:Ln(Ln({},e.styles),{},{data:Un(e,t[1].themes),defaultThemeSelection:t[1].default_theme_id_selection}),fonts:Ln(Ln({},e.fonts),{},{data:Fn(e.fonts.data,t[2].fonts)}),palettes:Ln(Ln({},e.palettes),{},{data:Hn(e.palettes.data,t[2].color_palettes)}),branding:Ln(Ln({},e.branding),{},{data:Rn(e,t)}),isError:!1})};function Wn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case nn:return Vn(e,t.payload);case rn:return Ln(Ln({},e),{},{tags:Ln(Ln({},e.tags),{},{data:Mn(t.payload[0]),ids:zn(t.payload[0]),selectedTagId:t.payload[1],loadedTags:Ln(Ln({},e.tags.loadedTags),{},Pn({},t.payload[1],!0))})});case on:return Ln(Ln({},e),{},{tags:Ln(Ln({},e.tags),{},{selectedTagId:t.payload})});case cn:return Ln(Ln({},e),{},{styles:Ln(Ln({},e.styles),{},{data:Un(e,t.payload)}),tags:Ln(Ln({},e.tags),{},{loadedTags:Ln(Ln({},e.tags.loadedTags),{},Pn({},e.tags.selectedTagId,!0))})});case dn:return Ln(Ln({},e),{},{isLoading:!0});case mn:return Ln(Ln({},e),{},{isLoading:!1});case sn:return Ln(Ln({},e),{},{isLoading:t.payload});case un:return Ln(Ln({},e),{},{isLoading:!1,isError:t.payload});case an:return Ln(Ln({},e),{},{branding:Ln(Ln({},e.branding),{},{data:Dn(e,t.payload)})});case ln:return Ln(Ln({},e),{},{tracks:t.payload});default:return e}}var Gn={x:0,y:0,width:1,height:1},Yn={x:0,y:1,width:1,height:1},qn=100,Zn="byFontSize",Xn="fitToPosition",Kn="Latn",Qn="Base_Sticker";function $n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Jn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var er=S("ColorUtils"),tr=function(e){if(e){var t=e.trim();if(/^[0-9a-fA-F]{6}$/.test(t))return"#".concat(t.toLowerCase());if(/^#[0-9a-fA-F]{6}$/.test(t))return t.toLowerCase();if(/^[0-9a-fA-F]{3}$/.test(t)){var n=$n(t.toLowerCase(),3),r=n[0],o=n[1],a=n[2];return"#".concat(r).concat(r).concat(o).concat(o).concat(a).concat(a)}if(/^#[0-9a-fA-F]{3}$/.test(t)){var i=$n(t.toLowerCase(),4),c=(i[0],i[1]),l=i[2],s=i[3];return"#".concat(c).concat(c).concat(l).concat(l).concat(s).concat(s)}}return er.error('Invalid color "'.concat(e,'"')),e};function nr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return rr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var or=S("PaletteUtils"),ar=function(e){return{primary:tr(e.primary),secondary:tr(e.secondary),default:tr(e.default)}};function ir(e){return!!(e&&e.primary&&e.secondary&&e.default)}function cr(e){function t(e){return e.toLowerCase().replace("#","")}return ir(e)?{primary:t(e.primary),secondary:t(e.secondary),default:t(e.default)}:(or.warn("Received non valid palette"),null)}function lr(e,t){return ir(e)&&ir(t)&&e.primary===t.primary&&e.secondary===t.secondary&&e.default===t.default}function sr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ur(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sr(Object(n),!0).forEach((function(t){dr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function dr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var mr={vsid:0,videoContentDuration:{fixedDurationSelected:!1,mediaDuration:{images:0,videos:0}},theme:null,palette:null,font:null,orientation:"auto",duration:"auto",title:null},pr=function(e,t){var n=t.theme,r=t.branding,o=t.fonts,a=t.defaultPermittedTheme,i=n||a,c=ur(ur({},e),{},{theme:i});return r.data.brandPalette||r.data.brandFont||(c.font=o.data.find((function(e){return e.name===i.font})),c.palette=i.colors),c},fr=function(e,t){var n=function(e,t){return t.theme.thumb?t.theme:e.theme}(e,t[0]),r=function(e,t){return ir(t.color_palette)?ar(t.color_palette):e.palette}(e,t[0]),o=function(e,t){var n=t[0].user_font;if(0!==Object.keys(n).length&&"undefined"!==n){var r=t[1].data.find((function(e){return e.name===n}));if(r)return r}return e.font}(e,t);return ur(ur({},e),{},{theme:n,palette:r,font:o})},hr=function(e,t){var n=function(e){var t,n=e.styles.defaultThemeSelection,r=qe(e.tags,"selectedTagId","unknown");return n?(null===(t=e.styles.data[r])||void 0===t?void 0:t.find((function(e){return e.id===n})))||null:e.styles.data[r][0]}(t),r=function(e,t){var n=(null==t?void 0:t.font)||"Gothic",r=e.fonts.data.find((function(e){return e.name===n}));return e.branding.data.brandFont||r}(t,n),o=function(e,t){var n=e.brandPalette,r=(null==t?void 0:t.colors)||ye;return n||r}(t.branding.data,n);return ur(ur({},e),{},{theme:n,font:r,palette:o})};function gr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case pn:return hr(e,t.payload);case vn:return fr(e,t.payload);case fn:return ur(ur({},e),{},{vsid:t.payload});case hn:var n=t.payload,r=n[0],o=n[1],a=n[2];if(Object.keys(o).length>0)return ur(ur({},e),{},{theme:r});var i=a.data.find((function(e){return e.name===r.font}));return ur(ur({},e),{},{theme:r,palette:r.colors,font:i});case gn:return ur(ur({},e),{},{palette:t.payload});case yn:return ur(ur({},e),{},{font:t.payload});case bn:return ur(ur({},e),{},{videoContentDuration:{fixedDurationSelected:void 0!==t.payload.fixedDurationSelected?t.payload.fixedDurationSelected:e.videoContentDuration.fixedDurationSelected,mediaDuration:t.payload.mediaDuration?t.payload.mediaDuration:e.videoContentDuration.mediaDuration},duration:t.payload.duration?t.payload.duration:e.duration});case Sn:return pr(e,t.payload);case En:return ur(ur({},e),{},{title:t.payload});default:return e}}var yr=function(e){return function(t){return function(n){try{return t(n)}catch(t){throw console.error("Caught an exception!",t),x("REDUX ACTION FAILURE - ",e.getState()),t}}}};n(0xdadb09e45dd3);function br(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}const vr=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._subscriptions={}}var t,n,r;return t=e,r=[{key:"detachEvents",value:function(e){e&&e.forEach((function(e){e.off()}))}}],(n=[{key:"on",value:function(e,t){var n,r,o,a=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this;if(Array.isArray(e)){for(var c,l=0,s=e.length;l<s;l++)c=e[l],this.on(c,t,i);return!0}return void 0===this._subscriptions[e]&&(this._subscriptions[e]=[]),this._subscriptions[e].push({callback:t,context:i}),n=e,r=t,o=i,{off:function(){return a.off(n,r,o)}}}},{key:"once",value:function(e,t,n){var r=this,o=function n(){r.off(e,n,r);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];t.apply(r,a)};o._originalCallback=t,this.on(e,o,n)}},{key:"fire",value:function(e){for(var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this._subscriptions[e]||[],o=0,a=r.length;o<a;o++)(t=r[o]).callback.call(t.context,n)}},{key:"off",value:function(e,t){for(var n,r=this._subscriptions[e],o=r.length-1;o>=0;o--){var a=r[o];((n=a.callback)===t||n._originalCallback===t)&&r.splice(o,1)}0===r.length&&delete this._subscriptions[e]}},{key:"removeAllSubscriptions",value:function(){return this._subscriptions={},this}},{key:"getAllSubscriptions",value:function(){return this._subscriptions}}])&&br(t.prototype,n),r&&br(t,r),e}();var Er=function(e,t,n){return function(r){var o=Ht.CancelToken.source();r(n?{type:"RETRY_PENDING_UPLOAD",payload:{key:e.key,progress:{loaded:0},cancellationToken:o,error:null}}:{type:"ADD_PENDING_UPLOAD",payload:{key:e.key,retryData:e,onCompleted:t,fileName:e.formData.get("file_name"),progress:{loaded:0,total:e.formData.get("file").size},cancellationToken:o,error:null}}),Ht.post("/api/video/upload/soundtrack",e.formData,{onUploadProgress:function(t){var n=function(e){var t=e.loaded,n=e.lengthComputable,r=e.total;return null===(n?r:e.target.getResponseHeader("content-length"))?0:t}(t);0!==n&&r({type:"UPDATE_PENDING_PROGRESS_UPLOAD",payload:{key:e.key,loaded:n}})},cancelToken:o.token}).then((function(n){tc({status:"success"});var o=n.data,a=URL.createObjectURL(e.formData.get("file")),i=o.hash,c={name:e.formData.get("file_name"),url:a,id:i,hash:i,album:"",artist:"",thumb:""};r({type:"PENDING_UPLOAD_COMPLETED",payload:{complete:c,pendingKey:e.key}}),t(c)})).catch((function(){tc({status:"failure"}),r({type:"PENDING_UPLOAD_ERROR",payload:{pendingKey:e.key,error:{msg:"Failed to upload",retry:!0}}})}))}},wr=function(e){return Ht.post("/api/video/upload/meta",e)};var Ar=function(e){return Ht.post("/api/business/info",e)},Cr=function(e){return e.substring(1)};const Sr={CREATED_VIDEO_SESSION:"created_vsid",SET_VIDEO_SESSION:"set_vsid",CREATED_VIDEO_SESSION_ERROR:"err_vsid",ADD_UPLOAD_FILE:"add_file",ERROR_UPLOAD_FILE:"err_file",SUCCESS_UPLOAD_FILE:"ok_file",DELETE_UPLOAD_FILE:"delete_file",UPDATE_META:"update_meta",UPDATE_META_ERROR:"err_update_meta"};var _r="music",xr="video_messages",Ir="video_order",Tr="video_order_specific_sort",Or="colors";function kr(e){return(kr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mr(e,t){return(Mr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Br(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Lr(e);if(t){var o=Lr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return jr(this,n)}}function jr(e,t){return!t||"object"!==kr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Lr(e){return(Lr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Dr(e,t,n){return t&&Nr(e.prototype,t),n&&Nr(e,n),e}var Rr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mr(e,t)}(n,e);var t=Br(n);function n(e,r){var o;return Pr(this,n),(o=t.call(this,n.PATH)).isPending=!1,o.xhr=null,o.batch=new FormData,o.vsid=e,o.channel=r,o.retries=0,o.retryTimerId=null,o.logger=S("RestoreSessionService"),o.logger.log("Initialized"),o}return Dr(n,[{key:"handlePreset",value:function(e,t){switch(e){case _r:return"string"==typeof t.id?this.batch.set("uploaded_audio_hash",t.id):this.batch.set("audio_track_id",t.id),this.channel.fire(Sr.UPDATE_META,{subject:e,update:t}),void this.logger.log("Set case ",_r," | update ",t);case xr:var r={};return r[t.hash]=[t.message],this.batch.append(e,JSON.stringify(r)),this.channel.fire(Sr.UPDATE_META,{subject:e,update:t}),void this.logger.log("Set case ",xr," | update ",t);case Ir:return this.batch.append("video_order",JSON.stringify(t)),this.channel.fire(Sr.UPDATE_META,{subject:e,update:t}),void this.logger.log("Set case ",Ir," | update ",t);case Tr:var o=t.files.filesQueueOrder.slice(),a=t.newIndex<0?o.length+t.newIndex:t.newIndex,i=o.splice(t.oldIndex,1)[0];o.splice(a,0,i);var c=t.files.getFileByUploadId,l=0,s=o.reduce((function(e,t){var n=c[t].srcFile.hash;return e[n]||(e[n]=l++),e}),{});return this.batch.append("video_order",JSON.stringify(s)),this.channel.fire(Sr.UPDATE_META,{subject:e,update:t}),void this.logger.log("Set case ",Tr," | update ",t);case Or:return this.batch.set("primary_color",n.removeHashTag(t.primary)),this.batch.set("secondary_color",n.removeHashTag(t.secondary)),this.batch.set("default_color",n.removeHashTag(t.default)),this.channel.fire(Sr.UPDATE_META,{subject:e,update:t}),void this.logger.log("Set case ",Or," | update ",t);default:this.channel.fire(Sr.UPDATE_META,{subject:e,update:t}),this.logger.log("Set Default Case - subject ",e," | update ",t),this.batch.set(e,t)}}},{key:"send",value:function(e,t){this.handlePreset(e,t),this.isPending=!0,this.channel.fire("ADDED_NEW_BATCH",{subject:e,update:t},this.batch),this.xhr||this.sendUpdate()}},{key:"resetNextRequestBatch",value:function(){this.batch=new FormData,this.isPending=!1}},{key:"sendUpdate",value:function(){var e=this;this.batch.set("vsid",this.vsid),this.xhr=wr(this.batch).then((function(t){if(200===t.status)e.retries=0,clearTimeout(e.retryTimerId),e.retryTimerId=null,e.isPending&&e.sendUpdate();else{if(e.retries++,e.retries>=3){var n={type:"error",errorMessage:"exceeded maximum retry attempts."};throw e.channel.fire(Sr.UPDATE_META_ERROR,n),n}e.retryTimerId=setTimeout((function(){e.xhr=null,e.sendUpdate()}),250*Math.pow(2.5,e.retries))}e.xhr=null})).catch((function(t){x("Failed updating meta batch - "),e.channel.fire(Sr.UPDATE_META_ERROR,t),e.xhr=null})),this.resetNextRequestBatch()}}],[{key:"removeHashTag",value:function(e){return e.toLowerCase().replace("#","")}}]),n}(function(){function e(t){Pr(this,e),this.path=t}return Dr(e,null,[{key:"retry",value:function(){return null}},{key:"abort",value:function(){return null}},{key:"send",value:function(){return null}}]),e}());Rr.PATH="/api/video/upload/meta";const zr=Rr;var Ur="/api/video/upload/start";function Fr(e,t,n,r,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,o)}function Hr(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){Fr(a,r,o,i,c,"next",e)}function c(e){Fr(a,r,o,i,c,"throw",e)}i(void 0)}))}}function Vr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}const Wr=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._vsid=null,this.session={},this.ensureSessionLock=null,this.channel=new vr,this.logger=S("VideoSessionService"),this.addEventListeners()}var t,n,r,o,a,i,c;return t=e,(n=[{key:"vsid",set:function(e){return this._vsid=e,this.channel.fire(Sr.SET_VIDEO_SESSION,{vsid:e}),this}},{key:"addEventListeners",value:function(){var e=this;this.channel.on(Sr.SET_VIDEO_SESSION,(function(t){var n=t.vsid;e.logger.info("Initialize services for: ".concat(n)),e.metaUpdateService=new zr(n,e.channel)}))}},{key:"isValidVsid",value:function(){return null!==this._vsid}},{key:"createVideoSession",value:function(){var e=this;if(Jo.vsid>0)return Jo.vsid;var t=new FormData;return t.append("with_drafts","1"),t.append("no_title","1"),t.append("app",Ot.get("api.app")),t.append("allow_duplicated_sources","true"),Ht.post(Ur,t).then((function(t){if(t.statusText&&"OK"===t.statusText)return Jo.vsid=t.data.vsid,To.dispatch(Ce(t.data.vsid)),t.data.vsid;x("Could not create video session"),e.channel.fire(Sr.CREATED_VIDEO_SESSION_ERROR,t)})).catch((function(t){throw x("Could not create video session"),e.channel.fire(Sr.CREATED_VIDEO_SESSION_ERROR,t),t}))}},{key:"ensureSession",value:(c=Hr(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.logger.debug("Enter -- ensureSession"),e.prev=1,!this.isValidVsid()){e.next=5;break}return this.logger.debug("Valid Session",this._vsid),e.abrupt("return",this._vsid);case 5:if(!this.ensureSessionLock){e.next=8;break}return this.logger.debug("Locked -- video session request on the fly"),e.abrupt("return",this.ensureSessionLock);case 8:return this.logger.debug("Creating -- video session request"),this.ensureSessionLock=this.createVideoSession(),e.next=12,this.ensureSessionLock;case 12:return t=e.sent,this.logger.debug("Created -- new video session",t),this.channel.fire(Sr.CREATED_VIDEO_SESSION,{vsid:t}),this.vsid=t,this.ensureSessionLock=null,e.abrupt("return",t);case 20:throw e.prev=20,e.t0=e.catch(1),x("Could not create video session"),this.channel.fire(Sr.CREATED_VIDEO_SESSION_ERROR,e.t0),e.t0;case 25:case"end":return e.stop()}}),e,this,[[1,20]])}))),function(){return c.apply(this,arguments)})},{key:"meta",value:(i=Hr(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ensureSession();case 2:return e.abrupt("return",this.metaUpdateService.send(t,n));case 3:case"end":return e.stop()}}),e,this)}))),function(e,t){return i.apply(this,arguments)})},{key:"upload",value:(a=Hr(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ensureSession();case 2:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"execute",value:(o=Hr(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ensureSession();case 2:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})}])&&Vr(t.prototype,n),r&&Vr(t,r),e}());S("RestoreUtils");var Gr=Wr,Yr=function(e){Gr.meta("user_font",e)},qr=function(e){Gr.meta("colors",e)},Zr=function(e){switch(e.type){case gn:qr(e.payload);break;case yn:Yr(e.payload.name);break;case hn:var t=e.payload,n=t[0],r=t[1];!function(e){Gr.meta("theme_id",e.id)}(n),0===Object.keys(r).length&&(Yr(n.font),qr(n.colors))}},Xr=function(e){return function(e){return function(t){return Zr(t),e(t)}}};function Kr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kr(Object(n),!0).forEach((function(t){$r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Jr={values:{ladyBug:!1,musicUpload:!0,vimeoUploadsSearchBar:!0,themeTags:!0,hideVimeoSourceOption:!0,savePreviewTourPanel:!1,shareToVimeoEnabled:!1,addMediaUIEnabled:!0,emptyStateTextEnabled:!1,withSessionRestore:!0},menu:[{displayName:"Development Tools",items:[{name:"ladyBug",displayName:"Lady Bug"}]},{displayName:"Features",items:[{name:"musicUpload",displayName:"Music Upload button"},{name:"vimeoUploadsSearchBar",displayName:"Vimeo Uploads Search Bar"},{name:"themeTags",displayName:"Theme Tags"},{name:"hideVimeoSourceOption",displayName:"Hide Vimeo Source Option"},{name:"savePreviewTourPanel",displayName:"Save Preview Tour Panel"},{name:"shareToVimeoEnabled",displayName:"Share To Vimeo"},{name:"addMediaUIEnabled",displayName:"Media UI"},{name:"emptyStateTextEnabled",displayName:"Empty State Text"},{name:"withSessionRestore",displayName:"Session Restore"}]}]};function eo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q:case Z:return Qr(Qr({},e),{},{values:Qr(Qr({},e.values),t.payload)});default:return e}}Symbol("RESTORE_SESSION");var to=Symbol("SET_RECOMMENDED_TRACK"),no=(Symbol("ORIENTATION_CHANGE"),Symbol("VIDEO_CONTENT_LENGTH_CHANGE"),Symbol("VIDEO_CONTENT_DURATION_API_PARAMS"),Symbol("VIDEO_CONTENT_UPSELL_SHOWN"),Symbol("UPLOADED_FILES_ADD_TO_STORY"),Symbol("UPLOADED_FILES_TO_STORY_CHANGE"),Symbol("UPLOAD_FILES_TO_STORY"),Symbol("UPLOAD_FILES_TO_STORY_SUCCESS"),Symbol("UPLOAD_FILES_TO_STORY_REMOVE"),Symbol("CHANGE_STORY_FILE_MESSAGE"),Symbol("ADD_MEDIA_TO_STORY"),Symbol("SHOW_INITIAL_PAGE"),Symbol("HIDE_INITIAL_PAGE"),Symbol("CHANGE_THEME"),Symbol("ADD_THEME_CATEGORY"),Symbol("CHANGE_MUSIC_TRACK"),Symbol("CHANGE_STEP"),Symbol("CHANGE_STEP_IDS"),Symbol("CHANGE_VIDEO_TITLE"),Symbol("CHANGE_STEP_VALIDATION"),Symbol("CHANGE_BRANDING"),Symbol("CHANGE_BRANDING_COLORS"),Symbol("CHANGE_BRANDING_FONT"),Symbol("CHANGE_BRANDING_FONTS"),Symbol("CHANGE_BRANDING_COLOR_PALETTES"),Symbol("CHANGE_BRANDING_SELECTED_FONT"),Symbol("CHANGE_BRANDING_SELECTED_COLORS"),Symbol("CHANGE_BRANDING_BRAND_FONT"),Symbol("CHANGE_BRANDING_BRAND_PALETTE"),Symbol("USER_LEAVE_CF")),ro=Symbol("USER_LEAVE_UPLOADING_STEP");Symbol("SET_USER_TIER"),Symbol("SET_ALERT_ON"),Symbol("SET_ALERT_OFF");function oo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ao(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oo(Object(n),!0).forEach((function(t){io(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function io(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var co={active:!1,url:null,approveLeave:!1,userLeftCF:!1,uploadingStep:!1,userLeaveFromAppLink:!1,userLeaveFromUploading:!1};function lo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:co,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case no:return ao(ao({},e),r);case ro:return ao(ao({},e),{},{uploadingStep:r.uploadingStep});default:return e}}function so(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function uo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?so(Object(n),!0).forEach((function(t){mo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):so(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var po="user-preferences",fo=function(){var e=localStorage.getItem(po),t=e?JSON.parse(e):{};return t&&t.mediaModalTabs&&"video-session-uploads"===t.mediaModalTabs.selectedTab&&(t.mediaModalTabs.selectedTab="uploads"),t},ho=function(e){var t=fo()||e;localStorage.setItem(po,JSON.stringify(uo(uo({},t),e)))};function go(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?go(Object(n),!0).forEach((function(t){bo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):go(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function bo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var vo={stepIds:[ie,ce,le],validation:{story:{isValid:!1,errorMessage:"WizardStepNextStoryErrorMessage"},theme:{isValid:!1,errorMessage:"WizardStepNextThemeErrorMessage"},sound:{isValid:!1,errorMessage:"WizardStepNextMusicErrorMessage"}},deeplinks:{isInitializing:!1,action:null,defaultPermittedTheme:null,isThemePermitted:!1,isActive:!1},sort:{selectedOrder:be,selectionOrderList:null},mediaModalTabs:{selectedTab:"uploads",uploadsTabSelectedDropdown:null,tabList:["uploads","google","stock"],currentTab:"uploads"},teamOwnerId:null},Eo=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return yo(yo({},e),{},{validation:yo(yo({},e.validation),{},bo({},t,yo(yo({},e.validation[t]),{},{isValid:n})))})},wo=function(e,t){var n=Object.keys(t[0].sound).length>0;return yo(yo({},e),{},{validation:yo(yo({},e.validation),{},{sound:yo(yo({},e.validation.sound),{},{isValid:n})})})},Ao=function(e){return yo(yo({},e),{},{validation:yo(yo({},e.validation),{},{theme:yo(yo({},e.validation.theme),{},{isValid:!0})}),mediaModalTabs:yo(yo({},e.mediaModalTabs),fo())})};function Co(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vo,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case nn:return Ao(e);case vn:return wo(e,t.payload);case hn:return Eo(e,"theme",!0);case Cn:return Eo(e,t.payload[0],t.payload[1]);case wn:return yo(yo({},e),{},{activeStep:t.payload});case An:return yo(yo({},e),{},{stepIds:t.payload});case Sn:return yo(yo({},e),{},{stepIds:t.payload.stepIds,activeStep:t.payload.activeStep,deeplinks:yo(yo({},e.deeplinks),{},{isActive:!0,defaultPermittedTheme:t.payload.defaultPermittedTheme,isInitializing:t.payload.isInitializing,action:t.payload.action,isThemePermitted:t.payload.isThemePermitted})});case _n:return yo(yo({},e),{},{deeplinks:yo(yo({},e.deeplinks),{},{isInitializing:!1})});case xn:return yo(yo({},e),{},{sort:yo(yo({},e.sort),{},{selectedOrder:t.payload})});case In:return yo(yo({},e),{},{sort:yo(yo({},e.sort),{},{selectionOrderList:t.payload})});case On:var n=yo(yo({},e),{},{mediaModalTabs:yo(yo({},e.mediaModalTabs),{},{uploadsTabSelectedDropdown:t.payload})});return ho(n.mediaModalTabs),n;case Tn:var r=yo(yo({},e),{},{mediaModalTabs:yo(yo({},e.mediaModalTabs),{},{selectedTab:t.payload.selectedTab,currentTab:t.payload.currentTab})});return ho(r.mediaModalTabs),r;case kn:return yo(yo({},e),{},{teamOwnerId:t.payload});default:return e}}var So=n(666248622945519),_o=(n(283082865485058),n(844997291241269));function xo(e){return function(e){if(Array.isArray(e))return Io(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Io(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Io(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Io(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var To=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||So.qC,n=(0,So.UY)({videoSettings:gr,ui:Co,assets:Wn,upload:Ne,userLeave:lo,featureToggles:eo,userCapabilities:_t,partnerConfig:ht}),r=[_o.Z,yr,Xr].concat(xo([]));return(0,So.MT)(n,e,t(So.md.apply(void 0,xo(r))))}();function Oo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ko(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Mo=S("GoogleProvider");var Bo=null,jo=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Oo(this,e),this.initialized=!1,this.scriptLoading=!1,this.apiKey=void 0,this.clientId=void 0,this.scope=void 0,this.isSignedIn=!1,this.listeners={},this.authRef=void 0,this.apiKey=t.apiKey,this.clientId=t.clientId,this.scope=t.scope}var t,n,r;return t=e,r=[{key:"create",value:function(t){return Bo||(Bo=new e(t))}}],(n=[{key:"init",value:function(){var e=this;return new Promise((function(t,n){if(e.scriptLoading)return Mo.error("Google script is already loading......"),n();if(e.initialized){var r={isSignedIn:e.isSignedIn,userDetails:e.getUserDetails()};return Mo.info("Initailized google auth module...",r),t(r)}e.scriptLoading=!0,function(e,t,n){var r=null;(r=document.createElement("script")).src=e,r.type="text/javascript",r.async=!0,r.onload=t,r.onerror=n,document.body.appendChild(r)}("https://apis.google.com/js/api.js",(function(r){Mo.log("Google script loaded...",r),e.scriptLoading=!1,window.gapi.load("client:auth2",(function(){Mo.log("client:auth2 module loaded..."),window.gapi.client.init({apiKey:e.apiKey,clientId:e.clientId,scope:e.scope}).then((function(){e.authRef=window.gapi.auth2.getAuthInstance(),e.authRef.isSignedIn.listen(e.updateSigninStatus.bind(e)),e.isSignedIn=e.authRef.isSignedIn.get(),e.initialized=!0;var n={isSignedIn:e.isSignedIn,userDetails:e.getUserDetails()};Mo.info("[GoogleProvider] Initailized google auth module...",n),t(n)})).catch((function(e){Mo.error("[GoogleProvider] Google proivder init error...",e),n(e)}))}))}),(function(t){e.scriptLoading=!1,Mo.error("Could not load google sdk...",t),n(t)}))}))}},{key:"fire",value:function(e,t){for(var n=this.listeners[e]||[],r=0,o=n.length;r<o;r++)(0,n[r])(t)}},{key:"subscribe",value:function(e){var t,n,r=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};return this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(o),t=e,n=o,{off:function(){r.listeners[t]=r.listeners[t].filter((function(e){return e!==n}))}}}},{key:"changeAccount",value:function(){var e=this,t={prompt:"select_account",scope:this.scope},n=this.getUserDetails().id;this.authRef.signIn(t).then((function(){n!==e.getUserDetails().id&&e.fire("USER_CHANGE",e.getUserDetails())})).catch((function(e){Mo.error("Change account flow failed",e)})),Mo.info("change account.....")}},{key:"login",value:function(){this.isSignedIn||(this.authRef.signIn(),Mo.info("login....."))}},{key:"logout",value:function(){this.authRef.signOut(),this.authRef.disconnect(),Mo.info("logout.....")}},{key:"getUserDetails",value:function(){if(!this.authRef)return{};var e=this.authRef.currentUser.get(),t=e.getBasicProfile(),n={id:t&&t.getId(),name:t&&t.getName(),profileUrl:t&&t.getImageUrl(),email:t&&t.getEmail(),auth:e.getAuthResponse(!0)};return Mo.info("Retrive google user details (according to scope)..",n),n}},{key:"updateSigninStatus",value:function(e){this.isSignedIn=e,Mo.info("[GoogleProvider] Update signin status isSignedIn?",e),this.fire("AUTH_CHANGE",{isAuthenticated:e,userDetails:this.getUserDetails()})}}])&&ko(t.prototype,n),r&&ko(t,r),e}(),Lo=function(){return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},Po=function(){return Math.random().toString(36).replace(/[^A-Za-z0-9]+/g,"").substr(0,5)};function No(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||Fo(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Do(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ro(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zo(e,t,n){return t&&Ro(e.prototype,t),n&&Ro(e,n),e}function Uo(e){return function(e){if(Array.isArray(e))return Ho(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Fo(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fo(e,t){if(e){if("string"==typeof e)return Ho(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ho(e,t):void 0}}function Ho(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Vo(e){return(Vo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Wo=S("UploadAPI"),Go="vsid",Yo="upl_origin",qo="duplicate",Zo="limit",Xo=[],Ko=function(e,t){"remove"===t?(Wo.log("REMOVE file from DELETED list"),Xo=Xo.filter((function(t){return t!==e}))):(Wo.log("ADD file to DELETED list"),Xo.push(e))},Qo=function(e){return-1!==Xo.indexOf(e)},$o=function(e){Qo(e.id)&&(Wo.log("send SERVER - REMOVE FILE"),Jo._remove_file(e,!1,!1))},Jo={settings:{tweak_mode:!1,has_medialib:!0,limits:{max_videos:100,max_photos:100,max_dur_seconds:3600,min_dur_seconds:5,max_size_gb:100},valid_ext:{video:["3g2","3gp","asf","asx","avi","flv","mov","mp4","mpg","mod","mts","m2ts","wmv","m4v","webm","mpeg","mts","m2ts","m2t","mkv"],photo:["png","jpg","jpeg","jpe","gif","tif","tiff","bmp","webp"],audio:["mp3","m4a","aac","wma","ogg","wav"]},urls:{},custom_ua:null,chunk_size:2097152,max_parallel_uploads:1,max_parallel_cloud_uploads:5,max_upload_retries:3,max_soundtrack_size_mb:20,preview_canvas_width:147,preview_canvas_height:112,photo_preview_canvas_width:568,photo_dur_seconds:3,min_video_size_kb:30,min_image_size_px:100,finish_as_draft:!0},files:[],cloud_files:[],vsid:-1,last_id_n:null,ensuring:!1,restoring:!1,queue_process_timer:null,theme_picked:!1,track_picked:!1,theme:void 0,sound:void 0,video_title:"",last_global_progress:0,set_length_value:-1,orientation:void 0,duration:void 0,google_token_expires_in:901,google_refreshed_token:!1,is_chrome:navigator.userAgent.toLowerCase().indexOf("chrome")>-1,is_firefox:navigator.userAgent.toLowerCase().indexOf("firefox")>-1,is_ie:navigator.userAgent.toLowerCase().indexOf("msie")>-1,is_ie_edge:navigator.userAgent.toLowerCase().indexOf("edge")>-1,is_safari:navigator.userAgent.toLowerCase().indexOf("safari")>-1&&-1==navigator.userAgent.toLowerCase().indexOf("chrome"),log:function(e){Wo.log(e)},init:function(e,t,n,r,o){Jo.settings.urls={start_video_session:"/api/video/upload/start",send_session_meta:"/api/video/upload/meta",add_video_file:"/api/video/upload/video",add_medialib_file:"/api/video/upload/medialib",add_file_chunk:"/api/video/upload/chunk",validate_chunk:"/api/video/upload/validate",add_audio_file:"/api/video/upload/soundtrack",add_cloud_file:"/api/video/upload/cloud/video",cloud_file_progress:"/api/video/upload/cloud/progress",finish_video_session:"/api/video/upload/ready",load_session:"/api/video/upload/load",delete_item:"/api/video/upload/delete",is_medialib_item_exist:"/api/video/medialib/exists",delete_medialib_item:"/api/video/medialib/delete"},Jo.translations=o,Jo.settings=Object.assign({},Jo.settings,e),Jo.files=[],t&&(Jo.vsid=t),Jo.settings.force_only_library_false=!0,Wo.debug("upload api initiated ["+(Jo.settings.tweak_mode?"tweak mode":"normal")+"].")},ensure_session:function(e,t,n){if(Jo.vsid>0)return Jo.ensuring=!1,void(e&&e(Jo.vsid));if(!Jo.ensuring){var r=new FormData;t&&(r.append("ua",t),Jo.settings.custom_ua=t),Jo.settings.finish_as_draft&&r.append("with_drafts","1"),r.append("no_title","1"),r.append("app",Ot.get("api.app")),r.append("allow_duplicated_sources","true"),Jo.settings.script_hash&&r.append("script_hash",Jo.settings.script_hash),Jo.ensuring=!0,Ht.post(Jo.settings.urls.start_video_session,r).then((function(t){Jo.ensuring=!1,t.statusText&&"OK"==t.statusText?(Jo.vsid=t.data.vsid,To.dispatch(Ce(t.data.vsid)),Wo.log("vsid started: "+Jo.vsid),e&&e(Jo.vsid)):(Jo.error(Jo.translations.ErrorNoVideoSession),n&&n())})).catch((function(e){Jo.ensuring=!1,Jo.error(Jo.translations.ErrorNoVideoSession),n&&n()}))}},error:function(e){},validate:function(){},createSrcFile:function(e){var t=e.upl_origin;switch(t){case ea.RESTORE:return ta.from_restored_file(e);case ea.BROWSER:return ta.from_browser_file(e);case ea.GDRIVE:return ta.from_gdrive_file(e);case ea.GETTY:return ta.from_getty_file(e);case ea.MEDIALIB:return ta.from_medialib_file(e);case ea.GPHOTOS:return ta.from_gphotos_file(e);case ea.VIMEO:return ta.fromVimeoFile(e);case ea.SHOPIFY:return ta.fromShopifyFile(e);case ea.WIDGET_PARTNER:return ta.fromWidgetPartner(e);default:throw new Error("Unsupported upl_origin ".concat(t))}},isCloudFile:function(e){return e==ea.GETTY||e==ea.GPHOTOS||e===ea.VIMEO||e===ea.SHOPIFY||e===ea.WIDGET_PARTNER},add_file:function(e,t){if(!e.upl_origin)return Jo.error(Jo.translations.ErrorCantAddFileUplOriginMissing),void Jo.callbacks.onError({type:Yo,errorContext:{title:Jo.translations.ErrorFailedToUpload,msg:Jo.translations.ErrorCantAddFileUplOriginMissing}});var n;if(n=Jo.createSrcFile(e),Qo(n.id)){var r=Jo.getAllFiles().filter((function(e){return e.id===n.id}))[0];if(!r)return void Wo.warn("error trying to use existing file (un-deleted file)");n=r}var o=Jo.getAllFiles(),a=function(e,t){var n=e;return n.external_id?t.some((function(e){return t=e.external_id,r=n.external_id,t===r;var t,r})):t.some((function(e){return function(e,t){return e.name===t.name&&e.size===t.size&&(n=e.type,r=t.type,n===r||{video:["clip"],clip:["video"],image:["photo"],photo:["image"]}[n].some((function(e){return e===r})))&&e.status!==ta.STATUS.ERROR;var n,r}(e,n)}))};if(function(e,t){var n=e.type,r=function(e,t,n){var r=e.upl_origin;return t>=n&&r!==ea.RESTORE},o=function(e,t){var n=t.filter((function(e){return(e.type===ta.TYPE.PHOTO||e.type===ta.TYPE.IMAGE)&&e.status!==ta.STATUS.ERROR}));return r(e,n.length,Jo.settings.limits.max_photos)},a=function(e,t){var n=t.filter((function(e){return(e.type===ta.TYPE.VIDEO||e.type===ta.TYPE.CLIP)&&e.status!==ta.STATUS.ERROR}));return r(e,n.length,Jo.settings.limits.max_videos)};switch(n){case ta.TYPE.IMAGE:case ta.TYPE.PHOTO:return o(e,t);case ta.TYPE.VIDEO:case ta.TYPE.CLIP:return a(e,t);default:return!1}}(n,o))return Jo.callbacks.onError({type:Zo,errorContext:{title:Jo.translations.ErrorLimitFootageTitle,msg:Jo.translations.ErrorLimitFootage}}),!1;if(!Qo(n.id)&&function(e,t){return!e.allow_dup&&a(e,t)}(n,o))return Jo.callbacks.onError({type:qo,errorContext:{title:Jo.translations.ErrorYouCannotUploadSameVideoTitle,msg:Jo.translations.ErrorYouCannotUploadSameVideo}}),!1;Jo.isCloudFile(e.upl_origin)?Jo.cloud_files.push(n):Jo.files.push(n),Jo.callbacks.file_added(n),n.callbacks="object"==Vo(t)?t:{};var i=Jo._validate_add_file(n);return n.checkValidity&&!i?(n.status=ta.STATUS.ERROR,"FAIL"):(Jo.get_file_meta_data(n,(function(){Wo.log("got meta data for "+n.name),n.type==ta.TYPE.AUDIO&&(Jo.track_picked=!0,Array.prototype.forEach.call(Jo.files,(function(e){e.type==ta.TYPE.AUDIO&&Jo.remove_file(e.id)}))),n.callbacks&&"object"==Vo(n.callbacks)&&n.callbacks.file_added&&"function"==typeof n.callbacks.file_added&&n.callbacks.file_added(n),Wo.log("file queued: "+n.name),Qo(n.id)&&(Ko(n.id,"remove"),n.do_upload_complete(n.hash,n.mhash)),Jo.do_global_progress(),e.upl_origin==ea.RESTORE?n.do_upload_complete(e.hash,e.mhash,e.external_id?parseInt(e.external_id):n.id):Jo.queue_process_timer||(Jo.queue_process_timer=setTimeout((function(){Jo.queue_process_timer=null,Jo.process_files()}),1e3))})),n)},get_file_metadata_queue:[],get_file_meta_data:function(e,t){!e.type&&t&&t(),(e.type==ta.TYPE.AUDIO||e.expected_type&&e.expected_type==ta.TYPE.AUDIO)&&t&&t(),e.upl_origin==ea.BROWSER?this.get_file_metadata_queue.push([e,t]):t&&t()},getAllFiles:function(){return[].concat(Uo(Jo.files),Uo(Jo.cloud_files))},start_upload:function(e){var t=this,n=arguments;Jo.ensure_session((function(){t.getNextMediaMetaData(),Jo.process_files(),e&&e()}),null,(function(){Jo.callbacks.onError({type:Go,errorContext:{title:Jo.translations.ErrorFailedToUpload,msg:Jo.translations.ErrorCantAddFileVideoSessionMissing}}),Wo.error("Unable to create video session.",n)}))},clear_waiting_for_meta_files:function(e){for(var t=0;t<Jo.get_file_metadata_queue.length;t++)e.filter((function(e){return e.id==Jo.get_file_metadata_queue[t].id}))&&Jo.get_file_metadata_queue.splice(t,1)},getNextMediaMetaData:function(){var e=this.get_file_metadata_queue.shift();e&&this.getMediaMetaData(e[0],e[1])},getMediaMetaData:function(e,t){var n;if(e.blob_url)if(e.type==ta.TYPE.PHOTO||"image"==e.type){e.thumb=e.blob_url;var r=new Image;e.duration=0,r.addEventListener("load",(function(){r.removeEventListener("error",o),e.width=r.width,e.height=r.height;var n=Math.floor(e.height/e.width*Jo.settings.photo_preview_canvas_width),a=Jo.settings.photo_preview_canvas_width,i=document.createElement("canvas");i.width=a,i.height=n;var c=i.getContext("2d");c.drawImage(r,0,0,i.width,i.height);var l=i.toDataURL("image/jpeg",.9);e.thumb=l,window.URL.revokeObjectURL(e.blob_url),c.clearRect(0,0,i.width,i.height),r.src="",r=i=c=null,t&&t(),Jo.getNextMediaMetaData()})),r.addEventListener("error",o);var o=function(){t&&t(),Jo.getNextMediaMetaData()};r.src=e.blob_url}else e.type!=ta.TYPE.VIDEO&&"clip"!=e.type||(t&&t(),Jo.getNextMediaMetaData());else n="get_file_meta_data: missing blob_url","undefined"==typeof do_fallback&&(do_fallback=!0),Wo.log(n),e.duration=0,e.width=0,e.height=0,t&&t()},setGoogleToken:function(e){Jo.google_refreshed_token=e},setGTokenExpiration:function(e){Jo.google_token_expires_in=e},isGoogleTokenNearlyExpired:function(){return Jo.google_token_expires_in<900},process_cloud_files:function(){Jo.cloud_files&&Jo.cloud_files.length&&(Wo.log("upapi.cloud_files",Jo.cloud_files),Array.prototype.forEach.call(Jo.cloud_files,(function(e){e.upl_origin===ea.GPHOTOS&&(Jo.isGoogleTokenNearlyExpired()&&!Jo.google_refreshed_token&&jo.create().init().then((function(e){Jo.setGoogleToken(e.userDetails)})),Jo.google_refreshed_token&&(e.access_token=Jo.google_refreshed_token.auth.access_token)),e.status==ta.STATUS.QUEUED&&e.upload()})),Jo.google_refreshed_token&&Jo.setGTokenExpiration(Jo.google_refreshed_token.auth.expires_in))},process_files:function(){Wo.log("processing files..."),Jo.process_cloud_files(),Array.prototype.forEach.call(Jo.files,(function(e){e.status==ta.STATUS.QUEUED&&e.upload()}))},clear_file:function(e,t){var n=Jo._file_by_id(e);if(n){t&&n.kill_upload();var r={id:e},o=Jo.files.find((function(e){return Object.keys(r).every((function(t){return e[t]===r[t]}))}));o&&(Jo.files=Jo.files.filter((function(e){return e!=o}))),Jo.process_files()}},retry_file:function(e){return!(!e||e.status!==ta.STATUS.ERROR)&&(Wo.log("retrying file "+e.name),e.status=ta.STATUS.QUEUED,Jo.callbacks.onFileRetry(e),Jo.process_files(),!0)},remove_after_cancel:function(e,t){if(e){if(Wo.log("removing file "+e.name),e.hash){var n=new FormData;n.append("hash",e.hash),Ht.post(Jo.settings.urls.delete_item,n).done((function(){e.cloud_progress_timer&&window.clearTimeout(e.cloud_progress_timer),$o(e),Wo.log("deleted",e)})).fail((function(){Wo.log("could not delete file",e)}))}Jo.callbacks.file_removed(e),Jo.do_global_progress(),Jo.process_files()}else Wo.log("can't remove non-existing file: "+file_id);Jo.do_global_progress()},_remove_file:function(e,t,n){Wo.warn("remove_file() -> enter");if(e)if(Wo.log("removing file "+e.name),t&&e.kill_upload(),e.hash){Qo(e.id)||Ko(e.id),Jo.callbacks.file_removed(e,e.id),Jo.do_global_progress();var r=new FormData;r.append("hash",e.hash),Wo.warn("remove_file() -> delete from server"),Ht.post(Jo.settings.urls.delete_item,r).then((function(){e.cloud_progress_timer&&window.clearTimeout(e.cloud_progress_timer),Wo.log("file deleted",e),Ko(e.id,"remove");var t={uploadId:e.uploadId},n=Jo.files.find((function(e){return Object.keys(t).every((function(n){return e[n]===t[n]}))}));n&&(Jo.files=Jo.files.filter((function(e){return e!=n}))),(n=Jo.cloud_files.find((function(e){return Object.keys(t).every((function(n){return e[n]===t[n]}))})))&&(Jo.cloud_files=Jo.cloud_files.filter((function(e){return e!=n})))})).catch((function(){Wo.log("could not delete file",e)})).finally((function(){Jo.do_global_progress()}))}else!function(e){var t={uploadId:e.uploadId},n=Jo.files.find((function(e){return Object.keys(t).every((function(n){return e[n]===t[n]}))}));n&&(Jo.files=Jo.files.filter((function(e){return e!=n}))),(n=Jo.cloud_files.find((function(e){return Object.keys(t).every((function(n){return e[n]===t[n]}))})))&&(Jo.cloud_files=Jo.cloud_files.filter((function(e){return e!=n}))),Jo.callbacks.file_removed(e,e.id),Jo.do_global_progress(),Jo.process_files()}(e),Jo.do_global_progress(),Wo.warn("remove_file() -> delete from client only");else Wo.log("can't remove non-existing file: "+e.id)},remove_file_by_uploadId:function(e,t){var n=Jo.get_file_by_uploadId(e);n&&Jo._remove_file(n,t,!0)},remove_file:function(e,t,n){var r;r=n?Jo._file_by_hash(n):Jo._file_by_id(e),Jo._remove_file(r,t,!0)},remove_medialib_file:function(e){if(Wo.warn("remove_medialib_file() -> enter"),e){Wo.log("removing file "+e);var t=new FormData;t.append("hash",e),Wo.warn("remove_medialib_file() -> delete from media library"),Ht.post(Jo.settings.urls.delete_medialib_item,t).then((function(){Wo.log("deleted",e),Ko(e,"remove")})).catch((function(){Wo.log("could not delete file",e)}))}else Wo.log("can't remove non-existing file: "+e)},choose_theme:function(e,t,n){var r=function(){Jo.theme_picked=!0,Jo.track_picked=!1,t&&t(),Jo.callbacks.theme_picked(e)};null==n&&(n={}),n.theme_id=e,Jo.settings.tweak_mode?r():Jo._send_meta(n,r)},set_title:function(e,t){Jo._send_meta({video_title:e},t)},_send_meta:function(e,t,n){if(t=t||function(){},(n=n||0)>=3)Jo.error(Jo.translations.ErrorSendingMeta3Retries);else{Jo.ensure_session((function(n){e.vsid=n,Jo.settings.custom_ua&&(e.ua=Jo.settings.custom_ua);var o=new FormData;Object.keys(e).forEach((function(t){o[t]=e[t]})),Ht.post(Jo.settings.urls.send_session_meta,o).then((function(e){e.statusText&&"OK"==e.statusText?t():r()})).catch((function(){r()}))}),null,(function(){r()}));var r=function(){var r=n+1;Jo._send_meta(e,t,r)}}},can_finish:function(){return!(Jo.files.concat(Jo.cloud_files).filter((function(e){return e.status===ta.STATUS.SUCCESS})).length<1)&&(!(!Jo.theme_picked||!Jo.track_picked)&&Jo.can_make())},finish_session:function(e){if(!(Jo.vsid<=0))if(Jo.can_finish())if((e=e||0)>=3)Jo.callbacks.err_finishing_session();else{var t={vsid:Jo.vsid};Jo.settings.custom_ua&&(t.ua=Jo.settings.custom_ua),Ht.post(Jo.settings.urls.finish_video_session,t).then((function(e){e.statusText&&"OK"==e.statusText?(Wo.log("session finished successfully!"),Jo.callbacks.session_finished()):7001==e.errcode||"too short"==e.error?(Wo.log("could not finish session: too short"),Jo.callbacks.session_not_finished_too_short()):Jo.error(Jo.translations.ErrorCouldNotFinishSession+e.data.error||e.data.status)})).catch((function(t){if(400==t.data.status&&-1!=t.responseText.indexOf("session is not ready for processing")){for(var n="VIDEO FILES (can_finish: "+Jo.can_finish()+"): \n",r=Jo.files.concat(Jo.cloud_files).filter((function(e){return e.type==ta.TYPE.VIDEO||"clip"==e.type})),o=0;o<r.length;o++)if(r[o].chunks.length>0){var a=r[o].chunks.filter((function(e){return e.status===ta.STATUS.SUCCESS})).length;n+="[file "+(o+1)+"/"+r.length+" ("+r[o].name+") - "+a+"/"+r[o].chunks.length+" chunks completed - status: "+r[o].status+" - origin: "+r[o].upl_origin+"] \n"}else n+="[file "+(o+1)+"/"+r.length+" ("+r[o].name+") - no chunks - status: "+r[o].status+" - origin: "+r[o].upl_origin+"] \n";Jo.callbacks.err_finishing_session(),Jo._send_log(n)}else{var i=e+1;Wo.log("retrying finish session ("+i+")"),Jo.finish_session(i),Jo._send_log("Error finishing session (retry number "+e+"): "+t.status+" : "+t.responseText)}}))}else Wo.log("tried to finish session before can_finish returned true")},is_too_short:function(){return!(Jo.files.filter((function(e){return(e.type==ta.TYPE.VIDEO||"clip"==e.type)&&1==e.no_duration})).length>0)&&Jo.get_all_duration()<Jo.settings.limits.min_dur_seconds},is_less_than_recommended:function(){return!(Jo.files.filter((function(e){return(e.type==ta.TYPE.VIDEO||"clip"==e.type)&&1==e.no_duration})).length>0)&&Jo.get_all_duration()<Jo.settings.limits.min_recommended_dur_seconds},get_all_duration:function(){for(var e=0;e<Jo.cloud_files.length;e++)"image"==Jo.cloud_files[e].type&&(Jo.cloud_files[e].type=ta.TYPE.PHOTO);for(e=0;e<Jo.files.length;e++)"image"==Jo.files[e].type&&(Jo.files[e].type=ta.TYPE.PHOTO);var t=Jo.cloud_files.filter((function(e){return e.type==ta.TYPE.PHOTO||"image"==e.type})).length,n=Jo.files.filter((function(e){return e.type==ta.TYPE.PHOTO||"image"==e.type})).length,r=Jo.files.filter((function(e){return e.type==ta.TYPE.VIDEO||"clip"==e.type})).concat(Jo.cloud_files.filter((function(e){return e.type==ta.TYPE.VIDEO||"clip"==e.type}))),o=0;for(e=0;e<r.length;e++)o+=r[e].duration||0;return Math.round(n*Jo.settings.photo_dur_seconds)+Math.round(t*Jo.settings.photo_dur_seconds)+o},retryDeletingFiles:function(){Xo.forEach((function(e){Jo.remove_file(e)}))},can_make:function(){var e=Jo.files.concat(Jo.cloud_files),t=e.filter((function(e){return e.status===ta.STATUS.QUEUED})).length,n=e.filter((function(e){return e.status===ta.STATUS.PROGRESS})).length,r=Xo.length;return r&&this.retryDeletingFiles(),!(t>0||n>0||r)||(Wo.log("there are still files in queue, cant send make request yet. waiting, queued_n",t,"progress_n",n,"deleting_files",r),!1)},restore_file:function(e,t){var n;n=Jo.createSrcFile(e);Jo.getAllFiles();return e.upl_origin==ea.GETTY||e.upl_origin==ea.GPHOTOS||e.upl_origin===ea.VIMEO||e.upl_origin===ea.SHOPIFY?Jo.cloud_files.push(n):Jo.files.push(n),Jo.callbacks.file_added(n),n.callbacks="object"==Vo(t)?t:{},Jo.get_file_meta_data(n,(function(){Wo.log("got meta data for "+n.name),n.type==ta.TYPE.AUDIO&&(Jo.track_picked=!0,Array.prototype.forEach.call(Jo.files,(function(e){e.type==ta.TYPE.AUDIO&&Jo.remove_file(e.id)}))),n.callbacks&&"object"==Vo(n.callbacks)&&n.callbacks.file_added&&"function"==typeof n.callbacks.file_added&&n.callbacks.file_added(n),Wo.log("file queued: "+n.name),Jo.do_global_progress(),e.upl_origin==ea.RESTORE?n.do_upload_complete(e.hash,e.mhash,e.external_id?parseInt(e.external_id):n.id):Jo.queue_process_timer||(Jo.queue_process_timer=setTimeout((function(){Jo.queue_process_timer=null,Jo.process_files()}),1e3))})),n},load_active_session:function(e,t,n){Wo.log("restoring video session "+e);var r=new FormData;return r.append("vsid",e),Ht.post("/api/video/upload/load",r).then((function(e){if(Wo.log("Restore Session - ",e),e.statusText&&"OK"===e.statusText){if(Jo.restoring=!0,Jo.files=[],Jo.cloud_files=[],Jo.theme_picked=!1,Jo.track_picked=!1,e.data.sources){var n=e.data.sources.sort((function(e,t){return e.order-t.order}));Wo.log("restoring "+e.data.sources.length+" files"),Array.prototype.forEach.call(n,(function(e){e.using_chunks&&!e.all_chunks_completed?(Wo.log("skipping (and deleting) incomplete file: "+e.name),Ht.post(Jo.settings.urls.delete_item,{hash:e.hash})):(Wo.log("Adding file: ",e),e.upl_origin=ea.RESTORE,Jo.restore_file(e))}))}return e.data.sound&&(Jo.track_picked=!0,Jo.theme_picked=!0,e.data.sound.type&&"UPL"==e.data.sound.type||(Jo.sound=e.data.sound)),e.data.theme&&(Jo.theme_picked=!0,Jo.theme=e.data.theme),e.data.orientation&&(Wo.log("restored orientation:",e.data.orientation),Jo.orientation=e.data.orientation),e.data.duration&&(Wo.log("restored duration:",e.data.duration),Jo.duration=e.data.duration),Jo.restoring=!1,t&&t(e),e.data}Jo.error(Jo.translations.ErrorLoadingSession)})).catch((function(e){return Wo.error("RESTORE ERROR  --==>>> ",e),Jo.error(Jo.translations.ErrorLoadingSession),e}))},finish_uploading:function(){var e=Jo.files.concat(Jo.cloud_files),t=!0;return Array.prototype.forEach.call(e,(function(e){e.status!=ta.STATUS.QUEUED&&e.status!=ta.STATUS.PROGRESS||(t=!1)})),Jo.do_global_progress(),Jo.callbacks.global_progress(),t},do_global_progress:function(){var e=0,t=0,n=Jo.files.concat(Jo.cloud_files);Array.prototype.forEach.call(n,(function(n){n.status!=ta.STATUS.ERROR&&n.upl_origin!=ea.RESTORE&&(e+=n.size,t+=n.upl_bytes)})),t=Math.round(t/1024),e=Math.round(e/1024),isNaN(t)&&(t=0),isNaN(e)&&(e=0);var r=Math.round(100*t/e);r%5==0&&r!=Jo.last_global_progress&&Wo.log("global progress: ["+Jo._add_commas(t)+"/"+Jo._add_commas(e)+" KB] ("+r+"%)"),Jo.callbacks.uploading_progress(r),Jo.last_global_progress=r,Jo.callbacks.global_progress(e,t)},callbacks:{file_loaded:function(){},file_added:function(){},file_removed:function(){},file_upload_error:function(){},file_progress:function(){},file_complete:function(){},session_finished:function(){},session_not_finished_too_short:function(){},theme_picked:function(){},track_picked:function(){},global_progress:function(){},err_file_duplicate:function(e){alert(e+Jo.translations.AlertErrorAlreadyChosen)},err_file_invalid_type:function(){alert(Jo.translations.AlertErrorInvalidFileType)},err_file_too_small:function(e){alert(Jo.translations.AlertErrorFileTooSmall(e))},err_image_too_small:function(e){alert(Jo.translations.AlertErrorImageTooSmall(e))},err_file_count_limit:function(e,t){alert(Jo.translations.AlertErrorFileCountLimit(e,t))},err_file_size_limit:function(e,t,n){alert(Jo.translations.AlertErrorTotalFileSizeLimit(e,t,n))},err_file_upload_error:function(){},err_file_duration_limit:function(e){alert(Jo.translations.AlertErrorTotalFileDurationLimit(e))},err_finishing_session:function(){Jo.error(Jo.translations.ErrorFinishingSession)}},_can_use_chunks:function(){var e=!!(window.File&&window.FileReader&&window.FileList&&window.Blob),t=Jo._can_use_video_element();return e&&t},_can_use_video_element:function(){return!!document.createElement("video").canPlayType},_validate_add_file:function(e){var t=null;if(function(){var n=window.URL||window.webkitURL,r=new Image;r.src=e.blob_url,r.onload=function(){if(n.revokeObjectURL(e.blob_url),Math.min(this.height,this.width)<Jo.settings.min_image_size_px||Math.max(this.height,this.width)/Math.min(this.height,this.width)>8)return function(){if((e.type==ta.TYPE.PHOTO||"image"==e.type)&&e.upl_origin==ea.BROWSER)return Wo.log("image too small: "+e.name),Jo.callbacks.err_image_too_small(e,Jo.settings.min_image_size_px),t&&t(e,"image_too_small"),!1}()}}(),e.callbacks&&"object"==Vo(e.callbacks)&&e.callbacks.file_error&&"function"==typeof e.callbacks.file_error&&(t=e.callbacks.file_error),e.expected_type&&e.expected_type!=e.type)return Wo.log("invalid file; expected type is:"+e.expected_type+", file is from type:"+e.type),t&&t(e,"invalid type"),!1;if(e.type!==ta.TYPE.AUDIO&&e.size&&e.upl_origin!==ea.RESTORE){var n=Jo._get_total_size("gb"),r=Jo.settings.limits.max_size_gb;if(r&&n>r){var o=(n-Number((e.size/1024/1024/1024).toFixed(3))).toFixed(3),a=o>0?o:0,i=a>0?(r-a).toFixed(3):r,c="".concat(a,"GB"),l="".concat(r,"GB"),s="".concat(i,"GB");return Jo.callbacks.err_file_size_limit(e,c,l,s),t&&t(e,"file_size_limit_reached",r),Wo.log("size limit exceeded: "+e.name),!1}}if(e.upl_origin!==ea.GETTY&&e.upl_origin!==ea.VIMEO&&e.upl_origin!==ea.SHOPIFY&&(e.name=e.name||e.file_name||e.file.file_name,!Jo._get_file_type(e.name)))return Jo.callbacks.err_file_invalid_type(e),t&&t(e,"invalid_type"),Wo.log("invalid extension: "+e.name),!1;if((e.type===ta.TYPE.VIDEO||e.type===ta.TYPE.CLIP)&&e.duration&&e.upl_origin!==ea.RESTORE){var u=Math.round(Jo._get_total_duration());if(u>Jo.settings.limits.max_dur_seconds){var d=Jo._get_duration_text(Jo.settings.limits.max_dur_seconds),m=Math.round(u-e.duration),p=m>0?m:0,f=Jo._get_duration_text(Jo.settings.limits.max_dur_seconds-p),h=p>0?f:d,g=Jo._get_duration_text(p);return Jo.callbacks.err_file_duration_limit(e,g,d,h),t&&t(e,"file_duration_limit_reached",Jo.settings.limits.max_dur_seconds),Wo.log("duration limit exceeded: "+e.name),!1}}if((e.type==ta.TYPE.VIDEO||"clip"==e.type)&&e.upl_origin==ea.BROWSER&&e.size>0&&Math.round(e.size/1024)<Jo.settings.min_video_size_kb)return Wo.log("too short video: "+e.name),Jo.callbacks.err_file_too_small(e,Jo.settings.min_video_size_kb),t&&t(e,"video_too_short"),!1;return!0},_can_upload_cloud_file:function(){for(var e=0,t=0;t<Jo.cloud_files.length;t++)if(Jo.cloud_files[t].status==ta.STATUS.PROGRESS&&e++,e>=Jo.settings.max_parallel_cloud_uploads)return!1;return!0},_can_upload:function(){for(var e=0,t=0;t<Jo.files.length;t++)if(Jo.files[t].status==ta.STATUS.PROGRESS&&e++,e>=Jo.settings.max_parallel_uploads)return!1;return!0},_allowed_files:function(e){if(navigator.userAgent.toLowerCase().indexOf("firefox")>-1)return"*.*";var t="";return Array.prototype.forEach.call(e,(function(e){t+="*."+e+";"})),t.length>1&&(t=t.substr(0,t.length-1)),t},_get_new_id:function(e){return e=e||"upfile",Jo.last_id_n||(Jo.last_id_n=0),Jo.last_id_n++,e+"_"+Jo.last_id_n},_get_file_type:function(e,t){if(t&&(t==ta.TYPE.VIDEO||"clip"==t||t==ta.TYPE.PHOTO||"image"==t||t==ta.TYPE.AUDIO))return t;var n=e.lastIndexOf(".");if(n<=0)return null;var r=e.substr(n+1).toLowerCase();return-1!=Jo.settings.valid_ext.video.indexOf(r)?ta.TYPE.VIDEO:-1!=Jo.settings.valid_ext.photo.indexOf(r)?ta.TYPE.PHOTO:-1!=Jo.settings.valid_ext.audio.indexOf(r)?ta.TYPE.AUDIO:null},_get_file_order:function(){var e=0;return Array.prototype.forEach.call(Jo.files,(function(t){t.order>e&&(e=t.order)})),Array.prototype.forEach.call(Jo.cloud_files,(function(t){t.order>e&&(e=t.order)})),e+1},_get_total_size:function(e){var t=e||"mb",n=0,r=Jo.files.concat(Jo.cloud_files);return Array.prototype.forEach.call(r,(function(e){e.status!=ta.STATUS.ERROR&&e.size&&(n+=e.size)})),"mb"===t?n=Math.round(n/1024/1024):"gb"===t&&(n=Number((n/1024/1024/1024).toFixed(3))),n},_get_total_duration:function(){var e=0,t=Jo.files.concat(Jo.cloud_files);return Array.prototype.forEach.call(t,(function(t){var n=t.duration;t.type!==ta.TYPE.PHOTO&&t.type!==ta.TYPE.IMAGE||(n=1),t.status!=ta.STATUS.ERROR&&(e+=n)})),e},_get_duration_text:function(e){var t=new Date(1e3*e),n=t.getMinutes(),r=t.getSeconds(),o=n<10?"0".concat(n):n,a=r<10?"0".concat(r):r;return 0===n&&0===r&&(o=e/60),"".concat(o,":").concat(a)},_file_by_id:function(e){var t=[];return Jo.files.forEach((function(n){(n.id===e||n.mhash===e||n.file&&n.file.external_id===e.toString())&&t.push(n)})),t.length||(t=Jo.cloud_files.filter((function(t){return t.id===e}))).length?t[0]:null},_file_by_hash:function(e){var t=[];return Jo.files.forEach((function(n){n.hash&&n.hash===e&&t.push(n)})),t.length||(t=Jo.cloud_files.filter((function(t){return t.hash&&t.hash===e}))).length?t[0]:null},get_file_by_uploadId:function(e){var t=[];return Jo.files.forEach((function(n){n.uploadId==e&&t.push(n)})),t.length||(t=Jo.cloud_files.filter((function(t){return t.uploadId===e}))).length?t[0]:null},get_file_by_id:function(e){return Jo._file_by_id(e)},_stop_audio_upload:function(e){var t=Jo.files.filter((function(e){return e.type===ta.TYPE.AUDIO}));Array.prototype.forEach.call(t,(function(t){e?e!=t.id&&(t.kill_upload(!0),Jo.process_files()):(t.kill_upload(!0),Jo.process_files())}))},_stop_files_upload:function(e,t){var n=Jo.files.concat(Jo.cloud_files);t=t||[ta.TYPE.PHOTO,ta.TYPE.VIDEO,"image","clip"];var r=n.filter((function(e){return-1!=t.indexOf(e.type)}));return Array.prototype.forEach.call(r,(function(t){var n=!1;t.status==ta.STATUS.PROGRESS&&(e?e!=t.id&&(t.kill_upload(),n=!0):(t.kill_upload(),n=!0),n&&t.hash&&Ht.post(Jo.settings.urls.delete_item,{hash:t.hash}).done((function(){srcfile.cloud_progress_timer&&window.clearTimeout(srcfile.cloud_progress_timer),Wo.log("deleted",t)})).fail((function(){Wo.log("could not delete file",t)})))})),Jo.clear_waiting_for_meta_files(r),r},_send_log:function(e){},_add_commas:function(e){for(var t=/(\d+)(\d{3})/,n=e+"";t.test(n);)n=n.replace(t,"$1,$2");return n}},ea={RESTORE:"restore",BROWSER:"browser",MEDIALIB:"medialib",STICKERLIB:"stickerlib",GDRIVE:"gdrive",OK:"ok",GPHOTOS:"gphotos",GETTY:"getty",VIMEO:"vimeo",SHOPIFY:"shopify",WIDGET_PARTNER:"widget_partner"},ta=function(){function e(t,n){Do(this,e),this.id=t,this.external_id="",this.file=n,this.type=Jo._get_file_type(n.name,n.type),this.name=n.name||n.title||"",this.size=parseInt(n.size)||0,this.upl_bytes=0,this.status=e.STATUS.QUEUED,this.retries=0,this.date=n.lastModified||n.lastModifiedDate||n.creationdate||"",this.found_date=n.lastModified||n.lastModifiedDate||n.creationdate||this.epoch(n.date)||"",this.thumb=n.thumb||null,this.canvas_thumb=null,this.hash="",this.chunks=[],this.blob_url=null,this.upl_origin=n.upl_origin||null,this.duration=n.duration||null,this.upload_requests=[],this.width=0|n.width,this.height=0|n.height,this.order=Jo._get_file_order(),this.last_upl_ts=null,this.form_data=n.form_data||null,this.video_url=n.video_url||null,this.uploadId=n.uploadId||Lo()}return zo(e,[{key:"epoch",value:function(e){return Math.round(new Date(e).getTime())}},{key:"upload",value:function(){if(!(Jo.vsid<=0)&&this.status==e.STATUS.QUEUED){if(this.upl_origin==ea.GETTY){if(!Jo._can_upload_cloud_file())return}else if(!Jo._can_upload())return;this.upl_bytes=0,this.status=e.STATUS.PROGRESS,this.last_upl_ts=Date.now(),this.upl_origin==ea.RESTORE?Wo.log("skipping upload for existing file "+this.name+"..."):this.upl_origin==ea.BROWSER?Jo._can_use_chunks()?this._upload_chunks():this._check_medialib_before_upload(this._upload_normal):this.upl_origin==ea.GETTY||this.upl_origin===ea.VIMEO||this.upl_origin===ea.SHOPIFY||this.upl_origin===ea.WIDGET_PARTNER?this._check_medialib_before_upload(this._upload_getty):this.upl_origin==ea.MEDIALIB?this._upload_medialib():this.upl_origin==ea.GPHOTOS?this._check_medialib_before_upload(this._upload_gphotos):Jo.error(Jo.translations.ErrorCantUpload(this.name,this.upl_origin))}}},{key:"kill_upload",value:function(t){if(Ko(this.id),t||this.status==e.STATUS.PROGRESS){if(this.upl_origin==ea.BROWSER&&(Array.prototype.forEach.call(this.upload_requests,(function(e){e.abort(),Wo.log("Abort Upload")})),this.upload_requests=[],Wo.log("["+this.upl_origin+"] upload killed: "+this.name),this.type==e.TYPE.AUDIO)){var n=this;Jo.files.splice(Jo.files.indexOf(ra.findWhere(Jo.files,{id:n.id,upl_bytes:n.upl_bytes,type:n.type})),1)}this.status=e.STATUS.ERROR,Jo.do_global_progress()}else Ko(this.id,"remove")}},{key:"do_upload_progress",value:function(e,t){t>e&&(t=e);var n=Math.ceil(100*t/e);n>100&&(n=100),this.upl_bytes=t,this.last_upl_ts=Date.now(),this.callbacks&&"object"==Vo(this.callbacks)&&this.callbacks.file_progress&&"function"==typeof this.callbacks.file_progress&&this.callbacks.file_progress(this,e,t),Jo.callbacks&&Jo.callbacks.file_progress&&Jo.callbacks.file_progress(this,e,t),Jo.do_global_progress()}},{key:"do_upload_complete",value:function(t,n,r){Wo.log("["+this.upl_origin+"] "+this.type+" file upload completed: "+this.name+" ("+t+"), (medialib hash:"+n+")"),this.status=e.STATUS.SUCCESS,this.hash=this.hash||t,this.mhash=this.mhash||n,this.upl_bytes=this.size,$o(this),this.do_upload_progress(this.size,this.size),this.type==e.TYPE.AUDIO&&(Jo.track_picked=!0),Jo.callbacks.file_complete(this),this.callbacks&&"object"==Vo(this.callbacks)&&this.callbacks.file_complete&&"function"==typeof this.callbacks.file_complete&&this.callbacks.file_complete(this),Jo.do_global_progress(),Jo.process_files()}},{key:"do_upload_error",value:function(t,n,r,o){var a="an error occured";if(n)try{a=n.response.data.error,n.response.data.errcode,n.response.data.status}catch(e){Wo.log("failed to parse response: ("+n+"):"+e)}t=t||!1,(r=r||this).retries<Jo.settings.max_upload_retries&&!t?(r.retries++,Wo.log("["+r.upl_origin+"] "+r.type+" file upload error - retrying ("+r.retries+"/"+Jo.settings.max_upload_retries+")"),r.status=e.STATUS.QUEUED,r.upload()):(Wo.log("["+r.upl_origin+"] "+r.type+" file upload error - finished "+Jo.settings.max_upload_retries+" retries."),r.status=e.STATUS.ERROR,r.kill_upload&&r.kill_upload(),r.hash&&r.hash.length&&Ht.post(Jo.settings.urls.delete_item,{hash:r.hash}),Jo.callbacks.err_file_upload_error(r.name),Jo.callbacks.file_upload_error(r,o),r.callbacks&&"object"==Vo(r.callbacks)&&r.callbacks.file_error&&"function"==typeof r.callbacks.file_error&&r.callbacks.file_error(r,"upload_error",a),Jo.process_files()),Jo.do_global_progress()}},{key:"_fill_data_from_server",value:function(e){for(var t in e)e.hasOwnProperty(t)&&e[t]&&("status"==t||"async"==t||(this[t]="duration"==t||"size"==t?parseInt(e[t]):e[t]))}},{key:"_upload_chunks",value:function(){Wo.log("["+this.upl_origin+"][v3] uploading "+this.type+": "+this.name);var t=this;return this.type!=e.TYPE.VIDEO&&"clip"!=this.type?(Wo.log(this.name+" is not a video, switching to normal upload."),void this._check_medialib_before_upload(this._upload_normal)):this.size<=Jo.settings.chunk_size?(Wo.log(this.name+" is too small to be chunked, switching to normal upload."),void this._check_medialib_before_upload(this._upload_normal)):this.duration&&this.width&&this.height?(Wo.log(this.name+" - meta data found, ready to slice."),void this._check_medialib_before_upload((function(){t._prepare_chunks((function(){Wo.log(t.name+" - "+t.chunks.length+" chunks ready."),Array.prototype.forEach.call(t.chunks,(function(e){e.upload()}))}))}))):(Wo.log(this.name+" - missing meta data, switching to normal upload."),void this._check_medialib_before_upload(this._upload_normal))}},{key:"_prepare_chunks",value:function(e,t){var n=this,r=!!n.uploading_to_library;if((t=t||0)>=3)return Jo.error(Jo.translations.ErrorPreparingChunks(this.name)),void n.do_upload_error(!0);if(this.chunks.length)Wo.log("prepare chunks: chunks are already in place ("+this.name+")");else{var o={vsid:Jo.vsid,file_name:n.name,file_size:n.size,order:n.order,chunk_size:Jo.settings.chunk_size,duration:n.duration,width:n.width,height:n.height,date:new Date(n.date).getTime(),only_library:r};n.can_remove=!1,Ht.post(Jo.settings.urls.add_video_file,o).then((function(o){if(n.can_remove=!0,o.statusText&&"OK"==o.statusText){if(o.data.video_available)return n.do_upload_progress(n.size,n.size),void n.do_upload_complete(o.data.hash,o.data.mhash);var a=o.data.hash||o.data.mhash;if(a&&o.data.chunk_size&&o.data.chunk_size>0){n.hash=a,n.mhash=o.data.mhash,n.chunks=[];var i=parseInt(o.data.chunk_size),c=Math.ceil(n.size/i),l=0,s=i,u=0;for(Wo.log(n.name+" ("+a+") - slicing to "+c+" chunks (chunk size: "+Math.ceil(i/1024/1024)+" MB).");l<n.size;){var d=null;try{d=n.file.slice(l,s)}catch(e){d=n.file.webkitSlice(l,s)}var m=new na(n.id,d,u,d.size,r);n.chunks.push(m),l=s,s+=i,u++}e&&e()}else Wo.log(n.name+" - server didn't response with chunk_size and hash, switching to normal upload."),this._check_medialib_before_upload(this._upload_normal)}else Wo.log("retrying _prepare_chunks ("+(t+1)+"/3) for file "+n.name),n._prepare_chunks(e,t+1)})).catch((function(){n.can_remove=!0,Wo.log("retrying _prepare_chunks ("+(t+1)+"/3) for file "+n.name),n._prepare_chunks(e,t+1)}))}}},{key:"is_free_to_upload_chunk",value:function(){for(var t=0,n=0;n<this.chunks.length;n++)if(this.chunks[n].status==e.STATUS.PROGRESS&&t++,t>=Jo.settings.max_parallel_uploads)return!1;return!0}},{key:"is_medialib_item_exist",value:function(e,t,n,r,o,a){var i={params:{file_name:e,file_size:t,service_name:n,external_id:r,vsid:o,only_library:a}};return Ht.get(Jo.settings.urls.is_medialib_item_exist,i)}},{key:"_check_medialib_before_upload",value:function(t){Wo.log("["+this.upl_origin+"] uploading "+this.type+": "+this.name);var n=this;if($o(n),Jo.settings.has_medialib&&n.type!=e.TYPE.AUDIO){var r=!!n.uploading_to_library;n.can_remove=!1,n.is_medialib_item_exist(n.name,n.size,n.service_name,n.external_id,Jo.vsid,r).then((function(e){n.can_remove=!0,"OK"===e.statusText&&e.data.video_available?(n.do_upload_progress(n.size,n.size),n.do_upload_complete(e.data.hash,e.data.mhash)):t(n)})).catch((function(){n.can_remove=!0,t(n)}))}else t(n)}},{key:"_upload_normal",value:function(t){var n=new XMLHttpRequest,r=t||this,o=Ot.get("serverUrl");r.type==e.TYPE.AUDIO?(Jo._stop_audio_upload(r.id),n.open("POST",o+Jo.settings.urls.add_audio_file,!0)):n.open("POST",o+Jo.settings.urls.add_video_file,!0),n.withCredentials=!0;var a=0;n.upload.onprogress=function(e){Jo.is_safari&&a++%10!=0||e.lengthComputable&&r.do_upload_progress(e.total,e.loaded)},n.onload=function(){if(200==this.status){var t=JSON.parse(this.response);t&&"OK"==t.status&&(r.do_upload_complete(t.hash,t.mhash),r.type==e.TYPE.AUDIO&&(Jo.track_picked=!0))}else(this.status>=400||this.status<=500)&&r.do_upload_error(!1,this.response)},n.onerror=function(e,t,n){var o,a,i=4==(null===(o=e.target)||void 0===o?void 0:o.readyState)&&0==(null===(a=e.target)||void 0===a?void 0:a.status);r.do_upload_error(!1,!1,r,i)};var i=new FormData;if(i.append("file",r.file),i.append("vsid",Jo.vsid),i.append("file_name",r.name),i.append("only_library",!!r.uploading_to_library),i.append("allow_duplicate","true"),i.append("order",0),r.form_data)for(var c in r.form_data)i.append(c,r.form_data[c]);try{var l=r.date.getTime();i.append("date",l)}catch(e){}var s=zt();Object.entries(s).forEach((function(e){var t=No(e,2),r=t[0],o=t[1];n.setRequestHeader(r,o)}));try{n.send(i)}catch(e){Wo.error(e,"ERROR")}r.upload_requests&&r.upload_requests.length>=0&&r.upload_requests.push(n)}},{key:"_upload_getty",value:function(e){var t=e||this;Wo.log("["+t.upl_origin+"] uploading "+t.type+": "+t.name);var n=t.service_name,r=new FormData;r.append("date",t.date),r.append("vsid",Jo.vsid);var o={file_id:t.file.id};t.file.download_url&&(o.download_url=t.file.download_url),t.upl_origin===ea.VIMEO||t.upl_origin===ea.SHOPIFY||t.upl_origin===ea.WIDGET_PARTNER?o.file_name=t.file_name:o.file_name=t.file.name,t.upl_origin===ea.SHOPIFY&&t.file.file_size&&(o.file_size=t.file.file_size),r.append("file_payload",JSON.stringify(o)),r.append("service_name",n),r.append("allow_duplicate","true"),t.mhash&&r.append("medialib_hash",t.mhash),Ht.post(Jo.settings.urls.add_cloud_file,r).then((function(r){if(r.statusText&&"OK"==r.statusText)if(window.clearTimeout(t.cloud_progress_timer),t._fill_data_from_server(r.data),r.data.async){$o(e),t.hash=r.data.hash,t.mhash=r.data.mhash;var o=2e3;r.data.size>10485760&&(o=4e3),t.cloud_progress_timer=window.setTimeout((function(){t._check_gdrive_progress(t,n)}),o)}else t.do_upload_complete(r.data.hash,r.data.mhash);else t.do_upload_error(!1,r);t.upload_requests.push(r)})).catch((function(e){t.do_upload_error(!1,e),t.upload_requests.push(e)}))}},{key:"_upload_medialib",value:function(){Wo.log("["+this.upl_origin+"] uploading "+this.type+": "+this.name);var e=this,t=new FormData;t.append("vsid",Jo.vsid),t.append("medialib_hash",e.mhash),t.append("allow_duplicate","true"),$o(e),Ht.post(Jo.settings.urls.add_medialib_file,t).then((function(t){t.statusText&&"OK"==t.statusText?(e._fill_data_from_server(t.data),e.do_upload_complete(t.data.hash,t.data.mhash)):(e.do_upload_error(!1,t),e.upload_requests.push(t))})).catch((function(t){e.do_upload_error(!1,t),e.upload_requests.push(t)}))}},{key:"_check_gdrive_progress",value:function(t,n){var r,o=n||"gdrive",a=t;if(a.status==e.STATUS.PROGRESS){-1!=o.indexOf("getty")?r=a.file.file_payload?a.file.file_payload:JSON.stringify({file_id:a.file.id,file_name:a.file.name}):(r={access_token:a.gdrive_access_token,file_id:a.external_id,file_name:a.name,file_size:a.size,hash:a.mhash||a.hash},r=JSON.stringify(r));var i=new FormData;i.append("vsid",Jo.vsid),i.append("file_payload",r),i.append("service_name",o),Ht.post(Jo.settings.urls.cloud_file_progress,i).then((function(t){if(t.statusText&&"OK"==t.statusText)if("downloading"!=t.data.download_status&&t.data.download_status)"downloaded"==t.data.download_status?(window.clearTimeout(a.cloud_progress_timer),0==a.size&&(a.size=100),t.data.duration&&(a.duration=parseInt(t.data.duration)),t.data.width&&t.data.height&&(a.width=t.data.width,a.height=t.data.height),t.data.size&&(a.size=parseInt(t.data.size)),a.status!=e.STATUS.SUCCESS&&a.do_upload_complete()):"error"==t.download_status&&a.do_upload_error(!1,t);else{var n=t.data.total_bytes||a.size,r=t.data.bytes_completed||0;a.do_upload_progress(n,r),a.cloud_progress_timer=window.setTimeout((function(){a._check_gdrive_progress(a,o)}),5e3)}})).catch((function(e){Wo.log(e),!e.response||e.response&&e.response.status>=500?a.cloud_progress_timer=window.setTimeout((function(){a._check_gdrive_progress(a,o)}),5e3):a.do_upload_error(!0,e)}))}else a.cloud_progress_timer&&window.clearTimeout(a.cloud_progress_timer)}},{key:"_upload_gphotos",value:function(e){var t=e||this;Wo.log("["+t.upl_origin+"] uploading "+t.type+": "+t.name),$o(t);var n={access_token:t.access_token,file_id:t.external_id,download_url:t.download_url,file_name:t.name,file_size:t.size},r=new FormData;r.append("date",t.date),r.append("vsid",Jo.vsid),r.append("file_payload",JSON.stringify(n)),r.append("service_name",ea.GPHOTOS),r.append("allow_duplicate","true"),Ht.post(Jo.settings.urls.add_cloud_file,r).then((function(e){e.statusText&&"OK"==e.statusText?(e.data.duration?t.duration=parseInt(e.data.duration):"video"===t.type&&(t.no_duration=!0),t._fill_data_from_server(e.data),window.clearTimeout(t.cloud_progress_timer),e.data.async?(t.hash=e.data.hash,t.mhash=e.data.mhash,t.cloud_progress_timer=window.setTimeout((function(){t._check_gdrive_progress(t,ea.GPHOTOS)}),1e3)):t.do_upload_complete(e.data.hash,e.data.mhash)):t.do_upload_error(!1,e),t.upload_requests.push(e)})).catch((function(e){t.do_upload_error(!1,e),t.upload_requests.push(e)}))}}],[{key:"from_restored_file",value:function(t){var n=new e(Jo._get_new_id("restored_file"),t);return n.hash=t.hash,t.duration&&(n.duration=t.duration),n.stock_credit_cost=t.stock_credit_cost,n.external_id=t.external_id,n.checkValidity=!1,n}},{key:"from_browser_file",value:function(t){var n=new e(t.id||Jo._get_new_id("xhr_file"),t);n.uploading_to_library=t.uploading_to_library,n.allow_dup=t.allow_dup,n.thumb_url=t.thumb_url,n.checkValidity=!0,t.expected_type&&(n.expected_type=t.expected_type);try{window.URL=window.URL||window.webkitURL,n.blob_url=window.URL.createObjectURL(t)}catch(e){}return n}},{key:"from_gdrive_file",value:function(t){var n=new e(Jo._get_new_id("gdrive_file"),t);return n.allow_dup=t.allow_dup,n.uploading_to_library=t.uploading_to_library,n.external_id=t.gdrive_id,n.service_name="gdrive",n.gdrive_access_token=t.gdrive_access_token,n.checkValidity=!1,n}},{key:"from_getty_file",value:function(t){var n=new e(t.id,t);return t.file_name&&(n.file.name=t.file_name),n.allow_dup=t.allow_dup,n.external_id=t.external_id,n.service_name=t.service_name,n.preview=t.preview,n.stock_credit_cost=t.stock_credit_cost,n.checkValidity=!0,n}},{key:"from_medialib_file",value:function(t){var n=new e(t.id,t);return n.external_id=t.external_id,n.mhash=t.mhash,n.allow_dup=t.allow_dup,n.thumb_url=t.thumb_url,n.checkValidity=!0,n}},{key:"from_gphotos_file",value:function(t){var n=new e(t.id,t);return n.service=t.service_name,n.access_token=t.access_token,n.external_id=t.id,n.allow_dup=t.allow_dup,n.download_url=t.download_url,n.checkValidity=!0,n}},{key:"fromVimeoFile",value:function(t){var n=new e(t.id,t);return n.service_name=ea.VIMEO,n.external_id=t.id,n.allow_dup=t.allow_dup,n.checkValidity=!0,n.file_name=t.file_name,n}},{key:"fromShopifyFile",value:function(t){var n=new e(t.id,t);return n.service_name=ea.SHOPIFY,n.external_id=t.id,t.type===e.TYPE.VIDEO&&(n.allow_dup=!1),n.checkValidity=!0,n.file_name=t.file_name,n}},{key:"fromWidgetPartner",value:function(t){var n=new e(t.id,t);return n.service_name=t.partnerName.toLowerCase(),n.file_name=t.title,n.checkValidity=!0,n}}]),e}();ta.TYPE={VIDEO:"video",CLIP:"clip",PHOTO:"photo",IMAGE:"image",AUDIO:"audio"},ta.STATUS={QUEUED:"queued",PROGRESS:"progress",SUCCESS:"success",ERROR:"error"};var na=function(){function e(t,n,r,o,a){Do(this,e),this.file_id=t,this.chunk_data=n,this.chunk_index=r,this.size=o,this.upl_bytes=0,this.status=ta.STATUS.QUEUED,this.retries=0,this.upload_url=null,this.upload_params={},this.only_library=a,this.validate_needed=!1}return zo(e,[{key:"upload",value:function(){var e=Jo._file_by_id(this.file_id),t=this;if(t.status==ta.STATUS.QUEUED&&e)return t.retries>3?(Jo.error(Jo.translations.ErrorFailedUploadChunk(e.name,t.chunk_index+1)),t.status=ta.STATUS.ERROR,void e.do_upload_error(!0)):void(e?e.is_free_to_upload_chunk()&&(Wo.log("["+e.upl_origin+"][v3] uploading "+e.name+" ("+(this.chunk_index+1)+"/"+e.chunks.length+") ..."),this.upl_bytes=0,this.status=ta.STATUS.PROGRESS,this._get_upload_params((function(n){Wo.log("["+e.upl_origin+"][v3] got upload url for "+e.name+" (chunk "+t.chunk_index+"): "+n.upload_url);var r=n.upload_url,o=n.upload_params,a=new FormData;if(n.ordering)for(var i=n.ordering.split(","),c=0;c<i.length;c++){var l=i[c];l in o&&a.append(l,o[l])}else for(l in o)a.append(l,o[l]);a.append("file",t.chunk_data),t._upload_actual_chunk(r,a)}))):Jo.error(Jo.translations.ErrorFailedUploadChunkNoSrc+this.file_id))}},{key:"_get_upload_params",value:function(e){var t=Jo._file_by_id(this.file_id),n=this;if(t){var r=Ot.get("serverUrl"),o=new XMLHttpRequest;o.open("POST",r+Jo.settings.urls.add_file_chunk,!0),o.withCredentials=!0,o.onprogress=function(e){};var a=function(){n.retries+=1,Wo.log(t.name+": chunk: "+(n.chunk_index+1)+": retrying get_upload_params (retry no. "+n.retries+")"),n.status=ta.STATUS.QUEUED,n.upl_bytes=0,n.upload()};o.onerror=a,o.onload=function(){if(200==this.status){var t=JSON.parse(this.response);if(t&&"OK"==t.statusText){n.upl_bytes=0,n.upload_url=t.upload_url,n.upload_params=t.upload_params,n.validate_needed=!!t.need_redirect&&"true"==t.need_redirect;var r={upload_url:t.upload_url,upload_params:t.upload_params,need_redirect:n.validate_needed};t.ordering&&(r.ordering=t.ordering),e&&e(r)}else a()}else a()};var i=new FormData;i.append("vsid",Jo.vsid),i.append("hash",t.hash),i.append("chunks_num",t.chunks.length),i.append("chunk_index",this.chunk_index),i.append("width",t.width),i.append("height",t.height),i.append("file_size",t.size),i.append("v3_protocol",!0);var c=zt();Object.entries(c).forEach((function(e){var t=No(e,2),n=t[0],r=t[1];o.setRequestHeader(n,r)})),o.send(i),t.upload_requests.push(o)}}},{key:"_upload_actual_chunk",value:function(e,t){var n=Jo._file_by_id(this.file_id),r=this;if(n){var o=new XMLHttpRequest;o.open("POST",e,!0),o.withCredentials=!0;var a=0;o.upload.onprogress=function(e){Jo.is_safari&&a++%10!=0||e.lengthComputable&&r.do_chunk_progress(e.total,e.loaded)};var i=function(){r.retries+=1,Wo.log(n.name+": chunk: "+(r.chunk_index+1)+": failed uploading to destination. starting retry no. "+r.retries),r.status=ta.STATUS.QUEUED,r.upl_bytes=0,r.upload()};o.onerror=i,o.onload=function(){if(this.status>=200&&this.status<=205)if(r.validate_needed)r._validate_chunk_upload(this);else{var e=JSON.parse(this.response);e&&"OK"==e.statusText?r.do_chunk_complete(e.mhash):i()}else i()};var c=zt();Object.entries(c).forEach((function(e){var t=No(e,2),n=t[0],r=t[1];o.setRequestHeader(n,r)})),o.send(t),n.upload_requests.push(o)}}},{key:"_validate_chunk_upload",value:function(e,t){var n={key:this.upload_params.key||"",bucket:this.upload_url.replace("https://s3.amazonaws.com/","")||"",etag:e.getResponseHeader("etag")||"",vsid:Jo.vsid,only_library:this.only_library},r=Jo._file_by_id(this.file_id),o=Jo.settings.urls.validate_chunk+"/"+r.hash,a=this;if(r){if((t=t||0)>=3)return Wo.log(r.name+": chunk: "+(this.chunk_index+1)+": failed validating chunk after 3 retries, retrying chunk upload."),a.retries+=1,a.status=ta.STATUS.QUEUED,a.upl_bytes=0,void a.upload();Wo.log(r.name+": chunk: "+(a.chunk_index+1)+": validating..."),Ht.get(o,{params:n}).then((function(n){n.statusText&&"OK"==n.statusText?(Wo.log(r.name+": chunk: "+(a.chunk_index+1)+": validated successfully."),a.do_chunk_complete(n.data.mhash)):a._validate_chunk_upload(e,t+1)})).catch((function(){a._validate_chunk_upload(e,t+1)}))}}},{key:"do_chunk_progress",value:function(e,t){this.upl_bytes=t;var n=Jo._file_by_id(this.file_id),r=n.size,o=0;n&&(Array.prototype.forEach.call(n.chunks,(function(e){o+=e.upl_bytes})),o>r&&(o=r),n.do_upload_progress(r,o))}},{key:"do_chunk_complete",value:function(e){var t=Jo._file_by_id(this.file_id);if(t){Wo.log("["+t.upl_origin+"] "+t.name+" file chunk upload completed ("+(this.chunk_index+1)+"/"+t.chunks.length+")"),this.status=ta.STATUS.SUCCESS,this.upl_bytes=this.size,this.do_chunk_progress(this.size,this.size);for(var n=!0,r=0;r<t.chunks.length;r++){t.chunks[r].status!=ta.STATUS.SUCCESS&&(n=!1)}n?(Wo.log("["+t.upl_origin+"] "+t.name+" - ALL "+t.chunks.length+" CHUNKS COMPLETED"),t.do_upload_complete(t.hash,e)):Array.prototype.forEach.call(t.chunks,(function(e){e.upload()}))}}}]),e}(),ra={where:function(e,t){var n=[];return e.forEach((function(e){Object.keys(t).forEach((function(r){e[r]===t[r]&&n.push(e)}))})),e},findWhere:function(e,t){return ra.where(e,t)[0]}};var oa="analytics",aa="fb_pixel",ia="braze";function ca(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function la(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function sa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?la(Object(n),!0).forEach((function(t){ua(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):la(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ua(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var da=S("BI EVENTS"),ma="editor",pa="preview",fa={flow:"",userId:"",vuid:"",language:"",vsid:null,location:""},ha="",ga="add",ya="replace",ba="editor",va="storyboard",Ea="timeline",wa="media_screen",Aa="story_screen",Ca="theme_screen",Sa="music_screen",_a="brand_kit_modal",xa="brand kit modal",Ia="preview",Ta="preview_page",Oa="rendering_page",ka="FB_save_modal",Ma="FB_integration",Ba="view_media_screen",ja="media_item_selected",La="click_to_upload_media",Pa="media_stock_tab_selected",Na="media_stock_search",Da="media_google_photos_tab_selected",Ra="media_uploads_tab_selected",za="view_theme_screen",Ua="click_to_select_theme",Fa="click_to_filter_music",Ha="click_to_preview_music",Va="click_to_select_music",Wa="view_processing",Ga="video_ready",Ya="click_to_select_orientation",qa="click_to_add_media_scene",Za="click_to_open_text_modal",Xa="click_to_close_text_modal",Ka="drafts_link",Qa="click_icon_to_edit_title",$a="edit_video",Ja="save_video",ei="click_to_choose_font",ti="click_on_brand_button",ni="click_to_open_upload_origin_dropdown",ri="click_to_select_upload_origin",oi="update_new_title",ai="open_type_dropdown",ii="open_genres_dropdown",ci="open_moods_dropdown",li="click_to_save_colors_in_brand_kit",si="click_to_close_brand_kit_modal",ui="click_to_open_color_modal_in_brand_kit",di="click_to_upload_logo",mi="media_uploaded",pi="click_to_delete_scene",fi="preview_theme",hi={},gi=function(e,t){hi[e]||(hi[e]=!0,Li(t))},yi=function(e,t){var n=t.userId,r=t.vuid,o=t.locale,a=t.vsid;ha=e,fa.flow=e,fa.userId=n,fa.vuid=r,fa.language=o,fa.vsid=String(a),fa.location=e===ma?ba:Aa},bi=function(e){var t=e.key,n=e.value;fa[t]=n};function vi(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if("function"==typeof window.publish){var r={type:e,CURRENT_CONTAINER:ha,eventName:t,eventData:n};switch(e){case ia:return window.publish(ia,r);case aa:return window.publish(aa,r);case oa:return window.publish(oa,r);default:return null}}return null}function Ei(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";da.log("Sending ".concat(e,"Track").concat(t?", container: ".concat(t):"").concat(n?", component: ".concat(n):"").concat(r?", args: ".concat(JSON.stringify(r)):"")),"function"==typeof window.publish&&window.publish(oa,{type:e,container:t,eventName:n,eventData:r});var o={container:t,component:n};if(r&&(o.keyword=JSON.stringify(r)),!window.FA)return da.error("BI reporter not found",e,o),null;switch(e){case"click":return window.FA.trackClick(o);case"pageView":return window.FA.trackPageView(o);case"impression":return window.FA.trackImpression(o);case"event":return window.FA.trackEvent(o);default:return da.error("Unsupported BI track type"),null}}var wi=function(){Ei("click",ha,"logo_click")},Ai=function(){Ei("click",pa,$a)},Ci=function(e){Ei("click",ha,"Click to Close/skip Name Modal",e)},Si="Vimeo Create",_i="impression",xi="click",Ii="vimeo.click_to_drag_trimmer_handle",Ti="vimeo.click_to_drag_overlay",Oi="click_to_reorder_scene_in_storyboard",ki="clicked_on_category",Mi="clicked_on_notification",Bi="view_notification",ji="None";function Li(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=e.name,o=e.version,a=void 0===o?1:o,i=e.path,c=void 0===i?window.location.pathname:i,l=ca(e,["name","version","path"]),s=sa({session_id:null,client_timestamp:null,platform:window.navigator.platform,user_id:fa.userId?"".concat(fa.userId):null,user_package_type:null,third_party_integration:ji,vsid:-1!==Jo.vsid?"".concat(Jo.vsid):null,path:c},l);if(t&&Object.assign(s,{client_ver:null,clients_session_start_ts:null,debug_mode:null,device_id:fa.vuid,in_background:null,is_guest:null,lang:fa.language}),n.forEach((function(e){delete s[e]})),Object.keys(s).forEach((function(e){void 0===s[e]&&(s[e]=null)})),da.info("final BP Event: name=",r,"version=",a,"rest:",s),window.BigPicture){var u=window.BigPicture,d=u.Client,m=u.Event;d&&m&&d.sendEvent(new m(r,a,s))}}function Pi(e){var t={name:"vimeo.click_on_tier_badge",product:Si,flow:fa.flow,version:1};Li(t=sa(sa({},e),t))}function Ni(e){var t={name:ui,product:Si,location:_a,flow:fa.flow,version:3};Li(t=sa(sa({},e),t)),vi(oa,ui,sa({type:xi,location:_a},e))}function Di(e){var t={name:li,product:Si,location:_a,flow:fa.flow,version:3};Li(t=sa(sa({},e),t)),vi(oa,li,sa({type:xi,location:_a},e))}function Ri(e){var t={name:di,product:Si,location:_a,flow:fa.flow,version:3};Li(t=sa(sa({},e),t)),vi(oa,di,sa({type:xi,location:_a},e))}function zi(e){var t={name:mi,product:Si,location:wa,flow:fa.flow,version:4};Li(t=sa(sa({},e),t)),vi(oa,mi,sa({type:xi,location:wa},e))}function Ui(e){var t={name:ja,product:Si,location:wa,flow:fa.flow,version:5};Li(t=sa(sa({},e),t)),vi(oa,ja,sa({type:xi,location:wa,flow:fa.flow},e)),vi("braze","trigger_screen_selectfootage",sa({flow:"wizard"},e))}function Fi(e){var t={name:Za,product:Si,location:ba,flow:fa.flow,device_id:null,version:3};Li(t=sa(sa({},e),t)),vi(oa,Za,sa({type:xi,location:ba},e))}function Hi(e){var t={name:Xa,product:Si,location:ba,flow:null,device_id:null,version:3};Li(t=sa(sa({},e),t)),vi(oa,Xa,sa({type:xi,location:ba},e))}function Vi(e){var t={name:ei,product:Si,flow:fa.flow,version:3};Li(t=sa(sa({},e),t)),vi(oa,ei,sa({type:xi,flow:fa.flow},e))}function Wi(e){var t={name:oi,product:Si,flow:fa.flow,version:4};Li(t=sa(sa({},e),t)),vi(oa,oi,sa({type:xi,vsid:e.clip_id},e))}function Gi(e){var t={name:pi,product:Si,location:va,flow:fa.location,version:2};Li(t=sa(sa({},e),t)),vi(oa,pi,sa({type:xi,flow:fa.flow,location:va},e))}var Yi=function(e){Li({name:"upload_to_fb_integration_status",product:Si,location:Ma,status:e,version:3,flow:fa.flow})},qi="vimeo.view_text_highlight_tooltip",Zi=function(e){var t={name:ki,product:Si,flow:fa.flow,version:8};Li(t=sa(sa({},e),t))},Xi=function(e){var t={name:"scale_media_item",product:Si,location:ba,vsid:fa.vsid,flow:fa.flow,via:e.via};Li(t=sa(sa({},e),t))},Ki=function(e){var t={name:"click_to_transform_sticker",product:Si,location:ba,vsid:fa.vsid,flow:fa.flow,transform:e.transform};Li(t=sa(sa({},e),t))},Qi=function(e){var t={name:"sticker_upload_status",product:Si,location:ba,vsid:fa.vsid,flow:fa.flow,status:e.status};Li(t=sa(sa({},e),t))},$i=function(e){var t={name:"click_to_open_sticker_modal",product:Si,location:ba,vsid:fa.vsid,flow:fa.flow,version:2};Li(t=sa(sa({},e),t))},Ji=function(e){var t={name:Bi,product:Si,flow:ha,location:fa.location,version:1};Li(t=sa(sa({},e),t)),vi(oa,Bi,e)},ec=function(e){var t={name:Mi,product:Si,flow:ha,location:fa.location,version:1};Li(t=sa(sa({},e),t)),vi(oa,Mi,t)},tc=function(e){Ei("click",ha,"music_upload_status",e);var t={name:"vimeo.upload_your_music_status",product:Si,location:fa.location,flow:fa.flow,status:e.status};Li(t=sa(sa({},e),t),!1)};var nc=S("Entry"),rc=function(e,t){null!=t&&t.labeledCapabilities&&e.dispatch(function(e){return{type:ee,payload:e}}(t.labeledCapabilities))},oc=function(e,t){var n;null!=t&&t.partnerConfig&&((n=t.partnerConfig.thirdPartyIntegration)&&(ji=n),e.dispatch(function(e){return{type:J,payload:e}}(t.partnerConfig)))};Ee("CHANGE_STEP"),Ee("CHANGE_STEP_IDS"),Ee("SET_VALIDITY"),Ee("SET_DEEPLINKS"),Ee("FINISHED_DEEPLINKS_INITIALIZATION"),Ee("SET_ORDER");var ac=Ee("SET_SELECTION_ORDER_LIST"),ic=(Ee("SET_USER_PREFERENCES"),Ee("SET_VALUE_TAB_MEDIA_MODAL")),cc=Ee("SET_VALUE_TAB_MEDIA_MODAL_UPLOADS"),lc=Ee("SET_TEAM_OWNER_ID"),sc=n(282618879360843),uc=n.n(sc);function dc(e){return function(e){if(Array.isArray(e))return mc(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return mc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mc(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||hc(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fc(e){return function(e){if(Array.isArray(e))return gc(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||hc(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hc(e,t){if(e){if("string"==typeof e)return gc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gc(e,t):void 0}}function gc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function yc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yc(Object(n),!0).forEach((function(t){vc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ec={ADD_FILE_IN_PROGRESS:Symbol("ADD_FILE_IN_PROGRESS"),ADD_FILE_COMPLETE:Symbol("ADD_FILE_COMPLETE"),REMOVE_FILE_IN_PROGRESS:Symbol("REMOVE_FILE_IN_PROGRESS"),UPDATE_SORT:Symbol("UPDATE_SORT"),UPDATE_REORDER_MEDIA:Symbol("UPDATE_REORDER_MEDIA"),UPDATE_LIST_ORDER:Symbol("UPDATE_LIST_ORDER"),UPDATE_UPLOAD_PROGRESS:Symbol("UPDATE_UPLOAD_PROGRESS"),UPDATE_UPLOAD_RETRY:Symbol("UPDATE_UPLOAD_RETRY"),UPDATE_DELETE_FILE:Symbol("UPDATE_DELETE_FILE"),UPDATE_REMOVE_FILE_QUEUE:Symbol("UPDATE_DELETE_FILE"),ERROR_IN_PROGRESS_FILE:Symbol("ERROR_IN_PROGRESS_FILE"),ADD_GLOBAL_ERROR:Symbol("ADD_GLOBAL_ERROR"),REMOVE_GLOBAL_ERROR:Symbol("REMOVE_GLOBAL_ERROR"),UPLOADING_GLOBAL_PROGRESS:Symbol("UPLOADING_GLOBAL_PROGRESS")},wc=function(e,t){var n=t.type,r=t.payload;try{switch(n){case Ec.ADD_FILE_IN_PROGRESS:var o=r.uploadId;return bc(bc({},e),{},{files:{getFileByUploadId:bc(bc({},e.files.getFileByUploadId),{},vc({},o,{uploadId:o,srcFile:r,progress:0,error:null,deleting:!1})),ids:[].concat(fc(e.files.ids),[o]),filesQueueOrder:[].concat(fc(e.files.filesQueueOrder),[o])}});case Ec.REMOVE_FILE_IN_PROGRESS:var a=e.files.ids.filter((function(e){return e!==r})),i=e.files.filesQueueOrder.filter((function(e){return e!==r})),c=e.files.getFileByUploadId[r];return c?bc(bc({},e),{},{files:bc(bc({},e.files),{},{getFileByUploadId:bc(bc({},e.files.getFileByUploadId),{},vc({},r,void 0)),ids:a,filesQueueOrder:i}),removedQueue:[c.srcFile].concat(fc(e.removedQueue))}):bc({},e);case Ec.UPDATE_REMOVE_FILE_QUEUE:var l=e.removedQueue.filter((function(e){return r.find((function(t){return t!==e}))}));return bc(bc({},e),{},{removedQueue:l});case Ec.UPDATE_DELETE_FILE:var s=r.uploadId,u=r.deleting,d=e.files.getFileByUploadId[s],m=Object.assign({},d,{deleting:u});return bc(bc({},e),{},{files:bc(bc({},e.files),{},{getFileByUploadId:bc(bc({},e.files.getFileByUploadId),{},vc({},s,m))})});case Ec.ERROR_IN_PROGRESS_FILE:var p=r.uploadId,f=r.error,h=e.files.getFileByUploadId[p],g=Object.assign({},h,{error:f}),y=e.files.filesQueueOrder.filter((function(e){return e!==p}));return bc(bc({},e),{},{files:bc(bc({},e.files),{},{getFileByUploadId:bc(bc({},e.files.getFileByUploadId),{},vc({},p,g)),filesQueueOrder:y})});case Ec.UPDATE_UPLOAD_PROGRESS:var b=e.files.getFileByUploadId[r.uploadId];if(!b)return e;if(b.progress===r.progress)return e;var v=Object.assign({},b,{progress:r.progress});return bc(bc({},e),{},{files:bc(bc({},e.files),{},{getFileByUploadId:bc(bc({},e.files.getFileByUploadId),{},vc({},r.uploadId,v))})});case Ec.ADD_FILE_COMPLETE:var E=e.files.getFileByUploadId[r.uploadId],w=Object.assign({},E,{srcFile:r});return bc(bc({},e),{},{files:bc(bc({},e.files),{},{getFileByUploadId:bc(bc({},e.files.getFileByUploadId),{},vc({},r.uploadId,w))})});case Ec.UPDATE_UPLOAD_RETRY:return bc(bc({},e),{},{files:bc(bc({},e.files),{},{getFileByUploadId:bc(bc({},e.files.getFileByUploadId),{},vc({},r,bc(bc({},e.files.getFileByUploadId[r]),{},{progress:0,error:null}))),filesQueueOrder:[].concat(fc(e.files.filesQueueOrder),[r])})});case Ec.ADD_GLOBAL_ERROR:return bc(bc({},e),{},{errors:bc(bc({},e.errors),{},vc({},r.type,r))});case Ec.REMOVE_GLOBAL_ERROR:return bc(bc({},e),{},{errors:bc(bc({},e.errors),{},vc({},r.type,void 0))});case Ec.UPDATE_REORDER_MEDIA:var A=r.oldIndex,C=r.newIndex,S=e.files.filesQueueOrder.slice(),_=C<0?S.length+C:C,x=S.splice(A,1)[0];return S.splice(_,0,x),bc(bc({},e),{},{files:bc(bc({},e.files),{},{filesQueueOrder:S})});case Ec.UPDATE_LIST_ORDER:return bc(bc({},e),{},{files:bc(bc({},e.files),{},{filesQueueOrder:r})});case Ec.UPLOADING_GLOBAL_PROGRESS:var I=r.progress;return bc(bc({},e),{},{uploadingProgress:I});case Ec.UPDATE_SORT:var T=To;if("Oldest First"!==T.getState().ui.sort.selectedOrder)return e;var O=Object.entries(e.files.getFileByUploadId).filter((function(e){return e[1]})).map((function(e){return e[1].srcFile})),k=O.filter((function(e){return"success"===e.status})),M=O.filter((function(e){return"success"!==e.status})).map((function(e){return e.uploadId})),B=function(e){var t=uc()(e,[function(e){return e.found_date}],"asc"),n=t.filter((function(e){return"getty"!==e.file.upl_origin})),r=t.filter((function(e){return"getty"===e.file.upl_origin}));return[].concat(dc(n),dc(r)).map((function(e){return e.uploadId}))}(k),j=[].concat(fc(B),fc(M));return T.dispatch(ac(j)),bc(bc({},e),{},{files:bc(bc({},e.files),{},{filesQueueOrder:j})});default:throw new Error}}catch(f){return console.error("ERR",f),e}},Ac={files:{getFileByUploadId:{},ids:[],filesQueueOrder:[]},errors:{},removedQueue:[],uploadingProgress:0},Cc=(0,f.createContext)(null);const Sc=function(e){var t=e.children,n=pc((0,f.useReducer)(wc,Ac),2),r=n[0],o=n[1];return(0,f.useEffect)((function(){var e=function(){},t={file_loaded:e,file_error:e,err_file_upload_error:e,global_progress:e,err_file_duplicate:e,err_file_count_limit:e,file_added:function(e){o({type:Ec.ADD_FILE_IN_PROGRESS,payload:e})},file_removed:function(e){var t=e.uploadId;o({type:Ec.REMOVE_FILE_IN_PROGRESS,payload:t})},file_removing:function(e,t){var n=e.uploadId;o({type:Ec.UPDATE_DELETE_FILE,payload:{uploadId:n,deleting:t}})},err_file_invalid_type:function(e){o({type:Ec.ERROR_IN_PROGRESS_FILE,payload:{uploadId:e.uploadId,error:{retry:!1,errorMessage:oe.UploadApi.AlertErrorInvalidFileType}}})},err_file_size_limit:function(e,t,n,r){o({type:Ec.ERROR_IN_PROGRESS_FILE,payload:{uploadId:e.uploadId,error:{retry:!1,errorMessage:oe.UploadApi.AlertErrorTotalFileSizeLimit(t,n,r)}}})},err_file_duration_limit:function(e,t,n,r){o({type:Ec.ERROR_IN_PROGRESS_FILE,payload:{uploadId:e.uploadId,error:{retry:!1,errorMessage:oe.UploadApi.AlertErrorTotalFileDurationLimit(t,n,r)}}})},err_file_too_small:function(e,t){o({type:Ec.ERROR_IN_PROGRESS_FILE,payload:{uploadId:e.uploadId,error:{retry:!1,errorMessage:oe.UploadApi.AlertErrorFileTooSmall(t)}}})},err_image_too_small:function(e,t){o({type:Ec.ERROR_IN_PROGRESS_FILE,payload:{uploadId:e.uploadId,error:{retry:!1,errorMessage:oe.UploadApi.AlertErrorImageTooSmall(t)}}})},file_upload_error:function(e,t){t&&o({type:Ec.ADD_GLOBAL_ERROR,payload:{type:"isNetworkError"}}),o({type:Ec.ERROR_IN_PROGRESS_FILE,payload:{uploadId:e.uploadId,error:{retry:!0,errorMessage:oe.UploadApi.ErrorFailedToUpload}}})},file_progress:function(e,t,n){var r=0!==t?n/t*100:0,a=e.uploadId;o({type:Ec.UPDATE_UPLOAD_PROGRESS,payload:{progress:r,uploadId:a}})},onFileRetry:function(e){var t=e.uploadId;o({type:Ec.UPDATE_UPLOAD_RETRY,payload:t})},onError:function(e){o({type:Ec.ADD_GLOBAL_ERROR,payload:e})},file_complete:function(e){o({type:Ec.UPDATE_SORT,payload:""}),o({type:Ec.ADD_FILE_COMPLETE,payload:e})},uploading_progress:function(e){o({type:Ec.UPLOADING_GLOBAL_PROGRESS,payload:{progress:e}})}};return Jo.callbacks=t,function(){Jo.callbacks=null}}),[o]),h().createElement(Cc.Provider,{value:bc(bc({},r),{},{removeError:function(e){return o({type:Ec.REMOVE_GLOBAL_ERROR,payload:e})},reorder:function(e,t){return o({type:Ec.UPDATE_REORDER_MEDIA,payload:{oldIndex:e,newIndex:t}})},setOrder:function(e){return o({type:Ec.UPDATE_LIST_ORDER,payload:e})},updateRemovedFilesQueue:function(e){o({type:Ec.UPDATE_REMOVE_FILE_QUEUE,payload:e})}}),"data-component-name":"UpApiProvider","data-key":e["data-key"]},t)};S("Navigation");var _c={},xc=new Proxy(_c,{get:function(e,t){var n=e[t];return n||function(){return"control"}}});function Ic(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||Oc(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tc(e){return function(e){if(Array.isArray(e))return kc(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Oc(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Oc(e,t){if(e){if("string"==typeof e)return kc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kc(e,t):void 0}}function kc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Mc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mc(Object(n),!0).forEach((function(t){jc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function jc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Lc={},Pc=S("FlowHooks"),Nc={},Dc=function(e,t){Nc[e]=function(e){var n=t(Bc(Bc({},Lc),e));return void 0!==n&&"function"==typeof n.then?n:Promise.resolve(n)}},Rc=function(e){return Promise.resolve(e)},zc=new Proxy(Nc,{get:function(e,t){var n=e[t];return n||Rc}}),Uc=function(e){var t=e.flowHooks,n=void 0===t?{}:t;Pc.debug("Register flow hooks",n),Object.entries(n).forEach((function(e){return Dc.apply(void 0,Tc(e))}))},Fc=function(e){Object.entries(e).forEach((function(e){var t=Ic(e,2),n=t[0],r=t[1];null!=r?Lc[n]=r:delete Lc[n]}))},Hc=S("Navigation"),Vc=function(e,t){return t},Wc={},Gc=new Proxy(Wc,{get:function(e,t){var n=Vc(t,e[t]);return n||function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];Hc.error('Unknown navigator "'.concat(t,'"'),n)}}}),Yc={},qc=function(e,t){return qe(Yc,e,t)},Zc={},Xc=function(e){return"".concat(e,"-vimeo-magisto-editor-text-sticker-font")},Kc=document.createElement("style");document.getElementsByTagName("head")[0].appendChild(Kc);var Qc=function(e){Kc.innerHTML=Object.values(e).map((function(e){return n=(t=e).name,r=t.libs,"\n@font-face {\n  font-family: '".concat(Xc(n),"';\n  src:\n    ").concat(r.map((function(e){var t=e.url,n=e.format;return"url('".concat(t,"') format('").concat(n,"')")})).join(", "),";\n}");var t,n,r})).join("\n")},$c=we("INITIALIZE_ASSETS");we("SET_TAGS"),we("SET_SELECTED_THEME_TAG"),we("SET_BRANDING"),we("SET_STYLES"),we("SET_TRACKS"),we("SET_IS_LOADING"),we("SET_ERROR"),we("START_FETCH_ASSETS"),we("END_FETCH_ASSETS");function Jc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function el(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jc(Object(n),!0).forEach((function(t){tl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var nl="INIT_FEATURE_TOGGLES",rl="SET_FEATURE_TOGGLE_VALUE",ol="Vimeo::Editor::FeatureToggles";function al(e,t){var n=JSON.parse(sessionStorage.getItem(ol)||"{}");return sessionStorage.setItem(ol,JSON.stringify(el(el({},n),{},tl({},e,t)))),{type:rl,payload:tl({},e,t)}}var il=n(0x5c4a500e548f),cl=(0,il.P1)([function(e){return e.history.undoSnapshots}],(function(e){return!!e})),ll=(0,il.P1)([function(e){return e.history.redoSnapshots}],(function(e){return!!e}));function sl(e){return(sl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ul(){return(ul=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function dl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ml(e,t){return(ml=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=hl(e);if(t){var o=hl(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return fl(this,n)}}function fl(e,t){return!t||"object"!==sl(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function hl(e){return(hl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var gl=n(0x60f92fb246af),yl=new Map,bl=function(e){var t;return yl.has(e)?t=yl.get(e):(t=function(e){return new Promise((function(t,n){var r,o=document.createElement("script");o.src=e,o.async=!0;var a=function(){r(),t()},i=function(){o.remove(),r(),n()};o.addEventListener("load",a),o.addEventListener("error",i),r=function(){o.removeEventListener("load",a),o.removeEventListener("error",i)},document.body.appendChild(o)}))}(e),yl.set(e,t),t.catch((function(){return yl.delete(e)}))),t},vl=function(e,t){return bl(e).then((function(){return function(e){return qe(window,e)}(t)}))};function El(){return(El=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var wl,Al=document.location.hostname.includes("vimeo")?"https://localhost:8443/apps/text-stickers/dist/debug/js/text-stickers.js":"https://localhost/media/editor/apps/text-stickers/dist/debug/js/text-stickers.js",Cl=new Promise((function(e){wl=function(t){return e(t)}})).then((function(e){return function(e){return new Promise((function(t){var n=e.subscribe((function(){var r=e.getState(),o=r.textStickerAssets.Base_Sticker;o&&(n(),t({baseSticker:o,state:r}))}))}))}(e)})).then((function(e){return r=(t=e).baseSticker,o=t.state.featureToggles.values.useLocalDevTextStickers,a=r.metaData.bundle_md5,i=o?Al:r.libs.find((function(e){return e.md5===a})).url,n.e(375).then(n.t.bind(n,752402360832183,23)).then((function(e){window.lottie=e,window.styled=Ge.default,window.ReactIs=gl})).then((function(){return vl(i,"Sticker")}));var t,r,o,a,i})).then((function(e){return{default:e.TextSticker}})),Sl=(0,f.lazy)((function(){return Cl})),_l=function(e,t){var n=S(e),r=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ml(e,t)}(i,e);var t,r,o,a=pl(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=a.call(this,e)).state={hasError:!1},t}return t=i,o=[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}],(r=[{key:"componentDidCatch",value:function(e,t){n.error("Error:",e,t)}},{key:"render",value:function(){return this.state.hasError?null:this.props.children}}])&&dl(t.prototype,r),o&&dl(t,o),i}(h().Component);return(0,f.forwardRef)((function(e,n){return h().createElement(r,{"data-key":e["data-key"]},h().createElement(t,ul({},e,{ref:n})))}))}("LazyTextSticker",(0,f.forwardRef)((function(e,t){return h().createElement(f.Suspense,{fallback:null,"data-component-name":"TextStickerWeb","data-key":e["data-key"]},h().createElement(Sl,El({},e,{ref:t})))})));const xl=_l;var Il="SHOW",Tl="CLOSE",Ol="AUTO_TRIGGERED";function kl(e,t){return{type:Ol,payload:{autoTriggered:!0,type:e,biTrigger:t}}}function Ml(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(r,o){var a=o().explanatoryModals[e];a.show||n&&(!n||a.autoTriggered)||(r({type:Il,payload:{show:!0,type:e,biTrigger:t}}),n&&r(kl(e)))}}function Bl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bl(Object(n),!0).forEach((function(t){Ll(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ll(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Pl="CUTAWAY",Nl=Ll({},Pl,{show:!1,autoTriggered:!1,biTrigger:""});function Dl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nl,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Tl:return jl(jl({},Nl),{},Ll({},t.payload.type,jl(jl({},e[t.payload.type]),{},{show:t.payload.show})));case Il:return jl(jl({},Nl),{},Ll({},t.payload.type,jl(jl({},e[t.payload.type]),{},{show:t.payload.show,biTrigger:t.payload.biTrigger})));case Ol:return jl(jl({},Nl),{},Ll({},t.payload.type,jl(jl({},e[t.payload.type]),{},{autoTriggered:t.payload.autoTriggered})));default:return e}}var Rl="SET_ACTIVE_POPOVER_CLOSE_HANDLER",zl="REMOVE_ACTIVE_POPOVER_CLOSE_HANDLER";function Ul(e){return function(t,n){var r=n().activePopover;r&&r.closeHandler&&r.closeHandler(),t({type:Rl,payload:function(){e&&e(),t({type:zl})}})}}function Fl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Hl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fl(Object(n),!0).forEach((function(t){Vl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Vl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Wl={};function Gl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wl,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Rl:return Hl(Hl({},e),{},{closeHandler:t.payload});case zl:return Wl;default:return e}}var Yl,ql,Zl,Xl,Kl="none",Ql="fade",$l="pop",Jl="stamp";!function(e){e.CENTER="center",e.LEFT="left",e.RIGHT="right"}(Yl||(Yl={})),function(e){e.FADE="fade",e.NONE="none",e.POP="pop",e.STAMP="stamp"}(ql||(ql={})),function(e){e.NO_SHADOW="none",e.SOFT_SHADOW="soft",e.NORMAL_SHADOW="normal",e.SHARP_SHADOW="sharp"}(Zl||(Zl={})),function(e){e.IMAGE_ELEMENT="ImageElement",e.IMAGE_STICKER_ELEMENT="ImageStickerElement",e.VIDEO_ELEMENT="VideoElement",e.TEXT_STYLE_ELEMENT="TextStyleElement",e.NON_MEDIA_ELEMENT="NonMediaElement"}(Xl||(Xl={}));var es="Circle",ts="Cut_02",ns=["BouncySquare","BoxFadeIn_02",es,"CleanWipe","ColorFlicker","ColorWipes",ts,"DropShadowBox","Fold","InLine","LineByLine_02","Punch","WordByWord_02","Lux","Post"];function rs(e){return function(e){if(Array.isArray(e))return os(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return os(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return os(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function os(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var as=function(e){return e===Xl.IMAGE_STICKER_ELEMENT||e===Xl.TEXT_STYLE_ELEMENT};function is(e){var t=e.scene,n=e.masterTiming,r=e.isOverlayTimingEqMasterTiming,o=e.masterTimingOffset,a=void 0===o?0:o,i=e.MIN_STICKER_DURATION;if(r)return t.getStickerElements({includeUnready:!0,includeLogo:!0}).map((function(e){return{stickerId:e.id,stickerTiming:n}}));var c=t.getLogo();return[].concat(rs(t.getStickerElements({includeUnready:!0}).map((function(e){var t,r=e.timing.start+a,o=e.timing.end+a,c=n.start,l=n.end;if(c>r){var s=o-r;t={start:c,end:Math.min(l,c+s)}}else t=l<o?{start:Math.max(c,Math.min(r,l-i)),end:l}:{start:r,end:o};return{stickerId:e.id,stickerTiming:t}}))),rs(c?[{stickerId:c.id,stickerTiming:n}]:[]))}function cs(e){var t=e.scene,n=e.currentMasterTime,r=e.minStickerDuration,o=e.defaultDuration,a=t.getMasterTiming();if(t.isOverlayTimingEqMasterTiming)return a;var i=n?Math.min(n,a.end-r):a.start;return{start:i,end:Math.min(i+o,a.end)}}var ls="SET_COMPOSITION_OVERRIDES",ss="OVERRIDE_TIMING",us="REMOVE_ALL_OVERRIDES";function ds(e,t,n){return function(r){return r({type:ls,id:"".concat(t,"@").concat(e),payload:n})}}function ms(){return function(e){return e({type:us})}}function ps(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(o,a){var i=a().staticParameters.MIN_STICKER_DURATION;(0,T.dC)((function(){var a=e.composition[t];o({type:ss,id:"".concat(t,"@").concat(e.id),payload:{timing:n,isSegmentDragging:r}}),a.isMaster()&&is({scene:e,masterTiming:n,MIN_STICKER_DURATION:i,isOverlayTimingEqMasterTimingMode:!1}).forEach((function(t){var n=t.stickerId,r=t.stickerTiming;return o({type:ss,id:"".concat(n,"@").concat(e.id),payload:{timing:r,isSegmentDragging:!1}})}))}))}}var fs,hs=(0,il.P1)([function(e){return e.storyBoard.selectedSceneId},function(e){return e.storyBoard.scenes}],(function(e,t){return e&&t.find((function(t){return t.id===e}))})),gs=(0,il.P1)([hs,function(e){return e.storyBoard.selectedCompositionId}],(function(e,t){return e&&e.ready&&t&&e.composition[t]||null})),ys=(0,il.P1)([hs,gs],(function(e,t){return e.getStickerElements().filter((function(e){return e!==t}))})),bs=(0,il.P1)([hs,function(e){return e.scenesStagePlayer}],(function(e,t){return e&&e.ready&&e.id&&t[e.id]||j}));!function(e){e[e.NONE=0]="NONE",e[e.LEFT=1]="LEFT",e[e.RIGHT=2]="RIGHT"}(fs||(fs={}));var vs=.15,Es=.7,ws="logo_watermark",As="slide_brand_card",Cs="brand",Ss="custom",_s="ImageStickerElement",xs="ImageElement",Is="VideoElement",Ts="TextStyleElement",Os="NonMediaElement";function ks(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Ms(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ms(Object(n),!0).forEach((function(t){js(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ms(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function js(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ls,Ps=n(728359916421450),Ns=n.n(Ps);function Ds(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ds(Object(n),!0).forEach((function(t){zs(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ds(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Us(e,t,n){var r=t.source,o=t.source_hash,a=t.source_footage_rect,i={timing:n.masterTiming,source:r,sourceHash:o,sourceFootageRect:a};return Rs(Rs({},e),i)}function Fs(e,t,n){var r={source_hash:t.sourceHash,source_footage_rect:t.sourceFootageRect};return n&&!Ns()(t.sourceFootageRect,n.sourceFootageRect)&&(r.is_manual_crop=!0),Rs(Rs({},e),r)}function Hs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hs(Object(n),!0).forEach((function(t){Ws(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ws(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gs(e,t,n){var r=t.global_id,o=t.composition_timing,a=t.full_duration,i=void 0!==a&&a,c=t.tag,l=n.masterTiming,s=Vs({globalId:r,timing:i||!o?l:{start:u(l.start+o.start),end:u(l.start+o.end)}},c?{tag:c}:null);return Vs(Vs({},e),s)}function Ys(e,t,n,r){var o=r.masterTiming,a=t.globalId,i=t.timing,c=t.tag,l=Vs({global_id:a,full_duration:m(i,o),composition_timing:{start:i.start-o.start,end:i.end-o.start}},c?{tag:c}:null);return Vs(Vs({},e),l)}function qs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Zs="none",Xs="soft",Ks="normal",Qs="sharp",$s=(qs(Ls={},Zs,{id:Zs,dropShadowParams:{}}),qs(Ls,Xs,{id:Xs,dropShadowParams:{blur:{x1:50,y1:20,x2:400,y2:70},opacity:20}}),qs(Ls,Ks,{id:Ks,dropShadowParams:{blur:{x1:50,y1:2,x2:400,y2:24},offset:{x1:50,y1:2,x2:400,y2:16},opacity:50}}),qs(Ls,Qs,{id:Qs,dropShadowParams:{offset:{x1:50,y1:3,x2:400,y2:10},opacity:100}}),Ls),Js=Object.keys($s);function eu(e){return function(e){if(Array.isArray(e))return tu(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return tu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tu(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var nu,ru=S("HighlightUtils"),ou=(nu=[],{add:function(e,t){nu.push("".concat(e,": ").concat(JSON.stringify(t)))},clear:function(){nu=[]},serialize:function(){return eu(nu).reverse().join("\n")}}),au=function(e){var t=e.markup,n=e.text,r=e.highlight,o=e.error;ru.error([null!=t?"Markup: ".concat(JSON.stringify(t),"\n"):"",null!=n?"Text: ".concat(JSON.stringify(n),"\n"):"",null!=r?"Highlight: ".concat(JSON.stringify(r),"\n"):"","".concat(o.toString(),"\n"),"Edit history:\n",ou.serialize()].join(""))},iu={lt:"<",gt:">",amp:"&",quot:'"'},cu={"<":"lt",">":"gt","&":"amp",'"':"quot"},lu="highlight",su=function e(t){return Array.isArray(t)?t.map((function(t){return e(t)})):t.replace(/<[^>]*>/g,"").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&amp;/g,"&")},uu=function e(t){if(Array.isArray(t))return t.map((function(t){return e(t)}));try{var n=[],r=0;return t.replace(/&(amp|lt|gt|quot);|<\/?([^>]*)>/g,(function(e,t,o,a){var i="";return void 0!==t&&(i=iu[t]),o===lu&&n.push({index:a+r,edge:"/"===e[1]?1:0}),r-=e.length-i.length,i})),n}catch(e){return au({markup:t,error:e}),[]}},du=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.highlightStart,o=void 0===r?"<".concat(lu,">"):r,a=n.highlightEnd,i=void 0===a?"</".concat(lu,">"):a;try{for(var c=new Array(e.length+t.length),l=0,s={index:-1,edge:0},u=0,d=t[u]||s,m=0;m<e.length;m++)d.index===m&&(c[l++]=0===d.edge?o:i,d=t[++u]||s),cu[e[m]]?c[l++]="&".concat(cu[e[m]],";"):c[l++]=e[m];return d.index===e.length&&(c[l++]=0===d.edge?o:i),c.join("")}catch(n){return au({text:e,highlight:t,error:n}),e}},mu=function(e){var t=e.removeFrom,n=e.removeTo,r=e.prevHighlight;try{ou.add("removeHighlight",{removeFrom:t,removeTo:n,prevHighlight:r});var o=[].concat(eu(r),[{index:t,edge:1},{index:n,edge:0}]).sort((function(e,t){return e.index!==t.index?e.index-t.index:e.edge-t.edge})).filter((function(e,t,n){var r=e.index,o=e.edge;return!(0===o&&r===n[t+1].index||1===o&&r===n[t-1].index)}));return ou.add("removeHighlight",{nextHighlight:o}),o}catch(e){return au({highlight:r,error:e}),[]}},pu=function(e){var t=e.addFrom,n=e.addTo,r=e.prevHighlight;try{ou.add("addHighlight",{addFrom:t,addTo:n,prevHighlight:r});var o=0,a=[].concat(eu(r),[{index:t,edge:0},{index:n,edge:1}]).sort((function(e,t){return e.index!==t.index?e.index-t.index:e.edge-t.edge})).filter((function(e){return!(0===e.edge?++o>1:--o>0)}));return ou.add("addHighlight",{nextHighlight:a}),a}catch(e){return au({highlight:r,error:e}),[]}},fu=function(e){var t=e.index,n=e.highlight;try{return-1!==n.findIndex((function(e,n,r){var o=e.index;return 0===e.edge&&o<=t&&r[n+1].index>=t}))}catch(e){return au({highlight:n,error:e}),!1}},hu=function(e){var t=e.highlight,n=e.selectionStart,r=e.selectionEnd;return function(e){return e.map((function(t,n){var r=t.index;return 0===t.edge?{start:r,end:e[n+1].index}:null})).filter((function(e){return!!e}))}(t).find((function(e){return e.start<=n&&e.end>=r}))},gu=function e(t){return Array.isArray(t)?t.some((function(t){return e(t)})):uu(t).length>0},yu=function e(t){if(Array.isArray(t))return t.map((function(t){return e(t)}));try{var n=!1,r=t.replace(/<\/?([^>]*)>/g,(function(e,r,o){if(r===lu){var a="/"!==e[1];return n&&a?(ru.error("Unexpected opening tag at position ".concat(o,' in markup: "').concat(t,'"')),""):n||a?(n=a,e):(ru.error("Unexpected closing tag at position ".concat(o,' in markup: "').concat(t,'"')),"")}return ru.error('Unknown tag "'.concat(e,'" in markup "').concat(t,'"')),""}));return n&&(ru.error('Missing closing tag in markup: "'.concat(t,'"')),r+="</".concat(lu,">")),r}catch(e){return ru.error('Failed to sanitize markup: "'.concat(t,'", error: ').concat(e)),su(t)}};function bu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bu(Object(n),!0).forEach((function(t){Eu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Eu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wu(e){return function(e){if(Array.isArray(e))return Au(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Au(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Au(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Au(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Cu(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Su=S("TextStyleCEModel");function _u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_u(Object(n),!0).forEach((function(t){Iu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Iu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ou(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ou(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ou(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ku(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Mu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ku(Object(n),!0).forEach((function(t){Bu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ku(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Bu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ju=S("CompositionElementModel");function Lu(e,t,n){return"number"==typeof e&&e>=t&&e<=n}function Pu(e){var t=e.id,n=e.selectable,r=e.draggable,o=e.resizeable,a=e.zindex,i=e.rect,c=e.type,l=e.rect_from_layout;return Lu(i.width,0,1/0)&&Lu(i.height,0,1/0)?{id:t,selectable:n,draggable:r,resizeable:o,zindex:a,rect:i,type:c,rectFromLayout:l,isSticker:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.isText()||this.isImageSticker(e)},isText:function(){return this.type===Xl.TEXT_STYLE_ELEMENT},isImageSticker:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.includeUnready,n=void 0!==t&&t,r=e.includeLogo,o=void 0!==r&&r;return this.type===Xl.IMAGE_STICKER_ELEMENT&&(n||this.ready)&&(o||!this.isLogo())},isTextSticker:function(){return this.type===Xl.TEXT_STYLE_ELEMENT},isLogo:function(){return this.id===ws},isVideo:function(){return this.type===Xl.VIDEO_ELEMENT},isMedia:function(){return this.type===xs||this.type===Is},isMaster:function(){return this.type===Xl.IMAGE_ELEMENT||this.type===Xl.VIDEO_ELEMENT||this.type===Xl.NON_MEDIA_ELEMENT}}:(ju.error("[createCompositionElement]: invalid rect in composition element with ".concat(t)),null)}function Nu(e,t,n,r){var o,a,i,c=r.masterTiming,l=Pu(t);switch(l.type){case Xl.IMAGE_ELEMENT:l=Us(l,t,{masterTiming:c});break;case Xl.VIDEO_ELEMENT:l=Us(l,t,{masterTiming:c}),o=l,i={muted:(a=t).muted,hasAudio:a.has_audio},l=xu(xu({},o),i);break;case Xl.IMAGE_STICKER_ELEMENT:l=function(e,t){var n=t.width,r=t.height,o=t.bg_alpha,a=t.bg_color,i=t.source_hash,c=t.media_path,l=t.subtype,s=t.source_footage_rect,u=t.style,d=t.ready,m=void 0===d||d,p=t.maintain_location,f=void 0!==p&&p,h=t.flip,g=(h=void 0===h?{}:h).horizontal,y=void 0!==g&&g,b=h.vertical,v=void 0!==b&&b,E=t.rotatable,w=void 0!==E&&E,A=t.rotate,C={mediaPath:c,sourceHash:i,subtype:l,width:n,height:r,bgColor:a,bgAlpha:o,sourceFootageRect:s,style:u,ready:m,maintainLocation:f,flip:{horizontal:y,vertical:v},rotatable:w,rotate:void 0===A?0:A};return Bs(Bs({},e),C)}(l=Gs(l,t,{masterTiming:c}),t);break;case Xl.TEXT_STYLE_ELEMENT:l=Gs(l,t,{masterTiming:c}),function(e,t){t.text_style_id;var n=t.colors,r=(t.font,t.font_size,t.align,t.text,t.bg_alpha,t.id),o=(t.global_id,t.draggable,t.resizeable,t.selectable,t.zindex,t.rect,t.type,t.rect_from_layout,t.language,Cu(t,["text_style_id","colors","font","font_size","align","text","bg_alpha","id","global_id","draggable","resizeable","selectable","zindex","rect","type","rect_from_layout","language"])),a=(n.font_color,n.color_one,n.color_two,n.color_three,Cu(n,["font_color","color_one","color_two","color_three"])),i=[],c=[].concat(wu(Object.keys(o)),wu(Object.keys(a).map((function(e){return"colors.".concat(e)}))));if(c.length>0&&i.push(["Unexpected keys:"].concat(wu(c)).join("\n")),i.length>0){var l=["TextStyle composition element\n".concat(e,"\nce_id='").concat(r,"'")].concat(i).join("\n\n");Su.info(l)}}(e,t),l=function(e,t,n){var r,o,a,i,c=t.text_style_id,l=t.colors,s=t.font,u=t.font_size,d=t.align,m=t.text,p=t.bg_alpha,f=t.drop_shadow,h=(null==n?void 0:n.text.join("\n"))===m.join("\n"),g={textStyleId:c,colors:(r=l,o=r.font_color,a=r.color_one,i=r.highlight,{fontColor:tr(o),colorOne:tr(a),highlight:tr(i)}),font:s,fontSize:u,align:d,text:yu(m),bgAlpha:p,dropShadow:null!=f?f:Zs,language:h?n.language:null};return vu(vu({},e),g)}(l,t,n);break;default:ju.error("createSceneComposition: unknown CE type for ".concat(e," composition_id='").concat(l.id,"' ce_type='").concat(t.type,"'"))}return l}function Du(e,t,n,r){var o,a=r.masterTiming,i={id:(o=t).id,selectable:o.selectable,draggable:o.draggable,resizeable:o.resizeable,zindex:o.zindex,rect:o.rect,type:o.type,rect_from_layout:o.rectFromLayout};switch(i.type){case xs:i=Fs(i,t,n);break;case Is:i=function(e,t,n){var r=t.timing,o=r.start,a=r.end,i={id:!n||n.timing.start===o&&n.timing.end===a?e.id:"retrimmed_".concat(e.id),muted:t.muted,has_audio:t.hasAudio,timing:{start_time:o,end_time:a}};return xu(xu({},e),i)}(i=Fs(i,t,n),t,n);break;case Ts:i=function(e,t,n){var r=t.textStyleId,o=t.colors,a={text_style_id:r,colors:{font_color:o.fontColor,color_one:o.colorOne,highlight:o.highlight},font:t.font,font_size:t.fontSize,align:t.align,text:t.text,bg_alpha:t.bgAlpha,drop_shadow:t.dropShadow};return vu(vu({},e),a)}(i=Ys(i,t,0,{masterTiming:a}),t);break;case _s:i=function(e,t){var n={media_path:t.mediaPath,source_hash:t.sourceHash,subtype:t.subtype,width:t.width,height:t.height,bg_alpha:t.bgAlpha,bg_color:t.bgColor,source_footage_rect:{x:t.sourceFootageRect.x,y:t.sourceFootageRect.y,width:t.sourceFootageRect.width,height:t.sourceFootageRect.height},style:t.style,flip:{horizontal:t.flip.horizontal,vertical:t.flip.vertical},rotatable:t.rotatable,rotate:t.rotate};return Bs(Bs({},e),n)}(i=Ys(i,t,0,{masterTiming:a}),t);break;default:ju.error("saveSceneObject: unknown CE type for ".concat(e," composition_id='").concat(t.id,"' ce_type='").concat(i.type,"'"))}return i}function Ru(e,t,n,r){var o=r.sceneId,a=function(e,t){var n=e.find((function(e){return e.type===Xl.VIDEO_ELEMENT}));if(n){var r=n.timing;return{start:u(r.start_time),end:u(r.end_time)}}return{start:0,end:t>0?t:3}}(t,r.sceneDuration),i=Object.fromEntries(t.map((function(t){return[t.id,Nu(e,t,null==n?void 0:n[t.id],{masterTiming:a})]})).filter((function(e){var t=Tu(e,2);t[0];return null!==t[1]})));if(function(e){return!e.find((function(e){return e.type===Xl.VIDEO_ELEMENT||e.type===Xl.IMAGE_ELEMENT}))}(t)){var c=function(e,t){return Mu(Mu({},Pu({id:"non-media-".concat(e),selectable:!1,draggable:!1,resizeable:!1,zindex:1,rect:{x:0,y:0,width:1,height:1},type:Xl.NON_MEDIA_ELEMENT,rect_from_layout:!1})),{},{timing:t})}(o,a);i[c.id]=c}return i}var zu=function(e){return{landscape:"LND",portrait:"PRT",square:"SQR"}[e]};function Uu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Uu(Object(n),!0).forEach((function(t){Hu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Uu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Hu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vu(e){var t={};return Object.keys(e).forEach((function(n){t[n]=[],e[n].forEach((function(e){var r=e.images.find((function(e){return"svg"===e.size})).url;t[n].push(function(e){var t=e.id,n=e.orientation,r=e.composition,o=e.default_text_position,a=e.image,i=e.sceneId;return{id:t,orientation:n,composition:Ru("layout_id='".concat(t,"'"),r,null,{sceneId:i,sceneDuration:0}),defaultTextPosition:o||{y:0,x:0,width:1,height:1},image:a}}(Fu(Fu({},e),{},{image:r,sceneId:n})))}))})),t}function Wu(e,t){return{id:t,orientation:zu(e),defaultTextPosition:{y:0,x:0,width:1,height:1},composition:{}}}var Gu="ImageScene",Yu="VideoScene",qu="TextScene";function Zu(e,t){var n=e.id,r=e.hidden,o=e.scene_duration,a=e.duration,i=e.auto_duration,c=void 0===i||i,l=e.composition,s=e.layout_id,d=e.template_hint,m=e.isARoll,p=e.hasBRolls,f=e.indexInSceneGroup,h=e.isLastSceneInGroup,g=e.aRollId,y=e.aRollDuration,b=e.isBRoll,v=void 0!==b&&b,E=e.sceneGroupId,w={id:n,hidden:r,sceneDuration:{startTime:o.start_time,endTime:o.end_time},autoDuration:c,thumbs:[],isARoll:m,hasBRolls:p,indexInSceneGroup:f,isLastSceneInGroup:h,aRollId:g,aRollDuration:y,isBRoll:v,sceneGroupId:E,composition:Ru("scene_id='".concat(n,"'"),l,null==t?void 0:t.composition,{sceneId:n,sceneDuration:u(a)}),layoutId:s||"TEXT_SLIDE",templateHint:d||"",ready:!0,layoutsTextConfigurationMap:{},getStickerElements:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.values(this.composition).filter((function(t){return t.isSticker(e)}));return t},getTextElements:function(){return Object.values(this.composition).filter((function(e){return e.isText()}))},getImageStickersElements:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.values(this.composition).filter((function(t){return t.isImageSticker(e)}));return t},isBCard:function(){return this.id.startsWith(As)},getMediaElement:function(){return Object.values(this.composition).find((function(e){return e.isMedia()}))},getMasterTimingElement:function(){return Object.values(this.composition).find((function(e){return e.isMaster()}))},getSceneType:function(){var e=this.getMediaElement();return e?e.type===Is?Yu:Gu:qu},isLayoutDirty:function(e){return this.isBCard()||!!this.layoutsTextConfigurationMap[e]&&"{}"!==JSON.stringify(this.layoutsTextConfigurationMap[e])},getOptimalFontSize:function(e){var t=this.isLayoutDirty(e),n=this.getTextElements(),r=0===n.length?.2:n[0].fontSize;return t||0===n.length||n.forEach((function(e){r=Math.min(e.fontSize,r)})),r},getLayout:function(e,t){var n=this,r=e[this.id];if(!r)return Wu(t,"TEMP_FOR_INTERNAL_USAGE_LAYOUT");var o=r.find((function(e){return e.id===n.layoutId}));return o||(o=r.find((function(e){return"FULL_FRAME_LAYOUT"===e.id}))),o},findCE:function(e){return Object.values(this.composition).find((function(t){return t.id===e}))},getLogo:function(){return Object.values(this.composition).find((function(e){return e.isLogo()}))},isMuted:function(){var e=this,t=this.composition&&this.composition[Object.keys(this.composition).find((function(t){return Object.prototype.hasOwnProperty.call(e.composition[t],"muted")&&e.composition[t].hasAudio}))];return t&&t.muted},isMutable:function(){var e=this;return this.composition&&this.composition[Object.keys(this.composition).find((function(t){return Object.prototype.hasOwnProperty.call(e.composition[t],"muted")&&e.composition[t].hasAudio}))]},isStatic:function(){var e=this.getSceneType()!==Yu;return e},getMasterTiming:function(){var e=this.getMasterTimingElement();return e?{start:e.timing.start,end:e.timing.end}:{start:0,end:0}},getDuration:function(){var e,t,n=this.getMasterTimingElement();return(null==n||null===(e=n.timing)||void 0===e?void 0:e.end)-(null==n||null===(t=n.timing)||void 0===t?void 0:t.start)}};return w.isOverlayTimingEqMasterTiming=!!w.isStatic()&&w.autoDuration,w}function Xu(e){var t=e.fileId,n=e.replacedScene,r=e.aRollId,o=e.isBRoll,a=e.aRollDuration;return{id:Lo(),fileId:t,ready:!1,composition:{},uploadProgress:{loaded:0,total:0},replacedScene:n||null,getStickerElements:function(){return[]},getTextElements:function(){return[]},isBCard:function(){return!1},getMediaElement:function(){return null},findCE:function(){return null},getMasterTimingElement:function(){return null},getMasterTiming:function(){return{start:0,end:0}},isStatic:function(){return!1},aRollId:r,isBRoll:o,aRollDuration:a}}var Ku=function(e){return Object.values(e).reduce((function(e,t){return t.id!==ws&&t.zindex>e?t.zindex:e}),0)},Qu="SHOW_NOTIFICATION",$u="CLOSE_NOTIFICATION",Ju="CLOSE_ALL",ed=function(){};function td(e){var t=e.title,n=e.content,r=e.primaryBtnConfig,o=void 0===r?{caption:oe.OK,format:"primary",callback:function(){},closeNotificationOnClick:!0}:r,a=e.secondaryBtnConfig,i=e.context,c=void 0===i?"EDITOR_SCREEN":i,l=e.showX,s=void 0===l||l,u=e.biNotificationName;return function(e,r){var i,l,d=Math.random().toString(16).substr(-10),m=r().alertNotifications;Object.values(m).find((function(e){return e.title===t&&e.content===n}))||e({type:Qu,payload:{id:d,title:t,content:n,showX:s,primaryBtnConfig:{callback:o.callback||ed,format:o.format||"primary",caption:o.caption||oe.OK,biCTAname:o.biCTAname,closeNotificationOnClick:null===(i=o.closeNotificationOnClick)||void 0===i||i},showSecondaryBtn:!!a,secondaryBtnConfig:a?{callback:a.callback,format:"secondary",caption:a.caption,biCTAname:a.biCTAname,closeNotificationOnClick:null===(l=a.closeNotificationOnClick)||void 0===l||l}:{},biNotificationName:u,context:c}})}}function nd(e){return{type:$u,payload:{id:e}}}function rd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function od(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rd(Object(n),!0).forEach((function(t){ad(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ad(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var id,cd="UPDATE_COMPOSITION_ELEMENT_DATA";function ld(e,t,n){return{type:cd,selectedCEId:e,sceneId:n,payload:od({},t)}}function sd(){return{type:id.SHOW_TIMELINE}}function ud(){return{type:id.HIDE_TIMELINE}}function dd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function md(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dd(Object(n),!0).forEach((function(t){pd(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e){e.SHOW_TIMELINE="SHOW_TIMELINE",e.HIDE_TIMELINE="HIDE_TIMELINE"}(id||(id={}));var fd,hd="UPDATE_LAYOUTS",gd="ADD_SCENE_LAYOUTS",yd={};function bd(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yd,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case hd:return md({},t.payload.layouts);case gd:return Object.assign({},e,t.payload.layouts);default:return e}}function vd(e){return{type:hd,payload:{layouts:e}}}function Ed(e,t){return{type:gd,payload:{scene:e,layouts:t}}}!function(e){e.FETCH_DATA_SUCCESS="FETCH_DATA_SUCCESS",e.UPDATE_STORYBOARD_DATA_SUCCESS="UPDATE_STORYBOARD_DATA_SUCCESS",e.UPDATE_STORYBOARD_STATUS="UPDATE_STORYBOARD_STATUS",e.IS_BEING_RENDERED="IS_BEING_RENDERED",e.RESET_STORYBOARD="RESET_STORYBOARD",e.SELECT_SCENE="SELECT_SCENE",e.SELECT_COMPOSITION_ELEMENT="SELECT_COMPOSITION_ELEMENT",e.COPY_COMPOSITION_ELEMENT="COPY_COMPOSITION_ELEMENT",e.PASTE_COMPOSITION_ELEMENT="PASTE_COMPOSITION_ELEMENT",e.ADD_NEW_UPLOAD_SCENE="ADD_NEW_UPLOAD_SCENE",e.UPDATE_UPLOADED_SCENE_TO_READY="UPDATE_UPLOADED_SCENE_TO_READY",e.UPDATE_REPLACED_SCENE_TO_READY="UPDATE_REPLACED_SCENE_TO_READY",e.REPLACE_MEDIA="REPLACE_MEDIA",e.REPLACE_MEDIA_FAILED="REPLACE_MEDIA_FAILED",e.ADD_NEW_SOURCE="ADD_NEW_SOURCE",e.ADD_ADDITIONAL_FONTS="ADD_ADDITIONAL_FONTS",e.UPDATE_SOURCES="UPDATE_SOURCES",e.UPDATE_COLOR_PALETTE="UPDATE_COLOR_PALETTE",e.UPDATE_SOUND="UPDATE_SOUND",e.UPDATE_VIDEO_BRANDING_COLORS_BY_USER="UPDATE_VIDEO_BRANDING_COLORS_BY_USER",e.DELETE_BRANDING_SCENE_BY_USERT="DELETE_BRANDING_SCENE_BY_USERT",e.UPDATE_PROJECT_NAME="UPDATE_PROJECT_NAME",e.UPDATE_DATA_FAILURE_STATUS="UPDATE_DATA_FAILURE_STATUS",e.ADD_NEW_TEXT_SLIDE="ADD_NEW_TEXT_SLIDE",e.DUPLICATE_SCENE="DUPLICATE_SCENE",e.TOGGLE_MUTE="TOGGLE_MUTE",e.TOGGLE_HIDE="TOGGLE_HIDE",e.DELETE_SCENE="DELETE_SCENE",e.TEXT_STYLE_ANIMATION_READY="TEXT_STYLE_ANIMATION_READY",e.FONTS_READY="FONTS_READY",e.FETCH_MOVIE_LENGTH_BEGIN="FETCH_MOVIE_LENGTH_BEGIN",e.FETCH_MOVIE_LENGTH_SUCCESS="FETCH_MOVIE_LENGTH_SUCCESS",e.FETCH_MOVIE_LENGTH_FAILURE="FETCH_MOVIE_LENGTH_FAILURE",e.SET_MOVIE_LENGTH_OUTDATED="SET_MOVIE_LENGTH_OUTDATED",e.ADD_NEW_BROLL="ADD_NEW_BROLL",e.ADD_NEW_SCENES_GROUPS="ADD_NEW_SCENES_GROUPS",e.REORDER_SCENES_WITHIN_GROUP="REORDER_SCENES_WITHIN_GROUP",e.CHANGE_BROLL_TO_REGULAR_SCENE="CHANGE_BROLL_TO_REGULAR_SCENE",e.MOVE_BROLL_BETWEEN_GROUPS="MOVE_BROLL_BETWEEN_GROUPS",e.UPDATE_SCENE_POSITION="UPDATE_SCENE_POSITION",e.UPDATE_SCENE_POSITION_BY_USERT="UPDATE_SCENE_POSITION_BY_USERT",e.SPLIT_SCENES_GROUP="SPLIT_SCENES_GROUP",e.UPDATE_AROLL_DURATION="UPDATE_AROLL_DURATION",e.POP_BROLL_SCENE_OUT_OF_GROUP="POP_BROLL_SCENE_OUT_OF_GROUP",e.SET_LAST_ADDED_OR_EDITED_SCENE_ID="SET_LAST_ADDED_OR_EDITED_SCENE_ID",e.EXTRACT_DURATION_EXCEEDING_SCENES="EXTRACT_DURATION_EXCEEDING_SCENES",e.SET_STORYBOARD="SET_STORYBOARD",e.SET_EXPAND_MODE="SET_EXPAND_MODE",e.UPDATE_COMPOSITION_ELEMENT_TIMING_BY_USER_BEGIN="UPDATE_COMPOSITION_ELEMENT_TIMING_BY_USER_BEGIN",e.UPDATE_COMPOSITION_ELEMENT_TIMING_BY_USER_END="UPDATE_COMPOSITION_ELEMENT_TIMING_BY_USER_END"}(fd||(fd={}));var wd="SHOW_NOTIFICATION",Ad="UPDATE_NOTIFICATION_CONTENT",Cd="CLOSE_NOTIFICATION",Sd="GLOBAL",_d="STAGE";function xd(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sd;return{type:Cd,payload:{show:!1,text:"",context:e}}}function Id(e){var t=e.autoClose,n=void 0===t||t,r=e.waitTimeToHide,o=void 0===r?3e3:r,a=e.text,i=e.context,c=void 0===i?Sd:i;return function(e,t){t().toastNotification.show?(e(xd()),setTimeout((function(){return e({type:wd,payload:{show:!0,text:a,context:c,autoClose:n,waitTimeToHide:o}})}),1100)):e({type:wd,payload:{show:!0,text:a,context:c,autoClose:n,waitTimeToHide:o}})}}function Td(e){return function(e){if(Array.isArray(e))return Od(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Od(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Od(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Od(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function kd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Md(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kd(Object(n),!0).forEach((function(t){Bd(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Bd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var jd="SCENE",Ld="COMPOSITION_ELEMENT";function Pd(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5?arguments[5]:void 0,i=arguments.length>6?arguments[6]:void 0;this.data=Md({},e),this.layouts=Md({},t),this.currentTime=r,this.timeline=n,this.next=o,this.actionDescription=a,this.addedPlaceholderId=i}function Nd(e,t,n){if(!e||!e.data)return null;var r=e.data,o=n&&n.id,a=-1,i=null;if(e.addedPlaceholderId===o)return e.next;switch(t){case jd:if((a=r.scenes.findIndex((function(e){return e.id===o})))<0)return e;var c;c=r.selectedSceneId===o?a>0?a-1:a+1:r.selectedSceneId,i=Md(Md({},r),{},{selectedSceneId:c,scenes:[].concat(Td(r.scenes.slice(0,a)),Td(r.scenes.slice(a+1)))});break;case Ld:var l=n.sceneId;if((a=r.scenes.findIndex((function(e){return e.id===l})))<0)return e;var s=r.scenes[a];if(!s.composition[o])return e;var u=Md({},s.composition);delete u[o];var d=Md(Md({},s),{},{composition:u});delete d.composition[o],i=Md(Md({},r),{},{scenes:[].concat(Td(r.scenes.slice(0,a)),[d],Td(r.scenes.slice(a+1)))});break;default:i=r}return new Pd(i,e.layouts,e.timeline,e.currentTime,Nd(e.next,t,n),e.currentActionDescription)}function Dd(e,t,n,r,o){if(!e||!e.data)return null;var a=e.data,i=n&&n.id,c=-1,l=null,s=a.selectedSceneId===i?r.scene.id:a.selectedSceneId,u=Md({},e.layouts);switch(t){case jd:var d=r.scene,m=r.source,p=r.layout,f=r.shouldExtractUploadedSceneFromARoll;if((c=a.scenes.findIndex((function(e){return e.id===i})))<0)return e;var h=Td(a.scenes);if(u=Object.assign(u,p),f){var g=h[c],y=h.findIndex((function(e,t,n){return e.aRollId===g.aRollId&&(n.length===t+1||n[t+1].aRollId!==g.aRollId)}));h.splice(c,1),h.splice(y,0,d)}else h=[].concat(Td(h.slice(0,c)),[d],Td(h.slice(c+1)));l=Md(Md({},a),{},{selectedSceneId:s,sources:Object.assign({},a.sources,m&&Bd({},m.hash,m)),scenes:h});break;case Ld:var b=n.sceneId,v=o.selectedCompositionId;if((c=a.scenes.findIndex((function(e){return e.id===b})))<0)return e;var E=a.scenes[c];if(!E.composition[i])return e;var w=r.ce,A=Md(Md({},E),{},{composition:Md(Md({},E.composition),{},Bd({},w.id,w))});delete A.composition[i],l=Md(Md({},a),{},{selectedCompositionId:null!=v?v:a.selectedCompositionId,scenes:[].concat(Td(a.scenes.slice(0,c)),[A],Td(a.scenes.slice(c+1)))});break;default:l=a}return new Pd(l,u,e.timeline,e.currentTime,Dd(e.next,t,n,r,o),e.currentActionDescription)}function Rd(e,t,n,r,o){return r?Dd(e,t,n,r,o):Nd(e,t,n)}function zd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ud(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zd(Object(n),!0).forEach((function(t){Fd(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Hd="HISTORY_ADD_SNAPSHOT",Vd="UNDO",Wd="REDO",Gd="DELETE_ALL_ENTRIES",Yd="HISTORY_UPDATE_SNAPSHOT",qd="REMOVE_SNAPSHOT";function Zd(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{actionDescription:"",addedPlaceholderId:null},t=e.actionDescription,n=e.addedPlaceholderId;return function(e,r){var o=r(),a=o.storyBoard,i=o.layouts,c=o.timeline,l=o.history.undoSnapshots,s=new Pd(a,i,c,bs(r()).currentTime,l,t,n);e({type:Hd,payload:{undoSnapshots:s,redoSnapshots:null}})}}function Xd(e,t,n,r){return function(o,a){var i=a().history,c=i.undoSnapshots,l=i.redoSnapshots,s=Rd(c,e,t,n,r),u=Rd(l,e,t,n,r);o({type:Yd,payload:{undoSnapshots:s,redoSnapshots:u}})}}function Kd(e){return function(t,n){var r=n(),o=r.history,a=o.undoSnapshots,i=o.redoSnapshots,c=r.storyBoard,l=r.layouts;if(Li({name:"vimeo.click_undo",product:Si,location:ba,flow:fa.flow,test_layout:null,version:2}),a){var s=a,u=s.data.scenes.find((function(e){return e.id===s.data.selectedSceneId})),d=!s.data.scenes.find((function(e){return e.id===c.selectedSceneId})),m=!c.scenes.find((function(e){return e.id===s.data.selectedSceneId})),p=c.selectedCompositionId&&(0===Object.keys(u.composition).length||!u.findCE(c.selectedCompositionId)),f=Ud(Ud({},c),{},{selectedSceneId:d||m?c.selectedSceneId:s.data.selectedSceneId,selectedCompositionId:p?c.selectedCompositionId:s.data.selectedCompositionId});(0,T.dC)((function(){t({type:Vd,payload:{undoSnapshots:a.next,redoSnapshots:new Pd(f,l,s.timeline,s.currentTime,i,s.actionDescription)}}),t(vd(s.layouts)),t(s.timeline.show?sd():ud()),e.seek(s.currentTime),t({type:fd.SET_STORYBOARD,payload:{storyboard:s.data}}),s.actionDescription&&s.actionDescription.length>0&&t(Id({text:oe.UndoNotification(s.actionDescription)}))}))}}}function Qd(e){return function(t,n){var r=n(),o=r.history,a=o.undoSnapshots,i=o.redoSnapshots,c=r.storyBoard,l=r.layouts;if(Li({name:"vimeo.click_redo",product:Si,location:ba,flow:fa.flow,test_layout:null,version:2}),i){var s=i,u=s.data.scenes.find((function(e){return e.id===s.data.selectedSceneId})),d=!s.data.scenes.find((function(e){return e.id===c.selectedSceneId})),m=!c.scenes.find((function(e){return e.id===s.data.selectedSceneId})),p=c.selectedCompositionId&&(0===Object.keys(u.composition).length||!u.findCE(c.selectedCompositionId)),f=Ud(Ud({},c),{},{selectedSceneId:m||d?c.selectedSceneId:s.data.selectedSceneId,selectedCompositionId:p?c.selectedCompositionId:s.data.selectedCompositionId});(0,T.dC)((function(){t({type:Wd,payload:{undoSnapshots:new Pd(f,l,s.timeline,s.currentTime,a,i.actionDescription),redoSnapshots:i.next}}),t(vd(s.layouts)),t(s.timeline.show?sd():ud()),e.seek(s.currentTime),t({type:fd.SET_STORYBOARD,payload:{storyboard:s.data}}),s.actionDescription&&t(Id({text:oe.RedoNotification(s.actionDescription)}))}))}}}function $d(){return{type:Gd}}function Jd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function em(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jd(Object(n),!0).forEach((function(t){tm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var nm=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=em({top:0,right:0,bottom:0,left:0},t);return{x:e.x-e.width*n.left,y:e.y-e.height*n.top,width:e.width*(1+n.left+n.right),height:e.height*(1+n.top+n.bottom)}},rm=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=t.w_h_ratio,o=void 0===r?-1:r,a=t.vertical_direction,i=t.horizontal_direction;if(-1===o)return e;var c=o/n,l=e.width,s=e.height,u=Math.max(l,s*c),d=Math.max(s,l/c);return{x:e.x-("left"===i?u-l:"right"===i?0:(u-l)/2),y:e.y-("top"===a?d-s:"bottom"===a?0:(d-s)/2),width:u,height:d}},om=function(e){var t=Math.sqrt(2),n=(t-1)/2;return{x:e.x-e.width*n,y:e.y-e.height*n,width:e.width*t,height:e.height*t}},am={square:1,landscape:16/9,portrait:9/16},im=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.bg_padding,o=t.expand_parameters,a=n.isCircle,i=void 0!==a&&a,c=n.whUnitsRatio,l=void 0===c?1:c;"string"==typeof l&&(l=am[l]);var s=nm(e,r),u=rm(s,o,l),d=i?om(u):u;return d},cm=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0===t.width?1:n.width/t.width,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0===t.height?1:n.height/t.height,a=n.x-t.x+(e.x-t.x)*(r-1),i=n.y-t.y+(e.y-t.y)*(o-1),c={x:e.x+a,y:e.y+i,width:e.width*r,height:e.height*o};return c},lm=function(e,t,n,r){return{x:e,y:t,width:n,height:r}};function sm(e){return function(e){if(Array.isArray(e))return mm(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||dm(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function um(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||dm(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dm(e,t){if(e){if("string"==typeof e)return mm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mm(e,t):void 0}}function mm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}S("TextStyleMeasureUtils");var pm=-1,fm=function(e){var t=e.font,n=e.fontSize,r=void 0===n?.3:n,o=e.lineHeight,a=void 0===o?pm:o,i=e.text,c=e.orientation,l=um("landscape"===c?[1920,1080]:"portrait"===c?[1080,1920]:[1080,1080],2),s=l[0],u=l[1],d=r*u,m=Xc(t);return document.fonts.load("".concat(d,"px ").concat(m)).then((function(){var e=function(e){var t=e.width,n=e.height,r=e.text,o=e.fontSize,a=e.fontFamily;return'\n<svg width="'.concat(t,'" height="').concat(n,'">\n  <text x="0" y="50%" text-anchor="left" dominant-baseline="central">\n    ').concat(r.map((function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")})).map((function(e){return'<tspan x="0" alignment-baseline="middle" style="font-size: '.concat(o,"px; font-family: ").concat(a,'; white-space: pre; -webkit-font-kerning: none; font-kerning: none;">').concat(e,"</tspan>")})).join(""),"\n  </text>\n</svg>")}({width:s,height:u,text:su(i),fontSize:d,fontFamily:m}),t=document.createElement("div");t.setAttribute("style","position: absolute; top: 0; left: -".concat(s+100,"px; width: ").concat(s,"px; overflow: hidden;")),t.innerHTML=e;var n=t.querySelector("text"),r=sm(t.querySelectorAll("tspan"));document.getElementsByTagName("body")[0].appendChild(t);var o=function(){return parseFloat(r[0].style.fontSize)},c=function(){return n.getBBox().width},l=function(){return a===pm?n.getBBox().height*i.length:o()*a*i.length};return{SVG_WIDTH:s,SVG_HEIGHT:u,getFontSizeInPx:o,setFontSizeInPx:function(e){r.forEach((function(t){t.style.fontSize="".concat(e,"px")}))},getTextWidthInPx:c,getTextHeightInPx:l,getTextWidth:function(){return c()/s},getTextHeight:function(){return l()/u},destroy:function(){return t.parentNode.removeChild(t)}}}))},hm=function(e,t,n){return{width:t,height:n,x:e.x+(e.width-t)/2,y:e.y+(e.height-n)/2}},gm=function(e,t,n){var r=e.width,o=e.height,a=t||{},i=a.x,c=a.y,l=a.width,s=a.height;return{x:Math.min(40/("landscape"===n?1920:1080),.1*r,t&&i>=0?i:1,t&&i+l<=1?1-(i+l):1),y:Math.min(40/("portrait"===n?1920:1080),.1*o,t&&c>=0?c:1,t&&c+s<=1?1-(c+s):1)}},ym=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:gm(e,null,t),r=function(e,t,n,r){return e>1-n?Math.max(0,1-t*(1+r)):e+t<n?t*r:e},o=2/("portrait"===t?1920:1080),a=2/("landscape"===t?1920:1080),i=e.x,c=e.y,l=e.width,s=e.height;return{x:r(i,l,a,n.x),y:r(c,s,o,n.y),width:l,height:s}};function bm(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||Cm(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Em(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vm(Object(n),!0).forEach((function(t){wm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function wm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Am(e){return function(e){if(Array.isArray(e))return Sm(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Cm(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Cm(e,t){if(e){if("string"==typeof e)return Sm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Sm(e,t):void 0}}function Sm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var _m=function(e){return e.sort((function(e,t){return e.userRect.y+e.userRect.height/2-(t.userRect.y+t.userRect.height/2)}))},xm=function(e){if(0===e.length)return[];var t=[],n=e.flatMap((function(e){var t=e.timing;return[{value:t.start,isLeft:!0,element:e},{value:t.end,isLeft:!1,element:e}]}));n.sort((function(e,t){return e.value===t.value?e.isLeft?1:-1:e.value-t.value}));var r=null,o=-1;return n.forEach((function(e){e.isLeft?r?(t[o].push(e.element),e.element.timing.end>r.timing.end&&(r=e.element)):(r=e.element,t.push([e.element]),o++):e.element===r&&(r=null)})),t},Im=function e(t,n,r,o){var a=o.AUTO_LAYOUT_SPACE_BTW_STICKERS,i=o.AUTO_LAYOUT_MIN_FONT_SIZE,c=Em({},r),l=function(e){var t=Math.max.apply(Math,Am(e.map((function(e){return e.userRect.width})))),n=e.reduce((function(e,t){return e+t.userRect.height}),0);return lm(0,0,t,n)}(t),s=(t.length+n.length-1)*a;c.height-=s;var u=n.reduce((function(e,t){return e+t.userRect.height}),0),d=bm(function(e,t,n){var r=n.AUTO_LAYOUT_DEFAULT_TEXT_AREA,o=e.width*e.height,a=t.width*t.height*r,i=Math.min(Math.sqrt(a/o),.9*t.width/e.width,.9*t.height/e.height);return[hm(t,e.width*i,e.height*i),i]}(l,c,o),2),m=d[0],p=d[1],f=[],h=[],g=m.height+u;t.forEach((function(e){var t=e.userRect,n=e.fontSize,r=e.orderIndex,o=e.scale;if(n*p<i){var a=i/n;h.push({userRect:Em(Em({},t),{},{width:t.width*a,height:t.height*a}),fontSize:i,scale:o*a,orderIndex:r}),g+=t.height*a-t.height*p}else f.push({userRect:Em(Em({},t),{},{width:t.width*p,height:t.height*p}),fontSize:n*p,scale:o*p,orderIndex:r})}));var y=[].concat(Am(n),h);if(f.length!==t.length&&0!==f.length)return e(f,y,r,o);var b=m.width*g/m.height,v=m.y+(m.height-g)/2;return[{x:m.x+(m.width-b)/2,y:v>=0?v:0,width:b,height:g},[].concat(f,Am(y)).sort((function(e,t){return e.orderIndex-t.orderIndex}))]},Tm=function(e,t,n){var r=n.AUTO_LAYOUT_SPACE_BTW_STICKERS,o=n.AUTO_LAYOUT_HORIZONTAL_MARGIN,a=n.AUTO_LAYOUT_NOT_ENOUGH_SPACE_OFFSET,i=1,c=e.map((function(e){return{userRect:e.userRect,fontSize:e.fontSize,scale:1,orderIndex:i++}})),l=bm(Im(c,[],t,n),2),s=l[0],u=l[1],d=0,m=0,p=1,f=[];return u.forEach((function(n,i){var c=n.userRect,l=n.fontSize,u=n.scale,h=s.y+d+c.height-t.y>=.97*t.height;h&&(d=.97*t.height-c.height+(p-1)*a,m=p*o,p+=1);var g=lm(s.x+(s.width-c.width)/2+m,s.y+d,c.width,c.height),y=cm(e[i].rect,c,g,u,u);f.push({rect:y,fontSize:l}),h||(d+=c.height+r)})),f},Om=function(e,t,n,r,o){var a=o.AUTO_LAYOUT_EPS;if(0===e.length)return!0;var i=e.map((function(e){return Em(Em({},e),{},{userRect:im(e.rect,n[e.textStyleId].metaData,{isCircle:e.textStyleId===es,whUnitsRatio:r})})}));return!xm(i).some((function(e){var n=_m(e),r=Tm(n,t,o);return n.some((function(e,t){return n=e.rect,o=r[t].rect,i=a,!(Math.abs(n.x-o.x)<i&&Math.abs(n.y-o.y)<i&&Math.abs(n.width-o.width)<i&&Math.abs(n.height-o.height)<i);var n,o,i}))}))};function km(e){return e.map((function(e){return{arollSceneId:e.aroll_scene_id,id:e.id,scenesIds:e.scenes,type:e.type}}))}function Mm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mm(Object(n),!0).forEach((function(t){jm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function jm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Lm={primary:"0000ff",secondary:"000000",default:"ffffff"};function Pm(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.colors,n=e.font,r=e.logo_watermark,o=e.logo_watermark_position,a=e.brand_scene;return{font:n||"",colors:ar(Bm(Bm({},Lm),t||{})),logoWatermark:r||!1,logoWatermarkPosition:o,brandScene:a}}function Nm(e){var t=e.font,n=e.colors,r=e.logoWatermark,o=e.logoWatermarkPosition,a=e.brandScene,i=e.applyColors,c=e.applyFont;return{font:t,colors:cr(Bm({},n)),logo_watermark:r,logo_watermark_position:o,brand_scene:a,apply_colors:i,apply_font:c}}function Dm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dm(Object(n),!0).forEach((function(t){zm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Um=S("SourceObjectModel");function Fm(e){var t=e.mhash,n=e.hash,r=e.height,o=e.width,a=e.type,i=e.duration,c=e.service,l=e.preview_url,s=e.preview_height,u=e.preview_width,d={};return d.mhash=t,d.hash=n,d.height=r,d.width=o,d.type=a,d.duration=i,d.service=c,d.previewURL=l,d.footageRects={},d.height=s,d.width=u,d.thumbs=[],d}function Hm(e){var t=e.source,n=e.jobId,r=e.vsid,o=e.resolve,a=e.reject,i=e.isSticker,c=void 0!==i&&i,l=e.orientation;Um.log("checking original file status on job",n);var s=Ot.get("api.client"),u=c?"&orientation=".concat(l):"";Ht.get("/api/video/upload/check?job=".concat(n,"&hash=").concat(t.hash,"&vsid=").concat(r,"&client=").concat(s).concat(u)).then((function(t){if(!t.data||"OK"!==t.data.status)return a();if("PRCS"!==t.data.job_status){if("DONE"===t.data.job_status){if(c)return o(t.data.sticker,t.data.sticker_rect);var n=Fm(t.data.source);return o(n)}return Um.log("unhandled job status: ",t.job_status),a()}setTimeout((function(){return Hm(e)}),1e3)})).catch((function(){return a()}))}function Vm(e,t,n){return new Promise((function(r,o){if("force"!==t&&function(e,t){return"all"===t?e.isSourceSupportsFeature("save")&&e.isSourceSupportsFeature("trim")&&e.isSourceSupportsFeature("preview"):"trim"===t||"split"===t||"preview"===t?!!e.previewURL:"save"===t&&("slide"===e.type||!!e.hash)}(e))return r(e);(e.hash||e.mhash)&&function(e,t,n,r){Um.log("prepare source file",e.hash);var o=Ot.get("api.client");Ht.get("/api/video/source/prepare/".concat(e.hash,"?client=").concat(o)).then((function(o){if(!o.data||"OK"!==o.data.status)return r();if(!o.data.prepare_source_job){var a=Fm(o.data.source);return n(a)}Hm({source:e,jobId:o.data.prepare_source_job,vsid:t,resolve:n,reject:r})})).catch((function(){return r()}))}(e,n,r,o)}))}function Wm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wm(Object(n),!0).forEach((function(t){Ym(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ym(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qm(e,t){var n=e.id,r=e.orientation,o=e.scenes,a=e.sources,i=e.sound,c=e.theme,l=e.video_session_id,s=e.branding,u=e.project_name,d=e.vs_hash,m=e.process_state,p=e.scenes_groups,f=t.movieLength,h=t.movieDurationAccountThreshold,g=t.movieLengthThreshExceed,y=t.videoHash,b=t.nonReadyScenes,v=t.nonReadyCompositionsBySceneId,E=t.sourcesOfReplacedScenes,w=void 0===E?[]:E,A=t.prevScenesMap,C={id:n,orientation:r,videoHash:d||y,sources:{},scenes:[],scenesGroups:km(p||[]),lastAddedOrEditedSceneId:"",selectedSceneId:"",sound:i||{},theme:c||{},videoBranding:Pm(s),vsid:l||null,movieLength:f||0,durationThreshExceed:!!g,movieDurationAccountThreshold:h,projectName:u,processState:m,getTextElements:function(){return this.scenes.map((function(e){return e.getTextElements().map((function(t){return{sceneId:e.id,ce:t}}))})).flat()},getScenesMap:function(){return new Map(this.scenes.map((function(e){return[e.id,e]})))},isSceneDeleteable:function(e){if(e.isBRoll)return!0;if(e.hidden&&this.scenes.length>1)return!0;var t=!!this.scenes.find((function(e){return e.isBCard()})),n=this.scenes.filter((function(e){return e.hidden})).length;if(e.isBCard()&&n<this.scenes.length-1)return!0;var r=t&&this.scenes.find((function(e){return e.isBCard()})).hidden,o=this.scenes.length-(t&&!r?1:0)-n,a=this.scenes.filter((function(e){return e.isBRoll})).length;return!(o<2||e.isARoll&&a===o-1)},isSceneHideable:function(e){return e.hidden||!e.isBRoll&&!e.hasBRolls&&this.scenes.filter((function(e){return!e.hidden})).length>1&&!e.hidden}};return C.scenes=function(e){var t=e.scenes,n=e.scenesGroups,r=e.prevScenesMap,o=new Map(t.map((function(e){return[e.id,e]}))),a=new Map(n.map((function(e){return[e.arollSceneId,e]}))),i=new Map;n.forEach((function(e){e.scenesIds.forEach((function(t){i.set(t,e.arollSceneId)}))}));var c=[];return t.forEach((function(e){var t=a.get(e.id);if(t&&!i.get(e.id)){var n=Rm(Rm({},e),{},{isBRoll:!1,aRollId:void 0,isARoll:!!t.scenesIds,hasBRolls:!!t.scenesIds&&t.scenesIds.length>0});return n.isARoll&&(n=Rm(Rm({},n),{},{sceneGroupId:t.id})),c.push(Zu(n,null==r?void 0:r.get(e.id))),void t.scenesIds.forEach((function(t,n){var a=Rm(Rm({},o.get(t,n)),{},{aRollId:e.id,aRollDuration:e.duration,isBRoll:!0});c.push(Zu(a,null==r?void 0:r.get(e.id)))}))}if(!i.get(e.id)){var l=Rm(Rm({},e),{},{isBRoll:!1,aRollId:void 0});c.push(Zu(l,null==r?void 0:r.get(e.id)))}})),c}({scenes:o,scenesGroups:C.scenesGroups,prevScenesMap:A}),b&&b.forEach((function(e){e.index<C.scenes.length?C.scenes.splice(e.index,0,e):C.scenes.push(e)})),v&&Object.keys(v).forEach((function(e){var t=C.scenes.find((function(t){return t.id===e}));t.composition=Gm(Gm({},t.composition),v[e])})),a.forEach((function(e){C.sources[e.hash]=Fm(e)})),w.forEach((function(e){C.sources[e.hash]=e})),C}function Zm(e,t){var n={id:e.id,theme:e.theme||{},sources:[],sound:{},orientation:e.orientation,scenes:[],scenes_groups:[],sound_id:"UPL"===e.sound.type&&e.sound.hash?e.sound.hash:e.sound.id,theme_id:e.theme.id,video_session_id:e.vsid,branding:Nm(e.videoBranding),project_name:e.projectName},r=t&&t.scenes||[],o=new Map(r.map((function(e){return[e.id,e]}))),a=e.scenes.filter((function(e){return e.ready}));return n.scenes=a.map((function(e){return function(e,t){var n=e.getMasterTiming(),r={id:e.id,hidden:e.hidden,scene_duration:{start_time:e.sceneDuration.startTime,end_time:e.sceneDuration.endTime},duration:e.getDuration(),auto_duration:e.autoDuration,thumbs:e.thumbs,composition:[],layout_id:e.layoutId},o=t&&t.composition||{};return r.composition=Object.values(e.composition).filter((function(e){return!(e.type===_s&&!1===e.ready||e.type===Os)})).map((function(t){var r=o[t.id];return Du("scene_id='".concat(e.id,"'"),t,r,{masterTiming:n})})),e.templateHint&&(r.stickers=[{type:"replace",position:"TR",template_hint:e.templateHint}]),r}(e,o.get(e.id))})),n.scenes_groups=function(e){var t=[];return e.forEach((function(n){if(n.isARoll){var r=e.reduce((function(e,t){return t.aRollId===n.id&&e.push(t.id),e}),[]);t.push({arollSceneId:n.id,id:n.sceneGroupId||(o=n.id,"aroll_".concat(o)),type:"aroll",scenesIds:r})}var o})),t}(e.scenes).map((function(e){return{aroll_scene_id:e.arollSceneId,id:e.id,scenes:e.scenesIds,type:e.type}})),n.branding.font.hasOwnProperty("name")&&(n.branding.font=n.branding.font.name),n}var Xm=function(e){return e.map((function(e){return{name:e.enum,description:e.text}}))},Km=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.pro_features,n=e.tier,r=e.upsell_trigger_id;return{tier:n,features:Xm(null!=t?t:[]),upsellTriggerId:r}};function Qm(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return $m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Jm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ep(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jm(Object(n),!0).forEach((function(t){tp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var np=S("StoryboardAPI");function rp(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n="/api/storyboard/get/".concat(e),r={v:"5.0",vsid:t};return new Promise((function(e,t){!function o(){Ht.get(n,{params:r}).then((function(t){if("notready"!==t.data.storyboard.process_state)if("edit"!==t.data.storyboard.process_state){var n=t.data,r=n.storyboard,a=n.layouts,i=n.additional_fonts,c=n.additional_color_palettes,l=n.movie_length,s=n.thresh_exceed,u=n.premium_thresh,d=n.required_capabilities,m=n.unsupported_feature,p=qm(r,{movieLength:l,movieDurationAccountThreshold:u,movieLengthThreshExceed:s}),f=Vu(a),h=Km(d),g=m&&{action:m.action,msg:m.msg,msgClientKey:m.msg_client_key};e({isBeingRendered:!1,storyboard:p,layouts:f,requiredCapabilities:h,additionalFonts:i,additionalColorPalettes:c,unsupportedFeature:g})}else{var y;e({vimeoVideoId:null===(y=t.data.vimeo_video)||void 0===y?void 0:y.id,isBeingRendered:!0,storyboard:{vsid:t.data.storyboard.video_session_id}})}else setTimeout((function(){return o()}),5e3)})).catch((function(e){return e.response&&1350===e.response.data.errcode?(np.error("Storyboard isn't ready (errcode 1350), retrying.."),setTimeout((function(){return o()}),5e3)):t(e)}))}()}))}function op(e,t,n){return new Promise((function(r,o){var a=tp({storyboard:Zm(n,n.lastRevision)},e,t),i=function(e){return{nonReadyScenes:e.scenes.map((function(e,t){return ep(ep({},e),{},{index:t})})).filter((function(e){return!e.ready})),nonReadyCompositionsBySceneId:Object.fromEntries(e.scenes.map((function(e){return[e.id,Object.values(e.composition).filter((function(e){return e.type===_s&&!1===e.ready}))]})).filter((function(e){var t=Qm(e,2);return t[0],t[1].length>0})).map((function(e){var t=Qm(e,2),n=t[0],r=t[1];return[n,Object.fromEntries(r.map((function(e){return[e.id,e]})))]})))}}(n),c=i.nonReadyScenes,l=i.nonReadyCompositionsBySceneId,s=function(e){var t=[];return e.scenes.forEach((function(n){n.replacedScene&&t.push(e.sources[n.replacedScene.getMediaElement().sourceHash])})),t}(n),u="/api/storyboard/modify/".concat(e,"/").concat(n.videoHash);Ht.post(u,a).then((function(e){var t=e.data,o=t.storyboard,a=t.layouts,i=t.additional_fonts,u=t.additional_color_palettes,d=t.movie_length,m=t.thresh_exceed,p=qm(o,{movieLength:d,movieDurationAccountThreshold:t.premium_thresh,movieLengthThreshExceed:m,videoHash:n.videoHash,nonReadyScenes:c,nonReadyCompositionsBySceneId:l,sourcesOfReplacedScenes:s,prevScenesMap:n.getScenesMap()}),f=Vu(a);p.scenes.filter((function(e){return e.id===n.selectedSceneId})).length>0?p.selectedSceneId=n.selectedSceneId:p.selectedSceneId=p.scenes[Math.max(0,n.scenes.findIndex((function(e){return e.id===n.selectedSceneId}))-1)].id;var h=p.scenes.map((function(e){return e.id})).filter((function(e){return n.scenes.map((function(e){return e.id})).indexOf(e)<0}))[0];h&&h.startsWith("slide_brand_card")&&(p.selectedSceneId=h),p.scenes.filter((function(e){return!n.scenes.includes(e)})),r({newStoryboard:p,newLayouts:f,additionalColorPalettes:u,additionalFonts:i})})).catch((function(e){return o(e)}))}))}var ap=0;var ip="COLOR_PALETTES_ADD_PREDEFINED_PALETTES",cp="COLOR_PALETTES_ADD_OR_UPDATE_PALETTE";function lp(e,t){var n,r,o,a=ar(t);return{type:cp,payload:{colorPalettes:(n={},r=e,o=a,r in n?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,n)}}}var sp="continue",up=function(e){return td({showX:!1,title:oe.UnsupporedFeatureTitle,content:e.msgClientKey?oe["UnsupportedFeature".concat(e.msgClientKey.replace("UNSUPPORTED_FEATURE_",""))]:e.msg,primaryBtnConfig:e.action===sp?{caption:oe.UnsupportedFeatureContinue,format:"warning",callback:function(){}}:null,secondaryBtnConfig:{closeNotificationOnClick:!1,caption:oe.UnsupporedFeatureCancelGoBack,format:"primary",callback:function(){Gc.toDrafts()}}})};function dp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var pp="SET_REQUIRED_CAPABILITIES",fp="RESET_REQUIRED_CAPABILITIES";function hp(e){return function(t,n){var r=n().userCapabilities.isUpsellBlocker;e.tier&&(e.upsellTriggerId||r)&&e.features.length>0&&t(td({title:oe.HigherTierRequiredDialogTitle,content:h().createElement(h().Fragment,null,oe.HigherTierRequiredDialogTextBeforeFeaturesList,h().createElement("ul",null,e.features.map((function(e){var t=e.description;return h().createElement("li",null,t)}))),oe.HigherTierRequiredDialogTextAfterFeaturesList),primaryBtnConfig:{caption:oe.HigherTierRequiredDialogActionUpgrade,closeNotificationOnClick:!1,biCTAname:"upgrade",callback:function(){zc.onUpgradeAfterDowngrade(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dp(Object(n),!0).forEach((function(t){mp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e)).then((function(){t({type:Ju})})).catch((function(){return hp(e)}))}},secondaryBtnConfig:{caption:oe.HigherTierRequiredDialogActionClose,biCTAname:"cancel",callback:function(){Gc.onUpgradeAfterDowngradeRejected()},closeNotificationOnClick:!1},showX:!1,biNotificationName:"access_advanced_feature"})),t({type:pp,payload:e})}}var gp=S("Pubsub"),yp={},bp="userUpgraded",vp="wrapperRectResize",Ep="videoTitleChanged",wp="stickerAnimationChanged",Ap=function(){},Cp=new Proxy(yp,{get:function(e,t){var n=e[t]||window[t];return n||(gp.error("Pubsub function ".concat(t," is missing.")),Ap)}});var Sp=function e(t){return Array.isArray(t)?t.map((function(t){return e(t)})):t.replace(/<[^>]*>/g,"").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&amp;/g,"&")};function _p(e){return function(e){if(Array.isArray(e))return Tp(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Ip(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||Ip(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ip(e,t){if(e){if("string"==typeof e)return Tp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Tp(e,t):void 0}}function Tp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Op=console,kp=-1,Mp=function(e){var t=e.font,n=e.fontSize,r=void 0===n?.3:n,o=e.lineHeight,a=void 0===o?kp:o,i=e.text,c=e.orientation,l=xp("landscape"===c?[1920,1080]:"portrait"===c?[1080,1920]:[1080,1080],2),s=l[0],u=l[1],d=r*u,m=Xc(t);return document.fonts.load("".concat(d,"px ").concat(m)).then((function(){var e=function(e){var t=e.width,n=e.height,r=e.text,o=e.fontSize,a=e.fontFamily;return'\n<svg width="'.concat(t,'" height="').concat(n,'">\n  <text x="0" y="50%" text-anchor="left" dominant-baseline="central">\n    ').concat(r.map((function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")})).map((function(e){return'<tspan x="0" alignment-baseline="middle" style="font-size: '.concat(o,"px; font-family: ").concat(a,'; white-space: pre; -webkit-font-kerning: none; font-kerning: none;">').concat(e,"</tspan>")})).join(""),"\n  </text>\n</svg>")}({width:s,height:u,text:Sp(i),fontSize:d,fontFamily:m}),t=document.createElement("div");t.setAttribute("style","position: absolute; top: 0; left: -".concat(s+100,"px; width: ").concat(s,"px; overflow: hidden;")),t.innerHTML=e;var n=t.querySelector("text"),r=_p(t.querySelectorAll("tspan"));document.getElementsByTagName("body")[0].appendChild(t);var o=function(){return parseFloat(r[0].style.fontSize)},c=function(){return n.getBBox().width},l=function(){return a===kp?n.getBBox().height*i.length:o()*a*i.length};return{SVG_WIDTH:s,SVG_HEIGHT:u,getFontSizeInPx:o,setFontSizeInPx:function(e){r.forEach((function(t){t.style.fontSize="".concat(e,"px")}))},getTextWidthInPx:c,getTextHeightInPx:l,getTextWidth:function(){return c()/s},getTextHeight:function(){return l()/u},destroy:function(){return t.parentNode.removeChild(t)}}}))},Bp=function(e,t,n){return{width:t,height:n,x:e.x+(e.width-t)/2,y:e.y+(e.height-n)/2}},jp=function(e,t,n){var r=e.width,o=e.height,a=t||{},i=a.x,c=a.y,l=a.width,s=a.height;return{x:Math.min(40/("landscape"===n?1920:1080),.1*r,t&&i>=0?i:1,t&&i+l<=1?1-(i+l):1),y:Math.min(40/("portrait"===n?1920:1080),.1*o,t&&c>=0?c:1,t&&c+s<=1?1-(c+s):1)}},Lp=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:jp(e,null,t),r=function(e,t,n,r){return e>1-n?Math.max(0,1-t*(1+r)):e+t<n?t*r:e},o=2/("portrait"===t?1920:1080),a=2/("landscape"===t?1920:1080),i=e.x,c=e.y,l=e.width,s=e.height;return{x:r(i,l,a,n.x),y:r(c,s,o,n.y),width:l,height:s}},Pp=function(e,t,n){var r=e.x,o=e.y,a=e.width,i=e.height,c=t.x,l=t.y,s=t.width,u=t.height,d=jp(e,t,n),m=1/(1+2*d.x),p=1/(1+2*d.y),f=1;if(a>m&&c>=0&&c+s<=1&&(f=Math.min(f,m/a)),i>p&&l>=0&&l+u<=1&&(f=Math.min(f,p/i)),1!==f){var h=Bp(e,a*f,i*f);r=h.x,o=h.y,a=h.width,i=h.height}return c>=0&&r<0&&(r=d.x),l>=0&&o<0&&(o=d.y),c+s<=1&&r+a>1&&(r=1-(a+d.x)),l+u<=1&&o+i>1&&(o=1-(i+d.y)),[Lp({x:r,y:o,width:a,height:i},n,d),f]},Np=function(e){var t,n=e.text,r=e.font,o=e.fontSize,a=e.lineHeight,i=void 0===a?kp:a,c=e.prevRect,l=e.orientation;return Mp({text:n,font:r,fontSize:o,lineHeight:i,orientation:l}).then((function(e){t=e;var n=e.getTextWidth(),r=e.getTextHeight();return Bp(c,n,r)})).finally((function(){t&&t.destroy()}))};function Dp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dp(Object(n),!0).forEach((function(t){zp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Up=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Rp({top:0,right:0,bottom:0,left:0},t);return{x:e.x-e.width*n.left,y:e.y-e.height*n.top,width:e.width*(1+n.left+n.right),height:e.height*(1+n.top+n.bottom)}},Fp=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=t.w_h_ratio,o=void 0===r?-1:r,a=t.vertical_direction,i=t.horizontal_direction;if(-1===o)return e;var c=o/n,l=e.width,s=e.height,u=Math.max(l,s*c),d=Math.max(s,l/c);return{x:e.x-("left"===i?u-l:"right"===i?0:(u-l)/2),y:e.y-("top"===a?d-s:"bottom"===a?0:(d-s)/2),width:u,height:d}},Hp=function(e){var t=Math.sqrt(2),n=(t-1)/2;return{x:e.x-e.width*n,y:e.y-e.height*n,width:e.width*t,height:e.height*t}},Vp={square:1,landscape:16/9,portrait:9/16},Wp=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.bg_padding,o=t.expand_parameters,a=n.isCircle,i=void 0!==a&&a,c=n.whUnitsRatio,l=void 0===c?1:c;"string"==typeof l&&(l=Vp[l]);var s=Up(e,r),u=Fp(s,o,l),d=i?Hp(u):u;return d},Gp=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0===t.width?1:n.width/t.width,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0===t.height?1:n.height/t.height,a=n.x-t.x+(e.x-t.x)*(r-1),i=n.y-t.y+(e.y-t.y)*(o-1),c={x:e.x+a,y:e.y+i,width:e.width*r,height:e.height*o};return c};function Yp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return qp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qp(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Zp(e){var t=e.text,n=e.font,r=e.baseFontSize,o=e.textStyleId,a=e.size,i=e.position,c=e.orientation,l=e.fonts,s=e.textStickerAssets,u=e.staticParameters,d=s[o].metaData,m=l[n].metaData.lineHeight;return Np({text:t,font:n,fontSize:r,lineHeight:m,prevRect:i,orientation:c}).then((function(e){if("fitToPosition"===a){var t=Wp(e,d,{isCircle:o===es,whUnitsRatio:c}),n=Yp(function(e,t,n){var r=n.AUTO_LAYOUT_DEFAULT_TEXT_AREA,o=e.width*e.height,a=t.width*t.height*r,i=Math.min(Math.sqrt(a/o),.9*t.width/e.width,.9*t.height/e.height);return[Bp(t,e.width*i,e.height*i),i]}(t,i,u),2),l=n[0],s=n[1];return{rect:Gp(e,t,l,s,s),fontSize:r*s}}if("byFontSize"===a)return{rect:e,fontSize:r};throw new Error('Trying to create text sticker with unsupported size rule: "'.concat(a,'"'))}))}function Xp(e){var t=e.text,n=e.font,r=e.prevRect,o=e.prevFontSize,a=e.textStyleId,i=e.align,c=e.orientation,l=e.fonts,s=e.textStickerAssets[a].metaData,u=a===es,d=Wp(r,s,{whUnitsRatio:c,isCircle:u}),m=l[n].metaData.lineHeight;return Np({text:t,font:n,fontSize:o,lineHeight:m,prevRect:r,orientation:c}).then((function(e){var t=Wp(e,s,{whUnitsRatio:c,isCircle:u}),n=s.defaults.scale;if("Font"===n){var r=function(e,t,n){var r=n.align,o=n.orientation,a=e.width,i=e.height,c=t.x,l=t.y,s=t.width,u=t.height,d=2/("portrait"===o?1920:1080),m={x:function(){switch(r){case"center":return c+(s-a)/2;case"left":return c;case"right":return c+s-a;default:return Op.error('expandRect: Unexpected alignment "'.concat(r,'"')),c}}(),y:function(){var e=30/("portrait"===o?1920:1080);if(Math.abs(1-2*l-u)<e)return l+(u-i)/2;var t=1-(l+u);return l<t&&l>=-d||t<-d?l:1-(t+i)}(),width:a,height:i};return Lp(m,o)}(t,d,{align:i,orientation:c});return{rect:Gp(e,t,r),fontSize:o}}if("Box"===n){var l=d,m=Gp(e,t,l),p=20/("portrait"===c?1920:1080)/o,f=m.height/e.height;if(f<p){var h=Yp(Pp(Lp(Bp(d,d.width*(p/f),d.height*(p/f)),c),d,c),2);l=h[0],f=p*h[1],m=Gp(e,t,l)}return{rect:m,fontSize:o*f}}throw new Error('Text sticker "'.concat(a,'" has unsupported scale rule: "').concat(n,'"'))}))}function Kp(e){var t=e.text,n=e.font,r=e.ce,o=e.orientation,a=e.fonts,i=e.textStickerAssets;return Xp({text:t,font:n,prevRect:r.rect,prevFontSize:r.fontSize,textStyleId:r.textStyleId,align:r.align,orientation:o,fonts:a,textStickerAssets:i})}var Qp=(0,il.P1)((function(e){return e.fontsSettings.fonts}),(function(e){var t={};return Object.values(e).forEach((function(e){t[e.family]?t[e.family].push(e):t[e.family]=[e]})),Object.values(t).map((function(e){return e.sort((function(e,t){return e.order-t.order}))})).sort((function(e,t){return e[0].order-t[0].order}))})),$p=(0,il.P1)((function(e){return e.fontsSettings.fonts}),(function(e){var t={};return Object.values(e).forEach((function(e){e.languages.forEach((function(n){var r=n.scriptCodeISO15924,o=t[r];o?o.families.has(e.family)||(o.families.add(e.family),o.fonts.push(e)):t[r]={languageObject:n,fonts:[e],families:new Set([e.family])}}))})),Object.values(t).forEach((function(e){return e.fonts.sort((function(e,t){return e.order-t.order}))})),t})),Jp=(0,il.P1)((function(e){return $p(e)}),(function(e){return Object.values(e).map((function(e){return e.languageObject}))})),ef=function(e,t){var n=e.match(t);return n?n.length:0},tf={getNumberOfCharsByLanguage:function(e,t){return ef(e,new RegExp("\\p{Script=".concat(t.scriptCodeISO15924,"}"),"ug"))}},nf=function(){return new Promise((function(e){(function(){try{var e="",t=new RegExp("\\p{Script=Cyrl}","ug"),n=e.match(t);return!!n&&n.length===e.length}catch(e){return!1}})()?e(tf):Promise.all([n.e(941),n.e(934)]).then(n.bind(n,525916885739531)).then((function(t){var n=t.XRegExp;e(function(e){return{getNumberOfCharsByLanguage:function(t,n){return ef(t,e("\\p{".concat(n.xregexp,"}"),"ug"))}}}(n))}))}))},rf=function(){return nf().then((function(e){return function(t,n){var r={name:Kn,charsCount:0},o=t.map((function(e){return e.trim()})).join("");return n.forEach((function(t){if(t.scriptCodeISO15924!==Kn){var n=e.getNumberOfCharsByLanguage(o,t);n&&n>r.charsCount&&(r={name:t.scriptCodeISO15924,charsCount:n})}})),r.name}}))};function of(e,t){var n=t.language,r=t.fonts,o=t.languageFonts,a=e&&r[e];if(!a)return null;if(!!a.languages.find((function(e){return e.scriptCodeISO15924===n})))return a;var i=a.family;return o.find((function(e){return e.family===i}))}function af(e){var t=e.desiredFont,n=void 0===t?null:t,r=e.language,o=e.state,a=o.storyBoard.videoBranding.font,i=o.fontsSettings,c=i.fonts,l=i.brand,s=o.staticParameters.FONT_FALLBACK,u=$p(o)[r].fonts,d={language:r,fonts:c,languageFonts:u};return(of(n,d)||of(a,d)||of(l,d)||function(e,t){return t.find((function(t){return t.languages.find((function(t){return t.scriptCodeISO15924===e})).preferred}))}(r,u)||of(s,d)||u[0]).name}function cf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cf(Object(n),!0).forEach((function(t){sf(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function sf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return df(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return df(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function df(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var mf="ADD_TEXT_COMPOSITION_ELEMENT",pf="UPDATE_TEXT_CONTENT",ff="UPDATE_TEXT_FONT_SIZE",hf="UPDATE_TEXT_STYLE",gf="UPDATE_TEXT_PROPERTIES",yf="UPDATE_TEXT_RECT",bf="DETECT_TEXT_LANGUAGE";function vf(e,t){var n=t.text,r=t.currentMasterTime,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return function(t,a){var i=a(),c=i.storyBoard,l=c.scenes,s=c.orientation,u=c.videoBranding,d=i.fontsSettings.fonts,m=i.textStickerAssets,p=i.staticParameters,f=i.layouts,h=p.DEFAULT_TEXT_STYLE,g=p.DEFAULT_HIGHLIGHT_COLOR,y=p.TEXT_STICKER_DEFAULT_DURATION,b=Jp(i);rf().then((function(a){var c=a(n,b),v=af({language:c,state:i}),E=h,w=l.find((function(t){return t.id===e})),A=w.getLayout(f,s),C=A.defaultTextPosition||Gn,S=w.getOptimalFontSize(A.id),_=w.isLayoutDirty(A.id),x=0===w.getTextElements().length,I=uf(_||x?[Xn,C]:[Zn,Yn],2),O=I[0],k=I[1];Zp({text:n,font:v,baseFontSize:S,textStyleId:E,orientation:s,position:k,size:O,fonts:d,textStickerAssets:m,staticParameters:p}).then((function(a){var i=a.rect,l=a.fontSize,s=m[E].metaData,d="ce_".concat(Ts,"_").concat(Lo()),f=cs({scene:w,currentMasterTime:r,minStickerDuration:p.MIN_STICKER_DURATION,defaultDuration:y}),h=lf(lf({},Pu({type:Ts,id:d,selectable:!0,draggable:!0,resizeable:!0,zindex:Ku(w.composition),rect:i,rect_from_layout:!0})),{},{globalId:null,textStyleId:E,language:c,colors:{fontColor:u.colors.default,colorOne:u.colors.secondary,highlight:g},font:v,fontSize:l,align:s.defaults.alignment,text:n,bgAlpha:s.defaults.bg_alpha,dropShadow:Zs,timing:f});(0,T.dC)((function(){t({type:mf,sceneId:e,payload:{ce:h}}),t(Jh(e,d,_)),o&&t(gh(h))}))}))}))}}function Ef(e,t,n){var r=n.text,o=void 0===r?t.text:r,a=n.font,i=void 0===a?t.font:a,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},l=c.updateDefaultFont,s=void 0===l||l;return function(n,r){var a=t.id,c=r(),l=c.storyBoard.orientation,u=c.fontsSettings.fonts,d=c.textStickerAssets,m=Jp(c);rf().then((function(r){var p=r(o,m),f=af({desiredFont:i,language:p,state:c});Kp({text:o,font:f,ce:t,orientation:l,fonts:u,textStickerAssets:d}).then((function(t){var r=t.rect,i=t.fontSize;return(0,T.dC)((function(){n({type:pf,sceneId:e,selectedCEId:a,payload:{text:o,font:f,rect:r,fontSize:i,language:p},updateDefaultFont:s}),n(Jh(e,a,!1))}))}))}))}}function wf(e,t,n,r){return function(o,a){var i=n;if(null===i){var c=a().storyBoard,l=c.scenes,s=c.orientation,u=l.find((function(t){return t.id===e})).composition[t],d=u.rect,m=u.fontSize,p=r/m;i=ym(hm(d,d.width*p,d.height*p),s)}(0,T.dC)((function(){o({type:yf,sceneId:e,selectedCEId:t,payload:{rect:i,fontSize:r}}),o(Jh(e,t,!0))}))}}function Af(){return function(e,t){return rf().then((function(n){var r=t(),o=r.storyBoard,a=Jp(r);o.scenes.length>0&&a.length>0&&(0,T.dC)((function(){o.getTextElements().forEach((function(t){var r=t.sceneId,o=t.ce;if(!o.language){var i=n(o.text,a);e({type:bf,sceneId:r,selectedCEId:o.id,payload:{language:i}})}}))}))}))}}function Cf(){return function(e,t){var n=t(),r=n.storyBoard,o=n.fontsSettings.fonts;r.scenes.length>0&&Object.keys(o).length>0&&(0,T.dC)((function(){var t=!1;r.getTextElements().forEach((function(n){var r=n.sceneId,a=n.ce;o[a.font]||(e(Ef(r,a,{font:null},{updateDefaultFont:!1})),t=!0)})),t&&e(td({title:oe.FontsReplacedTitle,content:oe.FontsReplacedBody,primaryBtnConfig:{caption:oe.FontsReplacedActionContinue},secondaryBtnConfig:{caption:oe.FontsReplacedActionCancel,callback:function(){return Gc.toDrafts()},closeNotificationOnClick:!1}}))}))}}function Sf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function If(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xf(Object(n),!0).forEach((function(t){Tf(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Tf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Of="VIDEO_HASH_SUCCESSORS_UPDATE";function kf(e){var t=e.prevVideoHash,n=e.nextVideoHash;return function(e,r){var o=r().videoSession.videoHashSuccessors,a=If(If({},o),{},Tf({},t,n));Object.entries(o).forEach((function(e){var r=Sf(e,2),o=r[0];r[1]===t&&(a[o]=n)})),e({type:Of,payload:{videoHashSuccessors:a}}),Gc.toEditVideo({videoHash:n})}}function Mf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mf(Object(n),!0).forEach((function(t){jf(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function jf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lf(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Pf="EMPTY",Nf="LOADING",Df="UPDATING",Rf="REFRESHING",zf="BEING_RENDERED",Uf="READY",Ff="ERROR",Hf="SAVING";function Vf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||Yf(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wf(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Gf(e){return function(e){if(Array.isArray(e))return qf(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Yf(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yf(e,t){if(e){if("string"==typeof e)return qf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qf(e,t):void 0}}function qf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Zf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zf(Object(n),!0).forEach((function(t){Kf(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Kf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Qf=S("StoryboardAction");function $f(e){return{type:fd.UPDATE_STORYBOARD_STATUS,payload:{storyboardStatus:e}}}function Jf(e){return function(t){t({type:fd.SET_LAST_ADDED_OR_EDITED_SCENE_ID,payload:{sceneId:e}})}}function eh(e){return function(t,n){var r=n().featureToggles;(0,T.dC)((function(){if(e.scenesGroups&&e.scenesGroups.length){var n=e.scenes.find((function(e){return e.hasBRolls||e.isBRoll}));t(Ml(Pl,n?"editor_load_cutaway_sequence":"editor_load_potential_aroll",!0))}t({type:fd.FETCH_DATA_SUCCESS,payload:{storyboard:Xf(Xf({},e),{},{selectedSceneId:e.scenes[0].id,selectedCompositionId:null,isExpandMode:r.values.startWithExpandedStoryboard})}})}))}}function th(e){var t=e.vsid,n=e.videoHash;return{type:fd.IS_BEING_RENDERED,payload:{vsid:t,videoHash:n}}}function nh(){return function(e,t){var n=t(),r=n.storyBoard.scenes,o=n.textStickerAssets;r.length>0&&Object.keys(o).length>0&&r.forEach((function(t){e(eg(t))}))}}function rh(e){return{type:fd.UPDATE_PROJECT_NAME,payload:{name:e}}}function oh(e){return function(t,n){if(e.isAxiosError){var r=n().storyBoard.storyboardStatus,o=!e.response||"ECONNABORTED"===e.code||e.response&&e.response.status>=500;t(td({title:o?oe.ConnectivityErrorTitle:oe.DataErrorTitle,content:o?oe.ConnectivityErrorBody:oe.DataErrorOnGetStoryboardBody,primaryBtnConfig:{caption:r===Ff?oe.ConnectivityErrorActionReload:oe.ConnectivityErrorActionOK,callback:function(){r===Ff&&window.location.reload()},closeNotificationOnClick:r!==Ff}}))}}}function ah(e){return function(t){Qf.error("Loading storyboard failed",e),(0,T.dC)((function(){t($f(Ff)),t(oh(e))}))}}function ih(e){return function(t){(0,T.dC)((function(){var n=e.brand,r=e.custom;n&&t(lp(Cs,n)),r&&t(lp(Ss,r))}))}}function ch(e){return{type:fd.ADD_ADDITIONAL_FONTS,payload:{additionalFonts:e}}}function lh(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.refresh,o=void 0!==r&&r;return function(n){return n($f(o?Rf:Nf)),rp(e,t).then((function(t){var r=t.vimeoVideoId,o=t.isBeingRendered,a=t.storyboard,i=t.layouts,c=t.requiredCapabilities,l=t.additionalFonts,s=t.additionalColorPalettes,u=t.unsupportedFeature;if(r)return Gc.toVideo({videoId:r}),void n(dh());if(u&&n(up(u)),Jo.init({has_medialib:!0},a.vsid,null,null,oe.UploadApi),bi({key:"vsid",value:String(a.vsid)}),o){var d=a.vsid;n(th({vsid:d,videoHash:e}))}else(0,T.dC)((function(){e!==a.videoHash&&n(kf({prevVideoHash:e,nextVideoHash:a.videoHash})),n(eh(a)),n($d()),n(vd(i)),n(ih(s)),n(ch(l)),n(nh()),n(Af()),n(Cf()),n(hp(c)),n(ud())}))})).catch((function(e){return n(ah(e))}))}}function sh(e,t){return lh(e,t,{refresh:!0})}function uh(e){return function(t){Qf.error("Modify storyboard failed",e),(0,T.dC)((function(){t((function(e,t){var n=t().history.undoSnapshots.next;e({type:qd,payload:{undoSnapshots:n,redoSnapshots:null}})})),t($f(Uf)),t(oh(e))}))}}function dh(){return{type:fd.RESET_STORYBOARD}}function mh(e,t,n,r){return function(o,a){var i=a().storyBoard;return o(Zd({actionDescription:n})),o($f(Df)),op(e,t,null!=r?r:i).then((function(t){var n=t.newStoryboard,r=t.newLayouts,a=t.additionalColorPalettes,i=t.additionalFonts;(0,T.dC)((function(){var t,c;o((t=n,c=e,function(e){(0,T.dC)((function(){"trim"===c&&t.scenesGroups&&t.scenesGroups.length&&e(Ml(Pl,"Trim",!0)),e({type:fd.UPDATE_STORYBOARD_DATA_SUCCESS,payload:{storyboard:t}})}))})),o(vd(r)),o(ih(a)),o(ch(i)),o(nh()),o(Af()),o(Cf())}))})).catch((function(e){return o(uh(e))}))}}function ph(e){return{type:fd.SET_MOVIE_LENGTH_OUTDATED,payload:{outdatedMovieLength:e}}}function fh(){return function(e,t){var n,r,o=t().storyBoard;"done"===o.processState&&(e(ph(!0)),(n=o,r=o.lastRevision,new Promise((function(e,t){var o={storyboard:Zm(n,r)},a=++ap;Ht.post("/api/storyboard/duration/".concat(n.videoHash),o).then((function(n){var r=n.data,o=r.movie_length,i=r.scenes,c=r.thresh_exceed,l=r.premium_thresh;return a<ap?t():e({movieLength:o,scenesDurationMap:i,movieDurationAccountThreshold:l,durationThreshExceed:!!c})})).catch((function(e){return t(e)}))}))).then((function(t){var n=t.movieLength,r=t.scenesDurationMap,o=t.durationThreshExceed,a=t.movieDurationAccountThreshold;(0,T.dC)((function(){e({type:fd.FETCH_MOVIE_LENGTH_SUCCESS,payload:{movieLength:n,durationThreshExceed:o,movieDurationAccountThreshold:a}}),Object.keys(r).forEach((function(t){var n,o;e((n=t,o=r[t],function(e,t){var r=t().storyBoard.scenes.find((function(e){return e.id===n})),a=r.getMasterTimingElement(),i={start:a.timing.start,end:a.timing.start+o};r.isStatic()&&!m(i,a.timing)&&(e(ld(a.id,{timing:i},r.id)),e(Kh(r.id)))}))})),e((function(e,t){var n=t(),r=n.storyBoard,o=r.scenes,a=r.lastAddedOrEditedSceneId,i=n.staticParameters.AROLL_PART_DURATION,c=n.sceneMenu.scene,l=o.find((function(e){return e.id===a}));if(a)if(l.isBRoll){var s=l.aRollId?l.aRollId:c.aRollId,u=0,d=0,m=0;o.forEach((function(e,t){e.id===s?u=e.getDuration():e.aRollId===s&&(e.id!==l.id&&(d+=e.getDuration()),m=t)}));var p=Gf(o);if(u-d-i<l.getDuration()){var f=o.findIndex((function(e){return e.id===l.id})),h=p[f],g=(h.isBRoll,h.aRollId,h.aRollDuration,Wf(h,["isBRoll","aRollId","aRollDuration"]));p.splice(f,1),p.splice(m,0,g),e({type:fd.EXTRACT_DURATION_EXCEEDING_SCENES,payload:{newScenes:p}})}e(Jf(""))}else e(Jf(""))})),e(ph(!1)),e((function(e,t){var n=t().storyBoard.scenes,r=new Map(n.map((function(e){return[e.id,e.getDuration()]}))),o=n.map((function(e){return e.isBRoll?Xf(Xf({},e),{},{aRollDuration:r.get(e.aRollId)}):e}));e({type:fd.UPDATE_AROLL_DURATION,payload:{newScenes:o}})}))}))})).catch((function(t){return e(function(e){return{type:fd.FETCH_MOVIE_LENGTH_FAILURE,payload:{error:e}}}(t))})))}}function hh(e){return{type:fd.SELECT_SCENE,payload:Xf({},e)}}function gh(e){var t=e?e.id:null;return{type:fd.SELECT_COMPOSITION_ELEMENT,payload:{selectedCompositionId:t}}}function yh(e){return function(t,n){var r=n().storyBoard.scenes.find((function(t){return t.id===e})).getMasterTimingElement().id;t({type:fd.SELECT_COMPOSITION_ELEMENT,payload:{selectedCompositionId:r}})}}function bh(e){var t=e.sceneMenu,n=t.scene,r=t.insertAtIndex,o=e.storyBoard,a=o.selectedSceneId,i=o.scenes,c={},l=n.isBRoll,s=n.aRollId,u=n.aRollDuration,d=null!=r?r:i.findIndex((function(e){return e.id===a})),m=i[d];if(n.isBRoll)c={isBRoll:l,aRollId:s,aRollDuration:u};else if(m&&(m.isARoll||m.isBRoll))for(var p=d+1;p<i.length&&i[p].isBRoll;p++)d++;return[c,d]}function vh(e){var t=e.text;return function(e,n){var r=n(),o=r.storyBoard.scenes,a=r.staticParameters.TEXT_STICKER_LAYOUT_ID,i="new_text_".concat(Lo()),c=Zu({id:i,hidden:!1,auto_duration:!0,scene_duration:{start_time:0,end_time:0},duration:3,composition:[],layout_id:a}),l=o.find((function(e){return!e.isBCard()&&e.ready})).composition.logo_watermark;l&&(c.composition.logo_watermark=l);var s=Vf(bh(n()),2),u=s[0],d=s[1];c=Xf(Xf({},c),u),(0,T.dC)((function(){c.isBRoll&&e(Jf(c.id)),e({type:fd.ADD_NEW_TEXT_SLIDE,payload:{scene:c,insertionIndex:d}}),e(function(e){return function(t,n){var r=n(),o=r.storyBoard,a=r.staticParameters.TEXT_STICKER_LAYOUT_ID,i=o.orientation,c={};c[e]=[Wu(i,a)],t(Ed(e,c))}}(i)),e(vf(i,{text:t},!1))}))}}function Eh(e){return function(t,n){var r=n().storyBoard,o=r.scenes,a=r.selectedSceneId,i=o.findIndex((function(e){return e.id===a})),c=o[i],l=e||a,s=o.findIndex((function(e){return e.id===l})),u=o[s];if(u){var d=i,m=!1;if(l===a)d=Math.max(0,s-1),m=!0;else if(u.isARoll&&u.id===c.aRollId){for(;d>0&&(o[d].aRollId===l||o[d].isARoll);)d--;m=!0}var p=o.filter((function(e){return e.id!==l&&e.aRollId!==l})),f=p;if(u.isBRoll)0===p.filter((function(e){return e.aRollId===u.aRollId})).length&&(f=p.map((function(e){return e.id===u.aRollId?Xf(Xf({},e),{},{hasBRolls:!1}):e})));(0,T.dC)((function(){l.startsWith(As)&&t((function(e,t){var n=Xf(Xf({},t().storyBoard.videoBranding),{},{brandScene:!1});e({type:fd.DELETE_BRANDING_SCENE_BY_USERT,payload:{videoBranding:n}})})),t({type:fd.DELETE_SCENE,scenes:f,selectedSceneId:m?f[d].id:a})}))}}}function wh(e){return function(t,n){var r=n().storyBoard,o=r.scenes,a=r.selectedSceneId,i=o.findIndex((function(t){return t.id===e})),c=o.map((function(t){return t.id===e?t.replacedScene:t})),l=a===e?o[i].replacedScene.id:a;t({type:fd.REPLACE_MEDIA_FAILED,payload:{scenes:c,selectedSceneId:l}})}}function Ah(e){return function(t,n){var r=e.font,o=e.logoToggle,a=e.outroToggle,i=e.colorPrimary,c=e.colorSecondary,l=e.colorDefault,s=n(),u=s.colorPalettes,d=s.fontsSettings,m=s.storyBoard,p={brandScene:a,logoWatermark:o,logoWatermarkPosition:"top_left",applyColors:!1,applyFont:!1};r&&(p.font=r,p.applyFont=p.font!==d.brand),(0,T.dC)((function(){var e={primary:i,secondary:c,default:l},n=ir(e);n&&(p.colors=cr(e)),p.applyColors=n&&!lr(e,u.brand);var r=m;p.applyColors&&(r=Xf(Xf({},m),{},{videoBranding:Xf(Xf({},m.videoBranding),{},{colors:Xf(Xf({},m.videoBranding.colors),e)})})),t(mh("branding",Nm(p),oe.ActionDescriptionChangeBrand,r))}))}}function Ch(){return function(e,t){var n=t().storyBoard,r=n.selectedSceneId,o=n.selectedCompositionId,a=n.scenes;if(r&&o){var i=a.find((function(e){return e.id===r})).composition[o];if(!as(i.type))return;e({type:fd.COPY_COMPOSITION_ELEMENT,payload:{selectedComposition:i}})}}}function Sh(e){var t=e.aRollSceneId,n=e.draggedSceneIndex,r=e.insertionIndexInGroup;return function(e,o){var a,i=o().storyBoard.scenes,c=i.findIndex((function(e){return e.id===t})),l=null===(a=i[c])||void 0===a?void 0:a.getDuration(),s=n<c?c-1:c,u=[].concat(Gf(i.slice(0,n)),Gf(i.slice(n+1))),d=i[n],m=s+r+1,p=[].concat(Gf(u.slice(0,m)),[Xf(Xf({},d),{},{aRollId:t,isBRoll:!0,hidden:!1})],Gf(u.slice(m))),f=p.filter((function(e){return e.aRollId===t})).length,h=p.map((function(e){return e.id===t?Xf(Xf({},e),{},{hasBRolls:f>0}):e.aRollId===t?Xf(Xf({},e),{},{hasBRolls:!1,aRollDuration:l}):e}));e({type:fd.ADD_NEW_BROLL,payload:{newScenes:h}})}}function _h(e){var t=e.sourceGroupARollId,n=e.targetGroupARollId,r=e.bRollCurrentIndex,o=e.bRollIndexInTargetGroup;return function(e,a){var i=Gf(a().storyBoard.scenes),c=Xf(Xf({},i.splice(r,1)[0]),{},{aRollId:n}),l=i.findIndex((function(e){return e.id===n})),s=i[l],u=l+(o+1);i.splice(u,0,c);var d=i.map((function(e){if(e.id===t){var r=-1!==i.findIndex((function(e){return e.aRollId===t}));return Xf(Xf({},e),{},{hasBRolls:r})}return e.aRollId===n?Xf(Xf({},e),{},{aRollDuration:s.getDuration()}):e.id===n?Xf(Xf({},e),{},{hasBRolls:!0}):e}));e({type:fd.MOVE_BROLL_BETWEEN_GROUPS,payload:{newScenes:d}})}}function xh(e){var t=e.aRollId,n=e.newDuration;return function(e,r){var o,a=r(),i=a.storyBoard.scenes,c=a.staticParameters.AROLL_PART_DURATION,l=null===(o=i.find((function(e){return e.id===t})))||void 0===o?void 0:o.getDuration(),s=function(e){var t=e.scenes,n=e.aRollSceneId,r=e.newDuration,o=e.partDuration,a=0,i=!1,c=!1;return t.map((function(e){return e.aRollId===n?r-o-a>=e.getDuration()&&!i?(c=!0,a+=e.getDuration(),e):(i=!0,e.isBRoll,e.aRollId,e.aRollDuration,Lf(e,["isBRoll","aRollId","aRollDuration"])):e})).map((function(e){return e.id===n?Bf(Bf({},e),{},{hasBRolls:c}):e}))}({scenes:i,aRollSceneId:t,newDuration:n||l,partDuration:c});e({type:fd.POP_BROLL_SCENE_OUT_OF_GROUP,payload:{newScenes:s}})}}function Ih(e,t,n){return function(r,o){var a=o(),i=a.storyBoard.scenes,c=a.staticParameters.MIN_AROLL_MEDIA_DURTION,l=i.find((function(t){return t.id===e})),s=l.composition[t];(0,T.dC)((function(){if(r({type:fd.UPDATE_COMPOSITION_ELEMENT_TIMING_BY_USER_BEGIN,selectedCEId:t,sceneId:e,payload:{timing:n}}),l.autoDuration&&r(ng({sceneId:e,autoDuration:!1})),l.isStatic()&&l.isOverlayTimingEqMasterTiming&&r(tg({sceneId:e,isOverlayTimingEqMasterTiming:!1})),s.isMaster()&&r(Kh(e)),(s.isMaster()||s.isTextSticker())&&r(eg(e)),s.isVideo()){var o=l.getDuration(),a=n.end-n.start;l.hasBRolls&&a<o&&r(xh({aRollId:e,newDuration:a}));var i=l.isMutable()&&a>c;l.isARoll!==i&&r(function(e){var t=e.sceneId,n=e.isARollPotential;return{type:Zh,sceneId:t,payload:{isARoll:n}}}({sceneId:e,isARollPotential:i}))}r({type:fd.UPDATE_COMPOSITION_ELEMENT_TIMING_BY_USER_END,payload:{}})}))}}function Th(e){return(Th="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oh(Object(n),!0).forEach((function(t){Mh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Mh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Bh,jh="UPDATE_SCENE",Lh="UPDATE_SCENE_DURATION",Ph="UPDATE_IMAGE_STICKER_SUCCESS",Nh="UPDATE_SCENE_LAYOUT",Dh="UPDATE_SCENE_UPLOAD_PROGRESS",Rh="ADD_IMAGE_STICKER",zh="DUPLICATE_COMPOSITION_ELEMENT",Uh="DELETE_COMPOSITION_ELEMENT",Fh="CHANGE_COMPOSITION_ELEMENT_ZINDEX",Hh="UPDATE_TEMPLATE_HINT",Vh="UPDATE_SCENE_TEXT_POSITIONS",Wh="UPDATE_SCENE_DIRTINESS",Gh="UPDATE_LAYOUT_TEXT_POSITION",Yh="RESET_LAYOUT_TEXT_POSITION",qh="UPDATE_SCENE_DURATION_MODE",Zh="UPDATE_SCENE_IS_AROLL_POTENTIAL",Xh="UPDATE_SCENE_OVERLAY_TIMING_MODE";function Kh(e,t){return function(n,r){var o=r().storyBoard.scenes.find((function(t){return t.id===e})),a=o.getMasterTiming(),i=t?a.start-t.getMasterTiming().start:0,c=r().staticParameters.MIN_STICKER_DURATION;(0,T.dC)((function(){return is({scene:o,masterTiming:a,isOverlayTimingEqMasterTiming:o.isOverlayTimingEqMasterTiming,masterTimingOffset:i,MIN_STICKER_DURATION:c}).forEach((function(e){var t=e.stickerId,r=e.stickerTiming;return n(ld(t,{timing:r},o.id))}))}))}}function Qh(e,t){return{type:Gh,sceneId:e,payload:{layoutsTextConfigurationMap:t}}}function $h(e,t,n){return function(r,o){var a=o(),i=a.storyBoard,c=a.textStickerAssets,l=a.staticParameters,s=i.orientation,u=i.scenes.find((function(t){return t.id===e})),d=(n||u.getTextElements(u.composition)).map((function(e){return kh(kh({},e),{},{userRect:im(e.rect,c[e.textStyleId].metaData,{isCircle:e.textStyleId===es,whUnitsRatio:s})})}));xm(d).forEach((function(e){var n=_m(e),o=Tm(n,t.defaultTextPosition,l);n.forEach((function(e,t){var n={rect:kh({},o[t].rect),fontSize:o[t].fontSize};r(ld(e.id,n,u.id))}))})),n||r(function(e){return function(t){var n=kh({},e.layoutsTextConfigurationMap);n[e.layoutId]&&(delete n[e.layoutId],t({type:Yh,sceneId:e.id,payload:{layoutsTextConfigurationMap:n}}))}}(u))}}function Jh(e,t,n){return function(r,o){var a=o(),i=a.storyBoard,c=i.scenes,l=i.orientation,s=a.layouts,u=c.find((function(t){return t.id===e}));if(!u.isBCard()){var d=u.composition[t],m=u.layoutId;if(u.isLayoutDirty(m)){var p=kh(kh({},u.layoutsTextConfigurationMap),{},Mh({},m,kh(kh({},u.layoutsTextConfigurationMap[m]),{},Mh({},t,{rect:kh({},d.rect),fontSize:d.fontSize}))));r(Qh(u.id,p))}else if(n){var f=kh(kh({},u.layoutsTextConfigurationMap),{},Mh({},m,{}));u.getTextElements(u.composition).forEach((function(e){f[m][e.id]={rect:kh({},e.rect),fontSize:e.fontSize}})),r(Qh(u.id,f))}else{var h=u.getLayout(s,l);r($h(u.id,h))}}}}function eg(e){return function(t,n){var r;if("object"===Th(e))r=e;else{var o=e;r=n().storyBoard.scenes.find((function(e){return e.id===o}))}if(!r.isBCard()&&r.ready){var a=n(),i=a.storyBoard,c=a.textStickerAssets,l=a.staticParameters,s=a.layouts,u=r.layoutId,d=r.getLayout(s,i.orientation),m=r.getTextElements(r.composition),p={};Om(m,d.defaultTextPosition,c,i.orientation,l)||(p[u]={},m.forEach((function(e){p[u][e.id]={rect:kh({},e.rect),fontSize:e.fontSize}})),t({type:Wh,sceneId:r.id,payload:{layoutsTextConfigurationMap:p}}))}}}function tg(e){var t=e.sceneId,n=e.isOverlayTimingEqMasterTiming;return{type:Xh,sceneId:t,payload:{isOverlayTimingEqMasterTiming:n}}}function ng(e){var t=e.sceneId,n=e.autoDuration;return{type:qh,sceneId:t,payload:{autoDuration:n}}}function rg(e,t,n,r){return function(o,a){var i=a(),c=i.stageSize,l=i.staticParameters,s=bs(i).currentTime,u=l.IMAGE_STICKER_DEFAULT_DURATION,d=hs(i),m=kh({},d.composition),p=cs({scene:d,currentMasterTime:s,minStickerDuration:l.MIN_STICKER_DURATION,defaultDuration:u}),f=function(e){var t,n=e.x,r=e.y,o=e.zindex,a=e.name,i=e.file,c=e.sourceHash,l=ks(e,["x","y","zindex","name","file","sourceHash"]);return i&&((t=new Blob([i],{type:i.type})).name=i.name),Bs(Bs({},Pu({id:"imageStickerPlaceholder_".concat(Po()),selectable:!1,draggable:!1,resizeable:!1,zindex:1,rect:{width:.33,height:.33,x:n,y:r},type:_s,rect_from_layout:!1})),{},{rotatable:!1,flip:{horizontal:!1,vertical:!1},rotate:0,mediaPath:"",sourceFootageRect:{x:0,y:0,width:1,height:1},sourceHash:c||"",subtype:"plain",zindex:o,maintainLocation:!1,width:0,height:0,bgColor:"#ffffff",bgAlpha:0,ready:!1,rectFromLayout:!1,name:a,file:t},l)}(kh({x:(c.width/2-80)/c.width,y:(c.height/2-80)/c.height,zindex:Ku(m)+1,name:e,file:t,sourceHash:n,timing:p},r));(0,T.dC)((function(){var e;o(Jf(d.id)),o((e=f,function(t){(0,T.dC)((function(){t(Zd({addedPlaceholderId:e.id})),t({type:Rh,payload:{ce:e}})}))}))}))}}function og(e){var t=e.sceneId,n=e.ceId,r=e.ceData,o=e.stickerRectsByOrientation;return function(e,a){var i=a().storyBoard.orientation,c=a().storyBoard.scenes.find((function(e){return e.id===t})),l=c.composition[n];r.rect=o[i];var s={};l.maintainLocation&&(s.rect=kh(kh({},r.rect),{},{x:Math.max(0,Math.min(l.rect.x+(l.rect.width-r.rect.width)/2,1-r.rect.width)),y:Math.max(0,Math.min(l.rect.y+(l.rect.height-r.rect.height)/2,1-r.rect.height))}),s.rotate=l.rotate,s.style=l.style);var u=kh(kh({},Nu("SceneActionImageStickerLoaded scene_id='".concat(t,"'"),r,null,{masterTiming:{start:0,end:1e6}})),{},{ready:!0,zindex:l.zindex,timing:l.timing},s),d=kh(kh({},c.composition),{},Mh({},r.id,u));delete d[n],(0,T.dC)((function(){e({type:Ph,sceneId:c.id,payload:{composition:d}}),e(gh(u)),e(Xd(Ld,{id:n,sceneId:c.id},{ce:u},{selectedCompositionId:u.id}))}))}}function ag(e,t){return function(n,r){var o=r(),a=o.layouts,i=o.storyBoard.orientation,c=t||hs(r()),l={};if(Object.keys(c.layoutsTextConfigurationMap).forEach((function(t){l[t]=kh({},c.layoutsTextConfigurationMap[t]),delete l[t][e.id]})),n({type:Uh,payload:kh(kh({},e),{},{layoutsTextConfigurationMap:l}),sceneId:c.id}),!c.isLayoutDirty(c.layoutId)){var s=c.getLayout(a,i);n($h(c.id,s))}}}function ig(e,t){return function(n){(0,T.dC)((function(){n(Zd()),n(ag(e,t))}))}}function cg(e,t){var n=e.file,r=e.sourceHash,o=e.name;return function(e,a){var i=a().stageSize,c={width:160/i.width,height:160/i.height},l=null;t&&(l={style:t.style,rect:{width:c.width,height:c.height,x:Math.max(0,Math.min(t.rect.x+t.rect.width/2-c.width/2,1-c.width)),y:Math.max(0,Math.min(t.rect.y+t.rect.height/2-c.height/2,1-c.height))},maintainLocation:!0,rotate:t.rotate,zindex:t.zindex,timing:t.timing}),(0,T.dC)((function(){e(rg(o,n,r,l)),t&&e(ag(t))}))}}function lg(e){var t=e.sceneId,n=e.placeholderId,r=e.stickerName;return function(e,o){var a=o().storyBoard.scenes.find((function(e){return e.id===t}));Qi({status:"failed"}),(0,T.dC)((function(){e(Xd(Ld,{id:n,sceneId:t})),e(function(e,t){return function(n){n(ag(t.composition[e],t))}}(n,a)),e(td({title:oe.UploadMediaFailedTitle,content:oe.UploadMediaFailedDescriptionMsg(r)}))}))}}function sg(e){return function(t,n){var r=n(),o=r.storyBoard,a=r.staticParameters.STICKER_STAGE_NUDGE,i=o.selectedSceneId,c=1-e.rect.width,l=1-e.rect.height,s=kh(kh({},e.rect),{},{x:Math.min(e.rect.x+a,c),y:Math.min(e.rect.y+a,l)}),u="".concat(e.id,"_dup").concat(Po()),d=kh(kh({},e),{},{id:u,rect:s});(0,T.dC)((function(){t(Jf(i)),t({type:zh,payload:{ce:d}}),t(Jh(i,e.id,!1))}))}}function ug(e,t){return function(n,r){var o,a,i=r(),c=i.storyBoard.scenes.find((function(e){return e.id===i.storyBoard.selectedSceneId})),l=Object.values(c.composition).filter((function(t){return as(t.type)&&t.id!==ws&&p(t.timing,e.timing)})),s=l.sort((function(e,t){return e.zindex-t.zindex})).findIndex((function(t){return t.id===e.id}));a=t?l[s+(s<l.length-1?1:0)]:l[s-(s>0?1:0)];var u=kh(kh({},c.composition),{},(Mh(o={},e.id,kh(kh({},e),{},{zindex:a.zindex})),Mh(o,a.id,kh(kh({},a),{},{zindex:e.zindex})),o));n({type:Fh,payload:{newCompositions:u}})}}function dg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}dg(Bh={},ls,!0),dg(Bh,ss,!0),dg(Bh,Dh,!0);var mg="VIDEO_PLAYER_PLAY",pg="VIDEO_PLAYER_PAUSE",fg="VIDEO_PLAYER_CAN_PLAY",hg="VIDEO_PLAYER_ENDED",gg="VIDEO_PLAYER_LOADED_DATA",yg="VIDEO_PLAYER_ON_PROGRESS_LOADING",bg="VIDEO_PLAYER_ON_ERROR",vg="VIDEO_PLAYER_CLEAN_UP",Eg="VIDEO_PLAYER_MUTE_CHANGE",wg="VIDEO_PLAYER_BOOTSTRAP_DATA";function Ag(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Cg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ag(Object(n),!0).forEach((function(t){Sg(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ag(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Sg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _g={volume:30,isPlaying:!1,paused:!1,muted:!1,loaded:!1,error:!1,src:"",ended:!1,canPlay:!1,progress:!1};function xg(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case mg:case pg:case fg:case hg:case gg:case yg:case bg:case vg:case Eg:case wg:return Cg(Cg({},e),t.payload);default:return e}}function Ig(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ig(Object(n),!0).forEach((function(t){Og(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ig(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Og(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var kg={};function Mg(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kg,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Qu:return Tg(Tg({},e),{},Og({},t.payload.id,t.payload));case $u:var n=Tg({},e);return delete n[t.payload.id],n;case Ju:default:return e}}function Bg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bg(Object(n),!0).forEach((function(t){Lg(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Lg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Pg={};function Ng(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pg,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ip:case cp:return jg(jg({},e),t.payload.colorPalettes);default:return e}}function Dg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dg(Object(n),!0).forEach((function(t){zg(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ug="CRAYONS_UPDATE_DATA",Fg=function(e){return e.map((function(e){return function(e){return Rg(Rg({},e),{},{color:tr(e.color)})}(e)}))};function Hg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hg(Object(n),!0).forEach((function(t){Wg(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Wg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Gg={list:[]};function Yg(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gg,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ug:return Vg(Vg({},e),{},{list:t.payload.crayons});default:return e}}function qg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qg(Object(n),!0).forEach((function(t){Xg(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Kg={values:{ladyBug:!1,rectDebugInfo:!1,forceStageSizeToHD:!1,lineHeight:!1,textRect:!1,customColorsInPalette:!1,templateHints:!1,uploadSticker:!1,slowStickerAnimations:!1,showScenesId:!1,showSpecialLayouts:!1,useTestAssets:!1,useTestImageStickers:!1,startWithExpandedStoryboard:!1,showFontSizeControl:!1,useLocalDevTextStickers:!1,showTimelineTimingBars:!1},menu:[{displayName:"Development Tools",items:[{name:"ladyBug",displayName:"lady bug"},{name:"rectDebugInfo",displayName:"rect debug info"},{name:"forceStageSizeToHD",displayName:"HD stage size"},{name:"lineHeight",displayName:"line height control"},{name:"textRect",displayName:"text rect frame"},{name:"slowStickerAnimations",displayName:"slow sticker animations"},{name:"templateHints",displayName:"template hints"},{name:"showScenesId",displayName:"show scenes id"},{name:"showSpecialLayouts",displayName:"show all special layouts"},{name:"useTestAssets",displayName:"test assets (fonts, palettes, etc.)",reload:!0},{name:"useTestImageStickers",displayName:"test image stickers"},{name:"useLocalDevTextStickers",displayName:"local Text Stickers",reload:!0},{name:"showTimelineTimingBars",displayName:"timeline timing bars"}]},{displayName:"Features",items:[{name:"customColorsInPalette",displayName:"custom colors in palette"},{name:"uploadSticker",displayName:"upload new sticker"},{name:"showFontSizeControl",displayName:"font size control"}]}]};function Qg(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kg,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case nl:case rl:return Zg(Zg({},e),{},{values:Zg(Zg({},e.values),t.payload)});default:return e}}var $g="UPDATE_SOURCE_FOOTAGE_RECT",Jg="UPDATE_VIDEO_MUTE";function ey(e,t,n){return{type:$g,selectedCEId:t,sceneId:e,payload:{sourceFootageRect:n}}}function ty(e,t,n){return{type:Jg,selectedCEId:e,sceneId:n,payload:{muted:t}}}function ny(e,t,n){return function(r){(0,T.dC)((function(){r(Zd()),r(ty(e,t,n))}))}}function ry(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ry(Object(n),!0).forEach((function(t){ay(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ry(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ay(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var iy={UPDATE_MASTER_TIMING:"UPDATE_MASTER_TIMING",UPDATE_IMAGE_STICKER_DATA:"UPDATE_IMAGE_STICKER_DATA"};function cy(e,t,n){return{type:iy.UPDATE_IMAGE_STICKER_DATA,selectedCEId:t,sceneId:e,payload:oy({},n)}}var ly=new Set([gf,hf,pf,yf,$g,iy.UPDATE_IMAGE_STICKER_DATA,iy.UPDATE_MASTER_TIMING,Fh,zh,Nh,qh,fd.UPDATE_VIDEO_BRANDING_COLORS_BY_USER,fd.PASTE_COMPOSITION_ELEMENT,fd.UPDATE_PROJECT_NAME,fd.UPDATE_SOUND,fd.TOGGLE_HIDE,fd.ADD_NEW_TEXT_SLIDE,fd.UPDATE_SCENE_POSITION_BY_USERT,fd.CHANGE_BROLL_TO_REGULAR_SCENE,fd.SPLIT_SCENES_GROUP,fd.ADD_NEW_BROLL,fd.REORDER_SCENES_WITHIN_GROUP,fd.UPDATE_COMPOSITION_ELEMENT_TIMING_BY_USER_BEGIN]),sy=function(e){return function(t){return function(n){ly.has(n.type)&&e.dispatch(Zd({actionDescription:n.actionDescription})),t(n)}}};function uy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uy(Object(n),!0).forEach((function(t){my(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uy(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function my(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var py={undoSnapshots:null,redoSnapshots:null};function fy(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:py,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Hd:case Vd:case Wd:case qd:case Yd:return dy(dy({},e),t.payload);case Gd:return py;default:return e}}function hy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hy(Object(n),!0).forEach((function(t){yy(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hy(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yy(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var by={};function vy(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:by,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ls:case ss:return gy(gy({},e),{},yy({},t.id,gy(gy({},e[t.id]||{}),t.payload)));case us:return by;default:return e}}function Ey(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ey(Object(n),!0).forEach((function(t){Ay(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ey(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ay(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Cy={tier:null,features:[],upsellTriggerId:null};function Sy(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cy,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case pp:return wy(wy({},e),t.payload);case fp:return Cy;default:return e}}function _y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_y(Object(n),!0).forEach((function(t){Iy(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Iy(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ty={};function Oy(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ty,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _.SET_CURRENT_TIME:case _.SET_PAUSED:return xy(xy({},e),{},Iy({},t.payload.sceneId,t.payload.stagePlayer));default:return e}}var ky="SET_STAGE_SIZE";var My={width:0,height:0};function By(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:My,t=arguments.length>1?arguments[1]:void 0;return t.type===ky?t.payload:e}function jy(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ly(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ly(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ly(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Py="SET_STATIC_PARAMETERS";function Ny(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Dy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ny(Object(n),!0).forEach((function(t){Ry(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ny(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ry(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var zy={IMAGE_STICKER_SCALE_MIN:1,IMAGE_STICKER_SCALE_MAX:100,MEDIA_MAX_SCALE:2,STICKER_MIN_POSITION_ON_STAGE:.1,TEXT_STICKER_MAX_NUM_PER_SCENE:10,IMAGE_STICKER_MAX_NUM_PER_SCENE:10,STICKER_STAGE_NUDGE:.03,BRAND_DEFAULT_COLORS:{default:"#FFFFFF",primary:"#E3E8E9",secondary:"#000000"},DEFAULT_TEXT_STYLE:"Cut_02",DEFAULT_HIGHLIGHT_COLOR:"#FFFA41",MIN_MOVIE_DURATION:0,MAX_MOVIE_DURATION:600,AUTO_LAYOUT_SPACE_BTW_STICKERS:.03,AUTO_LAYOUT_EPS:.5/1920,AUTO_LAYOUT_MIN_FONT_SIZE:.03,AUTO_LAYOUT_DEFAULT_TEXT_AREA:.3,AUTO_LAYOUT_HORIZONTAL_MARGIN:.05,AUTO_LAYOUT_NOT_ENOUGH_SPACE_OFFSET:.01,FONT_FALLBACK:"Gothic",TEXT_STICKER_MAX_CHAR_NUM:100,TEXT_STICKER_MAX_LINES:5,TEXT_STICKER_LAYOUT_ID:"TEXT_SLIDE",STAGE_PADDING:.03,AROLL_PART_DURATION:5,MIN_AROLL_MEDIA_DURTION:7,TEXT_STICKER_DEFAULT_DURATION:2,IMAGE_STICKER_DEFAULT_DURATION:2,MAX_SCENE_DURATION:600,MIN_SCENE_DURATION:.5,MIN_STICKER_DURATION:.5};function Uy(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zy,t=arguments.length>1?arguments[1]:void 0;return t.type===Py?Dy(Dy({},e),{},Ry({},t.payload.paramName,t.payload.value)):e}var Fy={woff2:"woff2",woff:"woff",otf:"opentype",ttf:"truetype"},Hy={woff2:0,woff:1,opentype:2,truetype:3},Vy=function(e){return e.match(/[^.]+$/)[0]},Wy=function(e){return e.match(/[^/]+$/)[0]};function Gy(e,t){var n,r,o,a,i,c,l=e.display_name,s=e.languages,u=e.name,d=e.meta_data,m=e.thumbnails,p=void 0===m?[]:m,f=e.libs,h=void 0===f?[]:f,g=e.order,y=e.family,b=e.id,v=e.is_test;return{name:u,displayName:l,languages:s.map((function(e){return{preferred:(t=e).preferred,displayName:t.display_name,scriptCodeISO15924:t.iso_15924,unicode:t.unicode,xregexp:t.xregexp};var t})),order:g,metaData:(c=d,{lineHeight:c.line_height,filename:c.filename}),thumbnails:(i=p,Object.fromEntries(i.map((function(e){var t=e.url;return[e.size,t]})))),libs:(n=h,r=t,o=r.mobile,a=void 0!==o&&o,n.map((function(e){var t=e.url;return{format:Fy[Vy(t)],url:a?"".concat("fonts/woff2/").concat(Wy(t)):t}})).filter((function(e){var t=e.format;return!a||"woff2"===t})).sort((function(e,t){return Hy[e.format]-Hy[t.format]}))),family:y,id:b,isTest:v}}var Yy="FONTS_ASSETS_UPDATE_DATA";function qy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qy(Object(n),!0).forEach((function(t){Xy(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qy(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xy(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ky={fonts:{}};function Qy(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ky,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Yy:return Zy(Zy({},e),{},{fonts:Zy({},t.payload.fonts)});case fd.ADD_ADDITIONAL_FONTS:return Zy(Zy({},e),t.payload.additionalFonts);default:return e}}function $y(e){return function(e){if(Array.isArray(e))return Jy(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Jy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jy(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jy(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var eb="TEXT_STICKER_ASSETS_SET";function tb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tb(Object(n),!0).forEach((function(t){rb(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ob={};function ab(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ob,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case eb:return nb({},t.payload.textStickerAssets);default:return e}}var ib="SET_CURRENT_SCENE_MENU_DATA";function cb(e){var t=e.insertAtIndex,n=e.sceneId,r=e.menuOpenedFromLastAddSceneStripeOfGroup;return function(e,o){var a=o().storyBoard.scenes;e({type:ib,payload:{insertAtIndex:t,scene:n?a.find((function(e){return e.id===n})):{},menuOpenedFromLastAddSceneStripeOfGroup:r}})}}var lb={insertAtIndex:"",scene:{},isLastAddSceneStripeOfGroup:!1};function sb(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lb,t=arguments.length>1?arguments[1]:void 0;return t.type===ib?t.payload:e}function ub(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function db(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ub(Object(n),!0).forEach((function(t){mb(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ub(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var pb={id:"",draggable:!1,resizeable:!1,zindex:1,rect:{}};function fb(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pb,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case cd:case iy.UPDATE_IMAGE_STICKER_DATA:case iy.UPDATE_TIMING:case $g:case Jg:case pf:case ff:case hf:case gf:case yf:case bf:case fd.UPDATE_COMPOSITION_ELEMENT_TIMING_BY_USER_BEGIN:return db(db({},e),t.payload);case fd.UPDATE_VIDEO_BRANDING_COLORS_BY_USER:return e.type===Ts?db(db({},e),{},{colors:db(db({},e.colors),{},{fontColor:t.payload.videoBranding.colors.default,colorOne:t.payload.videoBranding.colors.secondary,highlight:t.payload.defaultHighlightColor})}):e;case fd.UPDATE_REPLACED_SCENE_TO_READY:var n=db(db({},e),{},{id:t.newMediaCE.id,type:t.newMediaCE.type,sourceHash:t.newMediaCE.sourceHash,sourceFootageRect:t.newMediaCE.sourceFootageRect,rect:t.newMediaCE.rect,timing:t.autoDuration||t.newMediaCE.type!==xs?t.newMediaCE.timing:e.timing});return n.type===Is?db(db({},n),{},{muted:t.newMediaCE.muted,hasAudio:t.newMediaCE.hasAudio}):(n.type===xs&&e.type===Is&&(delete n.muted,delete n.hasAudio),n);default:return e}}function hb(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return gb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gb(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gb(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function yb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yb(Object(n),!0).forEach((function(t){vb(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Eb={id:"",hidden:!0,duration:0,sceneDuration:{start_time:0,end_time:0},autoDuration:!0,thumbs:[],composition:{},templateHint:""};function wb(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Eb,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case cd:case iy.UPDATE_IMAGE_STICKER_DATA:case iy.UPDATE_MASTER_TIMING:case $g:case Jg:case pf:case ff:case hf:case gf:case yf:case bf:case fd.UPDATE_COMPOSITION_ELEMENT_TIMING_BY_USER_BEGIN:return bb(bb({},e),{},{composition:bb(bb({},e.composition),{},vb({},t.selectedCEId,fb(e.composition[t.selectedCEId],t)))});case Fh:return bb(bb({},e),{},{composition:bb({},t.payload.newCompositions)});case jh:case Dh:case qh:case Xh:case Hh:case Lh:case Ph:case Nh:case Wh:case Gh:case Yh:case Zh:return bb(bb({},e),t.payload);case Uh:var n=bb({},e.composition);return delete n[t.payload.id],bb(bb({},e),{},{layoutsTextConfigurationMap:t.payload.layoutsTextConfigurationMap,composition:n});case fd.UPDATE_VIDEO_BRANDING_COLORS_BY_USER:return bb(bb({},e),{},{composition:Object.fromEntries(Object.entries(e.composition).map((function(e){var n=hb(e,2);return[n[0],fb(n[1],t)]})))});case fd.UPDATE_REPLACED_SCENE_TO_READY:var r=e.replacedScene.getMediaElement(),o=Object.values(t.layout.composition)[0],a=bb({},e.replacedScene.composition);delete a[r.id];var i=e.replacedScene.isStatic()&&e.replacedScene.autoDuration||o.isVideo();return bb(bb({},e.replacedScene),{},{id:t.payload.newScene.id,autoDuration:i,layoutsTextConfigurationMap:bb({},e.replacedScene.layoutsTextConfigurationMap),layoutId:t.layout.id,composition:bb(bb({},a),{},vb({},o.id,fb(r,bb(bb({},t),{},{newMediaCE:o,autoDuration:i})))),isARoll:t.payload.newScene.isARoll,sceneGroupId:t.payload.newScene.sceneGroupId,isOverlayTimingEqMasterTiming:!o.isVideo()&&e.replacedScene.isOverlayTimingEqMasterTiming});case zh:case mf:var c=Ku(e.composition)+1,l=t.payload.ce.id;return bb(bb({},e),{},{composition:bb(bb({},e.composition),{},vb({},l,bb(bb({},t.payload.ce),{},{zindex:c})))});case Rh:return bb(bb({},e),{},{composition:bb(bb({},e.composition),{},vb({},t.payload.ce.id,t.payload.ce))});default:return e}}function Ab(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||Sb(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Cb(e){return function(e){if(Array.isArray(e))return _b(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Sb(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sb(e,t){if(e){if("string"==typeof e)return _b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_b(e,t):void 0}}function _b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ib(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xb(Object(n),!0).forEach((function(t){Tb(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Tb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ob={storyboardStatus:Pf,id:"",orientation:"landscape",sources:{},scenes:[],scenesGroups:[],selectedSceneId:null,selectedCompositionId:null,lastRevision:null,sound:{},theme:{},movieLength:0,durationThreshExceed:!1,videoBranding:{colors:{}},isExpandMode:!0,lastAddedOrEditedSceneId:""};function kb(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ob,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case fd.UPDATE_PROJECT_NAME:return Ib(Ib({},e),{},{projectName:t.payload.name});case fd.UPDATE_STORYBOARD_STATUS:return Ib(Ib({},e),{},{storyboardStatus:t.payload.storyboardStatus});case fd.FETCH_DATA_SUCCESS:var n=t.payload.storyboard;return Ib(Ib({},n),{},{lastRevision:n,storyboardStatus:Uf});case fd.UPDATE_STORYBOARD_DATA_SUCCESS:return Ib(Ib({},t.payload.storyboard),{},{lastRevision:e,storyboardStatus:Uf});case fd.IS_BEING_RENDERED:var r=t.payload,o=r.vsid,a=r.videoHash;return Ib(Ib({},Ob),{},{vsid:o,videoHash:a,storyboardStatus:zf});case fd.RESET_STORYBOARD:return Ob;case fd.UPDATE_SOUND:return Ib(Ib({},e),{},{sound:t.payload.sound});case fd.SET_MOVIE_LENGTH_OUTDATED:return Ib(Ib({},e),{},{outdatedMovieLength:t.payload.outdatedMovieLength});case fd.FETCH_MOVIE_LENGTH_SUCCESS:return Ib(Ib({},e),{},{movieLength:t.payload.movieLength,durationThreshExceed:t.payload.durationThreshExceed});case fd.SELECT_SCENE:return e.selectedSceneId!==t.payload.id?Ib(Ib({},e),{},{selectedSceneId:t.payload.id,selectedCompositionId:null}):e;case fd.SELECT_COMPOSITION_ELEMENT:return Ib(Ib({},e),{},{selectedCompositionId:t.payload.selectedCompositionId});case cd:case iy.UPDATE_IMAGE_STICKER_DATA:case iy.UPDATE_MASTER_TIMING:case $g:case Jg:case Rh:case zh:case Uh:case Fh:case mf:case pf:case ff:case hf:case gf:case yf:case bf:case jh:case Nh:case Lh:case Ph:case Dh:case Hh:case Vh:case qh:case Xh:case Wh:case Gh:case Zh:case Yh:case fd.UPDATE_COMPOSITION_ELEMENT_TIMING_BY_USER_BEGIN:var i=t.sceneId?t.sceneId:e.selectedSceneId,c=e.scenes.findIndex((function(e){return e.id===i}));if(-1===c)return e;var l,s=e.scenes[c],u=Ib({},e.videoBranding);t.type===pf&&t.updateDefaultFont&&(u.font=t.payload.font);var d=Ib(Ib({},e),{},{scenes:[].concat(Cb(e.scenes.slice(0,c)),[l=wb(s,t)],Cb(e.scenes.slice(c+1))),videoBranding:u});return t.type===zh&&(d.selectedCompositionId=Object.keys(l.composition).find((function(e){return!s.composition[e]}))),d;case fd.COPY_COMPOSITION_ELEMENT:return Ib(Ib({},e),{},{copiedCompositionElement:t.payload.selectedComposition});case fd.PASTE_COMPOSITION_ELEMENT:var m=t.payload.updatedScene,p=e.scenes.findIndex((function(e){return e.id===m.id}));return Ib(Ib({},e),{},{scenes:[].concat(Cb(e.scenes.slice(0,p)),[m],Cb(e.scenes.slice(p+1)))});case fd.UPDATE_SOURCES:return Ib(Ib({},e),{},{sources:Ib({},t.payload.sources)});case fd.DELETE_BRANDING_SCENE_BY_USERT:case fd.UPDATE_VIDEO_BRANDING_COLORS_BY_USER:return Ib(Ib({},e),{},{videoBranding:Ib({},t.payload.videoBranding),scenes:Cb(e.scenes.map((function(e){return wb(e,t)})))});case fd.DUPLICATE_SCENE:var f=e.scenes.find((function(t){return t.id===e.selectedSceneId})),h=Ib({},f);return h.id+="_dup".concat(Po),Ib(Ib({},e),{},{scenes:[].concat(Cb(e.scenes),[h])});case fd.TOGGLE_HIDE:var g=t.payload.scenes;return Ib(Ib({},e),{},{scenes:g});case fd.DELETE_SCENE:var y=t.scenes,b=t.selectedSceneId;return Ib(Ib({},e),{},{scenes:y,selectedSceneId:b});case fd.ADD_NEW_TEXT_SLIDE:var v=Ib(Ib({},t.payload.scene),{},{composition:Ib({},t.payload.scene.composition)}),E=t.payload.insertionIndex;return Ib(Ib({},e),{},{scenes:[].concat(Cb(e.scenes.slice(0,E+1)),[v],Cb(e.scenes.slice(E+1))),selectedSceneId:t.payload.scene.id});case fd.REPLACE_MEDIA:return Ib(Ib({},e),{},{scenes:t.payload.scenes,selectedSceneId:t.payload.selectedSceneId});case fd.UPDATE_REPLACED_SCENE_TO_READY:var w=e.scenes.findIndex((function(e){return e.id===t.payload.uploadSceneId})),A=t.payload.layouts[t.payload.newScene.id].find((function(t){return t.id===e.scenes[w].replacedScene.layoutId}));if(!A){var C=Ab(t.payload.layouts[t.payload.newScene.id],1);A=C[0]}return Ib(Ib({},e),{},{scenes:[].concat(Cb(e.scenes.slice(0,w)),[wb(e.scenes[w],Ib(Ib({},t),{},{layout:A}))],Cb(e.scenes.slice(w+1))),selectedSceneId:e.selectedSceneId===e.scenes[w].id?t.payload.newScene.id:e.selectedSceneId});case fd.REPLACE_MEDIA_FAILED:case fd.UPDATE_UPLOADED_SCENE_TO_READY:return Ib(Ib({},e),{},{scenes:t.payload.scenes,selectedSceneId:t.payload.selectedSceneId});case fd.ADD_NEW_UPLOAD_SCENE:var S=t.payload,_=S.fileId,x=S.aRollId,I=S.isBRoll,T=S.insertionIndex,O=S.aRollDuration,k=Xu({fileId:_,aRollId:x,isBRoll:I,aRollDuration:O});return Ib(Ib({},e),{},{scenes:[].concat(Cb(e.scenes.slice(0,T+1)),[k],Cb(e.scenes.slice(T+1)))});case fd.ADD_NEW_SOURCE:var M={};return M[t.payload.source.hash]=t.payload.source,Ib(Ib({},e),{},{sources:Object.assign({},e.sources,M)});case fd.SET_STORYBOARD:return t.payload.storyboard;case fd.SET_EXPAND_MODE:return Ib(Ib({},e),{},{isExpandMode:t.payload.isExpandMode});case fd.ADD_NEW_BROLL:case fd.ADD_NEW_SCENES_GROUPS:case fd.REORDER_SCENES_WITHIN_GROUP:case fd.CHANGE_BROLL_TO_REGULAR_SCENE:case fd.UPDATE_SCENE_POSITION_BY_USERT:case fd.UPDATE_SCENE_POSITION:case fd.MOVE_BROLL_BETWEEN_GROUPS:case fd.SPLIT_SCENES_GROUP:case fd.RENAME_SCENE_ID:case fd.UPDATE_AROLL_DURATION:case fd.POP_BROLL_SCENE_OUT_OF_GROUP:case fd.EXTRACT_DURATION_EXCEEDING_SCENES:var B=t.payload.newScenes;return Ib(Ib({},e),{},{scenes:B});case fd.SET_LAST_ADDED_OR_EDITED_SCENE_ID:return Ib(Ib({},e),{},{lastAddedOrEditedSceneId:t.payload.sceneId});default:return e}}function Mb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mb(Object(n),!0).forEach((function(t){jb(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function jb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Lb={show:!1};function Pb(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lb,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case id.SHOW_TIMELINE:return Bb(Bb({},e),{},{show:!0});case id.HIDE_TIMELINE:return Bb(Bb({},e),{},{show:!1});default:return e}}function Nb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Db(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nb(Object(n),!0).forEach((function(t){Rb(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Rb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var zb={show:!1,autoClose:!0,waitTimeToHide:3e3,text:"",context:Sd};function Ub(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zb,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Cd:case wd:case Ad:return Db(Db({},e),t.payload);default:return e}}function Fb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Hb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fb(Object(n),!0).forEach((function(t){Vb(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Vb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Wb={videoHashSuccessors:{}};function Gb(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wb,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Of:return Hb(Hb({},e),t.payload);default:return e}}var Yb=new Set([fd.DELETE_SCENE,fd.DUPLICATE_SCENE,fd.TOGGLE_HIDE,Uh,zh,Ph,pf,mf,fd.UPDATE_UPLOADED_SCENE_TO_READY,fd.UPDATE_REPLACED_SCENE_TO_READY,fd.FETCH_DATA_SUCCESS,fd.UPDATE_STORYBOARD_DATA_SUCCESS,fd.UPDATE_COMPOSITION_ELEMENT_TIMING_BY_USER_END,qh,Rh,fd.ADD_NEW_BROLL,fd.CHANGE_BROLL_TO_REGULAR_SCENE,fd.SPLIT_SCENES_GROUP]),qb=function(e){return function(t){return function(n){t(n),Yb.has(n.type)&&e.dispatch(fh())}}};function Zb(e){return function(e){if(Array.isArray(e))return Xb(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Xb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xb(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xb(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Kb="#00adef",Qb="#0088cc",$b="#1A2E3B",Jb="#fff",ev="#093ac9",tv="#E0E4E6",nv="#666",rv="#e3e8e9",ov="#B3BFC8",av=Qb,iv="#bdcad3",cv="#DEE4E9",lv=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"Text ".concat(e["data-component-name"]):"Text"}})).withConfig({displayName:"text__Text",componentId:"sc-1xu0owr-0"})(["font-family:'Helvetica Neue',Helvetica,Arial,sans-serif;color:",";font-size:",";font-weight:",";"],(function(e){return e.color}),(function(e){return e.fontSize||(0,We.rem)(14)}),(function(e){return e.weight})),sv=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"Ellipsis ".concat(e["data-component-name"]):"Ellipsis"}})).withConfig({displayName:"text__Ellipsis",componentId:"sc-1xu0owr-1"})(["white-space:nowrap;overflow:hidden;text-overflow:ellipsis;"]),uv=(0,Ge.default)(sv).attrs((function(e){return{"data-component-name":e["data-component-name"]?"DisplayTextEllipsis ".concat(e["data-component-name"]):"DisplayTextEllipsis"}})).withConfig({displayName:"text__DisplayTextEllipsis",componentId:"sc-1xu0owr-2"})(["color:#1a2e3b;"]),dv=(0,Ge.default)(sv).attrs((function(e){return{"data-component-name":e["data-component-name"]?"MutedTextEllipsis ".concat(e["data-component-name"]):"MutedTextEllipsis"}})).withConfig({displayName:"text__MutedTextEllipsis",componentId:"sc-1xu0owr-3"})(["color:#8498a4;"]),mv=(0,Ge.default)(lv).attrs((function(e){return{"data-component-name":e["data-component-name"]?"MutedText ".concat(e["data-component-name"]):"MutedText"}})).withConfig({displayName:"text__MutedText",componentId:"sc-1xu0owr-4"})(["color:#8498a4;"]),pv=(0,Ge.default)(mv).attrs((function(e){return{"data-component-name":e["data-component-name"]?"MutedTextNoSpaceWrap ".concat(e["data-component-name"]):"MutedTextNoSpaceWrap"}})).withConfig({displayName:"text__MutedTextNoSpaceWrap",componentId:"sc-1xu0owr-5"})(["white-space:nowrap;"]),fv=(0,Ge.default)(lv).attrs((function(e){return{"data-component-name":e["data-component-name"]?"DisplayText ".concat(e["data-component-name"]):"DisplayText"}})).withConfig({displayName:"text__DisplayText",componentId:"sc-1xu0owr-6"})(["color:#1a2e3b;"]),hv=(0,Ge.default)(lv).attrs((function(e){return{"data-component-name":e["data-component-name"]?"Link ".concat(e["data-component-name"]):"Link"}})).withConfig({displayName:"text__Link",componentId:"sc-1xu0owr-7"})(["cursor:pointer;color:",";cursor:",";"],(function(e){return e.disabled?"#1a2e3b":qe(e,"theme.colors.primary",Kb)}),(function(e){return e.disabled?"default":"pointer"})),gv=(0,Ge.default)(fv).attrs((function(e){return{"data-component-name":e["data-component-name"]?"ModalTitle ".concat(e["data-component-name"]):"ModalTitle"}})).withConfig({displayName:"text__ModalTitle",componentId:"sc-1xu0owr-8"})(["font-size:",";font-weight:500;"],(0,We.rem)(28)),yv=n(361966620317433),bv=n(0xe844c245fc38),vv=(0,Ge.css)(["background-color:",";border-color:",";color:",";"],(function(e){return qe(e,"theme.button.".concat(e.format,".disabledBackgroundColor"),(0,We.rgba)(Kb,.4))}),(function(e){return qe(e,"theme.button.".concat(e.format,".disabledBackgroundColor"),(0,We.rgba)(Kb,.4))}),(function(e){return qe(e,"theme.button.".concat(e.format,".disableColor"),(0,We.rgba)(Jb,.7))}));function Ev(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ev(Object(n),!0).forEach((function(t){Av(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ev(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Av(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Cv=function(e){var t,n,r,o,a=e.format,i=void 0===a?"primary":a,c=null===(t=Yc.button)||void 0===t?void 0:t[i],l=null!==(n=null==c?void 0:c.backgroundColor)&&void 0!==n?n:null,s=null!==(r=null==c?void 0:c.color)&&void 0!==r?r:null,u=null!==(o=null==c?void 0:c.hoverBackgroundColor)&&void 0!==o?o:null,d=Object.assign({},null===s?null:{defaultTextColor:s},null===l?null:{defaultBackgroundColor:l},null===u?null:{hoverBackgroundColor:u}),m=Object.keys(d).length>0;return wv(wv({format:i},e),m&&!e.customFormat?{customFormat:d}:null)},Sv=function(e){var t,n,r;return(0,We.rgba)(null!==(t=null===(n=Yc.button)||void 0===n||null===(r=n[e.format])||void 0===r?void 0:r.outlineColor)&&void 0!==t?t:Kb,.6)},_v=function(e){return(0,Ge.default)(e).attrs(Cv).withConfig({displayName:"button",componentId:"sc-1fjhg2u-0"})(["&:disabled,&:disabled:hover,&:disabled:active{cursor:not-allowed;transform:scale(1);pointer-events:none;","}&:focus > div{border-color:"," !important;}&.deeplink-upgrade-mode{background:#5f45e6;border-color:#5f45e6;}"],vv,Sv)},xv=_v(yv.Button),Iv=_v(bv.ButtonLoadingState);const Tv=xv;var Ov=n(54004982681867),kv=(0,Ge.default)(Tv).attrs((function(e){return{"data-component-name":e["data-component-name"]?"CloseIcon ".concat(e["data-component-name"]):"CloseIcon"}})).withConfig({displayName:"close-modalcomponent__CloseIcon",componentId:"sc-1esgj78-0"})(["float:right;cursor:pointer;span{margin:0;}"]);const Mv=function(e){var t=e.onClick,n=e.size,r=void 0===n?"md":n,o=e.customHoverBackgroundColor,a="sm"===r?(0,We.rem)(24):(0,We.rem)(32);return h().createElement(kv,{customFormat:{defaultBackgroundColor:"transparent",hoverBackgroundColor:null!=o?o:"rgba(238, 241, 242)"},icon:h().createElement(Ov.DismissX,{style:{minWidth:a,minHeight:(0,We.rem)(20)}}),style:{minWidth:a,minHeight:a,maxWidth:a,maxHeight:a,padding:0,margin:0},onClick:t,"data-component-name":"CloseModal"})};var Bv=67,jv=68,Lv=86,Pv=38,Nv=40,Dv=32,Rv=8,zv=46,Uv=function(){var e=null;return{add:function(t){var n={handler:t,next:e,prev:null};return e=n,n.next&&(n.next.prev=n),function(){n.next&&(n.next.prev=n.prev),n.prev&&(n.prev.next=n.next),e===n&&(e=n.next)}},execute:function(t){for(var n=e;null!==n;n=n.next)n.handler.call(null,t)}}},Fv=function(){return{keydownHandlers:Uv(),keyupHandlers:Uv()}},Hv=Fv();function Vv(e){var t=(0,f.useRef)(null);return null===t.current&&(t.current=e?Fv():Hv),(0,f.useEffect)((function(){var e=t.current;if(e!==Hv){var n=Hv;return Hv=e,function(){Hv=n}}return function(){}}),[]),t.current}function Wv(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onKeydown,n=e.onKeyup,r=e.createNewContext,o=void 0!==r&&r,a=Vv(o);(0,f.useEffect)((function(){return t?a.keydownHandlers.add(t):function(){}}),[a,t]),(0,f.useEffect)((function(){return n?a.keyupHandlers.add(n):function(){}}),[a,n])}function Gv(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}document.addEventListener("keydown",(function(e){return Hv.keydownHandlers.execute(e)}),!0),document.addEventListener("keyup",(function(e){return Hv.keyupHandlers.execute(e)}),!0);var Yv=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"ModalOverlay ".concat(e["data-component-name"]):"ModalOverlay"}})).withConfig({displayName:"modal-style__ModalOverlay",componentId:"sc-1593uvy-0"})(["position:absolute;top:0;left:0;height:100%;width:100%;"," z-index:20;"],(function(e){return e.visible&&(0,Ge.css)(["background-color:rgba(0,0,0,0.4);"])})),qv=(0,Ge.default)(Qe).attrs((function(e){return{"data-component-name":e["data-component-name"]?"ModalContent ".concat(e["data-component-name"]):"ModalContent"}})).withConfig({displayName:"modal-style__ModalContent",componentId:"sc-1593uvy-1"})(["max-width:",";min-width:",";max-height:",";height:100%;width:100%;background-color:#fff;border-radius:3px;box-shadow:0 6px 10px 0 rgba(0,0,0,0.12);",""],(0,We.rem)(1100),(0,We.rem)(496),(0,We.rem)(720),(function(e){var t=e.withStyle,n=Gv(e,["withStyle"]);return t&&t(n)}));function Zv(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Xv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xv(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Kv="vimeo-modals",Qv=document.getElementById(Kv);Qv||(Qv=document.createElement("div",{id:Kv}),document.body.appendChild(Qv));var $v=0;const Jv=function(e){var t=e.className,n=e.withStyle,r=e.children,o=(0,f.useRef)($v);(0,f.useEffect)((function(){return $v++,function(){return $v--}}),[]);var a=Zv((0,f.useState)((function(){return document.createElement("div")})),1)[0];(0,f.useEffect)((function(){return t&&a.classList.add(t),Qv.appendChild(a),function(){return Qv.removeChild(a)}}),[t,a]);var i=h().createElement(Yv,{visible:0===o.current,onClick:function(e){e.stopPropagation()}},h().createElement(qv,{withStyle:n},r));return Wv({createNewContext:!0}),$().createPortal(i,a)};var eE=function(){return(0,Ge.css)(["width:",";height:",";min-width:",";min-height:",";box-shadow:0px 4px 16px rgba(0,0,0,0.2);border-radius:8px;"],(0,We.rem)(360),(0,We.rem)(446),(0,We.rem)(360),(0,We.rem)(446))},tE=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"ExplanatoryContainer ".concat(e["data-component-name"]):"ExplanatoryContainer"}})).withConfig({displayName:"cutaway-explanatory-modalcomponent__ExplanatoryContainer",componentId:"sc-1yzmqgb-0"})(["display:flex;flex-direction:column;justify-content:flex-end;"]),nE=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"ExplanatoryModalHeader ".concat(e["data-component-name"]):"ExplanatoryModalHeader"}})).withConfig({displayName:"cutaway-explanatory-modalcomponent__ExplanatoryModalHeader",componentId:"sc-1yzmqgb-1"})(["width:",";height:",";background:#e5f5fd;border-radius:"," "," "," ",";padding:",";"],(0,We.rem)(360),(0,We.rem)(210),(0,We.rem)(8),(0,We.rem)(8),(0,We.rem)(2),(0,We.rem)(2),(0,We.rem)(8)),rE=Ge.default.img.attrs((function(e){return{"data-component-name":e["data-component-name"]?"ExplanatoryCutawayImage ".concat(e["data-component-name"]):"ExplanatoryCutawayImage"}})).withConfig({displayName:"cutaway-explanatory-modalcomponent__ExplanatoryCutawayImage",componentId:"sc-1yzmqgb-2"})(["height:",";top:",";left:",";position:absolute;"],(0,We.rem)(134),(0,We.rem)(34),(0,We.rem)(73)),oE=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"ExplanatoryModalBody ".concat(e["data-component-name"]):"ExplanatoryModalBody"}})).withConfig({displayName:"cutaway-explanatory-modalcomponent__ExplanatoryModalBody",componentId:"sc-1yzmqgb-3"})(["padding:",";height:",";display:flex;flex-direction:column;align-items:center;"],(0,We.rem)(16),(0,We.rem)(236)),aE=(0,Ge.default)(fv).attrs((function(e){return{"data-component-name":e["data-component-name"]?"ExplanatoryModalBodyTitle ".concat(e["data-component-name"]):"ExplanatoryModalBodyTitle"}})).withConfig({displayName:"cutaway-explanatory-modalcomponent__ExplanatoryModalBodyTitle",componentId:"sc-1yzmqgb-4"})(["font-size:",";line-height:",";text-align:center;"],(0,We.rem)(18),(0,We.rem)(24)),iE=(0,Ge.default)(fv).attrs((function(e){return{"data-component-name":e["data-component-name"]?"ExplanatoryModalBodyText ".concat(e["data-component-name"]):"ExplanatoryModalBodyText"}})).withConfig({displayName:"cutaway-explanatory-modalcomponent__ExplanatoryModalBodyText",componentId:"sc-1yzmqgb-5"})(["margin-top:",";line-height:",";text-align:center;overflow:scroll;"],(0,We.rem)(16),(0,We.rem)(20)),cE=(0,Ge.default)(Tv).attrs((function(e){return{"data-component-name":e["data-component-name"]?"ExplanatoryModalBtn ".concat(e["data-component-name"]):"ExplanatoryModalBtn"}})).withConfig({displayName:"cutaway-explanatory-modalcomponent__ExplanatoryModalBtn",componentId:"sc-1yzmqgb-6"})(["margin-top:",";"],(0,We.rem)(16));const lE=function(){var e=(0,T.I0)(),t=(0,T.v9)((function(e){return e.explanatoryModals[Pl]})),n=t.show,r=t.biTrigger;(0,f.useEffect)((function(){var e;n&&(e={trigger:r},Li(sa({name:"vimeo.view_cutaways_tutorial",product:Si,flow:ha,location:fa.location,test_layout:null,version:2},e)))}),[r,n]);var o=(0,f.useCallback)((function(){e({type:Tl,payload:{show:!1,type:Pl}})}),[e]);return n&&h().createElement(Jv,{withStyle:eE,"data-component-name":"CutawayExplanatoryModal"},h().createElement(tE,null,h().createElement(nE,null,h().createElement(Mv,{size:"sm",onClick:function(){o()},customHoverBackgroundColor:"#C7EAFB"}),h().createElement(rE,{src:"https://i.vimeocdn.com/custom_asset/1906"})),h().createElement(oE,null,h().createElement(aE,null,oe.CutawayExplanatoryTitle),h().createElement(iE,null,oe.CutawayExplanatoryBody),h().createElement(cE,{onClick:function(){o()},format:"primary"},oe.CutawayExplanatoryBtnCaption))))};function sE(e){return(0,f.useContext)(U).getScenePlayer(e)}function uE(e,t,n){var r=(0,f.useContext)(U).registerMaster,o=(0,f.useRef)({start:t,end:n}),a=(0,f.useRef)(null);o.current.start=t,o.current.end=n,(0,f.useEffect)((function(){var t=o.current,n=I.noop,i=I.noop,c=I.noop,l=t.start,s=function(e){l=e,c(e)},u=!0,m=0,p=-1,f=-1,h=function(){u||(u=!0,p=-1,i())},g=1/0,y=!0;m=window.requestAnimationFrame((function e(n){if(!u)if(-1===p)p=n;else{var r=f+.001*(n-p);r>=Math.min(g,t.end)?(s(y?t.start:g),h()):s(r)}m=window.requestAnimationFrame(e)}));var b={play:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.from,o=e.to,a=void 0===o?1/0:o,i=e.goToStartOnEnd,c=void 0===i||i;u=!1;var m=l>=t.end||d(l,t.end);"number"==typeof r?s(r):m&&s(t.start),f=l,p=-1,g=Math.min(a,t.end),y=c,n()},pause:function(){h()},seek:function(e){s(e)},get currentTime(){return l},get paused(){return u},set onPlay(e){n=null!=e?e:I.noop},set onPause(e){i=null!=e?e:I.noop},set onTimeUpdate(e){c=null!=e?e:I.noop}};a.current=b;var v=r(e,b);return function(){h(),v(),window.cancelAnimationFrame(m)}}),[e,r]),(0,f.useLayoutEffect)((function(){var e=a.current;e&&(e.currentTime<t?e.seek(t):e.currentTime>n&&e.seek(n))}),[t,n])}var dE=function(){return navigator.userAgent.match("Safari")&&navigator.userAgent.match("Version/14")?(0,Ge.css)(["transform:translate3d(0,0,0);"]):null},mE="pro";function pE(){return(pE=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}const fE=function(e){var t=e.width,n=void 0===t?24:t,r=e.height,o=void 0===r?24:r;return h().createElement("svg",pE({xmlns:"http://www.w3.org/2000/svg",width:n,height:o,viewBox:"0 0 24 24"},e,{"data-component-name":"CancelIconSVG","data-key":e["data-key"]}),h().createElement("g",{fill:"#FFF",fillRule:"evenodd",transform:"translate(6.5 6.5)"},h().createElement("rect",{width:"2",height:"14",x:"5",y:"-1",rx:"1",transform:"rotate(45 6 6)"}),h().createElement("rect",{width:"2",height:"14",x:"5",y:"-1",rx:"1",transform:"rotate(-45 6 6)"})))};var hE=(0,Ge.default)(Ze).attrs((function(e){return{"data-component-name":e["data-component-name"]?"CancelButtonWrapper ".concat(e["data-component-name"]):"CancelButtonWrapper"}})).withConfig({displayName:"cancel-button__CancelButtonWrapper",componentId:"sc-19rls3l-0"})(["cursor:pointer;"]);function gE(e){var t=e.onClick,n=void 0===t?function(){}:t,r=e.className;return h().createElement(hE,{align:"center",justify:"center",onClick:n,className:r,"data-component-name":"CancelButton"},h().createElement(fE,{width:"24",height:"24"}))}function yE(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return bE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bE(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bE(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var vE=function(){return qc("toast.background",ev)},EE=function(){return qc("toast.width","840px")},wE=function(){return qc("toast.textWidth","576px")},AE=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"ToastOverlay ".concat(e["data-component-name"]):"ToastOverlay"}})).withConfig({displayName:"upsell-toast__ToastOverlay",componentId:"sc-14pd3xn-0"})(["position:absolute;left:0;min-height:60px;width:100%;display:flex;",""],(function(e){return e.withStyle})),CE=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"MarginContainer ".concat(e["data-component-name"]):"MarginContainer"}})).withConfig({displayName:"upsell-toast__MarginContainer",componentId:"sc-14pd3xn-1"})(["min-width:80px;visibility:hidden;flex:1 0;"]),SE=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"ToastContainer ".concat(e["data-component-name"]):"ToastContainer"}})).withConfig({displayName:"upsell-toast__ToastContainer",componentId:"sc-14pd3xn-2"})(["background-color:",";border-radius:5px;box-shadow:0 1px 7px 0 rgba(0,0,0,0.23);display:flex;justify-content:flex-start;text-overflow:ellipsis;width:",";min-width:400px;flex:0 1 auto;"],vE,EE),_E=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"ToastText ".concat(e["data-component-name"]):"ToastText"}})).withConfig({displayName:"upsell-toast__ToastText",componentId:"sc-14pd3xn-3"})(["padding:21px 0px 19px 26px;text-align:left;color:#eef1f2;font-size:16px;line-height:1.25;width:",";flex:0 1 auto;margin:auto;"],wE),xE=Ge.default.button.attrs((function(e){return{"data-component-name":e["data-component-name"]?"UpsellBtn ".concat(e["data-component-name"]):"UpsellBtn"}})).withConfig({displayName:"upsell-toast__UpsellBtn",componentId:"sc-14pd3xn-4"})(["width:88px;height:40px;border-radius:3px;background-color:",";font-weight:bold;font-size:14px;color:#ffffff;margin:auto;border-color:transparent;cursor:pointer;width:88px;flex:none;&:hover{background-color:rgba(0,0,0,0.5);}"],(function(e){return t=e.tier,qc("".concat(t,"ToastButton.background"),"rgba(0, 0, 0, 0.3)");var t})),IE=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"CloseBtn ".concat(e["data-component-name"]):"CloseBtn"}})).withConfig({displayName:"upsell-toast__CloseBtn",componentId:"sc-14pd3xn-5"})(["font-weight:bold;font-size:14px;color:#ffffff;padding:19px 28px 21px 15px;background-color:",";border:none;cursor:pointer;min-width:92px;flex:none;margin:auto;&:hover{opacity:0.8;}"],vE),TE=(0,Ge.default)(gE).attrs((function(e){return{"data-component-name":e["data-component-name"]?"CancelBtn ".concat(e["data-component-name"]):"CancelBtn"}})).withConfig({displayName:"upsell-toast__CancelBtn",componentId:"sc-14pd3xn-6"})(["font-weight:bold;font-size:14px;color:#ffffff;margin:15px 15px 18px 0px;background-color:",";border:none;cursor:pointer;flex:none;&:hover{opacity:0.8;}"],vE);function OE(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return kE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kE(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kE(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ME=function(e){var t=e.withStyle,n=e.trackLocation,r=e.durationThreshold,o=e.closeToastBtnText,a=e.isUpsellBlocker,i=(0,T.v9)((function(e){return e.userCapabilities.capabilities.hasMaxDuration})).tier||{},c=i.text,l=i.name,s=(0,T.v9)((function(e){return e.userCapabilities.upsellTierViewed})),u=(0,f.useMemo)((function(){return!s[mE]}),[s]),d=(0,f.useCallback)((function(){var e,t;e={location:n,type:"length",pro_feature:"length",cta:"Try_Pro",notification_text:"",plan:l},t={name:"vimeo.click_to_try_plan",product:Si,flow:fa.flow,version:2},Li(t=sa(sa({},e),t))}),[n,l]),m=(0,f.useCallback)((function(e){var t,r;t={location:n,type:"length",pro_feature:"length",clicked_on:e},r={name:"click_on_upgrade_later_or_continue",product:Si,flow:fa.flow,version:2},Li(r=sa(sa({},t),r))}),[n]),p=(0,f.useCallback)((function(){return e={location:n,type:"length",pro_feature:"length",notification_text:"",plan:l},t={name:"vimeo.view_tier_blue_toast",product:Si,flow:fa.flow,version:2},void Li(t=sa(sa({},e),t));var e,t}),[n,l]),g=null;-1!==Jo.vsid&&(g=Jo.vsid),null!==g&&(g=g.toString());var y=(0,f.useCallback)((function(){zc.onDurationThresholdExceeded({vsid:g,tier:l,upsellTitle:oe.durationUpsellTitle(r,c)})}),[r,g,l,c]),b=a?oe.Upgrade:oe.FreemiumToastOpenUpsellTextTier(c),v=OE(function(e){var t=e.toastText,n=e.openUpsellBtnText,r=e.closeToastBtnText,o=e.tier,a=e.openUpsell,i=e.withStyle,c=e.trackOpenUpsell,l=void 0===c?function(){}:c,s=e.trackTryLater,u=void 0===s?function(){}:s,d=e.trackOpenToast,m=void 0===d?function(){}:d,p=yE((0,f.useState)(!1),2),g=p[0],y=p[1],b=yE((0,f.useState)(!1),2),v=b[0],E=b[1],w=(0,f.useCallback)((function(){a&&(a(),l(),y(!1),E(!0))}),[l,a]),A=(0,f.useCallback)((function(){g||(y(!0),m())}),[g,m]),C=(0,f.useCallback)((function(){g&&(y(!1),E(!0))}),[g]),S=(0,f.useCallback)((function(e){u(e),C()}),[C,u]);return[g&&h().createElement(AE,{withStyle:i},h().createElement(CE,null),h().createElement(SE,null,h().createElement(_E,null,t),h().createElement(xE,{tier:o,onClick:w},n),h().createElement(IE,{onClick:function(){return S("update_late")}},r),h().createElement(TE,{onClick:function(){return S("out/x")}})),h().createElement(CE,null)),A,C,v]}({toastText:oe.DurationUpsellToast(r),openUpsellBtnText:b,closeToastBtnText:o,tier:l,openUpsell:y,withStyle:t,trackOpenUpsell:d,trackTryLater:m,trackOpenToast:p}),4),E=v[0],w=v[1],A=v[2],C=v[3];return[E,(0,f.useCallback)((function(){!C&&u&&w()}),[w,u,C]),A]},BE=n(594498860543277);function jE(){return(jE=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var LE=function(e){return qc("colors.".concat(e.format),Kb)},PE=(0,Ge.default)(BE.LoaderCircular).attrs((function(e){return{"data-component-name":e["data-component-name"]?"LoaderCircularWrapper ".concat(e["data-component-name"]):"LoaderCircularWrapper"}})).withConfig({displayName:"loader-circular__LoaderCircularWrapper",componentId:"iyl7ql-0"})(["border-color:"," !important;border-bottom-color:transparent !important;"],LE);const NE=function(e){var t=e.format,n=void 0===t?"primary":t;return h().createElement(PE,jE({},e,{format:n,"data-component-name":"ThemeLoaderCircular","data-key":e["data-key"]}))};var DE=function(){return(0,Ge.css)(["min-width:",";max-width:",";height:auto;"],(0,We.rem)(420),(0,We.rem)(420))},RE=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"ButtonAligner ".concat(e["data-component-name"]):"ButtonAligner"}})).withConfig({displayName:"no-shared-folder-modalstyle__ButtonAligner",componentId:"sc-1pgsf4-0"})(["margin:"," auto;align-items:center;justify-content:flex-end;padding:0 ",";display:flex;"],(0,We.rem)(24),(0,We.rem)(24)),zE=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"ModalContent ".concat(e["data-component-name"]):"ModalContent"}})).withConfig({displayName:"no-shared-folder-modalstyle__ModalContent",componentId:"sc-1pgsf4-1"})(["padding:"," "," 0;"],(0,We.rem)(36),(0,We.rem)(36)),UE=function(e){var t=e.retry;return h().createElement(Jv,{className:"noSharedFolderModal",withStyle:DE,"data-component-name":"NoSharedFolderModal"},h().createElement(zE,null,oe.teamToSaveAVideo),h().createElement(RE,null,h().createElement(yv.Button,{format:"primary",size:"md",onClick:t},oe.teamNoSharedFoldersRetry)))};function FE(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return HE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HE(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function HE(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var VE=1e3,WE="PRCS",GE=function(e){return new Promise((function(t,n){var r=e.readState,o=e.writeState,a=r?r("storyboardData"):e.data,i=r?r("lastRevision"):e.data.lastRevision,c=r?r("isFacebookContext"):e.isFacebookContext,l={storyboard:Zm(a,i),create_vimeo_video:e.vimeoVideo||a.vimeoVideo,folder_uri:e.folderUri||a.folderUri};c&&(l.fb_flow=1);!function e(r){setTimeout((function(){Ht.post("/api/set_storyboard/".concat(a.videoHash),l,{timeout:6e5}).then((function(e){return o&&o(e),t(e)})).catch((function(r){var a,i;return(!r.response||r.response&&r.response.status>=500)&&o?(o&&o(null),e(VE)):1329===(null==r||null===(a=r.response)||void 0===a||null===(i=a.data)||void 0===i?void 0:i.errcode)&&o?(o(null),t()):n(r.response)}))}),r)}(0)}))},YE=function(e){return new Promise((function(t,n){var r=e.readState,o=e.writeState,a=r("vsid");!function e(r){setTimeout((function(){Ht.post("/api/video/watermark/remove?vsid=".concat(a),{},{timeout:6e5}).then((function(e){var r=e.data,a=r.status,i=r.job_id;return o({status:a,jobId:i}),"OK"===a?t(e):n(e)})).catch((function(t){return!t.response||t.response&&t.response.status>=500?(o(null),e(VE)):n(t.response)}))}),r)}(0)}))},qE=function(e){return new Promise((function(t,n){var r=e.readState,o=e.writeState,a={progress:0,step:"ANALYZING"},i=r("removingWatermark")?r("removeWatermarkJobCheck").hash:r("storyboardData").videoHash,c=0;!function e(r){setTimeout((function(){Ht.get("/api/storyboard/check_render_status/".concat(i),{timeout:1e5}).then((function(r){var i=r.data;switch(a=i,i.session_status){case"DRFT":return i.last_error?n(i):(o(i),t(i));case"ERR":return n(i);case WE:"UNKNOWN"===i.step&&(i.step="RENDERING")}return o(i),c=0,e(VE)})).catch((function(t){return!t.response||t.response&&t.response.status>=500?(o(a),e(VE)):5<c?n(t):(o(a),c+=1,e(VE))}))}),r)}(0)}))},ZE=function(e){var t=e.params,n=e.pollingInterval,r=void 0===n?VE:n,o=e.maxRetries,a=void 0===o?5:o,i=e.onStatusUpdated,c=0,l=Object.entries(t).map((function(e){var t=FE(e,2),n=t[0],r=t[1];return"".concat(n,"=").concat(r)})).join("&");return new Promise((function(e,t){!function n(o){setTimeout((function(){Ht.get("/api/video/upload/check?".concat(l)).then((function(o){var a=o.data;switch(a.job_status){case"DONE":return i(a),e(a);case"ERR":return t(a)}return i(a),c=0,n(r)})).catch((function(e){return!e.response||e.response&&e.response.status>=500?n(r):a<c?t(e):(c+=1,n(r))}))}),o)}(0)}))},XE=function(e){var t=e.readState,n=e.writeState,r=t("removeWatermark").jobId;return ZE({params:{job:r},onStatusUpdated:n})};function KE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function QE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?KE(Object(n),!0).forEach((function(t){$E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JE(e){var t,n,r,o=Jo.vsid,a=(t=(0,f.useContext)(Cc).files,n=t.filesQueueOrder,r=t.getFileByUploadId,(0,f.useMemo)((function(){var e=0;return n.reduce((function(t,n){var o=r[n].srcFile.hash;return t[o]||(t[o]=e++),t}),{})}),[n,r])),i=(0,T.v9)((function(e){return qe(e,"featureToggles.values.facebookContext",!1)}));return{init:(0,f.useCallback)((function(t,n,r){var c=t.theme,l=t.sound,s=t.story;return e&&"editor"===e?GE({data:t,isFacebookContext:i,vimeoVideo:1,folderUri:n}).then((function(e){var t,n=null==e||null===(t=e.data)||void 0===t?void 0:t.vimeo_video_id;if(!n)throw new Error("No video id returned from server");return n})).catch((function(e){throw e})):!t.flow||"scripts"!==t.flow.flow_type&&"script_specific"!==t.flow.flow_type?function(e){var t=e.vsid,n=e.data,r=e.videoFilesOrderQueue,o=e.isFacebookContext,a=e.isShopifyUser,i=new FormData;i.set("vsid",t);var c=To.getState(),l=c.videoSettings,s=l.palette,u=l.font,d=l.theme,m=l.title,p=c.ui.sort,f=d.id;i.set("theme_id",f),ir(s)&&(i.set("primary_color",Cr(s.primary)),i.set("secondary_color",Cr(s.secondary)),i.set("default_color",Cr(s.default))),function(e){return e&&e.name}(u)&&i.set("user_font",u.name),m&&i.set("video_title",m);var h=n.story,g=h.orientation,y=h.vidLength,b=h.messages,v=n.sound.hash?n.sound.hash:n.sound.id,E=n.folder,w=n.vimeoVideo;E&&i.set("folder_uri",E),w&&i.set("create_vimeo_video",1),"string"==typeof v?i.set("uploaded_audio_hash",v):i.set("audio_track_id",v),"auto"!==g&&i.set("orientation",g),"auto"!==y&&i.set("duration",y),o&&i.set("fb_flow",1),a&&i.set("int_app","shopify");var A={};Object.keys(b).reduce((function(e,t){return!e[t]&&b[t]&&(e[t]=[b[t]]),e}),A),Object.keys(A).length>0&&i.set("video_messages",JSON.stringify(A)),p.selectedOrder===be?i.set("no_order","1"):i.set("video_order",JSON.stringify(r));var C=0;return new Promise((function(e,t){!function n(r){setTimeout((function(){Ht.post("/api/video/upload/make",i,{timeout:12e4}).then((function(t){return e(t)})).catch((function(e){return C>5?t(e):(C+=1,n(3e3))}))}),r)}(0)}))}({vsid:o,data:{theme:null==c?void 0:c.data,sound:null==l?void 0:l.data,story:null==s?void 0:s.data,folder:n,vimeoVideo:!0},videoFilesOrderQueue:a,isFacebookContext:i,isShopifyUser:r}):function(e){var t=e.vsid,n=e.data,r=e.files,o=e.isFacebookContext,a=e.isShopifyUser,i=n.script.data.theme.id,c=n.script.data.track.hash?n.script.data.track.hash:n.script.data.track.id,l="";switch((n.script.orientation||n.script.data.default_orientation).toUpperCase()){case"LND":l="landscape";break;case"PRT":l="portrait";break;case"SQR":l="square"}var s=n.script.data.title,u=n.branding,d=u.selectedPalette,m=u.selectedFont,p=n.folder,f=n.vimeoVideo,h=new FormData;h.set("vsid",t),h.set("theme_id",i),"string"==typeof c?h.set("uploaded_audio_hash",c):h.set("audio_track_id",c),p&&h.set("folder_uri",p),f&&h.set("create_vimeo_video",1),d.primary&&h.set("primary_color",Cr(d.primary)),d.secondary&&h.set("secondary_color",Cr(d.secondary)),d.default&&h.set("default_color",Cr(d.default));var g=m.name;if(g&&h.set("user_font",g),s&&h.set("video_title",s),"auto"!==l&&h.set("orientation",l),n.script.data.engine_script_id&&n.script.data.elements){var y={engine_script_id:n.script.data.engine_script_id,script_hash:n.script.data.hash,settings:n.script.data.elements.reduce((function(e,t){return t&&t.value&&t.value.length>0&&t.visible&&(e[t.engine_element_name]=t.value),t&&t.prep_media&&(e["".concat(t.engine_element_name,"_prep_media")]=t.prep_media),e}),{})};n.script.active_shop&&(y.active_shop=n.script.active_shop),h.set("script",JSON.stringify(y))}if(n.footage){var b=Object.keys(n.footage).map((function(e){return{hash:r.find((function(t){return t.uploadId===e})).hash,element:n.footage[e]}}));h.set("footage",JSON.stringify(b))}n.flow.pages&&h.set("pages",JSON.stringify(n.flow.pages.filter((function(e){return"script_elements"===e.type})).map((function(e){return{page_num:e.page_num,elements:e.elements}})))),o&&h.set("fb_flow",1),a&&h.set("int_app","shopify");var v=0;return new Promise((function(e,t){!function n(r){setTimeout((function(){Ht.post("/api/video/upload/make",h,{timeout:12e4}).then((function(t){return e(t)})).catch((function(e){return v>5?t(e):(v+=1,n(3e3))}))}),r)}(0)}))}({vsid:o,data:QE(QE({},t),{folder:n,vimeoVideo:!0}),files:Jo.getAllFiles(),isFacebookContext:!1,isShopifyUser:r,folder:n,vimeoVideo:!0})}),[e,i,a,o])}}const ew=function(e,t,n){var r="https://".concat(Ot.get("api.vimeoApi.apiUrl","")),o="".concat(r,"/users/").concat(t,"/projects"),a={headers:{Authorization:"jwt ".concat(Ot.get("api.vimeoApi.jwt","")),Accept:"application/vnd.vimeo.*; version=3.4.2","Content-Type":"application/json","Accept-Language":"en"}};return Nt()({method:e,url:o,data:n,headers:a.headers})};const tw=function(e,t){var n="https://".concat(Ot.get("api.vimeoApi.apiUrl","")),r="".concat(n,"/videos/").concat(t),o={headers:{Authorization:"jwt ".concat(Ot.get("api.vimeoApi.jwt","")),Accept:"application/vnd.vimeo.*; version=3.4.2","Content-Type":"application/json","Accept-Language":"en"}};return Nt()({method:e,url:r,headers:o.headers})};function nw(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return rw(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rw(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rw(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ow=S("useLocalStorage");function aw(e,t){var n=nw((0,f.useState)((function(){try{var n=window.localStorage.getItem(e);return n?JSON.parse(n):t}catch(e){return ow.log(e),t}})),2),r=n[0],o=n[1];return[r,function(t){try{var n=t instanceof Function?t(r):t;o(n),window.localStorage.setItem(e,JSON.stringify(n))}catch(e){ow.log(e)}}]}const iw=function(e){var t="https://".concat(Ot.get("api.vimeoApi.apiUrl","")),n="".concat(t,"/users/").concat(e,"/teams");return Nt().get(n,{headers:{Authorization:"jwt ".concat(Ot.get("api.vimeoApi.jwt","")),Accept:"application/vnd.vimeo.*; version=3.4.2","Content-Type":"application/json","Accept-Language":"en"}})};function cw(e,t,n,r,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,o)}function lw(){var e=function(e,t){return e.filter((function(e){return e.team_data.owner_id===t}))[0]};return{getTeam:function(){var t,n=(t=regeneratorRuntime.mark((function t(n,r){var o,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,iw(n);case 2:return a=t.sent,t.abrupt("return",e(null==a||null===(o=a.data)||void 0===o?void 0:o.data,r));case 4:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(e){cw(a,r,o,i,c,"next",e)}function c(e){cw(a,r,o,i,c,"throw",e)}i(void 0)}))});return function(e,t){return n.apply(this,arguments)}}()}}function sw(e,t,n,r,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,o)}function uw(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){sw(a,r,o,i,c,"next",e)}function c(e){sw(a,r,o,i,c,"throw",e)}i(void 0)}))}}function dw(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return mw(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mw(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mw(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var pw=navigator.platform.toUpperCase().indexOf("MAC")>=0;const fw={isMac:pw,modifierKey:function(e){switch(e.toLowerCase()){case"ctrl":case"cmd":return pw?"":"ctrl";case"alt":return pw?"option":"alt";default:return""}}};var hw=function(){return(0,Ge.css)(["background-color:transparent;height:0;"])},gw=(0,Ge.default)(Qe).attrs((function(e){return{"data-component-name":e["data-component-name"]?"PopupWrapper ".concat(e["data-component-name"]):"PopupWrapper"}})).withConfig({displayName:"alert-popupcomponent__PopupWrapper",componentId:"sc-1hm4el1-0"})(["display:flex;flex-direction:column;background-color:#fff;width:",";padding:",";border-radius:",";box-shadow:0 6px 10px 0 rgba(0,0,0,0.12);font-weight:500;"],(0,We.rem)(372),(0,We.rem)(24),(0,We.rem)(3)),yw=(0,Ge.default)(fv).attrs((function(e){return{"data-component-name":e["data-component-name"]?"AlertText ".concat(e["data-component-name"]):"AlertText"}})).withConfig({displayName:"alert-popupcomponent__AlertText",componentId:"sc-1hm4el1-1"})(["font-family:HelveticaNeue,Helvetica,Arial,sans-serif;line-height:1.33;text-align:left;"]),bw=(0,Ge.default)(yw).attrs((function(e){return{"data-component-name":e["data-component-name"]?"AlertContent ".concat(e["data-component-name"]):"AlertContent"}})).withConfig({displayName:"alert-popupcomponent__AlertContent",componentId:"sc-1hm4el1-2"})(["margin:"," "," "," 0;ul{list-style-type:disc;}ol{list-style-type:decimal;}ul,ol{margin-block-start:",";margin-block-end:",";margin-inline-start:0;margin-inline-end:0;padding-inline-start:",";}"],(0,We.rem)(8),(0,We.rem)(12),(0,We.rem)(24),(0,We.rem)(14),(0,We.rem)(14),(0,We.rem)(30)),vw=(0,Ge.default)(yw).attrs((function(e){return{"data-component-name":e["data-component-name"]?"PopupTitle ".concat(e["data-component-name"]):"PopupTitle"}})).withConfig({displayName:"alert-popupcomponent__PopupTitle",componentId:"sc-1hm4el1-3"})(["font-size:",";letter-spacing:",";max-width:",";"],(0,We.rem)(18),(0,We.rem)(.2),(0,We.rem)(284)),Ew=(0,Ge.default)(Tv).attrs((function(e){return{"data-component-name":e["data-component-name"]?"SecondaryActionButton ".concat(e["data-component-name"]):"SecondaryActionButton"}})).withConfig({displayName:"alert-popupcomponent__SecondaryActionButton",componentId:"sc-1hm4el1-4"})(["margin-right:",";"],(0,We.rem)(8));const ww=function(e){var t,n=e.title,r=e.content,o=e.primaryBtnConfig,a=e.secondaryBtnConfig,i=e.biNotificationName,c=e.showX,l=void 0===c||c;(0,f.useEffect)((function(){i&&Ji({notification_name:i})}),[i]);var s=(0,f.useCallback)((function(){a&&a.callback?a.callback():o&&o.callback&&o.callback()}),[o,a]);return h().createElement(Jv,{withStyle:hw,"data-component-name":"AlertPopup"},h().createElement(gw,null,h().createElement(Ze,{align:"center",justify:"space-between"},h().createElement(vw,null,h().createElement(sv,null,n)),l&&h().createElement(Mv,{size:"sm",onClick:function(){s()}})),h().createElement(bw,null,r),h().createElement(Ze,{justify:"flex-end"},a&&h().createElement(Ew,{onClick:function(e){e.stopPropagation(),a.biCTAname&&ec({notification_name:i,cta:a.biCTAname}),a.callback&&a.callback()},format:null!==(t=a.format)&&void 0!==t?t:"secondary"},a.caption),o&&h().createElement(Tv,{onClick:function(e){e.stopPropagation(),o.biCTAname&&ec({notification_name:i,cta:o.biCTAname}),o.callback&&o.callback()},format:o.format||"primary"},o.caption))))};var Aw=function(e){var t=e.context,n=(0,T.I0)(),r=(0,T.v9)((function(e){return e.alertNotifications}));return Object.values(r).map((function(e){var r,o=e.title,a=e.content,i=e.showSecondaryBtn,c=e.primaryBtnConfig,l=e.secondaryBtnConfig,s=e.showX,u=e.id,d=e.biNotificationName;return e.context===t&&h().createElement(ww,{key:r=u,"data-key":r,title:o,content:a,showX:s,primaryBtnConfig:{caption:c.caption,format:c.format,callback:function(){c.callback(),c.closeNotificationOnClick&&n(nd(u))}},secondaryBtnConfig:i?{caption:l.caption,format:l.format,callback:function(){l.callback(),l.closeNotificationOnClick&&n(nd(u))}}:void 0,biNotificationName:d})}))},Cw=n(496294570041767),Sw=n(813529497137821),_w=n(365025665668841);const xw=(0,Ge.default)(_w.InputText).withConfig({displayName:"input-text",componentId:"sc-1re9eop-0"})([""]);function Iw(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Tw(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Tw(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tw(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ow=function(){return(0,Ge.css)(["width:",";min-width:",";max-width:",";height:auto;min-height:",";max-height:",";"],(0,We.rem)(440),(0,We.rem)(440),(0,We.rem)(440),(0,We.rem)(616),(0,We.rem)(749))},kw=(0,Ge.default)(fv).attrs((function(e){return{"data-component-name":e["data-component-name"]?"ModalHeader ".concat(e["data-component-name"]):"ModalHeader"}})).withConfig({displayName:"branding-conflict-modalcomponent__ModalHeader",componentId:"sc-1gfcs9i-0"})(["font-size:",";font-weight:500;"],(0,We.rem)(18)),Mw=(0,Ge.default)(fv).attrs((function(e){return{"data-component-name":e["data-component-name"]?"ModalSubHeader ".concat(e["data-component-name"]):"ModalSubHeader"}})).withConfig({displayName:"branding-conflict-modalcomponent__ModalSubHeader",componentId:"sc-1gfcs9i-1"})(["font-size:",";line-height:1.43;width:",";margin-top:",";"],(0,We.rem)(14),(0,We.rem)(374),(0,We.rem)(12)),Bw=(0,Ge.default)(Xe).attrs((function(e){return{"data-component-name":e["data-component-name"]?"BrandingContainer ".concat(e["data-component-name"]):"BrandingContainer"}})).withConfig({displayName:"branding-conflict-modalcomponent__BrandingContainer",componentId:"sc-1gfcs9i-2"})(["padding:",";"],(0,We.rem)(24)),jw=((0,We.rem)(392),(0,We.rem)(96),(0,We.rem)(26),(0,We.rem)(392),(0,We.rem)(16),(0,We.rem)(8),(0,We.rem)(96),(0,We.rem)(16),(0,We.rem)(392),(0,We.rem)(113),(0,We.rem)(14),(0,We.rem)(21),(0,We.rem)(21),(0,We.rem)(392),(0,We.rem)(270),(0,We.rem)(14),(0,We.rem)(20),(0,We.rem)(6),(0,We.rem)(14),(0,We.rem)(16),(0,We.rem)(4),(0,Ge.default)(Tv).attrs((function(e){return{"data-component-name":e["data-component-name"]?"ActionButton ".concat(e["data-component-name"]):"ActionButton"}})).withConfig({displayName:"branding-conflict-modalcomponent__ActionButton",componentId:"sc-1gfcs9i-15"})(["min-width:",";height:",";float:right;margin-left:",";"],(0,We.rem)(93),(0,We.rem)(40),(0,We.rem)(8))),Lw=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"ActionButtonsContainer ".concat(e["data-component-name"]):"ActionButtonsContainer"}})).withConfig({displayName:"branding-conflict-modalcomponent__ActionButtonsContainer",componentId:"sc-1gfcs9i-16"})(["position:absolute;bottom:",";right:",";"],(0,We.rem)(24),(0,We.rem)(24)),Pw=h().memo((function(e){var t=e.onOverride,n=e.onCancel,r=e.brandingConflictData,o=(0,f.useCallback)((function(){t()}),[t]);(0,f.useRef)(null);return(0,f.useEffect)((function(){var e=function(e){27===e.keyCode&&n(),13===e.keyCode&&t("test")};return document.addEventListener("keydown",e),function(){return document.removeEventListener("keydown",e)}}),[n,t]),h().createElement(Jv,{withStyle:Ow,"data-component-name":"BrandingConflictModal","data-key":e["data-key"]},h().createElement(Bw,null,h().createElement(kw,null,oe.BrandingConflictModalTitle,h().createElement(Mv,{onClick:n})),h().createElement(Mw,null,oe.BrandingConflictModalSubTitle),h().createElement(Mw,null,r.userData&&r.userData.business.name),h().createElement(Lw,null,h().createElement(jw,{onClick:o},oe.BrandingConflictUpdateBrand),h().createElement(jw,{onClick:n,format:"secondary"},oe.Cancel))))}));Pw.propTypes={onOverride:Sw.func.isRequired,onCancel:Sw.func.isRequired};var Nw=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"Overlay ".concat(e["data-component-name"]):"Overlay"}})).withConfig({displayName:"popupcomponent__Overlay",componentId:"x3nujh-0"})(["position:",";top:0;left:0;height:100%;width:100%;background-color:rgba(0,0,0,0.4);z-index:21;"],(function(e){return e.overlayPosition})),Dw=(0,Ge.default)(Qe).attrs((function(e){return{"data-component-name":e["data-component-name"]?"PopupWrapper ".concat(e["data-component-name"]):"PopupWrapper"}})).withConfig({displayName:"popupcomponent__PopupWrapper",componentId:"x3nujh-1"})(["display:flex;flex-direction:column;background-color:#fff;padding:",";border-radius:3px;box-shadow:0 6px 10px 0 rgba(0,0,0,0.12);"],(0,We.rem)(20)),Rw=(0,Ge.default)(Ze).attrs((function(e){return{"data-component-name":e["data-component-name"]?"PopupHeader ".concat(e["data-component-name"]):"PopupHeader"}})).withConfig({displayName:"popupcomponent__PopupHeader",componentId:"x3nujh-2"})([""]),zw=(0,Ge.default)(fv).attrs((function(e){return{"data-component-name":e["data-component-name"]?"PopupTitle ".concat(e["data-component-name"]):"PopupTitle"}})).withConfig({displayName:"popupcomponent__PopupTitle",componentId:"x3nujh-3"})(["font-size:",";letter-spacing:0.2px;line-height:",";font-weight:600;max-width:80%;"],(0,We.rem)(18),(0,We.rem)(24)),Uw=(0,Ge.default)(Ze).attrs((function(e){return{"data-component-name":e["data-component-name"]?"PopupContent ".concat(e["data-component-name"]):"PopupContent"}})).withConfig({displayName:"popupcomponent__PopupContent",componentId:"x3nujh-4"})(["flex:1;position:relative;"]);const Fw=function(e){var t=e.title,n=e.content,r=e.footer,o=e.onClose,a=e.className,i=e.overlayPosition;return h().createElement(Nw,{overlayPosition:void 0===i?"absolute":i,"data-component-name":"PopupComponent"},h().createElement(Dw,{className:a},h().createElement(Rw,{align:"center",justify:"space-between"},h().createElement(zw,null,h().createElement(sv,null,t)),h().createElement(Mv,{onClick:function(){o()}})),h().createElement(Uw,null,n),r))};var Hw=(0,Ge.default)(Fw).attrs((function(e){return{"data-component-name":e["data-component-name"]?"ErrorPopup ".concat(e["data-component-name"]):"ErrorPopup"}})).withConfig({displayName:"error-modal-styles__ErrorPopup",componentId:"zp2gqh-0"})(["width:",";"],(function(e){return e.width?e.width:(0,We.rem)(400)})),Vw=(0,Ge.default)(fv).attrs((function(e){return{"data-component-name":e["data-component-name"]?"ErrorPopupContent ".concat(e["data-component-name"]):"ErrorPopupContent"}})).withConfig({displayName:"error-modal-styles__ErrorPopupContent",componentId:"zp2gqh-1"})(["padding:"," 0;line-height:",";"],(0,We.rem)(20),(0,We.rem)(24));function Ww(){return(Ww=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Gw=function(e){return(0,We.rgba)(qc("toggle.".concat(e.format,".outlineColor"),Kb),.6)},Yw=function(e){return qc("toggle.".concat(e.format,".backgroundColor"),Kb)},qw=function(e){return qc("toggle.".concat(e.format,".hoverBackgroundColor"),av)},Zw=(0,Ge.default)(Cw.InputToggle).attrs((function(e){return{"data-component-name":e["data-component-name"]?"InputToggleWrapper ".concat(e["data-component-name"]):"InputToggleWrapper"}})).withConfig({displayName:"input-toggle__InputToggleWrapper",componentId:"tiyqd9-0"})(["input[type='checkbox']:focus + div div{border-color:"," !important;}input[type='checkbox']:checked + div{background:"," !important;}input[type='checkbox']:checked:hover + div{background:"," !important;}"],Gw,Yw,qw);const Xw=(0,f.memo)((function(e){var t=e.format,n=void 0===t?"primary":t;return h().createElement(Zw,Ww({},e,{format:n,"data-component-name":"ThemeInputToggle","data-key":e["data-key"]}))}));var Kw=function(){return(0,Ge.css)(["width:",";min-width:",";max-width:",";"],(0,We.rem)(440),(0,We.rem)(440),(0,We.rem)(440))},Qw=(0,Ge.default)(fv).attrs((function(e){return{"data-component-name":e["data-component-name"]?"ModalHeader ".concat(e["data-component-name"]):"ModalHeader"}})).withConfig({displayName:"branding-modalcomponentstyles__ModalHeader",componentId:"sc-1iz6d9e-0"})(["font-size:",";font-weight:500;"],(0,We.rem)(18)),$w=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"BrandingContentContainer ".concat(e["data-component-name"]):"BrandingContentContainer"}})).withConfig({displayName:"branding-modalcomponentstyles__BrandingContentContainer",componentId:"sc-1iz6d9e-1"})(["height:100%;overflow-y:auto;overflow-x:hidden;flex-direction:column;display:flex;margin-right:-17px;margin-bottom:50px;padding-left:5px;"]),Jw=(0,Ge.default)(fv).attrs((function(e){return{"data-component-name":e["data-component-name"]?"ModalSubHeader ".concat(e["data-component-name"]):"ModalSubHeader"}})).withConfig({displayName:"branding-modalcomponentstyles__ModalSubHeader",componentId:"sc-1iz6d9e-2"})(["font-size:",";line-height:1.43;width:",";margin-top:",";"],(0,We.rem)(14),(0,We.rem)(374),(0,We.rem)(12)),eA=(0,Ge.default)(Xe).attrs((function(e){return{"data-component-name":e["data-component-name"]?"BrandingContainer ".concat(e["data-component-name"]):"BrandingContainer"}})).withConfig({displayName:"branding-modalcomponentstyles__BrandingContainer",componentId:"sc-1iz6d9e-3"})(["padding:",";height:100%;"],(0,We.rem)(20)),tA=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"BrandingSavingOverlay ".concat(e["data-component-name"]):"BrandingSavingOverlay"}})).withConfig({displayName:"branding-modalcomponentstyles__BrandingSavingOverlay",componentId:"sc-1iz6d9e-4"})(["background-color:rgba(255,255,255,0);height:100%;width:100%;position:absolute;z-index:999;"]),nA=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"AssetsContainer ".concat(e["data-component-name"]):"AssetsContainer"}})).withConfig({displayName:"branding-modalcomponentstyles__AssetsContainer",componentId:"sc-1iz6d9e-5"})(["position:relative;width:",";height:",";margin-top:",";"],(0,We.rem)(394),(0,We.rem)(96),(0,We.rem)(26)),rA=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"Asset ".concat(e["data-component-name"]):"Asset"}})).withConfig({displayName:"branding-modalcomponentstyles__Asset",componentId:"sc-1iz6d9e-6"})(["display:inline-block;"]),oA=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"AssetsActionsContainer ".concat(e["data-component-name"]):"AssetsActionsContainer"}})).withConfig({displayName:"branding-modalcomponentstyles__AssetsActionsContainer",componentId:"sc-1iz6d9e-7"})(["position:relative;width:",";height:",";margin-top:",";"],(0,We.rem)(392),(0,We.rem)(16),(0,We.rem)(8)),aA=(0,Ge.default)(hv).attrs((function(e){return{"data-component-name":e["data-component-name"]?"AssetsAction ".concat(e["data-component-name"]):"AssetsAction"}})).withConfig({displayName:"branding-modalcomponentstyles__AssetsAction",componentId:"sc-1iz6d9e-8"})(["position:relative;width:",";height:",";display:inline-block;text-align:center;vertical-align:top;"],(0,We.rem)(96),(0,We.rem)(16)),iA=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"TogglesContainer ".concat(e["data-component-name"]):"TogglesContainer"}})).withConfig({displayName:"branding-modalcomponentstyles__TogglesContainer",componentId:"sc-1iz6d9e-9"})(["width:",";height:",";padding-top:",";"],(0,We.rem)(392),(0,We.rem)(113),(0,We.rem)(14)),cA=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"BrandToggleWrapper ".concat(e["data-component-name"]):"BrandToggleWrapper"}})).withConfig({displayName:"branding-modalcomponentstyles__BrandToggleWrapper",componentId:"sc-1iz6d9e-10"})(["display:flex;"]),lA=(0,Ge.default)(Xw).attrs((function(e){return{"data-component-name":e["data-component-name"]?"BrandToggle ".concat(e["data-component-name"]):"BrandToggle"}})).withConfig({displayName:"branding-modalcomponentstyles__BrandToggle",componentId:"sc-1iz6d9e-11"})(["margin-top:",";"],(0,We.rem)(21)),sA=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"BusinessContainer ".concat(e["data-component-name"]):"BusinessContainer"}})).withConfig({displayName:"branding-modalcomponentstyles__BusinessContainer",componentId:"sc-1iz6d9e-12"})(["width:",";height:",";"],(0,We.rem)(392),(0,We.rem)(270)),uA=(0,Ge.default)(fv).attrs((function(e){return{"data-component-name":e["data-component-name"]?"BusinessInputLabel ".concat(e["data-component-name"]):"BusinessInputLabel"}})).withConfig({displayName:"branding-modalcomponentstyles__BusinessInputLabel",componentId:"sc-1iz6d9e-13"})(["font-size:",";height:",";font-weight:500;margin-bottom:",";"],(0,We.rem)(14),(0,We.rem)(20),(0,We.rem)(6)),dA=(0,Ge.default)(xw).attrs((function(e){return{"data-component-name":e["data-component-name"]?"BusinessInput ".concat(e["data-component-name"]):"BusinessInput"}})).withConfig({displayName:"branding-modalcomponentstyles__BusinessInput",componentId:"sc-1iz6d9e-14"})(["font-size:",";font-weight:500;margin-bottom:",";"],(0,We.rem)(14),(0,We.rem)(16)),mA=(0,Ge.default)(Iv).attrs((function(e){return{"data-component-name":e["data-component-name"]?"ActionButton ".concat(e["data-component-name"]):"ActionButton"}})).withConfig({displayName:"branding-modalcomponentstyles__ActionButton",componentId:"sc-1iz6d9e-15"})(["min-width:",";height:",";float:right;margin-left:",";"],(0,We.rem)(93),(0,We.rem)(40),(0,We.rem)(8)),pA=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"ActionButtonsContainer ".concat(e["data-component-name"]):"ActionButtonsContainer"}})).withConfig({displayName:"branding-modalcomponentstyles__ActionButtonsContainer",componentId:"sc-1iz6d9e-16"})(["position:absolute;bottom:",";right:",";"],(0,We.rem)(24),(0,We.rem)(24)),fA=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"LoadingOverlay ".concat(e["data-component-name"]):"LoadingOverlay"}})).withConfig({displayName:"branding-modalcomponentstyles__LoadingOverlay",componentId:"sc-1iz6d9e-17"})(["position:fixed;z-index:9999999;width:100%;height:100%;background-color:rgba(0,0,0,0.33);top:0;left:0;div{position:fixed;top:50%;left:50%;margin:-1.75rem 0 0 -1.75rem;}"]),hA=n(897951088511473);const gA=function(){return h().createElement("svg",{width:"40px",height:"40px",viewBox:"0 0 40 40",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink","data-component-name":"ColorHover"},h().createElement("title",null),h().createElement("desc",null,"Created with Sketch."),h().createElement("g",{id:"Drafts",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},h().createElement("g",{id:"Brand-Logo-1",transform:"translate(-620.000000, -251.000000)",fillRule:"nonzero"},h().createElement("g",{id:"Group-8-Copy",transform:"translate(420.000000, 51.000000)"},h().createElement("g",{id:"iOS/Brand/colors/empty",transform:"translate(172.000000, 122.000000)"},h().createElement("g",{id:"Icon/Dark/color-palettes"},h().createElement("g",{id:"img_colors_hover",transform:"translate(28.000000, 78.000000)"},h().createElement("g",{id:"Group"},h().createElement("path",{d:"M20.0000003,1.5 C9.78273235,1.5 1.5000003,9.78273214 1.5000003,20 C1.5000003,30.2172679 9.78273235,38.5 19.9919855,38.5000214 C20.7131834,38.4961678 21.3651209,38.0698368 21.6577867,37.4106795 C21.9504525,36.7515222 21.8294678,35.9820137 21.3486338,35.4444457 C20.0771783,34.0229186 19.7605245,31.9866285 20.5402683,30.2461291 C21.320012,28.5056296 23.0503436,27.386389 24.9555556,27.3888889 L28.8888889,27.3888889 C34.1969591,27.3888889 38.5000003,23.0858478 38.5000003,17.7777778 C38.5000003,8.82768733 30.25477,1.5 20.0000003,1.5 Z",id:"Path",stroke:"#1A2E3B",strokeWidth:"3"}),h().createElement("circle",{id:"Oval",fill:"#1A2E3B",cx:"13",cy:"27",r:"3"}),h().createElement("circle",{id:"Oval-Copy-4",fill:"#1A2E3B",cx:"29",cy:"19",r:"3"}),h().createElement("circle",{id:"Oval-Copy",fill:"#1A2E3B",cx:"25",cy:"11",r:"3"}),h().createElement("circle",{id:"Oval-Copy-2",fill:"#1A2E3B",cx:"15",cy:"11",r:"3"}),h().createElement("circle",{id:"Oval-Copy-3",fill:"#1A2E3B",cx:"10",cy:"19",r:"3"})))))))))};const yA=function(){return h().createElement("svg",{width:"40px",height:"40px",viewBox:"0 0 40 40",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink","data-component-name":"ColorRegular"},h().createElement("title",null,"img_colors_regular"),h().createElement("desc",null,"Created with Sketch."),h().createElement("g",{id:"Drafts",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},h().createElement("g",{id:"Brand-Logo-1",transform:"translate(-620.000000, -201.000000)",fillRule:"nonzero"},h().createElement("g",{id:"Group-8-Copy",transform:"translate(420.000000, 51.000000)"},h().createElement("g",{id:"iOS/Brand/colors/empty",transform:"translate(172.000000, 122.000000)"},h().createElement("g",{id:"Icon/Dark/color-palettes"},h().createElement("g",{id:"img_colors_regular",transform:"translate(28.000000, 28.000000)"},h().createElement("g",{id:"Group"},h().createElement("path",{d:"M20.0000003,1.5 C9.78273235,1.5 1.5000003,9.78273214 1.5000003,20 C1.5000003,30.2172679 9.78273235,38.5 19.9919855,38.5000214 C20.7131834,38.4961678 21.3651209,38.0698368 21.6577867,37.4106795 C21.9504525,36.7515222 21.8294678,35.9820137 21.3486338,35.4444457 C20.0771783,34.0229186 19.7605245,31.9866285 20.5402683,30.2461291 C21.320012,28.5056296 23.0503436,27.386389 24.9555556,27.3888889 L28.8888889,27.3888889 C34.1969591,27.3888889 38.5000003,23.0858478 38.5000003,17.7777778 C38.5000003,8.82768733 30.25477,1.5 20.0000003,1.5 Z",id:"Path",stroke:"#B3BFC8",strokeWidth:"3"}),h().createElement("circle",{id:"Oval",fill:"#B3BFC8",cx:"13",cy:"27",r:"3"}),h().createElement("circle",{id:"Oval-Copy-4",fill:"#B3BFC8",cx:"29",cy:"19",r:"3"}),h().createElement("circle",{id:"Oval-Copy",fill:"#B3BFC8",cx:"25",cy:"11",r:"3"}),h().createElement("circle",{id:"Oval-Copy-2",fill:"#B3BFC8",cx:"15",cy:"11",r:"3"}),h().createElement("circle",{id:"Oval-Copy-3",fill:"#B3BFC8",cx:"10",cy:"19",r:"3"})))))))))};function bA(){return h().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"25",viewBox:"0 0 24 25","data-component-name":"WhitePencilIconSVG"},h().createElement("g",{fill:"none",fillRule:"evenodd",stroke:"#FFF",strokeWidth:"2"},h().createElement("path",{strokeLinecap:"square",d:"M13.414 8.596l2.829 2.829"}),h().createElement("path",{strokeLinejoin:"round",d:"M18.718 5.414l1.414 1.414a2 2 0 0 1 0 2.829L9.525 20.263l-4.95.708.707-4.95L15.89 5.414a2 2 0 0 1 2.829 0z"})))}function vA(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return EA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return EA(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function EA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wA(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=(0,f.useState)(null),r=vA(n,2),o=r[0],a=r[1];return(0,f.useEffect)((function(){var n=function(n){o&&!o.contains(n.target)&&(t.some((function(e){var t;return null===(t=e.current)||void 0===t?void 0:t.contains(n.target)}))||e(n))};return document.addEventListener("mousedown",n),document.addEventListener("touchstart",n),function(){document.removeEventListener("mousedown",n),document.removeEventListener("touchstart",n)}}),[e,o,t]),[a]}var AA=n(13475200933),CA=n.n(AA);function SA(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _A(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xA(e,t){var n=SA((0,f.useState)(!1),2),r=n[0],o=n[1],a=SA((0,f.useState)(null),2),i=a[0],c=a[1];return(0,f.useEffect)((function(){if(i){var n=function(){o(!0),"function"==typeof e&&e(i)},r=function(){o(!1),"function"==typeof t&&t(i)};return i.addEventListener("mouseenter",n),i.addEventListener("mouseleave",r),function(){i.removeEventListener("mouseenter",n),i.removeEventListener("mouseleave",r)}}return function(){}}),[t,e,i]),[i,c,r]}function IA(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=(0,f.useState)(!1),o=SA(r,2),a=o[0],i=o[1],c=(0,f.useRef)(null),l=null!==n?n:c;return(0,f.useEffect)((function(){var n=l&&l.current;if(!n)return function(){};var r=function(){i(!0),e(n)},o=function(){i(!1),t(n)};return n.addEventListener("mouseenter",r),n.addEventListener("mouseleave",o),function(){n.removeEventListener("mouseenter",r),n.removeEventListener("mouseleave",o)}}),[t,e,l]),[l,a]}function TA(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=(0,f.useState)(e),n=SA(t,2),r=n[0],o=n[1],a=(0,f.useCallback)((function(){return o((function(e){return!e}))}),[]);return[r,a]}var OA=n(543907778449169),kA=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"ColorContainer ".concat(e["data-component-name"]):"ColorContainer"}})).withConfig({displayName:"colorscomponentstyles__ColorContainer",componentId:"sc-1qkrzu1-0"})(["position:relative;width:",";height:",";margin-left:",";margin-right:",";border-radius:",";border:solid "," #e3e8e9;background-color:#f6f7f8;"],(0,We.rem)(98),(0,We.rem)(98),(0,We.rem)(-1),(0,We.rem)(-1),(0,We.rem)(4),(0,We.rem)(1)),MA=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"ColorBox ".concat(e["data-component-name"]):"ColorBox"}})).withConfig({displayName:"colorscomponentstyles__ColorBox",componentId:"sc-1qkrzu1-1"})(["position:relative;width:100%;height:100%;"]),BA=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"PlaceholderBox ".concat(e["data-component-name"]):"PlaceholderBox"}})).withConfig({displayName:"colorscomponentstyles__PlaceholderBox",componentId:"sc-1qkrzu1-2"})(["position:absolute;top:",";left:",";width:",";height:",";"],(0,We.rem)(28),(0,We.rem)(28),(0,We.rem)(40),(0,We.rem)(40)),jA=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"PlaceholderContainer ".concat(e["data-component-name"]):"PlaceholderContainer"}})).withConfig({displayName:"colorscomponentstyles__PlaceholderContainer",componentId:"sc-1qkrzu1-3"})(["width:100%;height:100%;cursor:pointer;"]),LA=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"ColorControlContainer ".concat(e["data-component-name"]):"ColorControlContainer"}})).withConfig({displayName:"colorscomponentstyles__ColorControlContainer",componentId:"sc-1qkrzu1-4"})(["height:",";width:",";position:relative;.colors-window{display:none;background-color:white;font-size:",";box-shadow:0px 5px 5px -3px hsla(0,0%,0%,0.05),0px 8px 10px 1px rgba(0,0,0,0.05),0px 3px 14px 2px rgba(0,0,0,0.05);z-index:4;height:",";width:",";position:fixed;margin-left:",";margin-top:",";border-radius:",";border:"," solid #d0d8db;}.color-hover-overlay{position:absolute;height:",";width:",";background-color:rgba(0,0,0,0.5);z-index:1;border-radius:"," "," "," ",";}.color-hover-icon{position:absolute;left:",";top:",";height:",";width:",";z-index:2;}.colors-hover-container{height:100%;width:100%;position:absolute;cursor:pointer;}&.active .colors-window{display:block;}.available-colors-palette{height:",";display:flex;flex-direction:column;flex-wrap:wrap;align-items:center;padding:"," ",";}"],(0,We.rem)(96),(0,We.rem)(96),(0,We.rem)(16),(0,We.rem)(520),(0,We.rem)(336),(0,We.rem)(-120),(0,We.rem)(-16),(0,We.rem)(3),(0,We.rem)(1),(0,We.rem)(96),(0,We.rem)(96),(0,We.rem)(4),(0,We.rem)(4),(0,We.rem)(4),(0,We.rem)(4),(0,We.rem)(36),(0,We.rem)(36),(0,We.rem)(25),(0,We.rem)(24),(0,We.rem)(200),(0,We.rem)(11),(0,We.rem)(6)),PA=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"ColorStrip ".concat(e["data-component-name"]):"ColorStrip"}})).withConfig({displayName:"colorscomponentstyles__ColorStrip",componentId:"sc-1qkrzu1-5"})(["height:",";width:",";position:absolute;z-index:0;"],(0,We.rem)(32),(0,We.rem)(96)),NA=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"ColorTabsWrapper ".concat(e["data-component-name"]):"ColorTabsWrapper"}})).withConfig({displayName:"colorscomponentstyles__ColorTabsWrapper",componentId:"sc-1qkrzu1-6"})(["height:",";border-top:solid 1px #d0d8db;"],(0,We.rem)(312)),DA=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"ColorChoicesWrapper ".concat(e["data-component-name"]):"ColorChoicesWrapper"}})).withConfig({displayName:"colorscomponentstyles__ColorChoicesWrapper",componentId:"sc-1qkrzu1-7"})(["height:",";"],(0,We.rem)(130)),RA=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"ColorChoice ".concat(e["data-component-name"]):"ColorChoice"}})).withConfig({displayName:"colorscomponentstyles__ColorChoice",componentId:"sc-1qkrzu1-8"})(["height:",";width:",";border-radius:",";position:absolute;top:",";&.selected{border:solid 2px ",";}border:solid 2px #e3e8e9;cursor:pointer;"],(0,We.rem)(30),(0,We.rem)(58),(0,We.rem)(3),(0,We.rem)(40),(function(e){return e.theme.colors.primary})),zA=(0,Ge.default)(fv).attrs((function(e){return{"data-component-name":e["data-component-name"]?"ColorChoiceLabel ".concat(e["data-component-name"]):"ColorChoiceLabel"}})).withConfig({displayName:"colorscomponentstyles__ColorChoiceLabel",componentId:"sc-1qkrzu1-9"})(["height:",";width:",";position:absolute;top:",";font-weight:500;"],(0,We.rem)(20),(0,We.rem)(58),(0,We.rem)(77)),UA=(0,Ge.default)(OA.TabNavigationHorizontal).attrs((function(e){return{"data-component-name":e["data-component-name"]?"ColorTabs ".concat(e["data-component-name"]):"ColorTabs"}})).withConfig({displayName:"colorscomponentstyles__ColorTabs",componentId:"sc-1qkrzu1-10"})(["a{text-decoration:none;}ul{margin:0;}> div > div[width='50']{background-color:",";}"],(function(e){return e.theme.colors.primary})),FA=(0,Ge.default)(Tv).attrs((function(e){return{"data-component-name":e["data-component-name"]?"ActionButton ".concat(e["data-component-name"]):"ActionButton"}})).withConfig({displayName:"colorscomponentstyles__ActionButton",componentId:"sc-1qkrzu1-11"})(["position:absolute;bottom:",";left:",";width:",";height:",";"],(0,We.rem)(8),(0,We.rem)(16),(0,We.rem)(305),(0,We.rem)(32)),HA=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"ColorPaletteButton ".concat(e["data-component-name"]):"ColorPaletteButton"}})).withConfig({displayName:"colorscomponentstyles__ColorPaletteButton",componentId:"sc-1qkrzu1-12"})(["background-color:",";width:35px;height:35px;border-radius:3px;border:solid 1px #e3e8e9;margin:2px;display:inline-block;&.big{width:30px;height:30px;border-radius:5px;}padding:0;min-width:0;min-height:0;line-height:0;&.selected{border:2px solid ",";}&:hover{background-color:none;cursor:pointer;border:2px solid ",";color:#fff;}"],(function(e){return e.color}),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.primary})),VA=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"InputColorPickersWrapper ".concat(e["data-component-name"]):"InputColorPickersWrapper"}})).withConfig({displayName:"colorscomponentstyles__InputColorPickersWrapper",componentId:"sc-1qkrzu1-13"})(["position:absolute;top:182px;padding-left:8px;padding-right:8px;"]);function WA(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return GA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GA(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function GA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var YA={default:{picker:{boxShadow:"none",width:"320px",height:"141px"}}};function qA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ZA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qA(Object(n),!0).forEach((function(t){XA(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qA(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function XA(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KA(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return QA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return QA(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function QA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var $A=S("ImageComponent"),JA=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"ImageContainer ".concat(e["data-component-name"]):"ImageContainer"}})).withConfig({displayName:"imagecomponent__ImageContainer",componentId:"sc-11wiubq-0"})(["position:relative;width:100%;height:100%;"]),eC=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"FallbackImageStyle ".concat(e["data-component-name"]):"FallbackImageStyle"}})).withConfig({displayName:"imagecomponent__FallbackImageStyle",componentId:"sc-11wiubq-1"})(["position:absolute;width:100%;height:100%;border-radius:",";background-color:",";z-index:1;"],(function(e){return e.borderRadius?e.borderRadius:"0px"}),(function(e){return e.backgroundColor?e.backgroundColor:"#eef1f2"})),tC=Ge.default.img.attrs((function(e){return{"data-component-name":e["data-component-name"]?"ImageFitToParent ".concat(e["data-component-name"]):"ImageFitToParent"}})).withConfig({displayName:"imagecomponent__ImageFitToParent",componentId:"sc-11wiubq-2"})(["border-radius:",";border-top-left-radius:",";border-top-right-radius:",";position:absolute;height:100%;width:100%;object-fit:",";"],(function(e){return e.borderRadius?e.borderRadius:"0px"}),(function(e){return e.borderRadius?e.borderRadius:(0,We.rem)(4)}),(function(e){return e.borderRadius?e.borderRadius:(0,We.rem)(4)}),(function(e){return"stretch"===e.mode?"cover":"contain"})),nC=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"LoadingOverlay ".concat(e["data-component-name"]):"LoadingOverlay"}})).withConfig({displayName:"imagecomponent__LoadingOverlay",componentId:"sc-11wiubq-3"})(["position:absolute;top:29px;left:29px;"]),rC=function(){};function oC(e){var t=e.className,n=void 0===t?"":t,r=e.src,o=e.style,a=void 0===o?{}:o,i=e.fallbackStyle,c=void 0===i?{}:i,l=e.containerStyle,s=void 0===l?{}:l,u=e.loader,d=void 0!==u&&u,m=e.mode,p=e.onLoad,g=void 0===p?rC:p,y=e.onError,b=void 0===y?rC:y,v=e.forwardRef,E=e.borderRadius,w=KA((0,f.useState)(!0),2),A=w[0],C=w[1],S=KA((0,f.useState)(!1),2),_=S[0],x=S[1],I=(0,f.useCallback)((function(){C(!1),g()}),[g]),T=(0,f.useCallback)((function(e){$A.error("could not load image resource...",e),C(!1),x(!0),b(e)}),[b]),O=null;return O=m?h().createElement(tC,{src:r,className:n,onLoad:I,onError:T,mode:m,ref:v,onContextMenu:function(e){r&&r.startsWith("https://media.gettyimages.com")&&e.preventDefault()},style:ZA({display:A||_?"none":"block"},a),borderRadius:E,draggable:!1}):h().createElement("img",{src:r,className:n,onLoad:I,onError:T,ref:v,onContextMenu:function(e){r&&r.startsWith("https://media.gettyimages.com")&&e.preventDefault()},style:ZA({display:A||_?"none":"block"},a),draggable:!1}),h().createElement(JA,{style:s,"data-component-name":"Image"},A&&d&&h().createElement(nC,null,h().createElement(NE,{size:"xl"})),O,(A||_)&&h().createElement(eC,c))}const aC=function(e){var t=e.className,n=(0,f.useContext)(Ge.ThemeContext);return h().createElement("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24","data-component-name":"CheckmarkIconSVG"},h().createElement("path",{fill:"none",fillRule:"evenodd",stroke:qe(n,"colors.primary",Kb),strokeLinejoin:"round",strokeWidth:"2",d:"M19 8l-9 9-5-5"}))};const iC=function(){return h().createElement("svg",{width:"40px",height:"40px",viewBox:"0 0 40 40",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink","data-component-name":"FontHover"},h().createElement("title",null),h().createElement("desc",null,"Created with Sketch."),h().createElement("g",{id:"Drafts",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},h().createElement("g",{id:"Brand-Logo-1",transform:"translate(-768.000000, -251.000000)",fill:"#1A2E3B",fillRule:"nonzero"},h().createElement("g",{id:"Group-8-Copy",transform:"translate(420.000000, 51.000000)"},h().createElement("g",{id:"iOS/Brand/font/empty",transform:"translate(320.000000, 122.000000)"},h().createElement("g",{id:"Group-2-Copy"},h().createElement("g",{id:"Icon/Dark/Font",transform:"translate(27.000000, 78.000000)"},h().createElement("path",{d:"M14.6992649,3 C15.5464678,3 16.3017568,3.53378982 16.5845529,4.33240051 L26.9719471,33.6662003 C27.1562996,34.1868082 26.8837107,34.7582915 26.3631028,34.942644 C26.2559068,34.9806032 26.1430215,35 26.0293031,35 L24.5991901,35 C23.7490483,35 22.9918116,34.4625579 22.7112448,33.6600472 L19.6835937,25 L8.0012207,25 L4.96598852,33.6614256 C4.68501307,34.4632251 3.92813125,35 3.0785256,35 L1.97054097,35 C1.41825622,35 0.970540969,34.5522847 0.970540969,34 C0.970540969,33.8866604 0.98980878,33.7741455 1.02752095,33.667264 L11.377309,4.334528 C11.6594794,3.53481778 12.415318,3 13.263349,3 L14.6992649,3 Z M14.1366912,7.26666667 L14.0474205,7.26666667 L9.28741679,21.1240885 L18.7264904,21.1240885 L14.1366912,7.26666667 Z",id:"Aa"}),h().createElement("path",{d:"M32.7041781,13 C33.6957411,13 34.6802068,13.0679006 35.6576046,13.2037037 C36.6350024,13.3395069 37.5203132,13.6178991 38.3135636,14.0388889 C39.106814,14.4598786 39.7442378,15.0506135 40.2258541,15.8111111 C40.7074704,16.5716087 41,17.5629569 41,18.7851852 L41,33.27 C41,34.2254526 40.2254526,35 39.27,35 C38.3179446,35 37.5461513,34.2282066 37.5461513,33.2761513 L37.5461694,33.2712926 C37.5478214,32.6851858 37.5486474,32.1885821 37.5486474,31.7814815 C36.5570844,32.9222279 35.4026391,33.7438246 34.0852768,34.2462963 C33.2134664,34.5788244 32.295137,34.8013199 31.3302762,34.9137848 L30.0729087,31.4982652 C30.1361017,31.4994217 30.1996541,31.5 30.2635659,31.5 C31.4573703,31.5 32.4806159,31.3684654 33.3333333,31.1053922 C34.1860508,30.8423189 34.8824262,30.5106229 35.4224806,30.1102941 C35.962535,29.7099653 36.3604638,29.2753291 36.6162791,28.8063725 C36.8720943,28.337416 37,27.8970609 37,27.4852941 L37,24.5 C36.2988827,24.8164484 35.7019835,25.0166118 35.2093023,25.1004902 C34.4702805,25.2263078 33.6957405,25.329248 32.8856589,25.4093137 C32.0755773,25.4893795 31.2584021,25.5808818 30.4341085,25.6838235 C29.609815,25.7867652 28.8708043,25.9526132 28.2170543,26.1813725 L28.1312589,26.213 L27.0653682,23.3173902 C27.1243085,23.2999635 27.1836946,23.2830556 27.2435264,23.2666667 C28.1359331,23.022221 29.0495738,22.8185193 29.9844761,22.6555556 C30.9760391,22.4654311 31.9180098,22.32284 32.8104165,22.2277778 C33.7028232,22.1327156 34.4889792,21.9969145 35.1689081,21.8203704 C35.848837,21.6438263 36.387106,21.3858042 36.7837312,21.0462963 C37.1803564,20.7067884 37.378666,20.2111144 37.378666,19.5592593 C37.378666,18.7987616 37.2299338,18.1876566 36.9324649,17.7259259 C36.634996,17.2641952 36.2525417,16.9111123 35.7850906,16.6666667 C35.3176395,16.422221 34.7935355,16.2592597 34.2127629,16.1777778 C33.6319902,16.0962959 33.0583088,16.0555556 32.4917014,16.0555556 C30.9618614,16.0555556 29.6709767,16.3018046 28.6671204,16.8907407 C27.2435264,17.7259259 27.2891078,20.0481481 26.2873811,20.0481481 L25.8642589,20.048 L24.4992589,16.3401901 C24.9743163,15.6288101 25.5703529,15.0382573 26.2873811,14.5685185 C27.1372923,14.0117256 28.1075929,13.6111123 29.1983122,13.3666667 C30.2890315,13.122221 31.4576418,13 32.7041781,13 Z",id:"Combined-Shape"}))))))))};const cC=function(){return h().createElement("svg",{width:"40px",height:"40px",viewBox:"0 0 40 40",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink","data-component-name":"FontRegular"},h().createElement("title",null,"img_font_regular"),h().createElement("desc",null,"Created with Sketch."),h().createElement("g",{id:"Drafts",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},h().createElement("g",{id:"Brand-Logo-1",transform:"translate(-768.000000, -201.000000)",fill:"#B3BFC8",fillRule:"nonzero"},h().createElement("g",{id:"Group-8-Copy",transform:"translate(420.000000, 51.000000)"},h().createElement("g",{id:"iOS/Brand/font/empty",transform:"translate(320.000000, 122.000000)"},h().createElement("g",{id:"Group-2-Copy"},h().createElement("g",{id:"Icon/Dark/Font",transform:"translate(27.000000, 28.000000)"},h().createElement("path",{d:"M14.6992649,3 C15.5464678,3 16.3017568,3.53378982 16.5845529,4.33240051 L26.9719471,33.6662003 C27.1562996,34.1868082 26.8837107,34.7582915 26.3631028,34.942644 C26.2559068,34.9806032 26.1430215,35 26.0293031,35 L24.5991901,35 C23.7490483,35 22.9918116,34.4625579 22.7112448,33.6600472 L19.6835937,25 L8.0012207,25 L4.96598852,33.6614256 C4.68501307,34.4632251 3.92813125,35 3.0785256,35 L1.97054097,35 C1.41825622,35 0.970540969,34.5522847 0.970540969,34 C0.970540969,33.8866604 0.98980878,33.7741455 1.02752095,33.667264 L11.377309,4.334528 C11.6594794,3.53481778 12.415318,3 13.263349,3 L14.6992649,3 Z M14.1366912,7.26666667 L14.0474205,7.26666667 L9.28741679,21.1240885 L18.7264904,21.1240885 L14.1366912,7.26666667 Z",id:"Aa"}),h().createElement("path",{d:"M32.7041781,13 C33.6957411,13 34.6802068,13.0679006 35.6576046,13.2037037 C36.6350024,13.3395069 37.5203132,13.6178991 38.3135636,14.0388889 C39.106814,14.4598786 39.7442378,15.0506135 40.2258541,15.8111111 C40.7074704,16.5716087 41,17.5629569 41,18.7851852 L41,33.27 C41,34.2254526 40.2254526,35 39.27,35 C38.3179446,35 37.5461513,34.2282066 37.5461513,33.2761513 L37.5461694,33.2712926 C37.5478214,32.6851858 37.5486474,32.1885821 37.5486474,31.7814815 C36.5570844,32.9222279 35.4026391,33.7438246 34.0852768,34.2462963 C33.2134664,34.5788244 32.295137,34.8013199 31.3302762,34.9137848 L30.0729087,31.4982652 C30.1361017,31.4994217 30.1996541,31.5 30.2635659,31.5 C31.4573703,31.5 32.4806159,31.3684654 33.3333333,31.1053922 C34.1860508,30.8423189 34.8824262,30.5106229 35.4224806,30.1102941 C35.962535,29.7099653 36.3604638,29.2753291 36.6162791,28.8063725 C36.8720943,28.337416 37,27.8970609 37,27.4852941 L37,24.5 C36.2988827,24.8164484 35.7019835,25.0166118 35.2093023,25.1004902 C34.4702805,25.2263078 33.6957405,25.329248 32.8856589,25.4093137 C32.0755773,25.4893795 31.2584021,25.5808818 30.4341085,25.6838235 C29.609815,25.7867652 28.8708043,25.9526132 28.2170543,26.1813725 L28.1312589,26.213 L27.0653682,23.3173902 C27.1243085,23.2999635 27.1836946,23.2830556 27.2435264,23.2666667 C28.1359331,23.022221 29.0495738,22.8185193 29.9844761,22.6555556 C30.9760391,22.4654311 31.9180098,22.32284 32.8104165,22.2277778 C33.7028232,22.1327156 34.4889792,21.9969145 35.1689081,21.8203704 C35.848837,21.6438263 36.387106,21.3858042 36.7837312,21.0462963 C37.1803564,20.7067884 37.378666,20.2111144 37.378666,19.5592593 C37.378666,18.7987616 37.2299338,18.1876566 36.9324649,17.7259259 C36.634996,17.2641952 36.2525417,16.9111123 35.7850906,16.6666667 C35.3176395,16.422221 34.7935355,16.2592597 34.2127629,16.1777778 C33.6319902,16.0962959 33.0583088,16.0555556 32.4917014,16.0555556 C30.9618614,16.0555556 29.6709767,16.3018046 28.6671204,16.8907407 C27.2435264,17.7259259 27.2891078,20.0481481 26.2873811,20.0481481 L25.8642589,20.048 L24.4992589,16.3401901 C24.9743163,15.6288101 25.5703529,15.0382573 26.2873811,14.5685185 C27.1372923,14.0117256 28.1075929,13.6111123 29.1983122,13.3666667 C30.2890315,13.122221 31.4576418,13 32.7041781,13 Z",id:"Combined-Shape"}))))))))};var lC=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"FontContainer ".concat(e["data-component-name"]):"FontContainer"}})).withConfig({displayName:"fontcomponentstyles__FontContainer",componentId:"sc-1f5lf45-0"})(["position:relative;width:",";height:",";border-radius:",";border:solid "," #e3e8e9;background-color:#f6f7f8;cursor:pointer;"],(0,We.rem)(96),(0,We.rem)(96),(0,We.rem)(4),(0,We.rem)(1)),sC=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"FontBox ".concat(e["data-component-name"]):"FontBox"}})).withConfig({displayName:"fontcomponentstyles__FontBox",componentId:"sc-1f5lf45-1"})(["position:relative;width:100%;height:100%;"]),uC=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"PlaceholderBox ".concat(e["data-component-name"]):"PlaceholderBox"}})).withConfig({displayName:"fontcomponentstyles__PlaceholderBox",componentId:"sc-1f5lf45-2"})(["position:absolute;top:",";left:",";width:",";height:",";"],(0,We.rem)(28),(0,We.rem)(28),(0,We.rem)(40),(0,We.rem)(40)),dC=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"PlaceholderContainer ".concat(e["data-component-name"]):"PlaceholderContainer"}})).withConfig({displayName:"fontcomponentstyles__PlaceholderContainer",componentId:"sc-1f5lf45-3"})(["width:100%;height:100%;"]),mC=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"FontControlContainer ".concat(e["data-component-name"]):"FontControlContainer"}})).withConfig({displayName:"fontcomponentstyles__FontControlContainer",componentId:"sc-1f5lf45-4"})(["height:",";width:",";position:relative;.fonts-list{display:none;background-color:white;font-size:",";box-shadow:0px 5px 5px -3px hsla(0,0%,0%,0.05),0px 8px 10px 1px rgba(0,0,0,0.05),0px 3px 14px 2px rgba(0,0,0,0.05);overflow-y:scroll;overflow-x:hidden;z-index:4;height:",";width:",";position:fixed;margin-left:",";margin-top:",";.font-item-container{position:relative;}.selected-font{position:absolute;width:",";height:",";left:",";top:",";}.font-item{cursor:pointer;padding:"," ",";line-height:",";padding-left:",";&:hover{background-color:rgba(0,0,0,0.08);}}}.font-hover-overlay{position:absolute;height:100%;width:100%;background-color:rgba(0,0,0,0.5);z-index:0;border-radius:"," "," "," ",";}.font-hover-icon{position:absolute;left:",";top:",";height:",";width:",";z-index:1;}.fonts-hover-container{height:100%;width:100%;position:absolute;}.fonts-abc{height:",";border:0;top:",";left:0;font-size:",";position:absolute;width:",";text-align:center;margin:0;}.fonts-name{height:",";border:0;top:",";left:0;font-size:",";position:absolute;width:",";text-align:center;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;padding-right:",";padding-left:",";margin:0;}.font-top{height:",";width:",";padding-left:",";padding-right:",";top:",";position:absolute;}.font-list-item{height:",";}&.active .fonts-list{display:block;}"],(0,We.rem)(94),(0,We.rem)(94),(0,We.rem)(16),(0,We.rem)(240),(0,We.rem)(254),(0,We.rem)(-13),(0,We.rem)(-6),(0,We.rem)(16),(0,We.rem)(16),(0,We.rem)(10),(0,We.rem)(10),(0,We.rem)(0),(0,We.rem)(11),(0,We.rem)(36),(0,We.rem)(34),(0,We.rem)(4),(0,We.rem)(4),(0,We.rem)(4),(0,We.rem)(4),(0,We.rem)(36),(0,We.rem)(36),(0,We.rem)(25),(0,We.rem)(24),(0,We.rem)(41),(0,We.rem)(17),(0,We.rem)(36),(0,We.rem)(94),(0,We.rem)(16),(0,We.rem)(61),(0,We.rem)(14),(0,We.rem)(94),(0,We.rem)(4),(0,We.rem)(4),(0,We.rem)(70),(0,We.rem)(96),(0,We.rem)(2),(0,We.rem)(2),(0,We.rem)(4),(0,We.rem)(36)),pC=(0,Ge.default)(fv).attrs((function(e){return{"data-component-name":e["data-component-name"]?"FontNameLabel ".concat(e["data-component-name"]):"FontNameLabel"}})).withConfig({displayName:"fontcomponentstyles__FontNameLabel",componentId:"sc-1f5lf45-5"})(["position:absolute;top:",";width:",";height:",";padding-left:",";padding-right:",";text-align:center;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;"],(0,We.rem)(60),(0,We.rem)(96),(0,We.rem)(16),(0,We.rem)(8),(0,We.rem)(8));function fC(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return hC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hC(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hC(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const gC=function(){return h().createElement("svg",{width:"40px",height:"40px",viewBox:"0 0 40 40",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink","data-component-name":"LogoHover"},h().createElement("title",null),h().createElement("desc",null,"Created with Sketch."),h().createElement("g",{id:"Drafts",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},h().createElement("g",{id:"Brand-Logo-1",transform:"translate(-472.000000, -203.000000)"},h().createElement("g",{id:"Group-8-Copy",transform:"translate(420.000000, 51.000000)"},h().createElement("g",{id:"iOS/Brand/logo/empty",transform:"translate(24.000000, 122.000000)"},h().createElement("g",{id:"Group"},h().createElement("g",{id:"img_logo_hover",transform:"translate(28.000000, 30.000000)"},h().createElement("rect",{id:"Rectangle-28",stroke:"#1A2E3B",strokeWidth:"3",x:"1.5",y:"1.5",width:"37",height:"37",rx:"2"}),h().createElement("circle",{id:"Oval",fill:"#1A2E3B",cx:"24",cy:"13",r:"3"}),h().createElement("polyline",{id:"Path-27",stroke:"#1A2E3B",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",points:"2 26.0002552 11.946576 16 23.8824672 28.0002552 29.8504128 22.0002552 38 30.0002552"}))))))))};const yC=function(){return h().createElement("svg",{width:"40px",height:"40px",viewBox:"0 0 40 40",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink","data-component-name":"LogoRegular"},h().createElement("title",null,"img_logo_regular"),h().createElement("desc",null,"Created with Sketch."),h().createElement("g",{id:"Drafts",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},h().createElement("g",{id:"Brand-Logo-1",transform:"translate(-522.000000, -203.000000)"},h().createElement("g",{id:"Group-8-Copy",transform:"translate(420.000000, 51.000000)"},h().createElement("g",{id:"iOS/Brand/logo/empty",transform:"translate(24.000000, 122.000000)"},h().createElement("g",{id:"Group"},h().createElement("g",{id:"img_logo_regular",transform:"translate(78.000000, 30.000000)"},h().createElement("rect",{id:"Rectangle-28",stroke:"#B3BFC8",strokeWidth:"3",x:"1.5",y:"1.5",width:"37",height:"37",rx:"2"}),h().createElement("circle",{id:"Oval",fill:"#B3BFC8",cx:"24",cy:"13",r:"3"}),h().createElement("polyline",{id:"Path-27",stroke:"#B3BFC8",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",points:"2 26.0002552 11.946576 16 23.8824672 28.0002552 29.8504128 22.0002552 38 30.0002552"}))))))))};var bC=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"LogoContainer ".concat(e["data-component-name"]):"LogoContainer"}})).withConfig({displayName:"logocomponentstyles__LogoContainer",componentId:"tjw5bg-0"})(["position:relative;width:",";height:",";border-radius:",";border:solid "," #e3e8e9;background-color:#f6f7f8;"],(0,We.rem)(98),(0,We.rem)(98),(0,We.rem)(4),(0,We.rem)(1)),vC=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"LogoBox ".concat(e["data-component-name"]):"LogoBox"}})).withConfig({displayName:"logocomponentstyles__LogoBox",componentId:"tjw5bg-1"})(["position:relative;width:100%;height:100%;"]),EC=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"PlaceholderBox ".concat(e["data-component-name"]):"PlaceholderBox"}})).withConfig({displayName:"logocomponentstyles__PlaceholderBox",componentId:"tjw5bg-2"})(["position:absolute;top:",";left:",";width:",";height:",";"],(0,We.rem)(28),(0,We.rem)(28),(0,We.rem)(40),(0,We.rem)(40)),wC=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"PlaceholderContainer ".concat(e["data-component-name"]):"PlaceholderContainer"}})).withConfig({displayName:"logocomponentstyles__PlaceholderContainer",componentId:"tjw5bg-3"})(["width:100%;height:100%;cursor:pointer;"]),AC=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"LogoControlContainer ".concat(e["data-component-name"]):"LogoControlContainer"}})).withConfig({displayName:"logocomponentstyles__LogoControlContainer",componentId:"tjw5bg-4"})(["height:",";width:",";position:relative;.logo-hover-overlay{position:absolute;height:",";width:",";background-color:rgba(0,0,0,0.5);z-index:1;border-radius:"," "," "," ",";}.logo-hover-icon{position:absolute;left:",";top:",";height:",";width:",";z-index:2;}.logo-hover-container{height:100%;width:100%;position:absolute;cursor:pointer;background-size:cover;background-image:url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGIAAABiCAYAAACrpQYOAAAABGdBTUEAALGPC/xhBQAABiJJREFUeAHtXNtuGzcQJbcLxaqdInaBInUEWDAC/0FeGqDf1m8rkKf8gR9aO02DIECtNrYhW5XF8nClFbkacq10L0B0CMTiZThDnLPkzFITabUsk+n0xMxmr43Wx5nRB6t+fjaPwEKbG23MBz0YvDkcDi9hQePP5Pr6Z2X0q5ubz5//uro6up/eD9E/Ho/VYDBAtSzzxVxd/HahFotF2YdKPsidfKayoB+N8/PzjT507Kp+o82tRenqQalnmdZvD58+/TWfTCZjkPDu8vfB3d3shYgYOxtFQBu9b5Ta19rcLYx5ZU+jy8xk2U/YCZaEJ41ao7JaBCwhe98o9TdcQg6fYI8j22bpAwF7wB9ZDkwOx2x9Qh9roE2LAI4pOOq8Do2FCp0y5UMEmsAHAY6e/HP9y2w2C7UvW58+fVTzOUytyciyTD3/4bnCp1/m87n6aOWlMjoeSd2K+gtYTsenxY6ohqgr1EBClSQQAPkqEYha57P5amrwSf0WjgQ+ACt8rD34in2w3gneULBDyn5ZtByuVqg/RCRKRCjGVtsIRImQ3pCLxSzsNopOe/R64zp2U7+LmnBtIRX4gTzP7HXGerRohw4co7jy2PAby2nUn8YHMDkicHckldFo5O6QgjFLyvv371w0tepHAJXl9q7pdLzqCj6pP40PwHJEVC/wVii6HZGFrxrYCwhV/V2Cep4t7L9QdqWH+tP4AKetD3sQEZtWjK3g/7LPXdW/NRFfBi9n1SGQJkIYjUU76I+NRRdB/SU07lDHlzpScW/KXsQEGZz3kPfPfRCAaKr6Fr7SSf1pfHDz4BjAN2VSubi42Li2gANHdFQNVUEa5KXy8uyl1O3kq9ciu6j/7OysIEI6UuocrzRHRNt2SrLUH6IlnNKhAFvdIEAiusG51gqJqIWoGwES0Q3OtVZc1NRU3hGiI8kxU7+94rAhfwwfsMQdUfusdiNAIrrBudYKiaiFqBsBEtENzrVW5Esmb1rdG7An6qqUryIStiV8EOAwr2mJU595Wcxr8h9We0hXLyBXw23nZcFO1EdgC0nbCJPE/sp1OeRShfpDdKJEhGJstY1AlAjpDblYzG7mHVWJaBofFzUx7yidd9Q2PiDZEcG8I+sse8zLKonwv3/2tyDzmgo02sYHVqI+wifErxcRkzxNjKb8yY+o76p+GdFHAEaRZhFIEyGMxqIF9MfGokum/hIa56yZd5TOO2obH+Y1lc9jcb3RV14W85o8IlJV6citC0ykOWkbqVGOdYaA4C47s01DHgIkwgOjzyqJ6BN9z7YLX5l3lM47ahsf8MEd4T2VfVZJRJ/oe7ZJhAdGn1US0Sf6nm3nrL32RrXuDbI6gfJVRMK2hA/ewpnXtMSJeU2VH+3Ct4K4jaz+Z0nEd33lHTGvyd/VX3neFJ21T3aP9SgR8Wtc5jWBr6bxcVFT23k71J/OmwKxjgjmNTGvaeM3nhBn79rvQRVHHf5uUYoXEtm1SC8rW6h2oruqX0Z0W/Qo/78RSBMhjMaiBfTHxqKrpP4SGues287bof503hTzmsrnkXlNHhRhdZtjTpKtCxykOeEK1i1Jtkn9sCSc0usFsNYdAiSiO6yTlkhEEp7uBklEd1gnLbnwte28HepP502BIe6I5HPa3SCJ6A7rpCUSkYSnu0ES0R3WSUvOWack6t4gq3MpX0UkbEv44M2deU1LnJjXxLwm9yhEfQS2kLSNMEvs/8rzjpYbp/xoGp8oEaVFVjpBIEqEdPVbrIh5TcChaXxc1MS8o3TeUdv4gFhHBPOamNfEvCZsB1uiPqIY3vxbREzyNDGa2lSR7NlV/TKiSag42AYCaSKE0Vi0gP7YWHTh1F9C45w1847SeUdt48O8pvJ5ZF6TB0VY3eaYk2TrAgdpTriCdUuSbVI/LOULbW60Ulobvb82zVpXCDwZPplaDh5ybcyHTOuhUYpEdIW+Z+f7o6Mry8FtpgeDNw9KPTPa3HnjrHaAwN7e4P7bg4PvwEF2OBxe2h3x1u6If+359Icl5LaDNey0CRxHxy9+/HN0cjID9uDAuoeiTKbTEzObvTZaH2dGH6z6+dk8As4vW5eAnQASYOE/g83DUdcpYvUAAAAASUVORK5CYII=');}.logo-image{width:",";height:",";padding:",";object-fit:contain;}"],(0,We.rem)(96),(0,We.rem)(96),(0,We.rem)(96),(0,We.rem)(96),(0,We.rem)(4),(0,We.rem)(4),(0,We.rem)(4),(0,We.rem)(4),(0,We.rem)(36),(0,We.rem)(36),(0,We.rem)(25),(0,We.rem)(24),(0,We.rem)(96),(0,We.rem)(96),(0,We.rem)(8));function CC(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return SC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SC(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function SC(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return xC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xC(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xC(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var IC=h().memo((function(e){var t=e.onSubmit,n=e.onCancel,r=e.brandingData,o=e.errorModalFlag,a=e.closeError,i=e.saving,c=_C((0,f.useState)(r.logo),2),l=c[0],s=c[1],u=_C((0,f.useState)(r.colorPrimary),2),d=u[0],m=u[1],p=_C((0,f.useState)(r.colorSecondary),2),g=p[0],y=p[1],b=_C((0,f.useState)(r.colorDefault),2),v=b[0],E=b[1],w=_C((0,f.useState)(r.font),2),A=w[0],C=w[1],S=_C((0,f.useState)(r.logoToggle||!1),2),_=S[0],x=S[1],I=_C((0,f.useState)(r.outroToggle||!1),2),T=I[0],O=I[1],k=_C((0,f.useState)(r.businessName||""),2),M=k[0],B=k[1],j=_C((0,f.useState)(r.businessInfo||""),2),L=j[0],P=j[1],N=_C((0,f.useState)(r.businessTagline||""),2),D=N[0],R=N[1],z=(0,f.useCallback)((function(){t({logo:l,colorPrimary:d,colorSecondary:g,colorDefault:v,font:A&&A.name,logoToggle:_,outroToggle:T,businessName:M,businessInfo:L,businessTagline:D})}),[t,l,d,g,v,A,_,T,M,L,D]),U=_C(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},o=(0,f.useRef)(null),a=CC(IA(),2),i=a[0],c=a[1],l=10,s=64,u=64,d=CC((0,f.useState)(e),2),m=d[0],p=d[1],g=(0,f.useCallback)((function(){o.current&&o.current.click(),Ri({location:"brand_kit_modal"})}),[]),y=(0,f.useCallback)((function(e){var a=e.target.files[0],i=URL.createObjectURL(a),c=new window.Image;c.onload=function(){return a.size/1e3/1e3>l?(n(),void(o.current.value="")):c.width<s||c.height<u?(r(),void(o.current.value="")):(m&&"blob"===m.substr(0,4)&&URL.revokeObjectURL(m),p(URL.createObjectURL(a)),void t(a))},c.src=i}),[t]);return[h().createElement("div",null,h().createElement("input",{ref:o,hidden:!0,type:"file",name:"file",accept:"image/jpg,image/jpeg,image/bmp,image/png,image/gif",onChange:y}),h().createElement(bC,null,m?h().createElement(vC,null,h().createElement(AC,{tabIndex:"0"},h().createElement("div",{className:"logo-hover-container",ref:i,role:"presentation",onClick:g},c?h().createElement("div",null,h().createElement("div",{className:"logo-hover-overlay"}),h().createElement("div",{className:"logo-hover-icon"},h().createElement(bA,null))):null,h().createElement(oC,{src:m,className:"logo-image",loader:"true",fallbackStyle:{backgroundColor:"rgb(0,0,0,0)"}})))):h().createElement(wC,{onClick:g,ref:i},h().createElement(EC,null,c?h().createElement(gC,null):h().createElement(yC,null))))),g]}(r.logo,(function(e){s(e),x(!0)}),(function(){return J(!0)}),(function(){return ne(!0)})),2),F=U[0],H=U[1],V=_C(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},r=fC(IA(),2),o=r[0],a=r[1],i=fC((0,f.useState)(e),2),c=i[0],l=i[1],s=fC((0,f.useState)(!1),2),u=s[0],d=s[1],m=(0,f.useCallback)((function(){d(!0)}),[d]),p=(0,f.useCallback)((function(e){n(e),l(e),d(!1)}),[n,l]),g=fC(wA((function(){return d(!1)})),1)[0];return[h().createElement(lC,null,c||u?h().createElement(sC,null,h().createElement(mC,{ref:g,tabIndex:"0",onClick:function(){return d(!u)},onBlur:function(){d(!1)},className:u?"active":""},c?h().createElement("div",{className:"fonts-hover-container",ref:o},a?h().createElement("div",null,h().createElement("div",{className:"font-hover-overlay"}),h().createElement("div",{className:"font-hover-icon"},h().createElement(bA,null))):null,h().createElement("img",{src:c.svg,alt:c.displayName,className:"font-top",draggable:!1}),h().createElement(pC,null,c.display_name)):null,h().createElement("div",{className:"fonts-list"},t.map((function(e){var t;return h().createElement("div",{className:"font-item-container",key:t=e.name,"data-key":t},c&&c.name===e.name?h().createElement("div",{className:"selected-font"},h().createElement(aC,null)):null,h().createElement("div",{onClick:function(t){t.stopPropagation(),p(e),Vi({location:"brand_kit_modal",font:e.name,font_id:e.id})},className:"font-item",value:e.name,role:"presentation"},h().createElement(oC,{src:e.svg_horizontal,className:"font-list-item"})))}))))):h().createElement(dC,{onClick:m,ref:o},h().createElement(uC,null,a?h().createElement(iC,null):h().createElement(cC,null)))),m,u]}(r.font,r.fonts,(function(e){return C(e)})),3),W=V[0],G=V[1],Y=V[2],q=_C(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#e3e8e9",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#ffffff",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"#000000",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){},a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:function(){},i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:function(){},c=WA(IA(),2),l=c[0],s=c[1],u=WA((0,f.useState)(e),2),d=u[0],m=u[1],p=WA((0,f.useState)(t),2),g=p[0],y=p[1],b=WA((0,f.useState)(n),2),v=b[0],E=b[1],w=WA((0,f.useState)(d),2),A=w[0],C=w[1],S=WA((0,f.useState)(g),2),_=S[0],x=S[1],I=WA((0,f.useState)(v),2),T=I[0],O=I[1],k=WA((0,f.useState)(!1),2),M=k[0],B=k[1],j=WA((0,f.useState)("primary"),2),L=j[0],P=j[1],N=WA((0,f.useState)(d),2),D=N[0],R=N[1],z=(0,f.useCallback)((function(){m(A),y(_),E(T),o(A),a(_),i(T),B(!1),Di({location:"brand_kit_modal",primary:A,secondary:_,text:T})}),[m,y,E,o,a,i,A,_,T,B]),U=(0,f.useCallback)((function(){B(!0),Ni()}),[B]),F=(0,f.useCallback)((function(e){switch(L){case"primary":C(e);break;case"secondary":x(e);break;case"default":O(e)}}),[L,C,x,O]);(0,f.useEffect)((function(){switch(L){case"primary":R(A);break;case"secondary":R(_);break;case"default":R(T)}}),[L,C,x,O,A,_,T]);var H=WA(wA((function(e){e.target.className&&e.target.className.indexOf&&-1===e.target.className.indexOf("ColorPaletteButton")&&B(!1)})),1)[0];return[h().createElement(kA,{ref:H},d||g||v||M?h().createElement(MA,null,h().createElement(LA,{tabIndex:"0",className:M?"active":""},h().createElement("div",{className:"colors-hover-container",ref:l,onClick:function(){return U()}},s?h().createElement("div",null,h().createElement("div",{className:"color-hover-overlay"}),h().createElement("div",{className:"color-hover-icon"},h().createElement(bA,null))):null,h().createElement(PA,{style:{top:(0,We.rem)(0),backgroundColor:"".concat(d),borderRadius:"".concat((0,We.rem)(4)," ").concat((0,We.rem)(4)," 0 0")}}),h().createElement(PA,{style:{top:(0,We.rem)(32),backgroundColor:"".concat(g),borderTop:"1px #e3e8e9 solid",borderBottom:"1px #e3e8e9 solid"}}),h().createElement(PA,{style:{top:(0,We.rem)(64),backgroundColor:"".concat(v),borderRadius:"0 0 ".concat((0,We.rem)(4)," ").concat((0,We.rem)(4))}})),h().createElement("div",{className:"colors-window"},h().createElement(DA,null,h().createElement(RA,{onClick:function(){P("primary")},style:{left:(0,We.rem)(42),backgroundColor:"".concat(A)},className:"primary"===L?"selected":""}),h().createElement(zA,{style:{left:(0,We.rem)(46)}},oe.BrandingModalColorsLabelPrimary),h().createElement(RA,{onClick:function(){P("secondary")},style:{left:(0,We.rem)(139),backgroundColor:"".concat(_)},className:"secondary"===L?"selected":""}),h().createElement(zA,{style:{left:(0,We.rem)(134)}},oe.BrandingModalColorsLabelSecondary),h().createElement(RA,{onClick:function(){P("default")},style:{left:(0,We.rem)(235),backgroundColor:"".concat(T)},className:"default"===L?"selected":""}),h().createElement(zA,{style:{left:(0,We.rem)(250)}},oe.BrandingModalColorsLabelDefault),h().createElement(FA,{onClick:z},oe.Done)),h().createElement(NA,null,h().createElement(UA,{index:0,panels:[{label:oe.BrandingModalColorsColorPicker,tabId:"colors-color-picker",content:h().createElement(VA,null,"primary"===L?h().createElement(hA.ChromePicker,{styles:YA,color:A,onChangeComplete:function(e){C(e.hex)},disableAlpha:!0}):null,"secondary"===L?h().createElement(hA.ChromePicker,{styles:YA,color:_,onChangeComplete:function(e){x(e.hex)},disableAlpha:!0}):null,"default"===L?h().createElement(hA.ChromePicker,{styles:YA,color:T,onChangeComplete:function(e){O(e.hex)},disableAlpha:!0}):null)},{label:oe.BrandingModalColorsSwatches,tabId:"colors-swatches",content:h().createElement("div",{className:"available-colors-palette"},r.map((function(e){var t;return h().createElement(HA,{color:e,className:D===e?"selected":"",key:t=e,"data-key":t,onMouseDown:function(){return F(e)}})})))}]}))))):h().createElement(jA,{onClick:U,ref:l},h().createElement(BA,null,s?h().createElement(gA,null):h().createElement(yA,null)))),U,M]}(r.colorPrimary,r.colorSecondary,r.colorDefault,r.swatches,(function(e){return m(e)}),(function(e){return y(e)}),(function(e){return E(e)})),3),Z=q[0],X=q[1],K=q[2],Q=_C((0,f.useState)(!1),2),$=Q[0],J=Q[1],ee=_C((0,f.useState)(!1),2),te=ee[0],ne=ee[1];(0,f.useEffect)((function(){var e=function(e){27===e.keyCode&&n(),13===e.keyCode&&z()};return document.addEventListener("keydown",e),function(){return document.removeEventListener("keydown",e)}}),[n,t,z]);var re=(0,f.useCallback)((function(e){e.target.value=e.target.value.substring(0,80),B(e.target.value)}),[]),ae=(0,f.useCallback)((function(){var e,t;n(),t={name:si,product:Si,location:_a,flow:fa.flow,version:3},Li(t=sa(sa({},e),t)),vi(oa,si,sa({type:xi,location:_a},e))}),[n]);return h().createElement(Jv,{withStyle:Kw,"data-component-name":"BrandingModal","data-key":e["data-key"]},i?h().createElement(tA,null):null,h().createElement(eA,null,h().createElement(Qw,null,oe.BrandingModalHeader,h().createElement(Mv,{onClick:ae})),h().createElement($w,null,h().createElement(Jw,null,oe.BrandingModalSubHeader),h().createElement(nA,null,h().createElement(rA,null,F),h().createElement(rA,{style:{marginRight:(0,We.rem)(52),marginLeft:(0,We.rem)(52)}},Z),h().createElement(rA,null,W)),h().createElement(oA,null,h().createElement(aA,{onClick:H},l?oe.BrandingModalEditLogo:oe.BrandingModalAddLogo),h().createElement(aA,{style:{marginRight:(0,We.rem)(52),marginLeft:(0,We.rem)(52)},onClick:X},d||g||v?oe.BrandingModalEditColors:oe.BrandingModalAddColors),h().createElement(aA,{onClick:G},A?oe.BrandingModalEditFont:oe.BrandingModalAddFont)),h().createElement(iA,null,h().createElement(cA,null,h().createElement(lA,{label:oe.BrandingModalAddBrandedWatermarkToggle,onChange:function(e){var t;t={isEnabled:e.target.checked,location:"brand_kit_modal"},Ei("click",ha,"click_to_toggle_watermark",t),l?x(e.target.checked):e.target.checked?H():x(e.target.checked)},checked:_,size:"lg"})),h().createElement(cA,null,h().createElement(lA,{label:oe.BrandingModalBrandedSceneToggle,onChange:function(e){var t;t={isEnabled:e.target.checked},Li({name:"click_to_toggle_outro",product:Si,is_enabled:t.isEnabled,location:xa,flow:fa.flow}),O(e.target.checked)},checked:T,size:"lg"}))),T?h().createElement(sA,null,h().createElement(uA,null,oe.BrandingModalBusinessName),h().createElement(dA,{value:M,showLabel:!1,onChange:re,placeholder:oe.BrandingModalBusinessNamePlaceholder,disabled:!1}),h().createElement(uA,null,oe.BrandingModalBusinessContact),h().createElement(dA,{value:L,showLabel:!1,onChange:function(e){e.target.value=e.target.value.substring(0,80),P(e.target.value)},placeholder:oe.BrandingModalBusinessContactPlaceholder,disabled:!1}),h().createElement(uA,null,oe.BrandingModalBusinessTagline),h().createElement(dA,{value:D,showLabel:!1,onChange:function(e){e.target.value=e.target.value.substring(0,80),R(e.target.value)},placeholder:oe.BrandingModalBusinessTaglinePlaceholder,disabled:!1})):null),h().createElement(pA,{className:"notranslate"},h().createElement(mA,{disabled:K||Y,onClick:z,isLoading:i,title:oe.Save},oe.Save),h().createElement(mA,{disabled:K||Y,onClick:n,format:"secondary"},oe.Cancel))),o?h().createElement(Hw,{title:oe.BrandingPleaseTryAgain,content:h().createElement(Vw,null,oe.BrandingErrorMessage),footer:h().createElement(Ze,{justify:"flex-end"},h().createElement(yv.Button,{format:"warning",onClick:function(){a()}},oe.OK)),onClose:function(){a()}}):null,$?h().createElement(Hw,{title:oe.BrandingModalLogoMaxSizeErrorTitle,content:h().createElement(Vw,null,oe.BrandingModalLogoMaxSizeError(10)),footer:h().createElement(Ze,{justify:"flex-end"},h().createElement(yv.Button,{format:"warning",onClick:function(){J()}},oe.OK)),onClose:function(){J()}}):null,te?h().createElement(Hw,{title:oe.BrandingModalLogoMinSizeErrorTitle,content:h().createElement(Vw,null,oe.BrandingModalLogoMinSizeError(64,64)),footer:h().createElement(Ze,{justify:"flex-end"},h().createElement(yv.Button,{format:"warning",onClick:function(){ne()}},oe.OK)),onClose:function(){ne()}}):null)}));IC.propTypes={onSubmit:Sw.func.isRequired,onCancel:Sw.func.isRequired};function TC(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return OC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OC(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function OC(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var kC=S("BrandingComponent"),MC=function(e){var t=new FormData;return Object.keys(e).forEach((function(n){void 0!==e[n]&&t.set(n,e[n])})),t},BC=function(){},jC="logo",LC="color",PC="font",NC="businessCard",DC=function(e){var t=e.loadDataOnStart,n=e.checkForConflicts,r=e.vsid,o=void 0===r?null:r,a=e.storyBoardBranding,i=void 0===a?null:a,c=e.onBrandingSaved,l=void 0===c?BC:c,s=e.onBrandingLoaded,u=void 0===s?BC:s,d=e.defaultValues,m=void 0===d?{}:d,p=(0,T.v9)((function(e){return e.userCapabilities.capabilities.canBrandVideo})),g=p.allowed,y=p.tier,b=(p.isUpsellBlocker,y||{}),v=b.name,E=(b.text,(0,T.I0)()),w=TC(function(e,t,n){var r=_C((0,f.useState)(!1),2),o=r[0],a=r[1],i=_C((0,f.useState)(!0),2),c=i[0],l=i[1],s=_C((0,f.useState)(!1),2),u=s[0],d=s[1],m=_C((0,f.useState)({}),2),p=m[0],g=m[1],y=(0,f.useCallback)((function(){return a(!0)}),[]),b=(0,f.useCallback)((function(){return a(!1)}),[]),v=(0,f.useCallback)((function(e){g(e),l(!1)}),[]),E=(0,f.useCallback)((function(e){return l(e)}),[]),w=(0,f.useCallback)((function(e){return d(e)}),[]),A=_C((0,f.useState)(!1),2),C=A[0],S=A[1],_=(0,f.useCallback)((function(){return S(!0)}),[]),x=(0,f.useCallback)((function(){return S(!1)}),[]),I=(0,f.useCallback)(e,t),T=(0,f.useCallback)((function(e){I(e)}),[b,I]),O=(0,f.useCallback)((function(){n(),b()}),[n,b]);return[o?c?h().createElement(fA,null,h().createElement(NE,{size:"xl"})):h().createElement(IC,{onSubmit:T,onCancel:O,brandingData:p,errorModalFlag:C,closeError:x,saving:u}):null,y,b,v,E,w,_]}((function(e){I(!0),0!==e.businessName.length||0!==e.businessInfo.length||0!==e.businessTagline.length||e.logo||(e.outroToggle=!1);var t,n=MC({vsid:o,primary_color:e.colorPrimary,secondary_color:e.colorSecondary,default_color:e.colorDefault,name:e.businessName,website:e.businessInfo,tagline:e.businessTagline,use_logo_by_default:e.logoToggle,use_bcard:e.outroToggle,user_font:e.font,logo_b64:"string"!=typeof e.logo?e.logo:void 0});t={isLogo:!!e.logoToggle,isColor:!!e.colorPrimary,isFont:!!e.font},Li({name:"click_to_save_brand_kit",product:Si,location:xa,flow:fa.flow,is_logo:t.isLogo,is_font:t.isFont,is_color:t.isColor}),Ar(n).then((function(t){200===t.status&&(kC.log("updating branding data in business info."),l(e),x(!0),_({}),S(),I(!1))})).catch((function(e){kC.error("Error updating meta.",e),x(!1),O(),I(!1)}))}),[o],(function(){x(!0),I(!1),_({})})),7),A=w[0],C=w[1],S=w[2],_=w[3],x=w[4],I=w[5],O=w[6],k=TC(function(e){var t=e.loading,n=e.onOverride,r=e.onOverrideDeps,o=e.onClose,a=Iw((0,f.useState)(!1),2),i=a[0],c=a[1],l=Iw((0,f.useState)({}),2),s=l[0],u=l[1],d=(0,f.useCallback)((function(){return c(!0)}),[]),m=(0,f.useCallback)((function(){return c(!1)}),[]),p=(0,f.useCallback)((function(e){return u(e)}),[]),g=(0,f.useCallback)(n,r),y=(0,f.useCallback)((function(){g(s.userData),m()}),[m,g,s]),b=(0,f.useCallback)((function(){o(),m()}),[m,o]);return[i&&!t?h().createElement(Pw,{onOverride:y,onCancel:b,brandingConflictData:s}):null,d,m,p]}({onOverride:function(e){var t=MC({vsid:o,primary_color:e.primary_color,secondary_color:e.secondary_color,default_color:e.default_color,name:e.business.name,website:e.business.website,tagline:e.business.tagline,use_logo_by_default:e.logo.use_logo_by_default,use_bcard:e.business.use_bcard,user_font:e.user_font,logo_b64:"string"!=typeof e.business.logo?e.business.logo:void 0});Ar(t).then((function(t){200===t.status&&(kC.log("updating branding data in business info."),l(e),P(!0))})).catch((function(e){kC.error("Error updating meta.",e)})),x(!0)},onOverrideDeps:[],onClose:function(){x(!0)}}),4),M=k[0],B=k[1],j=(k[2],k[3]),L=(0,f.useCallback)((function(e){var t,n,r={};r.colorPrimary=void 0===e.primary_color?m.defaultColorPrimary:"#".concat(e.primary_color),r.colorSecondary=void 0===e.secondary_color?m.defaultColorSecondary:"#".concat(e.secondary_color),r.colorDefault=void 0===e.default_color?m.defaultColorDefault:"#".concat(e.default_color),r.logo=e.business.logo,r.businessName=e.business.name,r.businessInfo=e.business.website,r.businessTagline=e.business.tagline,r.logoToggle=null!==(t=null==i?void 0:i.logoWatermark)&&void 0!==t?t:e.logo.use_logo_by_default,r.outroToggle=null!==(n=null==i?void 0:i.brandScene)&&void 0!==n?n:e.business.use_bcard,r.font_raw=void 0,tn([Zt,Xt]).then((function(t){var n={};Object.values(t.fonts).forEach((function(t){t.thumbnails&&t.thumbnails.length>0&&t.thumbnails.find((function(e){return"svg"===e.size}))&&t.thumbnails.find((function(e){return"svg_horizontal"===e.size}))&&(t.meta_data.filename===e.user_font&&(r.font_raw=t),n[t.meta_data.filename]={name:t.name,display_name:t.display_name,order:t.order,svg:t.thumbnails.find((function(e){return"svg"===e.size})).url,svg_horizontal:t.thumbnails.find((function(e){return"svg_horizontal"===e.size})).url})})),r.fonts=Object.values(n),r.fonts.sort((function(e,t){return e.order-t.order})),r.font=n[e.user_font],r.swatches=t.color_crayons.map((function(e){return e.color})),_(r),x(!1),r.colorPrimary&&r.colorSecondary&&r.colorDefault&&u(r)})).catch((function(e){kC.error(e)}))}),[_,m.defaultColorDefault,m.defaultColorPrimary,m.defaultColorSecondary,u,x,i]),P=(0,f.useCallback)((function(e,t){var n;e&&(x(!0),C(),Ei("impression",ha,"view_brand_kit_modal",sa({flow:ha},{location:"brand_button"})),function(e){Li({name:"view_brand_kit_modal",product:Si,type:_i,location:e.location,flow:fa.flow})}({location:t})),(n={vsid:o},Ht.get("/api/business/info",{params:n})).then((function(e){var t=e.data;L(t)}))}),[x,n,L,B,j,C,o]);(0,f.useEffect)((function(){t&&P(!1)}),[]);var N=null;return-1!==o&&(N=o),null!==N&&(N=N.toString()),[M,A,(0,f.useCallback)((function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;g?P(!0,e):zc.onOpenBrand({feature:t,vsid:Jo.vsid,tier:v,upsellTitle:n,pageLocation:r,upsellTrigger:o}).then((function(){P(!0,e)})).catch((function(){E(ne(v))}))}),[g,v,E,P])]};function RC(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return zC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zC(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zC(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var UC=function(){};function FC(e){var t=e.split("."),n=t[t.length-2],r="magisto";return"vimeows"!==n&&"vimeo"!==n||(r="vimeo"),{name:r}}var HC=function(){return React.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-component-name":"BackArrowIcon"},React.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 13H4V11H20V13Z",fill:"#23313B"}),React.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.41409 12.0001L10.707 6.70718L9.2928 5.29297L3.2928 11.293C2.90228 11.6835 2.90227 12.3166 3.29277 12.7072L9.29277 18.7075L10.707 17.2934L5.41409 12.0001Z",fill:"#23313B"}))};const VC=function(e){var t,n=e.children,r=e.isCoreFlow,o=(0,f.useCallback)((function(){wi(),Gc.onLogoClick()}),[]),a=(0,T.v9)((function(e){return e.partnerConfig})),i=FC((null===(t=document.referrer)||void 0===t?void 0:t.split("/")[2])||"").name;return h().createElement(rt,{align:"center",showVimeoRibbonBar:Ot.get("showVimeoRibbonBar"),"data-component-name":"AppBar","data-key":e["data-key"]},r&&h().createElement(lt,{onClick:function(){"vimeo"===i?window.history.back():Gc.toVimeoHomePage()}},h().createElement(HC,null)),a.logo({onClick:o}),n)};function WC(e){var t=e.className,n=void 0===t?"":t,r=e.height,o=void 0===r?"1px":r,a=e.backgroundColor,i=void 0===a?"#e3e8e9":a,c=e.width,l=void 0===c?"100%":c,s=e.margin,u=void 0===s?"0 0 0 0":s;return h().createElement("div",{className:n,style:{height:o,backgroundColor:i,width:l,margin:u},"data-component-name":"Divider"})}function GC(){return h().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",className:"chevron-down-svg","data-component-name":"ChevronDownPickerSVG"},h().createElement("path",{fill:"none",fillRule:"evenodd",stroke:"#1A2E3B",strokeLinejoin:"round",strokeWidth:"2",d:"M17 10l-5 4.5L7 10"}))}function YC(){return h().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",className:"chevron-up-svg","data-component-name":"ChevronUpPickerSVG"},h().createElement("path",{fill:"none",fillRule:"evenodd",stroke:"#1A2E3B",strokeLinejoin:"round",strokeWidth:"2",d:"M17 14.5L12 10l-5 4.5"}))}function qC(e){var t=e.color,n=void 0===t?"#1A2E3B":t;return h().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","data-component-name":"ChevronRightPickerSVG"},h().createElement("path",{fill:"none",fillRule:"evenodd",stroke:n,strokeLinejoin:"round",strokeWidth:"2",d:"M9 7l5 5-5 5"}))}(0,We.rem)(8);var ZC=(0,Ge.default)(Ze).attrs((function(e){return{"data-component-name":e["data-component-name"]?"SimpleStep ".concat(e["data-component-name"]):"SimpleStep"}})).withConfig({displayName:"stepscomponent__SimpleStep",componentId:"l2l6sj-2"})(["white-space:nowrap;& > *{margin-right:",";}cursor:",";"],(0,We.rem)(8),(function(e){return e.disabled?"default":"pointer"})),XC=function(e){var t=e.className,n=e.data,r=void 0===n?[]:n;return h().createElement(Ze,{className:t,align:"center","data-component-name":"DynamicSteps","data-key":e["data-key"]},r.map((function(e,t){var n,r=e.id,o=e.stepChild,a=e.onClick,i=void 0===a?function(){}:a,c=e.disabled;return h().createElement(ZC,{key:n=r,"data-key":n,align:"center",onClick:function(t){c||(t.preventDefault(),t.stopPropagation(),i(e))},disabled:c},0!==t?h().createElement(qC,{color:"#1A2E3B"}):null,o)})))};function KC(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return QC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return QC(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function QC(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var $C=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"WatermarkRemovedMessageWrapper ".concat(e["data-component-name"]):"WatermarkRemovedMessageWrapper"}})).withConfig({displayName:"removing-watermark-toastcomponent__WatermarkRemovedMessageWrapper",componentId:"sc-1yzwhla-0"})(["width:673px;height:60px;border-radius:5px;box-shadow:0 1px 7px 0 rgba(0,0,0,0.23);background-color:#5f45e6;font-size:16px;line-height:1.25;color:#eef1f2;display:flex;align-items:center;justify-content:space-between;padding:0 15px 0 26px;margin:0 113px auto;"]),JC=(0,Ge.default)(Tv).attrs((function(e){return{"data-component-name":e["data-component-name"]?"WatermarkRemovedMessageDismissButton ".concat(e["data-component-name"]):"WatermarkRemovedMessageDismissButton"}})).withConfig({displayName:"removing-watermark-toastcomponent__WatermarkRemovedMessageDismissButton",componentId:"sc-1yzwhla-1"})(["width:88px;height:40px;border-radius:3px;background-color:rgba(0,0,0,0.3);border:0;&:hover{background-color:rgba(0,0,0,0.6);}"]);const eS=function(){var e=KC((0,f.useState)(!0),2),t=e[0],n=e[1],r=(0,f.useCallback)((function(){n(!1)}),[]);return t&&h().createElement($C,{"data-component-name":"RemovingWatermarkToast"},oe.EditorSaveRenderPreviewNoWatermarkMessage,h().createElement(JC,{onClick:r},oe.EditorSaveRenderPreviewNoWatermarkDismiss))};var tS=n(691439453166850),nS=(0,We.rem)(3),rS=(0,Ge.css)(["&:before{content:'';height:",";background-image:linear-gradient( to right,#73d2f6,#0088cc 22%,#7fc400 36%,#ffd583 48%,#ffb21e 63%,#ff4d4d 76%,#503873 );position:absolute;top:0;left:0;width:100%;}"],nS),oS=(0,Ge.default)(Ze).attrs((function(e){return{"data-component-name":e["data-component-name"]?"AppBar ".concat(e["data-component-name"]):"AppBar"}})).withConfig({displayName:"partner-iframe-app-barstyle__AppBar",componentId:"sc-1vtdiae-0"})(["width:100%;padding:"," ",";box-shadow:0 1px 0 0 #eef1f2;background-color:#f6f7f8;flex-basis:auto;",";",";"],(0,We.rem)(15),(0,We.rem)(30),(function(e){return e.showVimeoRibbonBar?"margin-top: ".concat(nS):""}),(function(e){return e.showVimeoRibbonBar?rS:""})),aS=(0,Ge.default)(tS.ArrowLeft).attrs((function(e){return{"data-component-name":e["data-component-name"]?"ArrowLeftIcon ".concat(e["data-component-name"]):"ArrowLeftIcon"}})).withConfig({displayName:"partner-iframe-app-barstyle__ArrowLeftIcon",componentId:"sc-1vtdiae-1"})(["width:",";height:",";path{fill:#1a2e3b;}"],(0,We.rem)(25),(0,We.rem)(25)),iS=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"AppBarLeft ".concat(e["data-component-name"]):"AppBarLeft"}})).withConfig({displayName:"partner-iframe-app-barstyle__AppBarLeft",componentId:"sc-1vtdiae-2"})(["flex:0 1 auto;display:flex;width:100%;"]),cS=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"AppBarCenter ".concat(e["data-component-name"]):"AppBarCenter"}})).withConfig({displayName:"partner-iframe-app-barstyle__AppBarCenter",componentId:"sc-1vtdiae-3"})(["flex:0 1 auto;display:flex;justify-content:center;width:100%;"]),lS=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"AppBarRight ".concat(e["data-component-name"]):"AppBarRight"}})).withConfig({displayName:"partner-iframe-app-barstyle__AppBarRight",componentId:"sc-1vtdiae-4"})(["flex:0 1 auto;display:flex;width:100%;justify-content:flex-end;"]);(0,We.rem)(15),(0,We.rem)(15),(0,We.rem)(3),(0,We.rem)(3),(0,We.rem)(17),(0,We.rem)(17),(0,We.rem)(2),(0,We.rem)(2),(0,We.rem)(15),(0,We.rem)(15),(0,We.rem)(3),(0,We.rem)(3),(0,We.rem)(17),(0,We.rem)(17),(0,We.rem)(2),(0,We.rem)(2);const sS=function(e){var t=e.children,n=e.location,r=(0,T.v9)((function(e){return e.partnerConfig}));return h().createElement(oS,{align:"center",showVimeoRibbonBar:Ot.get("showVimeoRibbonBar"),"data-component-name":"PartnerIFrameAppBar","data-key":e["data-key"]},h().createElement(iS,null,h().createElement(Tv,{icon:h().createElement(aS,null),onClick:function(){return r.onBackButtonClick(n)},customFormat:{defaultBackgroundColor:"transparent",hoverBackgroundColor:"rgba(238, 241, 242)"},type:"button"},r.backButtonText)),h().createElement(cS,null,r.logo()),h().createElement(lS,null,t))};function uS(e){return(uS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dS(Object(n),!0).forEach((function(t){pS(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pS(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hS(e,t){return(hS=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function gS(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=bS(e);if(t){var o=bS(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return yS(this,n)}}function yS(e,t){return!t||"object"!==uS(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function bS(e){return(bS=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var vS=S("QueueAsyncComponent"),ES=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&hS(e,t)}(a,e);var t,n,r,o=gS(a);function a(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this,e)).state={sharedState:e.initialState,activeStep:null,error:null};var n=t.state.sharedState.initialStepIndex;return n&&t.props.queue.splice(0,n),t.queue=t.props.queue,t.runRenderAsyncQueue=function(){if(0!==t.queue.length){var e=t.queue.shift(),n=e.run,r=e.name,o=function(e){return t.state.sharedState[e]},a=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t.setState((function(t){return mS(mS({},t),{},{sharedState:mS(mS({},t.sharedState),{},pS({},r,e)),error:n})}))};t.setState((function(t){return mS(mS({},t),{},{activeStep:e})})),vS.log("State before executing step operation.",t.state),n({readState:o,writeState:a}).then((function(n){e.onStepEnd(n),0!==t.props.queue.length&&t.runRenderAsyncQueue()})).catch((function(e){a(o(r),e)})),vS.log("Creating queue...")}},t}return t=a,(n=[{key:"componentDidMount",value:function(){this.runRenderAsyncQueue()}},{key:"render",value:function(){var e=this.state.activeStep&&this.state.activeStep.name;return vS.log("Render.......",this.state),this.state.activeStep&&this.state.activeStep.renderProgress?this.state.activeStep.renderProgress({sharedContextData:this.state.sharedState,stepData:this.state.sharedState[e],error:this.state.error}):null}}])&&fS(t.prototype,n),r&&fS(t,r),a}(h().Component),wS=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"ProgressBar ".concat(e["data-component-name"]):"ProgressBar"}})).withConfig({displayName:"progress__ProgressBar",componentId:"sc-1a1epq2-0"})(["width:calc(100% - 16px);height:",";border-radius:",";"],(0,We.rem)(5),(0,We.rem)(4.5)),AS=(0,Ge.css)(["background-image:linear-gradient( -45deg,"," 20%,"," 20%,"," 50%,"," 50%,"," 70%,"," 70%,"," );z-index:1;background-size:20px 20px;animation:move 2s linear infinite;@keyframes move{0%{background-position:0 0;}100%{background-position:50px 50px;}}"],(function(e){return qe(e,"theme.indeterminateProgressBar.backgroundImageColors.primary","#00adee")}),(function(e){return qe(e,"theme.indeterminateProgressBar.backgroundImageColors.secondary","#68cef5")}),(function(e){return qe(e,"theme.indeterminateProgressBar.backgroundImageColors.secondary","#68cef5")}),(function(e){return qe(e,"theme.indeterminateProgressBar.backgroundImageColors.primary","#00adee")}),(function(e){return qe(e,"theme.indeterminateProgressBar.backgroundImageColors.primary","#00adee")}),(function(e){return qe(e,"theme.indeterminateProgressBar.backgroundImageColors.secondary","#68cef5")}),(function(e){return qe(e,"theme.indeterminateProgressBar.backgroundImageColors.secondary","#68cef5")})),CS=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"ProgressLine ".concat(e["data-component-name"]):"ProgressLine"}})).withConfig({displayName:"progress__ProgressLine",componentId:"sc-1a1epq2-1"})(["height:100%;margin:0;border-radius:",";transition:width 0.5s;background-color:",";",";"],(0,We.rem)(4.5),(function(e){return e.hasError?"#d93636":qe(e,"theme.colors.primary",Kb)}),(function(e){return"indeterminate"===e.mode?AS:""}));const SS=(0,f.memo)((function(e){var t=e.hasError,n=e.progress,r=e.bgBarColor,o=e.mode,a=e.className,i=void 0===a?"":a;return h().createElement(wS,{className:"progress-bar ".concat(i),style:{backgroundColor:r},"data-component-name":"Progress"},h().createElement(CS,{hasError:t,style:{width:"".concat(t?100:n,"%")},mode:o}))}));var _S=n(83743724454911),xS=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"RenderPreviewImageWrapper ".concat(e["data-component-name"]):"RenderPreviewImageWrapper"}})).withConfig({displayName:"render-preview__RenderPreviewImageWrapper",componentId:"ov48nq-0"})(["width:",";height:",";background-repeat:no-repeat;background-position:center;background-size:cover;background-image:url(",");"],(function(e){return e.width}),(function(e){return e.height}),(function(e){return e.imageUrl}));var IS=function(e){var t=e.extWidth,n=void 0===t?"100%":t,r=e.extHeight,o=void 0===r?"100%":r,a=e.swapImage,i=e.imageUrls,c=void 0===i?[]:i,l=c.length>1&&a;return h().createElement(TS,{"data-component-name":"RenderScreenWrapper"},h().createElement(OS,{relativity:"absolute",style:{opacity:l?0:1}},h().createElement(xS,{width:n,height:o,imageUrl:c[0]})),h().createElement(OS,{relativity:"absolute",style:{opacity:l?1:0}},h().createElement(xS,{width:n,height:o,imageUrl:c[1]})))},TS=((0,We.rem)(18),(0,We.rem)(38),(0,We.rem)(30),(0,We.rem)(430),Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"LoadingImagesWrapper ".concat(e["data-component-name"]):"LoadingImagesWrapper"}})).withConfig({displayName:"render-loading__LoadingImagesWrapper",componentId:"sc-1yykzeu-3"})(["flex:1;height:100%;position:relative;"])),OS=(0,Ge.default)($e).attrs((function(e){return{"data-component-name":e["data-component-name"]?"AutoFitToParent ".concat(e["data-component-name"]):"AutoFitToParent"}})).withConfig({displayName:"render-loading__AutoFitToParent",componentId:"sc-1yykzeu-4"})(["height:100%;width:100%;transition:opacity 0.5s ease-in-out;"]);var kS=n(369295974973761);function MS(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return BS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BS(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function BS(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var jS=S("RenderLoading"),LS=(0,Ge.default)(_S.Paragraph).attrs((function(e){return{"data-component-name":e["data-component-name"]?"RenderStepCaption ".concat(e["data-component-name"]):"RenderStepCaption"}})).withConfig({displayName:"preview-loadingcomponent__RenderStepCaption",componentId:"sc-1oo5xgq-0"})(["margin-top:18px;margin-bottom:38px;min-height:40px;"]),PS=(0,Ge.default)(_S.Paragraph).attrs((function(e){return{"data-component-name":e["data-component-name"]?"RenderCanExitCaption ".concat(e["data-component-name"]):"RenderCanExitCaption"}})).withConfig({displayName:"preview-loadingcomponent__RenderCanExitCaption",componentId:"sc-1oo5xgq-1"})(["margin-top:30px;color:#8498a4;"]),NS=(0,Ge.default)(Xe).attrs((function(e){return{"data-component-name":e["data-component-name"]?"ProgressStepWrapper ".concat(e["data-component-name"]):"ProgressStepWrapper"}})).withConfig({displayName:"preview-loadingcomponent__ProgressStepWrapper",componentId:"sc-1oo5xgq-2"})(["flex:1;text-align:left;height:100%;width:100%;max-width:430px;padding-top:97px;justify-content:start;"]),DS="SAVING",RS="REMOWE_WATERMARK",zS="ANALYZING",US="RENDERING",FS="WRAPPING UP",HS=function(e){var t=e.closeAndBeNotifiedText,n=e.captionText,r=e.showCloseAndBeNotifiedText,o=e.title,a=e.progress,i=e.children;return h().createElement(f.Fragment,null,i,h().createElement(NS,null,h().createElement(kS.Header,{size:"1"},o),h().createElement(LS,{size:"1"},n),100===a?h().createElement(SS,{progress:a,mode:"indeterminate"}):h().createElement(SS,{progress:a,bgBarColor:tv}),r?h().createElement(PS,{size:"1"},t):null))};const VS=function(e){var t=e.step,n=e.progress,r=e.closeAndBeNotified,o=MS((0,f.useState)(!1),2),a=o[0],i=o[1],c=MS((0,f.useState)(!1),2),l=(c[0],c[1]);switch((0,f.useEffect)((function(){var e=null;return r&&(e=setTimeout((function(){l(!0)}),15e3)),function(){clearTimeout(e)}}),[r]),(0,f.useEffect)((function(){var e;return e=setInterval((function(){i(!a)}),3e3),function(){clearTimeout(e)}}),[a,r]),(0,f.useEffect)((function(){i(!1)}),[t]),jS.log("preview props",e),t){case DS:return h().createElement(HS,{title:oe.EditorSaveRenderPreviewPreviewLoadingStepUploadingTitle,closeAndBeNotifiedText:oe.EditorSaveRenderPreviewPreviewLoadingFixedWarning,captionText:oe.EditorSaveRenderPreviewPreviewLoadingStepUploadingText,showCloseAndBeNotifiedText:!0,progress:n,"data-component-name":"PreviewLoading","data-key":e["data-key"]},h().createElement(IS,{imageUrls:qc("renderScreenImages.saving",[]),swapImage:a}));case zS:return h().createElement(HS,{title:oe.EditorSaveRenderPreviewPreviewLoadingStepAnalyzingTitle,closeAndBeNotifiedText:oe.EditorSaveRenderPreviewPreviewLoadingFixedWarning,captionText:oe.EditorSaveRenderPreviewPreviewLoadingStepAnalyzingText,showCloseAndBeNotifiedText:!0,progress:n,"data-component-name":"PreviewLoading","data-key":e["data-key"]},h().createElement(IS,{imageUrls:qc("renderScreenImages.analyzing",[]),swapImage:a}));case US:return h().createElement(HS,{title:oe.EditorSaveRenderPreviewPreviewLoadingStepRenderingTitle,closeAndBeNotifiedText:oe.EditorSaveRenderPreviewPreviewLoadingFixedWarning,captionText:oe.EditorSaveRenderPreviewPreviewLoadingStepRenderingText,showCloseAndBeNotifiedText:!0,progress:n,"data-component-name":"PreviewLoading","data-key":e["data-key"]},h().createElement(IS,{imageUrls:qc("renderScreenImages.rendering",[]),swapImage:a}));case FS:case RS:return h().createElement(HS,{title:oe.EditorSaveRenderPreviewPreviewLoadingStepWrappingUpTitle,closeAndBeNotifiedText:oe.EditorSaveRenderPreviewPreviewLoadingFixedWarning,captionText:oe.EditorSaveRenderPreviewPreviewLoadingStepWrappingUpText,showCloseAndBeNotifiedText:!0,progress:n,"data-component-name":"PreviewLoading","data-key":e["data-key"]},h().createElement(IS,{imageUrls:qc("renderScreenImages.wrappingUp",[]),swapImage:a}));default:return h().createElement("div",{"data-component-name":"PreviewLoading","data-key":e["data-key"]},oe.EditorSaveRenderPreviewPreviewLoadingStepError)}};const WS=function(){return(0,f.useMemo)((function(){return/iphone|ipod|ipad/i.test(navigator.userAgent.toLowerCase())?"ios":/(android)/i.test(navigator.userAgent.toLowerCase())?"android":"desktop"}),[])};var GS=function(){return h().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 135 40","data-component-name":"PlayStoreSvg"},h().createElement("defs",null),h().createElement("path",{d:"M130 40H5c-2.8 0-5-2.2-5-5V5c0-2.8 2.2-5 5-5h125c2.8 0 5 2.2 5 5v30c0 2.8-2.2 5-5 5z"}),h().createElement("path",{fill:"#a6a6a6",d:"M130 .8c2.3 0 4.2 1.9 4.2 4.2v30c0 2.3-1.9 4.2-4.2 4.2H5C2.7 39.2.8 37.3.8 35V5C.8 2.7 2.7.8 5 .8h125m0-.8H5C2.2 0 0 2.3 0 5v30c0 2.8 2.2 5 5 5h125c2.8 0 5-2.2 5-5V5c0-2.7-2.2-5-5-5z"}),h().createElement("path",{fill:"#fff",stroke:"#fff","stroke-miterlimit":"10","stroke-width":".2",d:"M47.4 10.2c0 .8-.2 1.5-.7 2-.6.6-1.3.9-2.2.9-.9 0-1.6-.3-2.2-.9-.6-.6-.9-1.3-.9-2.2 0-.9.3-1.6.9-2.2.6-.6 1.3-.9 2.2-.9.4 0 .8.1 1.2.3.4.2.7.4.9.7l-.5.5c-.4-.5-.9-.7-1.6-.7-.6 0-1.2.2-1.6.7-.5.4-.7 1-.7 1.7s.2 1.3.7 1.7c.5.4 1 .7 1.6.7.7 0 1.2-.2 1.7-.7.3-.3.5-.7.5-1.2h-2.2v-.8h2.9v.4zM52 7.7h-2.7v1.9h2.5v.7h-2.5v1.9H52v.8h-3.5V7H52v.7zm3.3 5.3h-.8V7.7h-1.7V7H57v.7h-1.7V13zm4.6 0V7h.8v6h-.8zm4.2 0h-.8V7.7h-1.7V7h4.1v.7H64V13zm9.5-.8c-.6.6-1.3.9-2.2.9-.9 0-1.6-.3-2.2-.9-.6-.6-.9-1.3-.9-2.2s.3-1.6.9-2.2c.6-.6 1.3-.9 2.2-.9.9 0 1.6.3 2.2.9.6.6.9 1.3.9 2.2 0 .9-.3 1.6-.9 2.2zm-3.8-.5c.4.4 1 .7 1.6.7.6 0 1.2-.2 1.6-.7.4-.4.7-1 .7-1.7s-.2-1.3-.7-1.7c-.4-.4-1-.7-1.6-.7-.6 0-1.2.2-1.6.7-.4.4-.7 1-.7 1.7s.2 1.3.7 1.7zm5.8 1.3V7h.9l2.9 4.7V7h.8v6h-.8l-3.1-4.9V13h-.7z"}),h().createElement("path",{fill:"#fff",d:"M68.1 21.8c-2.4 0-4.3 1.8-4.3 4.3 0 2.4 1.9 4.3 4.3 4.3s4.3-1.8 4.3-4.3c0-2.6-1.9-4.3-4.3-4.3zm0 6.8c-1.3 0-2.4-1.1-2.4-2.6s1.1-2.6 2.4-2.6c1.3 0 2.4 1 2.4 2.6 0 1.5-1.1 2.6-2.4 2.6zm-9.3-6.8c-2.4 0-4.3 1.8-4.3 4.3 0 2.4 1.9 4.3 4.3 4.3s4.3-1.8 4.3-4.3c0-2.6-1.9-4.3-4.3-4.3zm0 6.8c-1.3 0-2.4-1.1-2.4-2.6s1.1-2.6 2.4-2.6c1.3 0 2.4 1 2.4 2.6 0 1.5-1.1 2.6-2.4 2.6zm-11.1-5.5v1.8H52c-.1 1-.5 1.8-1 2.3-.6.6-1.6 1.3-3.3 1.3-2.7 0-4.7-2.1-4.7-4.8s2.1-4.8 4.7-4.8c1.4 0 2.5.6 3.3 1.3l1.3-1.3c-1.1-1-2.5-1.8-4.5-1.8-3.6 0-6.7 3-6.7 6.6 0 3.6 3.1 6.6 6.7 6.6 2 0 3.4-.6 4.6-1.9 1.2-1.2 1.6-2.9 1.6-4.2 0-.4 0-.8-.1-1.1h-6.2zm45.4 1.4c-.4-1-1.4-2.7-3.6-2.7s-4 1.7-4 4.3c0 2.4 1.8 4.3 4.2 4.3 1.9 0 3.1-1.2 3.5-1.9l-1.4-1c-.5.7-1.1 1.2-2.1 1.2s-1.6-.4-2.1-1.3l5.7-2.4-.2-.5zm-5.8 1.4c0-1.6 1.3-2.5 2.2-2.5.7 0 1.4.4 1.6.9l-3.8 1.6zM82.6 30h1.9V17.5h-1.9V30zm-3-7.3c-.5-.5-1.3-1-2.3-1-2.1 0-4.1 1.9-4.1 4.3s1.9 4.2 4.1 4.2c1 0 1.8-.5 2.2-1h.1v.6c0 1.6-.9 2.5-2.3 2.5-1.1 0-1.9-.8-2.1-1.5l-1.6.7c.5 1.1 1.7 2.5 3.8 2.5 2.2 0 4-1.3 4-4.4V22h-1.8v.7zm-2.2 5.9c-1.3 0-2.4-1.1-2.4-2.6s1.1-2.6 2.4-2.6c1.3 0 2.3 1.1 2.3 2.6s-1 2.6-2.3 2.6zm24.4-11.1h-4.5V30h1.9v-4.7h2.6c2.1 0 4.1-1.5 4.1-3.9s-2-3.9-4.1-3.9zm.1 6h-2.7v-4.3h2.7c1.4 0 2.2 1.2 2.2 2.1-.1 1.1-.9 2.2-2.2 2.2zm11.5-1.8c-1.4 0-2.8.6-3.3 1.9l1.7.7c.4-.7 1-.9 1.7-.9 1 0 1.9.6 2 1.6v.1c-.3-.2-1.1-.5-1.9-.5-1.8 0-3.6 1-3.6 2.8 0 1.7 1.5 2.8 3.1 2.8 1.3 0 1.9-.6 2.4-1.2h.1v1h1.8v-4.8c-.2-2.2-1.9-3.5-4-3.5zm-.2 6.9c-.6 0-1.5-.3-1.5-1.1 0-1 1.1-1.3 2-1.3.8 0 1.2.2 1.7.4-.2 1.2-1.2 2-2.2 2zm10.5-6.6l-2.1 5.4h-.1l-2.2-5.4h-2l3.3 7.6-1.9 4.2h1.9l5.1-11.8h-2zm-16.8 8h1.9V17.5h-1.9V30z"}),h().createElement("linearGradient",{id:"a",x1:"21.8",x2:"5.017",y1:"33.29",y2:"16.508",gradientTransform:"matrix(1 0 0 -1 0 42)",gradientUnits:"userSpaceOnUse"},h().createElement("stop",{offset:"0","stop-color":"#00a0ff"}),h().createElement("stop",{offset:".007","stop-color":"#00a1ff"}),h().createElement("stop",{offset:".26","stop-color":"#00beff"}),h().createElement("stop",{offset:".512","stop-color":"#00d2ff"}),h().createElement("stop",{offset:".76","stop-color":"#00dfff"}),h().createElement("stop",{offset:"1","stop-color":"#00e3ff"})),h().createElement("path",{fill:"url(#a)",d:"M10.4 7.5c-.3.3-.4.8-.4 1.4V31c0 .6.2 1.1.5 1.4l.1.1L23 20.1v-.2L10.4 7.5z"}),h().createElement("linearGradient",{id:"b",x1:"33.834",x2:"9.637",y1:"21.999",y2:"21.999",gradientTransform:"matrix(1 0 0 -1 0 42)",gradientUnits:"userSpaceOnUse"},h().createElement("stop",{offset:"0","stop-color":"#ffe000"}),h().createElement("stop",{offset:".409","stop-color":"#ffbd00"}),h().createElement("stop",{offset:".775","stop-color":"orange"}),h().createElement("stop",{offset:"1","stop-color":"#ff9c00"})),h().createElement("path",{fill:"url(#b)",d:"M27 24.3l-4.1-4.1v-.3l4.1-4.1.1.1 4.9 2.8c1.4.8 1.4 2.1 0 2.9l-5 2.7z"}),h().createElement("linearGradient",{id:"c",x1:"24.827",x2:"2.069",y1:"19.704",y2:"-3.054",gradientTransform:"matrix(1 0 0 -1 0 42)",gradientUnits:"userSpaceOnUse"},h().createElement("stop",{offset:"0","stop-color":"#ff3a44"}),h().createElement("stop",{offset:"1","stop-color":"#c31162"})),h().createElement("path",{fill:"url(#c)",d:"M27.1 24.2L22.9 20 10.4 32.5c.5.5 1.2.5 2.1.1l14.6-8.4"}),h().createElement("linearGradient",{id:"d",x1:"7.297",x2:"17.46",y1:"41.824",y2:"31.661",gradientTransform:"matrix(1 0 0 -1 0 42)",gradientUnits:"userSpaceOnUse"},h().createElement("stop",{offset:"0","stop-color":"#32a071"}),h().createElement("stop",{offset:".069","stop-color":"#2da771"}),h().createElement("stop",{offset:".476","stop-color":"#15cf74"}),h().createElement("stop",{offset:".801","stop-color":"#06e775"}),h().createElement("stop",{offset:"1","stop-color":"#00f076"})),h().createElement("path",{fill:"url(#d)",d:"M27.1 15.8L12.5 7.5c-.9-.5-1.6-.4-2.1.1L22.9 20l4.2-4.2z"}),h().createElement("path",{d:"M27 24.1l-14.5 8.2c-.8.5-1.5.4-2 0l-.1.1.1.1c.5.4 1.2.5 2 0L27 24.1z",opacity:".2"}),h().createElement("path",{d:"M10.4 32.3c-.3-.3-.4-.8-.4-1.4v.1c0 .6.2 1.1.5 1.4v-.1h-.1zm21.6-11l-5 2.8.1.1 4.9-2.8c.7-.4 1-.9 1-1.4 0 .5-.4.9-1 1.3z",opacity:".12"}),h().createElement("path",{fill:"#fff",d:"M12.5 7.6L32 18.7c.6.4 1 .8 1 1.3 0-.5-.3-1-1-1.4L12.5 7.5c-1.4-.8-2.5-.2-2.5 1.4V9c0-1.5 1.1-2.2 2.5-1.4z",opacity:".25"}))};const YS=h().memo(GS);function qS(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}function ZS(e,t){e=e;var n,r="",o="?pid=";n=qS("af_c")?qS("af_c"):qS("utm_campaign")?qS("utm_campaign"):document.getElementsByTagName("title")[0]?document.getElementsByTagName("title")[0].innerText:"unknown";var a,i="&c=",c="&af_sub1=",l=qS("gclid"),s="&af_keywords=",u=qS("keyword");qS("af_pid")?a=qS("af_pid"):qS("utm_source")&&(a=qS("utm_source"));if(["twitter_int","facebook_int","snapchat_int","doubleclick_int","yahoogemini_int","yahoojapan_int"].includes(a))alert("DO NOT USE NAMES OF SRNS IN af_pid or utm_source - use the names listed in Other SRNs: Add Parameter section in the landing page article\nhttps://support.appsflyer.com/hc/en-us/articles/360000677217#other-srns-add-parameter");else{if(!qS("af_redirect"))return l?(o+="google_lp",i+=n,c+=l,u?(r=e+o+i+c+(s+=u),t&&alert("This user comes from Google AdWords - there is a keyword associated with the ad\n "+r),r):(r=e+o+i+c,t&&alert("This user comes from Google AdWords\n "+r),r)):a?(r=e+(o+=a)+(i+=n),t&&alert("This user comes the SRN or custom network "+a+"\n"+r),r):document.referrer&&""!=document.referrer&&document.referrer.toLowerCase().includes("facebook")?(t&&alert("This user comes from a paid Facebook ad - don't do anything. \nKeep direct app store links.")," "):(r=e+(o+="website")+(i+=n),t&&alert("This user comes from an unknown mobile source.\n The user would be attributed to media source 'website' and to the campaign "+i+"\n"+r),r);t&&alert("This user comes from AppsFlyer by redirection and is ready to be attributed. \nKeep direct app store links.")}}var XS=n(77991881096128),KS=n(153267082175),QS=n(970510515272874),$S=n(63514945319466),JS=n(952974066750596),e_=n(296018966582885),t_=n(0x739555ac3a76),n_=function(e){var t=e.onClick,n=e.locale,r={"de-DE":XS.AppleAppStoreDeDe,en:KS.AppleAppStoreEn,es:QS.AppleAppStoreEs,"fr-FR":$S.AppleAppStoreFrFr,"ja-JP":JS.AppleAppStoreJaJp,"ko-KR":e_.AppleAppStoreKoKr,"pt-BR":t_.AppleAppStorePtBr},o=n?r[n]:r.en;return h().createElement(o,{onClick:t,"data-component-name":"AppleAppStoreButton","data-key":e["data-key"]})};var r_=(0,Ge.default)(et).attrs((function(e){return{"data-component-name":e["data-component-name"]?"DescriptionTextContainer ".concat(e["data-component-name"]):"DescriptionTextContainer"}})).withConfig({displayName:"preview-cta-style__DescriptionTextContainer",componentId:"sc-72c8zu-0"})(["margin:"," auto ",";"],(0,We.rem)(24),(0,We.rem)(14)),o_=(0,Ge.default)(fv).attrs((function(e){return{"data-component-name":e["data-component-name"]?"DescriptionText ".concat(e["data-component-name"]):"DescriptionText"}})).withConfig({displayName:"preview-cta-style__DescriptionText",componentId:"sc-72c8zu-1"})(["line-height:",";text-align:center;"],(0,We.rem)(20)),a_=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"AppDownloadButtons ".concat(e["data-component-name"]):"AppDownloadButtons"}})).withConfig({displayName:"preview-cta-style__AppDownloadButtons",componentId:"sc-72c8zu-2"})(["text-align:center;margin-top:",";"],(0,We.rem)(16)),i_=Ge.default.a.attrs((function(e){return{"data-component-name":e["data-component-name"]?"AppDowloadLink ".concat(e["data-component-name"]):"AppDowloadLink"}})).withConfig({displayName:"preview-cta-style__AppDowloadLink",componentId:"sc-72c8zu-3"})(["width:",";height:",";display:inline-block;"],(0,We.rem)(135),(0,We.rem)(40)),c_=(0,Ge.default)(Ze).attrs((function(e){return{"data-component-name":e["data-component-name"]?"EditSaveButtonsWrapper ".concat(e["data-component-name"]):"EditSaveButtonsWrapper"}})).withConfig({displayName:"preview-cta-style__EditSaveButtonsWrapper",componentId:"sc-72c8zu-4"})(["justify-content:center;min-height:",";",""],(0,We.rem)(48),(function(e){return e.fromEditor?(0,Ge.css)(["margin-left:",";"],(0,We.rem)(44)):(0,Ge.css)(["@media screen and (min-width:768px){margin-left:",";}"],(0,We.rem)(44))})),l_=(0,Ge.default)(Ze).attrs((function(e){return{"data-component-name":e["data-component-name"]?"StyledHBox ".concat(e["data-component-name"]):"StyledHBox"}})).withConfig({displayName:"preview-cta-style__StyledHBox",componentId:"sc-72c8zu-5"})([""," ",""],(function(e){return e.fromEditor?(0,Ge.css)(["margin:0;"]):(0,Ge.css)(["margin:0 auto 1.375rem;@media screen and (min-width:768px){margin:0;}"])}),(function(e){var t=e.align;return t&&(0,Ge.css)(["justify-content:",";"],t)})),s_=(0,Ge.default)(Ze).attrs((function(e){return{"data-component-name":e["data-component-name"]?"FixedFooter ".concat(e["data-component-name"]):"FixedFooter"}})).withConfig({displayName:"preview-cta-style__FixedFooter",componentId:"sc-72c8zu-6"})(["left:0;bottom:0;width:100%;position:absolute;border-top:"," solid #e3e8e9;background-color:#ffffff;",""],(0,We.rem)(1),(function(e){return e.fromEditor?(0,Ge.css)(["padding-right:",";justify-content:flex-end;flex-direction:row;height:",";"],(0,We.rem)(32),(0,We.rem)(82)):(0,Ge.css)(["height:",";flex-direction:column;@media screen and (min-width:768px){padding-right:",";justify-content:flex-end;flex-direction:row;height:",";}"],(0,We.rem)(132),(0,We.rem)(32),(0,We.rem)(82))})),u_=(0,Ge.default)(Xw).attrs((function(e){return{"data-component-name":e["data-component-name"]?"StyledInputToggle ".concat(e["data-component-name"]):"StyledInputToggle"}})).withConfig({displayName:"preview-cta-style__StyledInputToggle",componentId:"sc-72c8zu-7"})(["margin-right:",";white-space:nowrap;"],(0,We.rem)(10)),d_=(0,Ge.default)(fv).attrs((function(e){return{"data-component-name":e["data-component-name"]?"StyledDisplayText ".concat(e["data-component-name"]):"StyledDisplayText"}})).withConfig({displayName:"preview-cta-style__StyledDisplayText",componentId:"sc-72c8zu-8"})(["line-height:",";"],(0,We.rem)(16)),m_=n(0xcbbf29cd17a8),p_=n(0x90d72718ffba);function f_(e){return(f_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h_(e,t){return!t||"object"!==f_(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g_(e){var t="function"==typeof Map?new Map:void 0;return(g_=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return y_(e,arguments,E_(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),v_(r,e)})(e)}function y_(e,t,n){return(y_=b_()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&v_(o,n.prototype),o}).apply(null,arguments)}function b_(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function v_(e,t){return(v_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E_(e){return(E_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var w_=1033,A_=1112,C_=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v_(e,t)}(o,e);var t,n,r=(t=o,n=b_(),function(){var e,r=E_(t);if(n){var o=E_(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return h_(this,e)});function o(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this);var n=o.getErrorCode(e);return n===w_&&(t.reason="NOT_ENOUGH_TIER"),n===A_&&(t.reason="NOT_ENOUGH_STORAGE_QUOTA"),t}return o}(g_(Error));C_.getErrorCode=function(e){var t=e&&e.response||{},n=t.status,r=t.data,o=(r=void 0===r?{}:r).errcode;return 400===n?o:null},C_.isRelated=function(e){var t=C_.getErrorCode(e);return t===w_||t===A_};var S_=function(e){var t=e.title,n=e.privacy,r=e.videoHash,o=e.onlyCheck,a=void 0!==o&&o,i=e.password,c=void 0===i?null:i,l=new FormData;return l.append("title",t),l.append("privacy",n),l.append("high_res_share","true"),a&&l.append("only_check",1),null!==c&&l.append("password",c),Ht.post("/api/share/vimeo/".concat(r),l).then((function(e){return{vimeoVideoId:e.data.vimeo_video_id}})).catch((function(e){if(C_.isRelated(e))throw new C_(e);throw e}))},__=(0,Ge.default)(yv.Button).attrs((function(e){return{"data-component-name":e["data-component-name"]?"EditButton ".concat(e["data-component-name"]):"EditButton"}})).withConfig({displayName:"preview-edit-save-buttons-style__EditButton",componentId:"sc-1x6whz0-0"})(["margin-right:",";&:disabled{color:#e3e8e9 !important;}"],(0,We.rem)(15)),x_=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"ThemeModalOverlay ".concat(e["data-component-name"]):"ThemeModalOverlay"}})).withConfig({displayName:"preview-edit-save-buttons-style__ThemeModalOverlay",componentId:"sc-1x6whz0-1"})(["position:absolute;top:0;left:0;height:100%;width:100%;background-color:rgba(0,0,0,0.4);z-index:20;"]),I_=(0,Ge.default)(Qe).attrs((function(e){return{"data-component-name":e["data-component-name"]?"ThemeModal ".concat(e["data-component-name"]):"ThemeModal"}})).withConfig({displayName:"preview-edit-save-buttons-style__ThemeModal",componentId:"sc-1x6whz0-2"})(["height:",";width:",";"],(0,We.rem)(544),(0,We.rem)(520)),T_=(0,Ge.default)(Fw).attrs((function(e){return{"data-component-name":e["data-component-name"]?"ErrorPopup ".concat(e["data-component-name"]):"ErrorPopup"}})).withConfig({displayName:"preview-edit-save-buttons-style__ErrorPopup",componentId:"sc-1x6whz0-3"})(["width:80%;"]),O_=(0,Ge.default)(fv).attrs((function(e){return{"data-component-name":e["data-component-name"]?"ErrorPopupContent ".concat(e["data-component-name"]):"ErrorPopupContent"}})).withConfig({displayName:"preview-edit-save-buttons-style__ErrorPopupContent",componentId:"sc-1x6whz0-4"})(["padding:"," 0;line-height:",";"],(0,We.rem)(20),(0,We.rem)(24)),k_=(0,Ge.default)(x_).attrs((function(e){return{"data-component-name":e["data-component-name"]?"StyledThemeModalOverlay ".concat(e["data-component-name"]):"StyledThemeModalOverlay"}})).withConfig({displayName:"preview-edit-save-buttons-style__StyledThemeModalOverlay",componentId:"sc-1x6whz0-5"})(["position:fixed;"]);function M_(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return B_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B_(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var j_=(0,Ge.default)(bv.ButtonLoadingState).attrs((function(e){return{"data-component-name":e["data-component-name"]?"ButtonStyled ".concat(e["data-component-name"]):"ButtonStyled"}})).withConfig({displayName:"save-facebook-button__ButtonStyled",componentId:"sc-5q36mw-0"})(["background-color:#1878f3;border-color:#1878f3;&:hover{background-color:#1878f3;border-color:#1878f3;}"]);const L_=h().memo((function(e){var t=e.onClick,n=e.fbShareStatus,r=e.videoHash,o=e.title,a=e.privacy,i=e.setShowErrorModal,c=e.facebookPermissionsCheck,l=M_((0,f.useState)(!1),2),s=l[0],u=l[1],d=null;-1!==Jo.vsid&&(d=Jo.vsid),null!==d&&(d=d.toString());return h().createElement(j_,{isLoading:s,size:"lg",onClick:function(){Li({name:"click_to_open_save_to_facebook_modal",product:Si,location:Ta,cta:"save_to_facebook",version:3,flow:fa.flow}),n!==se?t():(u(!0),S_({title:o,privacy:a,videoHash:r,onlyCheck:!0}).then((function(){c&&c({onSuccess:function(e){Ht.get("/api/facebook/businesses?access_token=".concat(e)).then((function(n){u(!1),t(e,n.data.businesses)}))},onFailure:function(){u(!1)}})})).catch((function(e){u(!1),e instanceof C_?zc.onSaveToFacebookFailed({reason:e.reason,vsid:d}):i(!0)})))},"data-component-name":"SaveToFacebookButton"},oe.FacebookSave)}));function P_(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return N_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N_(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const D_=function(e){var t=e.video,n=e.sharePrivacies,r=e.trackEditVideo,o=e.trackSaveVideo,a=e.disabled,i=void 0!==a&&a,c=e.videoTitle,l=e.onFBShareButtonClick,s=e.fbShareStatus,u=e.facebookPermissionsCheck,d=e.onEdit,m=P_((0,f.useState)(!1),2),p=m[0],g=m[1],y=P_((0,f.useState)(!1),2),b=y[0],v=y[1],E=P_((0,f.useState)(!1),2),w=E[0],A=E[1],C=P_(aw("share-help",!0),1)[0],S=P_(wA((function(){return function(){A(!1)}})),1)[0],_=(0,T.v9)((function(e){return qe(e,"featureToggles.values.savePreviewTourPanel",!0)})),x=(0,T.v9)((function(e){return qe(e,"featureToggles.values.facebookContext",!1)})),I=(0,T.v9)((function(e){return qe(e,"featureToggles.values.shareToVimeoEnabled",!1)})),O=n&&n.length>1&&n[1].id,k=x,M=!k&&I,B=!k&&!M,j=(0,f.useCallback)((function(){r(),d()}),[r,d]),L=null;-1!==Jo.vsid&&(L=Jo.vsid),null!==L&&(L=L.toString());var P=(0,f.useCallback)((function(){var e=c||t.title;o({title:e,privacy:O}),g(!0),S_({title:e,privacy:O,videoHash:t.hash}).then((function(e){var t=e.vimeoVideoId;Gc.afterSaveToVimeo({vimeoVideoId:t})})).catch((function(e){e instanceof C_?zc.onSaveToVimeoFailed({reason:e.reason,vsid:L}):A(!0)})).finally((function(){g(!1)}))}),[L,O,o,t.hash,t.title,c]),N=(0,f.useCallback)((function(){Gc.toSaveVideo({videoHash:t.hash})}),[t.hash]);return h().createElement(Ze,{align:"center","data-component-name":"PreviewEditSaveButtons"},h().createElement(__,{disabled:i||p,format:"alternative",size:"lg",onClick:j},oe.Edit),h().createElement($e,{relativity:"relative"},k&&h().createElement(L_,{onClick:l,fbShareStatus:s,videoHash:t.hash,title:c||t.title,privacy:O,setShowErrorModal:A,facebookPermissionsCheck:u}),M&&h().createElement(h().Fragment,null,h().createElement(Iv,{style:{width:"100%"},isLoading:p,disabled:i,size:"lg",onClick:P},oe.SaveAndShare),C&&_&&h().createElement($e,{relativity:"absolute",top:"-50%",left:"50%",style:{transform:"translate(-50%, 0%)"}},h().createElement(m_.FeatureTourPanel,{actionArea:h().createElement(p_.FeatureTourPanelButton,{onClick:function(){v(!1)}},oe.OK),onClick:function(e){e.stopPropagation(),v(!0),window.localStorage.setItem("share-help",JSON.stringify(!1))},attachment:"right",shouldHideOnClose:!0,isOpen:b,headerText:oe.EditorSaveRenderPreviewSaveRenderPreviewFeatureTourHeader,beaconA11yText:oe.EditorSaveRenderPreviewSaveRenderPreviewFeatureTourText,dismissButtonA11yLabel:oe.EditorSaveRenderPreviewSaveRenderPreviewFeatureTourButton,beaconDelayIndex:1,dotZIndex:100,shouldRefocusTriggerOnClose:!1,size:"lg"},oe.EditorSaveRenderPreviewSaveRenderPreviewFeatureTourContent))),B&&h().createElement(Iv,{style:{width:"100%"},isLoading:p,disabled:i,size:"lg",onClick:N},oe.Save)),w&&h().createElement(k_,null,h().createElement(I_,{ref:S},h().createElement(T_,{title:oe.PleaseTryAgain,content:h().createElement(O_,null,oe.AddVideoToLibraryErrorMessage),footer:h().createElement(Ze,{justify:"flex-end"},h().createElement(Tv,{format:"warning",onClick:function(){A(!1)}},oe.OK)),onClose:function(){A(!1)}}))))};var R_=n(0x78eb8a35a254),z_=n(28056341770166),U_=(0,Ge.default)(R_.Badge).attrs((function(e){return{"data-component-name":e["data-component-name"]?"StyledBadge ".concat(e["data-component-name"]):"StyledBadge"}})).withConfig({displayName:"pro-badgecomponent__StyledBadge",componentId:"sc-34owo2-0"})(["background-color:#093ac9;color:#ffffff;position:relative;"]),F_=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"BadgeMargin ".concat(e["data-component-name"]):"BadgeMargin"}})).withConfig({displayName:"pro-badgecomponent__BadgeMargin",componentId:"sc-34owo2-1"})(["",";"],(function(e){return e.margin?"margin:".concat(e.margin):"0"}));function H_(e){var t=e.margin,n=(0,T.v9)((function(e){return e.userCapabilities.capabilities.canToggleWatermark})),r=n.allowed,o=n.showBadge,a=n.tier||{},i=a.text,c=a.name,l=null;return-1!==Jo.vsid&&(l=Jo.vsid),null!==l&&(l=l.toString()),h().createElement(h().Fragment,null,!r&&o?h().createElement(F_,{margin:t,onClick:function(){Pi({location:"watermark_toggle",pro_feature:"watermark"}),zc.toggleWatermarkProBadge({vsid:l,tier:c})}},h().createElement(z_.TooltipOverlay,{tooltipText:oe.UpgradeToTier(i),attachment:"top"},h().createElement(U_,null,i))):null)}const V_=h().memo(H_);var W_=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"SimpleCTAsWrapper ".concat(e["data-component-name"]):"SimpleCTAsWrapper"}})).withConfig({displayName:"preview-ctacomponent__SimpleCTAsWrapper",componentId:"sc-170glsh-0"})(["margin-top:26px;"]),G_=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"RemoveWatermarkCTA ".concat(e["data-component-name"]):"RemoveWatermarkCTA"}})).withConfig({displayName:"preview-ctacomponent__RemoveWatermarkCTA",componentId:"sc-170glsh-1"})(["font-size:14px;line-height:1.43;color:#1a2e3b;display:flex;justify-content:center;align-items:center;cursor:pointer;margin-top:16px;"]);const Y_=function(e){var t=e.sharePrivacies,n=e.videoData,r=e.videoTitle,o=e.trackEditVideo,a=e.trackSaveVideo,i=e.onFBShareButtonClick,c=e.fbShareStatus,l=e.setWatermarkToggleEnabled,s=e.watermarkToggleEnabled,u=e.locale,d=e.fromEditor,m=void 0!==d&&d,p=e.bpFlowValue,f=e.facebookPermissionsCheck,g=e.usePreviewCTAFooter,y=e.rerender,b=e.onEdit,v=WS(),E=((0,T.v9)((function(e){return e.userCapabilities.capabilities.canToggleWatermark})).tier||{}).name,w=null;return-1!==Jo.vsid&&(w=Jo.vsid),null!==w&&(w=w.toString()),"ios"===v||"android"===v?h().createElement(a_,{"data-component-name":"PreviewCta"},h().createElement(r_,{maxWidth:"258px"},h().createElement(o_,null,oe.SaveShareWithVimeoCreateApp)),h().createElement(i_,{href:ZS("https://go.onelink.me/3QqV?pid=VC_preview_page&c=Mobile_web_preview_page&af_web_dp=https%3A%2F%2Fvimeo.com%2Fcreate%2Fvideo-maker")},"ios"===v?h().createElement(n_,{locale:u}):h().createElement(YS,null))):n&&(g?h().createElement(s_,{align:"center",justify:"center",fromEditor:m,"data-component-name":"PreviewCta"},h().createElement(l_,{align:"center",justify:"center",fromEditor:m},h().createElement(u_,{name:"toggleWatermark",id:"toggleWatermark",checked:!s,onChange:function(){var e,t;e={watermark:Number(!s),location:"preview",flow:p},t={name:"click_on_watermark_toggle",product:Si,platform:window.navigator.platform,device_id:null,version:4},Li(t=sa(sa({},e),t)),zc.onToggleWatermark({vsid:w,tier:E}).then((function(){var e=new FormData;e.append("watermark",!s),e.append("hash",n.hash),wr(e),l(!s)}))},label:h().createElement(d_,{fontSize:(0,We.rem)(16)},oe.HideVimeoWatermark),size:"lg"}),h().createElement(V_,{margin:"0 0 0 10px"})),h().createElement(c_,{align:"center",fromEditor:m},h().createElement(D_,{sharePrivacies:t,video:n,trackEditVideo:o,trackSaveVideo:a,videoTitle:r,onFBShareButtonClick:i,fbShareStatus:c,facebookPermissionsCheck:f,onEdit:b}))):h().createElement(W_,{"data-component-name":"PreviewCta"},h().createElement(l_,{align:"center"},h().createElement(c_,{align:"center",fromEditor:m,style:{margin:0}},h().createElement(D_,{sharePrivacies:t,video:n,trackEditVideo:o,trackSaveVideo:a,videoTitle:r,onFBShareButtonClick:i,fbShareStatus:c,onEdit:b}))),n.has_watermark&&h().createElement(G_,{onClick:function(){zc.onRemoveWatermark().then((function(){return y({removeWatermark:!0})}))}},oe.EditorSaveRenderPreviewMagistoRemoveWatermark,h().createElement(qC,null))))};var q_=n(905514383361349);const Z_=function(){var e=(0,f.useCallback)((function(){return/constructor/i.test(window.HTMLElement)||"[object SafariRemoteNotification]"===(!window.safari||void 0!==window.safari&&window.safari.pushNotification).toString()}),[]);return(0,f.useMemo)((function(){return{isSafari:e()}}),[e])};function X_(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return K_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return K_(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Q_=S("VideoPlayerDeprecatedComponent"),$_=Ge.default.video.attrs((function(e){var t=e.volume;return{volume:e.muted?0:t||.75}})).attrs((function(e){return{"data-component-name":e["data-component-name"]?"VideoPlayerWrapper ".concat(e["data-component-name"]):"VideoPlayerWrapper"}})).withConfig({displayName:"video-player-deprecatedcomponent__VideoPlayerWrapper",componentId:"sc-1sgbewp-0"})(["width:100%;height:100%;object-fit:",";position:",";top:",";border-radius:",";"],(function(e){return e.isInModal?"contain":"cover"}),(function(e){return e.isInModal?"absolute":"static"}),(function(e){return e.isInModal?(0,We.rem)(-10):0}),(function(e){return"rounded-corners"===e.className?"4px":0})),J_=(0,Ge.default)(Xe).attrs((function(e){return{"data-component-name":e["data-component-name"]?"LoaderWrapper ".concat(e["data-component-name"]):"LoaderWrapper"}})).withConfig({displayName:"video-player-deprecatedcomponent__LoaderWrapper",componentId:"sc-1sgbewp-1"})(["height:100%;width:100%;position:absolute;background-color:",";max-width:initial;position:absolute;transform-origin:left top;"],$b);const ex=function(e){var t=e.isPlaying,n=e.src,r=e.muted,o=e.showLoader,a=void 0===o||o,i=e.timing,c=void 0===i?{start:0,end:""}:i,l=e.poster,s=void 0===l?"":l,u=e.playAgain,d=void 0!==u&&u,m=e.loop,p=void 0!==m&&m,g=e.className,b=void 0===g?"":g,v=e.style,E=e.goToStartOnVideoEnd,w=e.forwardRef,A=e.volume,C=e.isInModal,S=void 0!==C&&C,_=e.preload,x=void 0===_?"none":_,I=e.onSourceChange,T=void 0===I?y():I,O=e.onCanPlay,k=void 0===O?y():O,M=e.onEnded,B=void 0===M?y():M,j=e.onWaiting,L=void 0===j?y():j,P=e.onPlaying,N=void 0===P?y():P,D=e.onLoadedData,R=void 0===D?y():D,z=e.onError,U=void 0===z?y():z,F=e.onTimeChange,H=void 0===F?y():F,V=e.onVolumeChange,W=void 0===V?y():V,G=e.onPlay,Y=void 0===G?y():G,q=e.onPause,Z=void 0===q?y():q,X=e.onToggleBuffering,K=void 0===X?y():X,Q=c.start,$=c.end,J=(0,f.useRef)(null),ee=(0,f.useRef)(null),te=X_((0,f.useState)(!0),2),ne=te[0],re=te[1],oe=Z_(),ae=(0,f.useCallback)((function(e){re(e),K(e)}),[K]);(0,f.useEffect)((function(){"function"==typeof w&&w(J.current)}),[w]),(0,f.useEffect)((function(){!function(e,t,n){var r=t.isPlaying,o=t.playAgain;if(!e)throw new Error("Could not find Video Element");if(r){if(e.paused){var a=e.play();a&&a.catch&&a.catch((function(e){n(e)}))}}else e.paused||(o&&e.load(),e.pause())}(J.current,{isPlaying:t,playAgain:d},U)}),[t,U,d]);var ie=(0,f.useCallback)((function(e){e.stopPropagation(),Q_.error("Video Error"),U()}),[U]),ce=(0,f.useCallback)((function(){k(),ae(!1),ee.current||(ee.current=!0,Q_.log("Video can play... ",n))}),[k,n]),le=(0,f.useCallback)((function(){Q_.log("Video Ended... ",n),B()}),[B,n]),se=(0,f.useCallback)((function(){(ae(!0),oe.isSafari&&S)&&J.current.play();L()}),[oe.isSafari,S,ae,L]),ue=(0,f.useCallback)((function(){ae(!1),N()}),[ae,N]),de=(0,f.useMemo)((function(){return ae(!0),T(),oe.isSafari&&0===n.indexOf("blob:")?n:"".concat(n,"#t=").concat(Q,",").concat($)}),[oe,$,n,Q,T]);return h().createElement(h().Fragment,null,ne&&h().createElement(J_,{style:v,align:"center",justify:"center"},a&&h().createElement(NE,{size:"xl"})),h().createElement($_,{loop:p,className:"".concat(b),ref:J,style:v,poster:s,onError:ie,onLoadedData:R,onTimeUpdate:function(e){E&&(J.current.currentTime===J.current.duration||""!==c.end&&e.target.currentTime>c.end)&&(J.current.currentTime=Q,J.current.pause(),B()),H(J.current.currentTime,J.current.duration)},onCanPlay:ce,onEnded:le,muted:r,src:de,crossOrigin:"anonymous",onContextMenu:function(e){e.preventDefault()},onWaiting:se,onPlaying:ue,onPlay:Y,onPause:Z,volume:A,onVolumeChange:function(){return W(J.current.muted)},isInModal:S,preload:x,draggable:!1}))};function tx(){return h().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 17 18","data-component-name":"PauseIconSVG"},h().createElement("path",{d:"M16.2 0v18h-5.4V0h5.4zM5.4 0v18H0V0h5.4z",fill:"#FFF",fillRule:"nonzero"}))}function nx(){return h().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18","data-component-name":"PlayIconSVG"},h().createElement("path",{d:"M0 18V0l18 9z",fill:"#FFF",fillRule:"nonzero"}))}const rx=h().memo((function(){return h().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18","data-component-name":"PreviewMuted"},h().createElement("defs",null),h().createElement("g",{fill:"none",fillRule:"evenodd"},h().createElement("path",{d:"M18 9a9 9 0 01-5 8.064v-2.32A6.992 6.992 0 0016 9c0-.825-.143-1.616-.405-2.351l1.528-1.528A8.965 8.965 0 0118 9zm-4 0a5.001 5.001 0 01-2.999 4.583v-2.342l2.95-2.948c.032.23.049.467.049.707z",fill:"#666",className:"FullPath"}),h().createElement("path",{d:"M9 13.242v3.055a1 1 0 01-1.76.65L6.343 15.9 9 13.242zM8.65.944a1 1 0 01.35.76v3.053L1.758 12 1 12a1 1 0 01-1-1V7a1 1 0 011-1l2.071-.001a1 1 0 01.17-.28l4-4.667A1 1 0 018.65.944zM17.485.515a1 1 0 010 1.414L1.93 17.485a1 1 0 01-1.414-1.414L16.07.515a1 1 0 011.414 0z",fill:"#FFF",className:"IconPath"})))}));const ox=h().memo((function(){return h().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18","data-component-name":"PreviewUnmuted"},h().createElement("defs",null),h().createElement("g",{transform:"translate(0 -1)",fill:"none",fillRule:"evenodd"},h().createElement("path",{d:"M18 10a9 9 0 01-5 8.064v-2.32A6.992 6.992 0 0016 10a6.992 6.992 0 00-3-5.745v-2.32A9 9 0 0118 10z",fill:"#00ADEF",className:"FullPath"}),h().createElement("path",{d:"M14 10a5.001 5.001 0 01-2.999 4.583v-2.348c.613-.549.999-1.347.999-2.235 0-.888-.386-1.686-1-2.235l.001-2.348A5.001 5.001 0 0114 10z",fill:"#00ADEF",className:"HalfPath"}),h().createElement("path",{d:"M3.24 6.72l4-4.668A1 1 0 019 2.703v14.594a1 1 0 01-1.76.65l-4-4.666a1 1 0 01-.24-.65V7.37a1 1 0 01.24-.65z",fill:"#FFF",className:"IconPath"}),h().createElement("rect",{fill:"#FFF",y:"7",width:"6",height:"6",rx:"1"})))}));function ax(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ix(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ix(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ix(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var cx=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"ControlsBar ".concat(e["data-component-name"]):"ControlsBar"}})).withConfig({displayName:"video-preview-controlscomponent__ControlsBar",componentId:"ifnoyh-0"})(["background-color:rgba(26,46,59,0.7);display:flex;height:44px;padding:0 18px;position:absolute;bottom:0;left:0;right:0;display:flex;align-items:center;opacity:",";transition:opacity 0.25s ease-in-out;"],(function(e){return e.showControls?1:0})),lx=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"PlayPauseButton ".concat(e["data-component-name"]):"PlayPauseButton"}})).withConfig({displayName:"video-preview-controlscomponent__PlayPauseButton",componentId:"ifnoyh-1"})(["cursor:pointer;position:relative;width:18px;height:18px;color:white;"]),sx=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"MuteUnmuteButton ".concat(e["data-component-name"]):"MuteUnmuteButton"}})).withConfig({displayName:"video-preview-controlscomponent__MuteUnmuteButton",componentId:"ifnoyh-2"})(["cursor:pointer;position:relative;width:",";height:",";color:",";& > svg{opacity:1;transition:opacity 0.3s linear;path,rect,.IconPath{fill:",";}"," &:hover{opacity:0.7;rect,.IconPath  fill:",";}}}"],(0,We.rem)(20),(0,We.rem)(20),Jb,Jb,(function(e){return e.volume>50?"path {\n          fill : ".concat(Kb,"\n        }"):(0,Ge.css)([".HalfPath{fill:",";}.FullPath{fill:",";}"],Kb,nv)}),(function(e){return qe(e,"theme.colors.primary",Kb)})),ux=(0,Ge.default)(lv).attrs((function(e){return{"data-component-name":e["data-component-name"]?"Time ".concat(e["data-component-name"]):"Time"}})).withConfig({displayName:"video-preview-controlscomponent__Time",componentId:"ifnoyh-3"})(["color:rgba(246,247,248,0.7);margin:0 18px;font-size:12px;font-weight:normal;font-style:normal;font-stretch:normal;line-height:1.5;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;"]),dx=(0,Ge.css)(["height:18px;width:18px;background-color:#ffffff;box-shadow:0 2px 4px 0 rgba(0,0,0,0.5);border-radius:100%;"]),mx=(0,Ge.css)(["height:",";width:",";background-color:",";box-shadow:0 "," "," 0 rgba(0,0,0,0.5);border-radius:100%;"],(0,We.rem)(12),(0,We.rem)(12),Jb,(0,We.rem)(2),(0,We.rem)(4)),px=Ge.default.input.attrs({type:"range",step:"1"}).attrs((function(e){return{"data-component-name":e["data-component-name"]?"Scrubber ".concat(e["data-component-name"]):"Scrubber"}})).withConfig({displayName:"video-preview-controlscomponent__Scrubber",componentId:"ifnoyh-4"})(["flex:1;-webkit-appearance:none;appearance:none;width:100%;height:8px;opacity:1;outline:none;margin:0 auto;background:linear-gradient( 90deg,"," 0% ","%,rgb(102,102,102) ","% 100% );&::-webkit-slider-thumb{-webkit-appearance:none;","}&::-moz-range-thumb{","}&::-ms-thumb{","}"],(function(e){return qe(e,"theme.colors.primary",Kb)}),(function(e){return e.value}),(function(e){return e.value}),dx,dx,dx),fx=Ge.default.input.attrs({type:"range",step:"1"}).attrs((function(e){return{"data-component-name":e["data-component-name"]?"VolumeScrubber ".concat(e["data-component-name"]):"VolumeScrubber"}})).withConfig({displayName:"video-preview-controlscomponent__VolumeScrubber",componentId:"ifnoyh-5"})(["-webkit-appearance:none;appearance:none;height:",";width:",";opacity:1;outline:none;margin:0 auto;cursor:pointer;border-radius:",";position:absolute;left:50%;bottom:",";transform:translateX(-50%) rotate(270deg);-webkit-transform:translateX(-50%) rotate(270deg);background:linear-gradient( 90deg,"," 0% ","%,rgb(102,102,102) ","% 100% );&::-webkit-slider-thumb{-webkit-appearance:none;","}&::-moz-range-thumb{","}&::-ms-thumb{","}"],(0,We.rem)(4),(0,We.rem)(86),(0,We.rem)(2),(0,We.rem)(46),(function(e){return qe(e,"theme.colors.primary",Kb)}),(function(e){return e.value}),(function(e){return e.value}),mx,mx,mx),hx=(0,Ge.default)(Xe).attrs((function(e){return{"data-component-name":e["data-component-name"]?"FlexBox ".concat(e["data-component-name"]):"FlexBox"}})).withConfig({displayName:"video-preview-controlscomponent__FlexBox",componentId:"ifnoyh-6"})(["margin:0 0 0 ",";align:center;"],(0,We.rem)(18)),gx=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"VolumeScrubberWrapper ".concat(e["data-component-name"]):"VolumeScrubberWrapper"}})).withConfig({displayName:"video-preview-controlscomponent__VolumeScrubberWrapper",componentId:"ifnoyh-7"})(["height:",";width:",";background:rgba(23,35,34,0.75);border-radius:",";position:absolute;bottom:",";"],(0,We.rem)(96),(0,We.rem)(32),(0,We.rem)(2),(0,We.rem)(52)),yx=function(e){var t=Math.floor(e/3600),n=Math.floor((e-3600*t)/60),r=e-3600*t-60*n,o=t<10?"0".concat(t):t.toString(),a=n<10?"0".concat(n):n.toString(),i=r<10?"0".concat(r):r.toString();return"".concat("00"!==o?"".concat(o,":"):"").concat(a,":").concat(i)};const bx=function(e){var t=e.showControls,n=void 0===t||t,r=e.isPlaying,o=e.timeInfo,a=e.onPlay,i=e.onPause,c=e.onCurrentTimeChange,l=e.muted,s=e.volume,u=e.setVolume,d=e.setMuted,m=(0,f.useRef)(null),p=(0,f.useRef)(null),g=(0,f.useRef)(null),y=yx(Math.ceil(o.duration)),b=o.currentTime!==o.duration?yx(Math.ceil(o.currentTime)):y,v=ax((0,f.useState)(!1),2),E=v[0],w=v[1],A=ax((0,f.useState)(0),2),C=A[0],S=A[1],_=ax((0,f.useState)(l?0:s),2),x=_[0],I=_[1],T=WS();(0,f.useEffect)((function(){return function(){g&&g.current&&clearTimeout(g.current)}}),[]),(0,f.useEffect)((function(){S(Math.ceil(o.progress))}),[o.progress]),(0,f.useEffect)((function(){0===s&&d(!0)}),[s]);var O=(0,f.useCallback)((function(e){var t=e.target.value;c(t),S(t)}),[c]),k=(0,f.useCallback)((function(e){e.stopPropagation(),g&&g.current&&clearTimeout(g.current);var t=e.target.value;u(t/100),I(t)}),[u]),M=(0,f.useCallback)((function(){d(!l),I(0)}),[l,d]);return h().createElement(cx,{showControls:n,"data-component-name":"VideoPreviewControls"},h().createElement(lx,{onClick:function(){return r?i():a()}},r?h().createElement(tx,null):h().createElement(nx,null)),h().createElement(ux,null,b," / ",y),h().createElement(px,{value:C,ref:m,className:"scrubber",onChange:O}),h().createElement(hx,{onMouseEnter:function(){"desktop"===T&&(g&&g.current&&clearTimeout(g.current),w(!0))},onMouseLeave:function(){"desktop"===T&&(g.current=setTimeout((function(){w(!1)}),300))}},E&&h().createElement(gx,null,h().createElement(fx,{value:x,ref:p,onChange:k,onInput:k})),h().createElement(sx,{onClick:M,volume:s},l?h().createElement(rx,null):h().createElement(ox,null))))};function vx(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ex(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ex(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ex(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var wx=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"PreviewTitle ".concat(e["data-component-name"]):"PreviewTitle"}})).withConfig({displayName:"video-previewcomponent__PreviewTitle",componentId:"sc-1mj46gb-0"})(["margin-top:25px;@media screen and (min-width:768px){margin-top:48px;}"]),Ax=(0,Ge.default)(Ze).attrs((function(e){return{"data-component-name":e["data-component-name"]?"HBoxStyled ".concat(e["data-component-name"]):"HBoxStyled"}})).withConfig({displayName:"video-previewcomponent__HBoxStyled",componentId:"sc-1mj46gb-1"})(["position:relative;margin-bottom:24px;width:674px;max-width:calc(100vw - 100px);"]),Cx=(0,Ge.default)(Xe).attrs((function(e){return{"data-component-name":e["data-component-name"]?"VBoxStyled ".concat(e["data-component-name"]):"VBoxStyled"}})).withConfig({displayName:"video-previewcomponent__VBoxStyled",componentId:"sc-1mj46gb-2"})(["margin:auto;"]),Sx=(0,Ge.default)(fv).attrs((function(e){return{"data-component-name":e["data-component-name"]?"SecondaryTitle ".concat(e["data-component-name"]):"SecondaryTitle"}})).withConfig({displayName:"video-previewcomponent__SecondaryTitle",componentId:"sc-1mj46gb-3"})(["height:24px;width:initial;font-size:18px;font-weight:500;letter-spacing:0.2px;line-height:24px;text-align:center;margin-bottom:5px;white-space:nowrap;"]),_x=(0,Ge.default)(uv).attrs((function(e){return{"data-component-name":e["data-component-name"]?"PrimaryTitle ".concat(e["data-component-name"]):"PrimaryTitle"}})).withConfig({displayName:"video-previewcomponent__PrimaryTitle",componentId:"sc-1mj46gb-4"})(["font-size:22px;letter-spacing:0.2px;line-height:28px;height:28px;font-weight:500;text-align:center;cursor:default;display:inline-block;@media screen and (min-width:768px){height:32px;font-size:28px;letter-spacing:0.4px;line-height:32px;}"]),xx=(0,Ge.default)(q_.Pencil).attrs((function(e){return{"data-component-name":e["data-component-name"]?"EditIcon ".concat(e["data-component-name"]):"EditIcon"}})).withConfig({displayName:"video-previewcomponent__EditIcon",componentId:"sc-1mj46gb-5"})(["width:20px;height:20px;path{fill:#b3bfc8;}"]),Ix=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"AlignEditButton ".concat(e["data-component-name"]):"AlignEditButton"}})).withConfig({displayName:"video-previewcomponent__AlignEditButton",componentId:"sc-1mj46gb-6"})(["width:0;margin-left:5px;"]),Tx=(0,Ge.default)(Xe).attrs((function(e){return{"data-component-name":e["data-component-name"]?"EditButton ".concat(e["data-component-name"]):"EditButton"}})).withConfig({displayName:"video-previewcomponent__EditButton",componentId:"sc-1mj46gb-7"})(["height:32px;width:32px;border-radius:2px;&:hover{background-color:#e6eaec;","{path{fill:#1a2e3b;}}}"],xx),Ox=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"PlayerBox ".concat(e["data-component-name"]):"PlayerBox"}})).withConfig({displayName:"video-previewcomponent__PlayerBox",componentId:"sc-1mj46gb-8"})(["position:relative;background-color:#1a2e3b;"]),kx=170,Mx=120,Bx=16/9,jx=9/16,Lx=1,Px=280,Nx=220,Dx=280,Rx=158,zx=392,Ux=280;const Fx=function(e){var t=e.video,n=e.videoName,r=e.startPlaying,o=e.showNewPreviewDesign,a=e.openAddVideoTitleModal,i=(0,f.useMemo)((function(){return navigator.vendor.indexOf("Apple Computer")>-1&&navigator.userAgent.indexOf("Safari")>-1&&-1===navigator.userAgent.indexOf("Mobi")}),[]),c=vx((0,f.useState)(r),2),l=c[0],s=c[1],u=vx((0,f.useState)({currentTime:0,duration:0,progress:0}),2),d=u[0],m=u[1],p=vx((0,f.useState)(null),2),g=p[0],y=p[1],b=vx((0,f.useState)(null),2),v=b[0],E=b[1],w=vx((0,f.useState)({}),2),A=w[0],C=w[1],S=vx((0,f.useState)(window.innerWidth),2),_=S[0],x=S[1],I=vx((0,f.useState)(window.innerHeight),2),T=I[0],O=I[1],k=vx((0,f.useState)(!!i||t.muted),2),M=k[0],B=k[1],j=vx((0,f.useState)(i),2),L=j[0],P=j[1],N=vx((0,f.useState)(!1),2),D=N[0],R=N[1],z=vx(aw("preview-volume",.75),2),U=z[0],F=z[1],H=(0,f.useRef)(null),V=(0,f.useRef)(null),W=vx((0,f.useState)((function(){return t.muted?0:t.volume?U*t.volume:100*U})),2),G=W[0],Y=W[1];(0,f.useEffect)((function(){return function(){H&&H.current&&clearTimeout(H.current),V&&V.current&&clearTimeout(V.current)}}),[]);var q=(0,f.useCallback)((function(){if(v&&t){var e=window.scrollY+v.getBoundingClientRect().top,n=window.innerHeight-e-(_<768?kx:Mx),r=window.innerWidth/n;if(t.landscape||t.width&&t.height&&t.width>t.height)if(r<Bx){var o=Math.max(Px,Math.min(window.innerWidth-80,910));C({width:Math.ceil(o),height:Math.ceil(Math.max(Rx,o/Bx))})}else C({width:Math.ceil(Math.max(Px,n*Bx)),height:Math.ceil(Math.max(Rx,n))});if(t.portrait||t.width&&t.height&&t.width<t.height)if(r<jx){var a=Math.max(Nx,window.innerWidth-80);C({width:Math.ceil(a),height:Math.ceil(Math.max(zx,a/jx))})}else C({width:Math.ceil(Math.max(Nx,n*jx)),height:Math.ceil(Math.max(zx,n))});if(t.square||t.width&&t.height&&t.width===t.height)if(r<Lx){var i=Math.max(Dx,window.innerWidth-80);C({width:i,height:Math.max(Ux,i)})}else C({width:Math.max(Dx,n),height:Math.max(Ux,n)})}}),[v,t,_]);!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,o=SA((0,f.useState)(!1),2),a=o[0],i=o[1];(0,f.useEffect)((function(){if(!n)return function(){};var o=function(){i(!0),e(n)},a=function(){i(!1),t(n)};return r&&(o=CA()(o,r)),n.addEventListener("mousemove",o),n.addEventListener("mouseleave",a),function(){n.removeEventListener("mousemove",o),n.removeEventListener("mouseleave",a)}}),[e,t,n,r])}((function(){P(!0),clearTimeout(H.current),H.current=setTimeout((function(){P(!1)}),2e3)}),(function(){V.current=setTimeout((function(){P(!1)}),300)}),v,200);var Z=(0,f.useCallback)((function(e){null!==e&&E(e)}),[]),X=(0,f.useCallback)((function(){return s(!0)}),[]),K=(0,f.useCallback)((function(){return s(!1)}),[]);(0,f.useEffect)((function(){var e=null,t=function(){clearTimeout(e),e=setTimeout((function(){x(window.innerWidth),O(window.innerHeight)}),300)};return window.addEventListener("resize",t),function(){e&&clearTimeout(e),window.removeEventListener("resize",t)}}),[]),(0,f.useEffect)((function(){q()}),[q,v]),(0,f.useEffect)((function(){v&&q()}),[_,T,v,q]),(0,f.useEffect)((function(){g&&G&&(g.volume=G/100||U)}),[g,G,U]),(0,f.useEffect)((function(){var e=function(e){e.preventDefault()};return v&&v.addEventListener("contextmenu",e),function(){v&&v.removeEventListener("contextmenu",e)}}),[v]);return h().createElement(Cx,{align:"center",justify:"align",flex:"1",width:A.width,"data-component-name":"VideoPreview"},t?h().createElement(h().Fragment,null,h().createElement(wx,null,h().createElement(h().Fragment,null,!o&&h().createElement(Sx,null,oe.EditorSaveRenderPreviewVideoPreview),h().createElement(Ax,{align:"center",justify:"center"},h().createElement(_x,null,n),o&&h().createElement(Ix,null,h().createElement(Tx,{align:"center",justify:"center"},h().createElement(z_.TooltipOverlay,{tooltipText:oe.PreviewScreenTooltipEditName,attachment:"top",zIndexOverride:"12"},h().createElement(xx,{onClick:function(){Ei("click",pa,Qa),a()}}))))))),h().createElement(Ox,{style:A,ref:Z},h().createElement(ex,{src:t.url,isPlaying:l,onTimeChange:function(e,t){m({currentTime:e,duration:t,progress:100*e/t})},onEnded:function(){return s(!1)},goToStartOnVideoEnd:!0,forwardRef:function(e){return y(e)},muted:M,volume:G,onVolumeChange:function(e){Y(e?0:100*U)},onError:function(){R(!0),i||s(!1)},onPlay:function(){R(!1)},preload:"auto"}),h().createElement(bx,{showControls:L||D,isPlaying:l,onPlay:X,onPause:K,timeInfo:d,onCurrentTimeChange:function(e){var t=e*d.duration/100;m({currentTime:t,duration:d.duration,progress:e}),g.currentTime=t},muted:M,setMuted:function(e){F(U||.75),B(e)},volume:G,setVolume:function(e){F(e),Y(100*e),B(!1),g.volume=e}}))):null)};var Hx=(0,Ge.default)(fv).attrs((function(e){return{"data-component-name":e["data-component-name"]?"ModalHeader ".concat(e["data-component-name"]):"ModalHeader"}})).withConfig({displayName:"generic-video-title-modalstyle__ModalHeader",componentId:"sc-1dps1r1-0"})(["font-size:",";display:flex;"],(0,We.rem)(18)),Vx=(0,Ge.default)(Xe).attrs((function(e){return{"data-component-name":e["data-component-name"]?"VideoTitleContainer ".concat(e["data-component-name"]):"VideoTitleContainer"}})).withConfig({displayName:"generic-video-title-modalstyle__VideoTitleContainer",componentId:"sc-1dps1r1-1"})(["padding:"," "," "," ",";margin-bottom:",";"],(0,We.rem)(20),(0,We.rem)(24),(0,We.rem)(24),(0,We.rem)(24),(0,We.rem)(-10)),Wx=(0,Ge.default)(xw).attrs((function(e){return{"data-component-name":e["data-component-name"]?"VideoTitle ".concat(e["data-component-name"]):"VideoTitle"}})).withConfig({displayName:"generic-video-title-modalstyle__VideoTitle",componentId:"sc-1dps1r1-2"})(["font-size:",";line-height:1.2;margin-top:",";"],(0,We.rem)(14),(0,We.rem)(28)),Gx=(0,Ge.default)(Tv).attrs((function(e){return{"data-component-name":e["data-component-name"]?"ActionButton ".concat(e["data-component-name"]):"ActionButton"}})).withConfig({displayName:"generic-video-title-modalstyle__ActionButton",componentId:"sc-1dps1r1-3"})(["min-width:",";height:",";float:right;margin-left:",";"],(0,We.rem)(93),(0,We.rem)(40),(0,We.rem)(8)),Yx=(0,Ge.default)(mv).attrs((function(e){return{"data-component-name":e["data-component-name"]?"WordCounter ".concat(e["data-component-name"]):"WordCounter"}})).withConfig({displayName:"generic-video-title-modalstyle__WordCounter",componentId:"sc-1dps1r1-4"})(["margin-top:",";font-size:",";width:100%;text-align:right;"],(0,We.rem)(4),(0,We.rem)(12)),qx=(0,Ge.default)(fv).attrs((function(e){return{"data-component-name":e["data-component-name"]?"ModalHeaderText ".concat(e["data-component-name"]):"ModalHeaderText"}})).withConfig({displayName:"generic-video-title-modalstyle__ModalHeaderText",componentId:"sc-1dps1r1-5"})(["font-size:",";width:",";max-width:",";"],(0,We.rem)(18),(0,We.rem)(400),(0,We.rem)(460));function Zx(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Xx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xx(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xx(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Kx=function(){},Qx=function(e){var t=e.onSaveAndClose,n=e.onSkip,r=e.id,o=e.withSkip,a=e.header,i=e.placeHolder,c=e.approvalButtonText,l=e.isOpened,s=e.setIsOpened,u=e.getModalStyle,d=e.existingValue,m=(0,f.useCallback)((function(){return s(!l)}),[l,s]),p=(0,T.v9)((function(e){return e.partnerConfig})),g=Zx((0,f.useState)(d||""),2),y=g[0],b=g[1],v=Zx((0,f.useState)(""===y&&p.name),2),E=v[0],w=v[1],A=(0,f.useCallback)((function(){return"".concat(y?y.length:0,"/").concat(70)}),[y]);(0,f.useEffect)((function(){var e=document.getElementById("focusHackVideoTitle");if(!e)return Kx;var t=e.querySelector("input");return t?(t.focus(),Kx):Kx}),[]),(0,f.useEffect)((function(){var e=function(e){27===e.keyCode&&m(),13===e.keyCode&&t(y)};return document.addEventListener("keydown",e),function(){return document.removeEventListener("keydown",e)}}),[m,t,y]);var C=(0,f.useCallback)((function(){t(y),Wi({clip_id:"".concat(Jo.vsid),title:y,location:"creation_flow"})}),[t,y]);return h().createElement(Jv,{withStyle:u,"data-component-name":"VideoTitleModal"},h().createElement(Vx,null,h().createElement(Hx,null,h().createElement(qx,null,a),h().createElement(Mv,{onClick:function(){m(),Ci({location:"creation flow"})}})),h().createElement("div",{id:"focusHackVideoTitle"},h().createElement(Wx,{id:r,value:y,onChange:function(e){e.target.value.length<=70&&b(e.target.value),p.name&&(0===e.target.value.trim().length?w(!0):w(!1))},placeholder:i,showLabel:!1})),h().createElement(Yx,null,A()),h().createElement("div",{style:{paddingTop:"13px"}},h().createElement(Gx,{onClick:function(){C()},disabled:E},c),o?h().createElement(Gx,{format:"secondary",onClick:function(){n(),Ci({location:"creation_flow"})},backgroundColor:"#eef1f2",theme:{color:"#1a2e3b",borderColor:"#eef1f2"}},oe.Skip):null)))},$x=n(41927257172169),Jx=n(4808896168062),eI=n(870057892485348),tI=n(877721701848089),nI=n(0x6cda66cb565b);function rI(){return(rI=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function oI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function aI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oI(Object(n),!0).forEach((function(t){iI(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oI(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function iI(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cI(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return lI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lI(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lI(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var sI=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"DropdownContainer ".concat(e["data-component-name"]):"DropdownContainer"}})).withConfig({displayName:"dropdowncomponent__DropdownContainer",componentId:"sc-1xkv117-0"})(["position:relative;cursor:",";opacity:",";"],(function(e){return e.disabled?"auto":"pointer"}),(function(e){return e.disabled?"0.3":"1.0"})),uI=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"DropdownSelector ".concat(e["data-component-name"]):"DropdownSelector"}})).withConfig({displayName:"dropdowncomponent__DropdownSelector",componentId:"sc-1xkv117-1"})(["height:100%;width:100%;"]),dI=(0,Ge.default)(Xe).attrs((function(e){return{"data-component-name":e["data-component-name"]?"DropdownList ".concat(e["data-component-name"]):"DropdownList"}})).withConfig({displayName:"dropdowncomponent__DropdownList",componentId:"sc-1xkv117-2"})(["position:absolute;padding:",";width:auto;box-shadow:0 "," "," 0 rgba(0,0,0,0.2);border:"," solid #d0d8db;background-color:#fff;z-index:10;overflow:auto;border-radius:",";white-space:nowrap;"],(0,We.rem)(10),(0,We.rem)(3),(0,We.rem)(8),(0,We.rem)(1),(0,We.rem)(3));const mI=(0,f.forwardRef)((function(e,t){var n=e.className,r=void 0===n?"":n,o=e.dropdownListStyle,a=void 0===o?{}:o,i=e.dropdownListProps,c=void 0===i?{}:i,l=e.dropdownSelectorStyle,s=void 0===l?{}:l,u=e.dropdownSelectorProps,d=void 0===u?{}:u,m=e.closeOnSelect,p=void 0===m||m,g=e.onSelectItem,y=void 0===g?function(){}:g,b=e.onOpenDropDown,v=void 0===b?function(){}:b,E=e.selectItem,w=e.listItem,A=void 0===w?[]:w,C=e.disabled,S=void 0!==C&&C,_=e.additionalSelectorsRefs,x=void 0===_?[]:_,I=e.ItemsWrapper,O=void 0===I?void 0:I,k=(0,T.I0)(),M=cI((0,f.useState)(!1),2),B=M[0],j=M[1],L=(0,f.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];j(e),t||k(Ul(e?function(){j(!1)}:null))}),[k]),P=cI(wA((function(){v(!1),L(!1,!0)}),x),1)[0],N=(0,f.useCallback)((function(){var e=!B;L(e),v(e)}),[B,v,L]),D=(0,f.useCallback)((function(e){p&&(L(!1),v(!1)),y(e)}),[p,v,y,L]),R=(0,f.useMemo)((function(){return A.map((function(e,t){var n;return h().createElement("div",{key:n=t,"data-key":n,onClick:function(){D(e)},role:"presentation"},e)}))}),[A,D]);return(0,f.useImperativeHandle)(t,(function(){return{toggle:function(){return L(!B)}}}),[B,L]),h().createElement(sI,{className:r,ref:P,disabled:S,"data-component-name":"Dropdown"},h().createElement(uI,rI({"data-popover-selector":!0,onClick:function(){S||N()},role:"presentation",style:aI({},s)},d),E),h().createElement(dI,rI({"data-popover":!0,style:Object.assign({},{display:B?"flex":"none"},a),className:"dropdown-list"},c),O?h().createElement(O,null,R):R))}));function pI(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return fI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fI(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fI(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const hI=function(e){var t=e.title,n=e.business,r=e.fbAccessToken,o=e.videoData,a=e.handleFbUploadStarted,i=e.setFbShareStatus,c=pI((0,f.useState)(!1),2),l=c[0],s=c[1],u=(0,f.useCallback)((function(){s(!0),function(e){var t=e.title,n=e.account;Li({name:"click_on_save_to_facebook",product:Si,location:ka,title:t,account:n,cta:"add",version:3,flow:fa.flow})}({title:t,account:n.label});var e=new FormData;e.append("title",t),e.append("business_id",n.value),e.append("share_to_folder",1),e.append("fb_access_token",r),e.append("share_to","facebook"),e.append("upload_directly",1),e.append("do_fb_ad_upload",1),Ht.post("/api/video/share/".concat(o.hash),e).then((function(e){s(!1),Li({name:"start_uploading_to_fb_integration",product:Si,location:Ma,version:3,flow:fa.flow});var t=e.data,n=t.facebook&&t.facebook.upload_job;a(n)})).catch((function(){s(!1),Yi("failed"),i(pe)}))}),[t,n,r,o,a,i]);return h().createElement(Iv,{isLoading:l,disabled:!n.value||!t,onClick:u,"data-component-name":"FbModalAddButton"},oe.Add)};(0,We.rem)(544),(0,We.rem)(520),(0,We.rem)(20),(0,We.rem)(6),(0,We.rem)(20),(0,We.rem)(10),(0,We.rem)(21),(0,We.rem)(22),(0,We.rem)(22),(0,We.rem)(20),(0,We.rem)(300),(0,We.rem)(12),(0,We.rem)(12),(0,We.rem)(10),(0,We.rem)(16),(0,We.rem)(3),(0,We.rem)(1),(0,We.rem)(18),(0,We.rem)(6),(0,We.rem)(3),(0,We.rem)(1),(0,We.rem)(3),(0,We.rem)(1),(0,We.rem)(21);var gI=function(e){return"landscape"===e?(0,We.rem)(145):"portrait"===e?(0,We.rem)(56):(0,We.rem)(100)},yI=((0,We.rem)(92),(0,We.rem)(17),"landscape"),bI="portrait",vI="square";function EI(e){return e.landscape||e.width>e.height?yI:e.portrait||e.width<e.height?bI:vI}function wI(e,t){return t===yI?e.thumb_landscape:t===bI?e.thumb_portrait:e.thumb_listview}(0,We.rem)(20),(0,We.rem)(24);function AI(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return CI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CI(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function CI(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var SI=(0,Ge.default)(Ze).attrs((function(e){return{"data-component-name":e["data-component-name"]?"ThemeModalFooter ".concat(e["data-component-name"]):"ThemeModalFooter"}})).withConfig({displayName:"share-fb-modalcomponent__ThemeModalFooter",componentId:"sc-1cwzil6-0"})(["width:",";flex-basis:auto;border-top:"," solid #e3e8e9;padding:"," "," 0 ",";"],(0,We.rem)(540),(0,We.rem)(1),(0,We.rem)(20),(0,We.rem)(20),(0,We.rem)(20)),_I=Ge.default.p.attrs((function(e){return{"data-component-name":e["data-component-name"]?"UploadingText ".concat(e["data-component-name"]):"UploadingText"}})).withConfig({displayName:"share-fb-modalcomponent__UploadingText",componentId:"sc-1cwzil6-1"})(["color:#1a2e3b;font-size:14px;font-weight:500;line-height:",";margin-right:",";"],(0,We.rem)(17),(0,We.rem)(38)),xI=(0,Ge.default)(eI.Checkmark).attrs((function(e){return{"data-component-name":e["data-component-name"]?"StyledCheckmark ".concat(e["data-component-name"]):"StyledCheckmark"}})).withConfig({displayName:"share-fb-modalcomponent__StyledCheckmark",componentId:"sc-1cwzil6-2"})(["width:",";*{fill:#ffffff;}"],(0,We.rem)(30)),II=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"TitleWrapper ".concat(e["data-component-name"]):"TitleWrapper"}})).withConfig({displayName:"share-fb-modalcomponent__TitleWrapper",componentId:"sc-1cwzil6-3"})(["width:",";"],(0,We.rem)(425)),TI=(0,Ge.default)(fv).attrs((function(e){return{"data-component-name":e["data-component-name"]?"TitleLabel ".concat(e["data-component-name"]):"TitleLabel"}})).withConfig({displayName:"share-fb-modalcomponent__TitleLabel",componentId:"sc-1cwzil6-4"})(["margin-bottom:",";font-weight:500;"],(0,We.rem)(6)),OI=(0,Ge.default)(eI.Checkmark).attrs((function(e){return{"data-component-name":e["data-component-name"]?"StyledCheckmarkDropdown ".concat(e["data-component-name"]):"StyledCheckmarkDropdown"}})).withConfig({displayName:"share-fb-modalcomponent__StyledCheckmarkDropdown",componentId:"sc-1cwzil6-5"})(["width:",";margin-right:",";*{fill:",";}"],(0,We.rem)(16),(0,We.rem)(6),(function(e){return qc("checkbox.".concat(e.formatTheme,".backgroundColor"),Kb)})),kI=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"UploadFooter ".concat(e["data-component-name"]):"UploadFooter"}})).withConfig({displayName:"share-fb-modalcomponent__UploadFooter",componentId:"sc-1cwzil6-6"})(["border-top:"," solid #e3e8e9;width:",";display:flex;align-items:center;padding:"," "," "," ",";"],(0,We.rem)(1),(0,We.rem)(540),(0,We.rem)(28),(0,We.rem)(56),(0,We.rem)(14),(0,We.rem)(56)),MI=(0,Ge.default)(yv.Button).attrs((function(e){return{"data-component-name":e["data-component-name"]?"ModalCloseButton ".concat(e["data-component-name"]):"ModalCloseButton"}})).withConfig({displayName:"share-fb-modalcomponent__ModalCloseButton",componentId:"sc-1cwzil6-7"})(["margin-right:",";"],(0,We.rem)(10)),BI=(0,Ge.default)(tI.CircleWarning).attrs((function(e){return{"data-component-name":e["data-component-name"]?"CircleWarningStyled ".concat(e["data-component-name"]):"CircleWarningStyled"}})).withConfig({displayName:"share-fb-modalcomponent__CircleWarningStyled",componentId:"sc-1cwzil6-8"})(["width:",";*{fill:#ff4d4d;}"],(0,We.rem)(20)),jI=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"ErrorText ".concat(e["data-component-name"]):"ErrorText"}})).withConfig({displayName:"share-fb-modalcomponent__ErrorText",componentId:"sc-1cwzil6-9"})(["color:#ff4d4d;font-size:",";margin-left:",";margin-right:",";"],(0,We.rem)(14),(0,We.rem)(8),(0,We.rem)(20)),LI=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"RetryButton ".concat(e["data-component-name"]):"RetryButton"}})).withConfig({displayName:"share-fb-modalcomponent__RetryButton",componentId:"sc-1cwzil6-10"})(["color:",";font-size:",";"],(function(e){return e.theme.colors.primary}),(0,We.rem)(14)),PI=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"ShareVideoModalHeader ".concat(e["data-component-name"]):"ShareVideoModalHeader"}})).withConfig({displayName:"share-fb-modalcomponent__ShareVideoModalHeader",componentId:"sc-1cwzil6-11"})(["text-align:center;margin-bottom:",";"],(0,We.rem)(32)),NI=(0,Ge.default)(fv).attrs((function(e){return{"data-component-name":e["data-component-name"]?"ShareVideoTitle ".concat(e["data-component-name"]):"ShareVideoTitle"}})).withConfig({displayName:"share-fb-modalcomponent__ShareVideoTitle",componentId:"sc-1cwzil6-12"})(["margin-top:",";margin-bottom:",";font-size:",";line-height:",";letter-spacing:0.2px;"],(0,We.rem)(25),(0,We.rem)(25),(0,We.rem)(22),(0,We.rem)(22)),DI=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"ShareFinishSubtitle ".concat(e["data-component-name"]):"ShareFinishSubtitle"}})).withConfig({displayName:"share-fb-modalcomponent__ShareFinishSubtitle",componentId:"sc-1cwzil6-13"})(["margin-bottom:",";width:",";font-size:",";letter-spacing:0;line-height:",";text-align:center;"],(0,We.rem)(24),(0,We.rem)(346),(0,We.rem)(14),(0,We.rem)(20)),RI=(0,Ge.default)(Ze).attrs((function(e){return{"data-component-name":e["data-component-name"]?"SelectedFilter ".concat(e["data-component-name"]):"SelectedFilter"}})).withConfig({displayName:"share-fb-modalcomponent__SelectedFilter",componentId:"sc-1cwzil6-14"})(["height:100%;padding:"," ",";transition:300ms ease-out;&.disabled{color:#657987 !important;background-color:#eef1f2 !important;border-color:#e3e8e9 !important;}&.disabled > div{color:inherit;background-color:inherit;border-color:inherit;}"],(0,We.rem)(8),(0,We.rem)(12)),zI=(0,Ge.default)(fv).attrs((function(e){return{"data-component-name":e["data-component-name"]?"FilterDropdownRow ".concat(e["data-component-name"]):"FilterDropdownRow"}})).withConfig({displayName:"share-fb-modalcomponent__FilterDropdownRow",componentId:"sc-1cwzil6-15"})(["padding:"," ",";display:flex;align-items:center;"],(0,We.rem)(10),(0,We.rem)(16)),UI=(0,Ge.default)(mI).attrs((function(e){return{"data-component-name":e["data-component-name"]?"FolderDropDown ".concat(e["data-component-name"]):"FolderDropDown"}})).withConfig({displayName:"share-fb-modalcomponent__FolderDropDown",componentId:"sc-1cwzil6-16"})(["border-radius:",";border:solid "," #d0d8db;"],(0,We.rem)(3),(0,We.rem)(1)),FI=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"FolderWrapper ".concat(e["data-component-name"]):"FolderWrapper"}})).withConfig({displayName:"share-fb-modalcomponent__FolderWrapper",componentId:"sc-1cwzil6-17"})(["margin:"," "," "," ",";width:",";"],(0,We.rem)(18),(0,We.rem)(25),(0,We.rem)(25),(0,We.rem)(25),(0,We.rem)(425)),HI=(0,Ge.default)(fv).attrs((function(e){return{"data-component-name":e["data-component-name"]?"FolderTitle ".concat(e["data-component-name"]):"FolderTitle"}})).withConfig({displayName:"share-fb-modalcomponent__FolderTitle",componentId:"sc-1cwzil6-18"})(["margin-bottom:",";font-weight:500;"],(0,We.rem)(6)),VI=(0,Ge.default)(xw).attrs((function(e){return{"data-component-name":e["data-component-name"]?"VideoTitleInput ".concat(e["data-component-name"]):"VideoTitleInput"}})).withConfig({displayName:"share-fb-modalcomponent__VideoTitleInput",componentId:"sc-1cwzil6-19"})(["border-radius:",";border:solid "," #d0d8db;width:",";"],(0,We.rem)(3),(0,We.rem)(1),(0,We.rem)(425)),WI=(0,Ge.default)(Ze).attrs((function(e){return{"data-component-name":e["data-component-name"]?"TransformIlustrationVideoWrapper ".concat(e["data-component-name"]):"TransformIlustrationVideoWrapper"}})).withConfig({displayName:"share-fb-modalcomponent__TransformIlustrationVideoWrapper",componentId:"sc-1cwzil6-20"})(["margin-bottom:",";"],(0,We.rem)(21)),GI=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"ContainerModal ".concat(e["data-component-name"]):"ContainerModal"}})).withConfig({displayName:"share-fb-modalcomponent__ContainerModal",componentId:"sc-1cwzil6-21"})(["width:",";display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:left;"],(0,We.rem)(500)),YI=(0,Ge.default)(Tv).attrs((function(e){return{"data-component-name":e["data-component-name"]?"NewVideoButton ".concat(e["data-component-name"]):"NewVideoButton"}})).withConfig({displayName:"share-fb-modalcomponent__NewVideoButton",componentId:"sc-1cwzil6-22"})(["margin-bottom:",";min-width:",";"],(0,We.rem)(22),(0,We.rem)(198)),qI=(0,Ge.default)(yv.Button).attrs((function(e){return{"data-component-name":e["data-component-name"]?"StyledButton ".concat(e["data-component-name"]):"StyledButton"}})).withConfig({displayName:"share-fb-modalcomponent__StyledButton",componentId:"sc-1cwzil6-23"})(["background-color:#1878f3;border-color:#1878f3;margin-bottom:",";min-width:",";&:hover{background-color:#1465cd;border-color:#1465cd;}"],(0,We.rem)(13),(0,We.rem)(198)),ZI=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"VideoOrientationThumbContainer ".concat(e["data-component-name"]):"VideoOrientationThumbContainer"}})).withConfig({displayName:"share-fb-modalcomponent__VideoOrientationThumbContainer",componentId:"sc-1cwzil6-24"})(["height:",";width:",";margin-right:",";"],(0,We.rem)(92),(function(e){return gI(e.orientation)}),(0,We.rem)(26)),XI=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"OvalDiv ".concat(e["data-component-name"]):"OvalDiv"}})).withConfig({displayName:"share-fb-modalcomponent__OvalDiv",componentId:"sc-1cwzil6-25"})(["height:",";width:",";display:flex;justify-content:center;margin-top:",";border-radius:50%;background-color:#36c5fc;"],(0,We.rem)(60),(0,We.rem)(60),(0,We.rem)(48)),KI=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"DropdownNewAccount ".concat(e["data-component-name"]):"DropdownNewAccount"}})).withConfig({displayName:"share-fb-modalcomponent__DropdownNewAccount",componentId:"sc-1cwzil6-26"})(["color:",";font-size:",";padding:"," ",";"],(function(e){return qc("button.".concat(e.formatTheme,".color"),Kb)}),(0,We.rem)(14),(0,We.rem)(10),(0,We.rem)(16));const QI=function(e){var t=e.videoTitle,n=e.videoData,r=e.onClose,o=e.status,a=e.fbAccessToken,i=e.fbBusinessIdList,c=e.handleFbUploadStarted,l=e.setFbShareStatus,s=e.facebookPermissionsCheck,u=e.setFbBusinessIdList,d=e.setFbAccessToken,m=e.fbAssetLink,p=(0,f.useMemo)((function(){return Array.isArray(i)?i.map((function(e){return{value:e.id,label:e.name}})):[{value:null,label:""}]}),[i]),g=AI((0,f.useState)(t),2),y=g[0],b=g[1],v=AI((0,f.useState)(p[0]),2),E=v[0],w=v[1],A=(0,f.useCallback)((function(e){var t=e.target.value;b(t)}),[]);(0,f.useEffect)((function(){w(p[0])}),[i]);var C=(0,f.useMemo)((function(){return h().createElement(RI,{className:"".concat(o!==se?"disabled":""),align:"center",justify:"space-between","data-component-name":"SelectedFolder"},h().createElement(fv,null,E.label),h().createElement(GC,null))}),[E.label,o]),S=(0,f.useMemo)((function(){var e=p.map((function(e){var t;return h().createElement(zI,{key:t=e.value,"data-key":t,onClick:function(){w(e)},role:"presentation","data-component-name":"list"},e.value===E.value&&h().createElement(OI,null),e.label)}));return e.push(h().createElement(KI,{onClick:function(){s&&s({onSuccess:function(e){Ht.get("/api/facebook/businesses?access_token=".concat(e)).then((function(t){var n=t.data.businesses;e&&d(e),n&&u(n)}))},onFailure:function(){},forceCheck:!0})}},oe.FacebookConnectAnotherAccount)),e}),[E.value,p,s,d,u]),_=(0,f.useMemo)((function(){return EI(n)}),[n]),x=(0,f.useMemo)((function(){return wI(n,_)}),[n,_]);return(0,f.useEffect)((function(){Li({name:"view_fb_save_modal",product:Si,location:Ta,type:"Impression",version:3,flow:fa.flow})}),[]),h().createElement(Jx.Modal,{firstFocusSelector:"",modalLabelId:"shareToFacebookLabel",modalDescriptionId:"shareToFacebookDescription",modalCloseLabel:"Close",onDismiss:function(){r()},dismissButtonFormat:"dark",isShowing:!0,size:"fluid",modalTitle:"",useLightDismissButton:!0,"data-component-name":"ShareFBModal"},o!==me?h().createElement(GI,null,h().createElement(PI,null,h().createElement(NI,null,oe.ModalShareToFacebook),h().createElement(WI,{align:"center",justify:"center"},h().createElement(ZI,{orientation:_},h().createElement(oC,{mode:"stretch",src:x})),h().createElement($I,null))),h().createElement(II,null,h().createElement(TI,null,oe.ModalsShareVideoModalVideoTitleLabelRequired),h().createElement(VI,{value:y,showLabel:!1,onChange:A,disabled:o!==se})),h().createElement(FI,null,h().createElement(HI,null,oe.FacebookAccountLabel),h().createElement(UI,{dropdownListStyle:{top:0,width:"100%"},dropdownSelectorStyle:o!==se?{backgroundColor:$x.Plaster}:{},selectItem:C,listItem:S,disabled:o!==se})),o===se?h().createElement(SI,{justify:"flex-end"},h().createElement(MI,{format:"secondary",onClick:r},oe.Close),h().createElement(hI,{title:y,business:E,fbAccessToken:a,videoData:n,handleFbUploadStarted:c,setFbShareStatus:l})):h().createElement(kI,null,o===pe?h().createElement(h().Fragment,null,h().createElement(BI,null),h().createElement(jI,null,oe.FacebookErrorUpload),h().createElement(LI,{onClick:function(){return l(se)}},oe.FacebookErrorRetry)):h().createElement(h().Fragment,null,h().createElement(_I,null,o===ue?oe.FacebookRendering:oe.FacebookUploading),h().createElement(SS,{mode:"indeterminate"})))):h().createElement(GI,null,h().createElement(XI,null,h().createElement(xI,null)),h().createElement(NI,null,"".concat(oe.FacebookDesignUploadedLabel,"!")),h().createElement(DI,null,oe.FacebookDesignUploadedSubLabel((function(e){return h().createElement(nI.Header6,{style:{fontWeight:"bold"},key:"fb-label",element:"span",noMargin:!0},e)}))),h().createElement(qI,{onClick:function(){Li({name:"click_to_go_to_media_library_on_fb",product:Si,location:Ma,cta:"go_to_media_library",version:3,flow:fa.flow}),window.open(m,"_blank")}},oe.FacebookGoToBusinessManager),h().createElement(YI,{format:"secondary",onClick:function(){Li({name:"click_to_create_another_video_in_fb",product:Si,location:Ma,cta:"create_another_video"},!1),Gc.toCreateFacebookVideo()}},oe.FacebookCreateAnotherVideo)))};var $I=function(){return h().createElement("svg",{width:"92px",height:"56px",viewBox:"0 0 92 56",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink","data-component-name":"TransformIlustrationSVG"},h().createElement("g",{id:"Video-Manager",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},h().createElement("g",{id:"Export-modals",transform:"translate(-350.000000, -196.000000)"},h().createElement("g",{id:"Modal",transform:"translate(53.000000, 76.000000)"},h().createElement("g",{id:"Group-4",transform:"translate(131.000000, 100.000000)"},h().createElement("g",{id:"Uploadtovideos",transform:"translate(162.000000, 20.000000)"},h().createElement("g",{id:"Icon/Dark/Arrow-Right",transform:"translate(0.000000, 16.000000)",stroke:"#1A2E3B",strokeWidth:"2"},h().createElement("line",{x1:"4",y1:"12",x2:"20",y2:"12",id:"Line"}),h().createElement("polyline",{id:"Path-12",strokeLinejoin:"round",points:"14 6 20 12 14 18.0003662"})),h().createElement("g",{id:"Spot_Videos",transform:"translate(30.000000, -12.000000)"},h().createElement("g",{id:"Group-2"},h().createElement("g",{id:"Icon/Dark/All-Videos",transform:"translate(16.000000, 17.000000)"},h().createElement("g",{id:"Page-1",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},h().createElement("g",{id:"FB---Send",transform:"translate(-703.000000, -196.000000)",fill:"#1878F3"},h().createElement("g",{id:"Modal-Copy",transform:"translate(380.000000, 76.000000)"},h().createElement("g",{id:"Group-3",transform:"translate(150.000000, 96.000000)"},h().createElement("path",{d:"M221,48.1466722 C221,34.8108236 210.254844,24 197,24 C183.745156,24 173,34.8108236 173,48.1466722 C173,60.1989742 181.776453,70.188528 193.25,72 L193.25,55.1265696 L187.15625,55.1265696 L187.15625,48.1466722 L193.25,48.1466722 L193.25,42.8268585 C193.25,36.7750987 196.833031,33.4322938 202.315156,33.4322938 C204.940953,33.4322938 207.6875,33.9039085 207.6875,33.9039085 L207.6875,39.8462536 L204.661156,39.8462536 C201.679766,39.8462536 200.75,41.7075753 200.75,43.6171432 L200.75,48.1466722 L207.40625,48.1466722 L206.342187,55.1265696 L200.75,55.1265696 L200.75,72 C212.223547,70.188528 221,60.1989742 221,48.1466722",id:"Fill-1"}))))))))))))))},JI=((0,We.rem)(530),(0,We.rem)(1e3),(0,We.rem)(15),(0,We.rem)(10),(0,We.rem)(120),(0,We.rem)(200),function(){return(0,Ge.css)(["min-width:auto;width:",";max-width:calc(100% - ",");height:",";min-height:",";max-height:",";"],(0,We.rem)(440),(0,We.rem)(26),(0,We.rem)(207),(0,We.rem)(207),(0,We.rem)(207))});function eT(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return tT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tT(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tT(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var nT=S("EditorPreviewScreen");var rT={updateStoryboardProjectName:rh};const oT=(0,T.$j)((function(e){var t=e.storyBoard;return{videoName:t.projectName,vsid:t.vsid}}),rT)((function(e){var t=e.vimeoSharePrivacies,n=e.renderedVideo,r=e.videoName,o=e.vsid,a=e.updateStoryboardProjectName,i=e.locale,c=e.facebookPermissionsCheck,l=e.rerender,s=e.onEdit,u=(0,T.v9)((function(e){return e.userCapabilities.capabilities.canToggleWatermark})),d=eT((0,f.useState)(!1),2),m=d[0],p=d[1],g=eT(TA(!1),2),y=g[0],b=g[1],v=eT((0,f.useState)(se),2),E=v[0],w=v[1],A=eT((0,f.useState)(),2),C=A[0],S=A[1],_=eT((0,f.useState)(),2),x=_[0],I=_[1],O=eT((0,f.useState)(),2),k=O[0],M=O[1],B=eT((0,f.useState)(!u.allowed),2),j=B[0],L=B[1],P=eT((0,f.useState)(),2),N=P[0],D=P[1],R=(0,T.v9)((function(e){return qe(e,"featureToggles.values.usePreviewCTAFooter",!1)})),z=(0,f.useCallback)((function(e){w(ue);(function(e,t){var n=e.uploadJob,r=e.fbAccessToken;return ZE({params:{job:n,access_token:r,fb_status:1},pollingInterval:2e3,onStatusUpdated:t})})({uploadJob:e,fbAccessToken:C},(function(e){e.share_status&&"processing"===e.share_status.video_status&&w(de)})).then((function(e){Yi("Success"),w(me),D(e.fb_business_asset_url)})).catch((function(){Yi("failed"),w(pe)}))}),[C]);return h().createElement(h().Fragment,null,h().createElement("div",null,y&&h().createElement(QI,{videoTitle:r||n.title,videoData:n,status:E,handleFbUploadStarted:z,onClose:function(){Li({name:"click_to_close_fb_save_modal",product:Si,location:ka,version:3,flow:fa.flow}),E===me&&w(se),b()},fbAccessToken:C,fbBusinessIdList:x,setFbShareStatus:w,facebookPermissionsCheck:c,setFbBusinessIdList:I,setFbAccessToken:I,fbAssetLink:N}),m&&h().createElement(Qx,{withCounter:!0,maxChars:70,isOpened:m,setIsOpened:p,header:oe.VideoTitleModalDraft,placeHolder:oe.VideoTitleModalInputPlaceholder,approvalButtonText:oe.OK,onSaveAndClose:function(e){var t=e||oe.EditorSaveRenderPreviewSaveRenderPreviewDefaultVideoTitle,n=new FormData;n.set("vsid",o),n.set("video_title",t),function(e,t){return Ht.post("/api/video/thumbs/".concat(t),e)}(n,o).then((function(e){200===e.status&&(M(t),Wi({clip_id:"".concat(o),title:t,location:"editor"}),a(t))})).catch((function(e){nT.error("Error updating meta.",e)})),p(!1)},getModalStyle:JI,existingValue:r}),h().createElement(Fx,{video:n,videoName:k||r,startPlaying:!0,showNewPreviewDesign:!0,sharePrivacies:t,openAddVideoTitleModal:function(){p(!0)},watermarkEnabled:j})),h().createElement(Y_,{fromEditor:!0,usePreviewCTAFooter:R,facebookPermissionsCheck:c,sharePrivacies:t,videoData:n,trackEditVideo:Ai,trackSaveVideo:function(){Ei("click",pa,Ja,sa({flow:ha},{title:k||r,location:"video_manager_grid",privacy:t,vsid:o}))},onFBShareButtonClick:function(e,t){e&&S(e),t&&I(t),b()},fbShareStatus:E,watermarkToggleEnabled:j,setWatermarkToggleEnabled:L,videoTitle:k||r,bpFlowValue:"editor",locale:i,rerender:l,onEdit:s}))}));function aT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function iT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?aT(Object(n),!0).forEach((function(t){cT(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aT(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function cT(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lT(e){return function(e){if(Array.isArray(e))return dT(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||uT(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sT(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||uT(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function uT(e,t){if(e){if("string"==typeof e)return dT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?dT(e,t):void 0}}function dT(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var mT=S("RenderScreen"),pT=(0,Ge.default)(Xe).attrs((function(e){return{"data-component-name":e["data-component-name"]?"RenderWrapper ".concat(e["data-component-name"]):"RenderWrapper"}})).withConfig({displayName:"save-render-previewcomponent__RenderWrapper",componentId:"sc-13lhxw9-0"})(["height:100%;"]),fT=(0,Ge.default)(Ze).attrs((function(e){return{"data-component-name":e["data-component-name"]?"RenderLoadingWrapper ".concat(e["data-component-name"]):"RenderLoadingWrapper"}})).withConfig({displayName:"save-render-previewcomponent__RenderLoadingWrapper",componentId:"sc-13lhxw9-1"})(["min-height:530px;width:1000px;"]),hT=function(e){var t=e.step,n=e.progress,r=e.closeAndBeNotified,o=e.errorMsg,a=(0,T.I0)();return(0,f.useEffect)((function(){o&&a(td({title:o.title,content:o.msgText,primaryBtnConfig:{caption:o.actionText,callback:o.callback},context:"EDITOR_GLOBAL"}))}),[a,o]),h().createElement(h().Fragment,null,h().createElement(VS,{step:t,progress:n,closeAndBeNotified:r}))},gT=(0,Ge.default)(uv).attrs((function(e){return{"data-component-name":e["data-component-name"]?"VideoTitleStepWrapper ".concat(e["data-component-name"]):"VideoTitleStepWrapper"}})).withConfig({displayName:"save-render-previewcomponent__VideoTitleStepWrapper",componentId:"sc-13lhxw9-2"})(["white-space:nowrap;max-width:300px;cursor:default;font-size:14px;"]);var yT={refreshStoryboard:sh,updateVideoHash:kf};const bT=(0,T.$j)((function(e){var t=e.storyBoard,n=t.projectName,r=t.vsid,o=t.videoHash;return{videoName:n||oe.EditorSaveRenderPreviewSaveRenderPreviewDefaultVideoTitle,videoHash:o,vsid:r}}),yT)((function(e){var t=e.videoName,n=e.vsid,r=e.videoHash,o=e.restartRender,a=e.onStopRender,i=e.onEdit,c=e.removingWatermark,l=void 0!==c&&c,s=e.refreshStoryboard,u=e.renderAlreadyStarted,d=e.vimeoSharePrivacies,m=e.locale,p=e.facebookPermissionsCheck,g=e.updateVideoHash,y=e.onStoryboardSaved;Wv({createNewContext:!0});var b=(0,T.v9)((function(e){return qe(e,"featureToggles.values.facebookContext",!1)})),v=(0,T.v9)((function(e){return e.partnerConfig})),E=sT((0,f.useState)(),2),w=E[0],A=E[1],C=(0,f.useCallback)((function(){Ei("click",pa,Ka),Gc.toDrafts()}),[]),S=function(e){return e.data&&1330===e.data.errcode?{title:oe.EditorSaveRenderPreviewOnSetErrorRevisionTitle,msgText:oe.EditorSaveRenderPreviewOnSetErrorRevisionBody,actionText:oe.EditorSaveRenderPreviewOnSetErrorRevisionAction,callback:function(){a(),s(r,n)}}:{title:oe.EditorSaveRenderPreviewOnSetErrorGeneralTitle,msgText:oe.EditorSaveRenderPreviewOnSetErrorGeneralBody,actionText:oe.EditorSaveRenderPreviewOnSetErrorGeneralAction,callback:function(){return a()}}},_=(0,f.useRef)([].concat(lT(l?[{name:"removeWatermark",run:YE,renderProgress:function(t){var n=t.error;mT.log("[removeWatermark] renderProgress",e);var r=n?S(n):null;return h().createElement(hT,{step:RS,progress:100,closeAndBeNotified:!1,errorMsg:r,"data-component-name":"queueRef"})},onStepEnd:function(e){mT.log(e)}},{name:"removeWatermarkJobCheck",run:XE,renderProgress:function(t){var n=t.error;mT.log("[removeWatermark] renderProgress",e);var r=n?S(n):null;return h().createElement(hT,{step:RS,progress:100,closeAndBeNotified:!0,errorMsg:r,"data-component-name":"queueRef"})},onStepEnd:function(e){mT.log(e)}}]:[{name:"editVideo",run:GE,renderProgress:function(t){var n=t.error;mT.log("[saveVideo] renderProgress",e);var r=n?S(n):null;return h().createElement(hT,{step:DS,progress:100,closeAndBeNotified:!1,errorMsg:r,"data-component-name":"queueRef"})},onStepEnd:function(e){y(),mT.log(e)}}]),[{name:"jobCheck",run:qE,renderProgress:function(t){var o=t.stepData,i=void 0===o?{}:o,c=t.error;mT.log("[editJobStatusCheck] renderProgress",e);var l=(i||{progress:0}).progress;if(c){var u=c?function(e){return e.convert_to_storyboard?{title:oe.TimelineToStoryboardConversionErrorTitle,msgText:oe.TimelineToStoryboardConversionErrorMessage((function(e){return h().createElement(hv,{as:"a",href:Ot.get("links.support.convertToStoryboard"),target:"_blank",rel:"noopener noreferrer"},e)})),actionText:oe.TimelineToStoryboardConversionErrorAction,callback:function(){Gc.afterTimelineToStoryboardConversionFailed()}}:{title:oe.RenderScreenRenderScreenErrorModalTitle,msgText:oe.EditorSaveRenderPreviewSaveRenderPreviewErrorModalText,actionText:oe.EditorSaveRenderPreviewSaveRenderPreviewErrorModalButton,callback:function(){a(),s(r,n)}}}(c):null;return h().createElement(hT,{step:FS,progress:l,closeAndBeNotified:!0,errorMsg:u,"data-component-name":"queueRef"})}return i.step?h().createElement(hT,{step:i.step,progress:l,closeAndBeNotified:!0,"data-component-name":"queueRef"}):null},onStepEnd:function(e){var t,n;mT.log(e),n={name:Ga,product:Si,location:Ia,flow:ha,version:4},Li(n=sa(sa({},t),n)),vi(oa,Ga,sa({location:Ia,vsid:Jo.vsid},t)),vi(aa,"CreateMovieWeb",t),vi(aa,"EditStyleUsed",t),vi(ia,"trigger_processing",sa({flow:"wizard"},t)),g({prevVideoHash:r,nextVideoHash:e.hash}),Wc.toPreview?Gc.toPreview({videoHash:e.hash}):A(e)}}]));(0,f.useEffect)((function(){var e,t;t={name:Wa,product:Si,location:Oa,flow:fa.flow,version:4},Li(t=sa(sa({},e),t)),vi(oa,Wa,sa({vsid:Jo.vsid},e))}),[]);var x=[{id:"videoTitle",stepChild:h().createElement(Ze,{align:"center"},h().createElement(gT,null,h().createElement(sv,null,t)))}];return v||x.unshift({id:"draft",stepChild:h().createElement(hv,null,oe.StepsDrafts),onClick:C}),h().createElement(pT,{"data-component-name":"PreviewScreen","data-key":e["data-key"]},v.iframeMode?h().createElement(sS,{location:Oa}):h().createElement(VC,null,v.showDivider&&h().createElement(WC,{height:"39px",width:"1px",margin:"0 24px 0 0"}),h().createElement(Ke,{flex:"1"},h().createElement(XC,{data:v.dynamicStepsData(x)}))),h().createElement(Xe,{align:"center",justify:w?"start":"center",flex:"1"},w?h().createElement(oT,{renderedVideo:w,vimeoSharePrivacies:d,locale:m,facebookPermissionsCheck:p,rerender:o,onEdit:i}):h().createElement(h().Fragment,null,h().createElement(fT,{align:"center"},h().createElement(ES,{queue:_.current,initialState:iT(iT({},e),{},{isFacebookContext:b,initialStepIndex:u?1:0})})),l&&h().createElement(eS,null))))}));function vT(e){var t=(0,f.useRef)();return(0,f.useEffect)((function(){t.current=e}),[e]),t.current}var ET="recommended",wT="all",AT="recent",CT={id:21306,no_music:!0},ST=function(){return(0,Ge.css)(["display:flex;flex-direction:column;height:100%;width:",";"],(0,We.rem)(1070))},_T=(0,Ge.default)(Ze).attrs((function(e){return{"data-component-name":e["data-component-name"]?"ModalHeader ".concat(e["data-component-name"]):"ModalHeader"}})).withConfig({displayName:"modal-style__ModalHeader",componentId:"yirnna-0"})(["padding:"," "," "," ",";width:100%;flex-basis:auto;"],(0,We.rem)(25),(0,We.rem)(30),(0,We.rem)(15),(0,We.rem)(30)),xT=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"CartModal ".concat(e["data-component-name"]):"CartModal"}})).withConfig({displayName:"modal-style__CartModal",componentId:"yirnna-1"})(["width:100%;bottom:0;padding:"," 0;box-shadow:0 -4px 4px 0 rgba(0,0,0,0.11);background-color:#fff;"],(0,We.rem)(16)),IT=(0,Ge.default)(Tv).attrs((function(e){return{"data-component-name":e["data-component-name"]?"ModalButton ".concat(e["data-component-name"]):"ModalButton"}})).withConfig({displayName:"modal-style__ModalButton",componentId:"yirnna-2"})(["width:",";margin-right:",";"],(0,We.rem)(150),(function(e){return e.isLast?null:"".concat((0,We.rem)(15))})),TT=(0,Ge.default)(Xe).attrs((function(e){return{"data-component-name":e["data-component-name"]?"ModalContent ".concat(e["data-component-name"]):"ModalContent"}})).withConfig({displayName:"modal-style__ModalContent",componentId:"yirnna-3"})(["flex:1;height:100%;width:100%;flex-basis:auto;overflow-y:auto;"]),OT=n(838246398286994);const kT=function(e){var t=e.forwardRef,n=e.children,r=function(e){var t=SA((0,f.useState)(),2),n=t[0],r=t[1];return(0,f.useEffect)((function(){r(e.current)}),[e]),n}(t);return h().createElement(OT._K,{scrollElement:r,"data-component-name":"AugmentedWindowScroller"},n)};var MT=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"LoadingPlaceHolderContainer ".concat(e["data-component-name"]):"LoadingPlaceHolderContainer"}})).withConfig({displayName:"loading-placeholder-style__LoadingPlaceHolderContainer",componentId:"sc-1tv5upo-0"})(["width:",";height:",";text-align:center;margin-bottom:",";margin-left:",";margin-right:",";"],(function(e){return e.containerWidth?e.containerWidth:(0,We.rem)(150)}),(function(e){return e.containerHeight?e.containerHeight:(0,We.rem)(200)}),(function(e){return e.marginBottom?e.marginBottom:0}),(function(e){return e.marginLeft?e.marginLeft:(0,We.rem)(16)}),(function(e){return e.marginRight?e.marginRight:0})),BT=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"LoadingPlaceHolderContainerStretched ".concat(e["data-component-name"]):"LoadingPlaceHolderContainerStretched"}})).withConfig({displayName:"loading-placeholder-style__LoadingPlaceHolderContainerStretched",componentId:"sc-1tv5upo-1"})(["padding:0 0 "," ",";width:'100%';min-width:",";"],(0,We.rem)(20),(0,We.rem)(16),(0,We.rem)(170)),jT=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"LoadingBoxPlaceHolder ".concat(e["data-component-name"]):"LoadingBoxPlaceHolder"}})).withConfig({displayName:"loading-placeholder-style__LoadingBoxPlaceHolder",componentId:"sc-1tv5upo-2"})(["animation-duration:1s;animation-fill-mode:forwards;animation-iteration-count:infinite;animation-name:placeHolderShimmer;animation-timing-function:linear;background:#f6f7f8;background:linear-gradient(to right,#eeeeee 8%,#dddddd 18%,#eeeeee 33%);background-size:800px 104px;height:96px;position:relative;"]),LT=(0,Ge.default)(jT).attrs((function(e){return{"data-component-name":e["data-component-name"]?"LoadingBoxPlaceHolderThumb ".concat(e["data-component-name"]):"LoadingBoxPlaceHolderThumb"}})).withConfig({displayName:"loading-placeholder-style__LoadingBoxPlaceHolderThumb",componentId:"sc-1tv5upo-3"})(["height:",";width:",";margin-bottom:",";border-radius:5px;"],(function(e){return e.height?e.height:(0,We.rem)(150)}),(function(e){return e.width?e.width:(0,We.rem)(150)}),(function(e){return e.marginBottom?e.marginBottom:(0,We.rem)(10)})),PT=(0,Ge.default)(jT).attrs((function(e){return{"data-component-name":e["data-component-name"]?"LoadingBoxPlaceHolderThumbStretched ".concat(e["data-component-name"]):"LoadingBoxPlaceHolderThumbStretched"}})).withConfig({displayName:"loading-placeholder-style__LoadingBoxPlaceHolderThumbStretched",componentId:"sc-1tv5upo-4"})(["height:",";margin-bottom:",";border-radius:5px;"],(function(e){return e.height?e.height:(0,We.rem)(150)}),(function(e){return e.marginBottom?e.marginBottom:(0,We.rem)(10)})),NT=(0,Ge.default)(jT).attrs((function(e){return{"data-component-name":e["data-component-name"]?"LoadingBoxPlaceHolderFirstLine ".concat(e["data-component-name"]):"LoadingBoxPlaceHolderFirstLine"}})).withConfig({displayName:"loading-placeholder-style__LoadingBoxPlaceHolderFirstLine",componentId:"sc-1tv5upo-5"})(["width:120px;height:",";margin-bottom:10px;"],(function(e){return e.height?e.height:(0,We.rem)(12)})),DT=(0,Ge.default)(jT).attrs((function(e){return{"data-component-name":e["data-component-name"]?"LoadingBoxPlaceHolderSecondLine ".concat(e["data-component-name"]):"LoadingBoxPlaceHolderSecondLine"}})).withConfig({displayName:"loading-placeholder-style__LoadingBoxPlaceHolderSecondLine",componentId:"sc-1tv5upo-6"})(["width:98px;height:",";margin-bottom:10px;"],(function(e){return e.height?e.height:(0,We.rem)(12)})),RT=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"PlaceHoldersContainerStretched ".concat(e["data-component-name"]):"PlaceHoldersContainerStretched"}})).withConfig({displayName:"loading-placeholdercomponent__PlaceHoldersContainerStretched",componentId:"j1skx6-0"})(["flex:1;display:grid;grid-template-columns:repeat(auto-fit,minmax(",",1fr));justify-items:flex-start;"],(0,We.rem)(170));function zT(e){var t=e.props,n=e.children;return t.stretchBoxes?h().createElement(BT,{"data-component-name":"LoadingContainer"},h().createElement(PT,{height:t.thumbHeight,marginBottom:t.thumbMarginBottom}),n):h().createElement(MT,{containerWidth:t.containerWidth,containerHeight:t.containerHeight,marginBottom:t.marginBottom,marginLeft:t.marginLeft,marginRight:t.marginRight,"data-component-name":"LoadingContainer"},h().createElement(LT,{height:t.thumbHeight,width:t.thumbWidth,marginBottom:t.thumbMarginBottom}),n)}function UT(e){return h().createElement(zT,{props:e,"data-component-name":"LoadingPlaceHolder","data-key":e["data-key"]},e.showFirstLine?h().createElement(NT,{height:e.lineHeight}):null,e.showSecondLine?h().createElement(DT,{height:e.lineHeight}):null)}function FT(e){for(var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0,i=arguments.length>6?arguments[6]:void 0,c=arguments.length>7?arguments[7]:void 0,l=arguments.length>8?arguments[8]:void 0,s=arguments.length>9?arguments[9]:void 0,u=arguments.length>10?arguments[10]:void 0,d=arguments.length>11?arguments[11]:void 0,m=!(arguments.length>12&&void 0!==arguments[12])||arguments[12],p=arguments.length>13&&void 0!==arguments[13]&&arguments[13],f=[],g=0;g<e;g++){var y;f.push(h().createElement(UT,{key:y=g,"data-key":y,showFirstLine:n,showSecondLine:t,thumbHeight:r,thumbWidth:i,thumbMarginBottom:o,lineHeight:a,containerWidth:c,containerHeight:l,marginBottom:s,marginLeft:u,marginRight:d,stretchBoxes:p}))}return m?p?h().createElement(RT,{className:"box-placeholder-container","data-component-name":"LoadingBoxPlaceHolder"},f):h().createElement("div",{className:"box-placeholder-container","data-component-name":"LoadingBoxPlaceHolder"},f):f}var HT=S("UseSticky");function VT(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=(0,f.useRef)();return(0,f.useEffect)((function(){if(!e||!t)return function(){};var o=e.current,a=r.current,i=function(){for(var e=a.nextSibling;e&&"none"===e.style.display;)e=e.nextSibling;return e},c=function(e){var t=0,n=e,r="";try{for(;null!==n&&"absolute"!==r;){t+=n.offsetTop,n=n.offsetParent,r=window.getComputedStyle(n).position}}catch(e){HT.debug("element",n),HT.error("Sticky error",e)}return t}(o),l=function(e,t){var n=e,r=0,o="";try{for(;n!==t&&"absolute"!==o;){r+=n.offsetTop,n=n.offsetParent,o=window.getComputedStyle(n).position}}catch(e){HT.debug("element",n),HT.error("Sticky error",e)}return r}(a,document.body);HT.debug("".concat(n," useSticky effect, offestTop: ").concat(l," offsetParent: "),a.offsetParent),HT.debug("".concat(n," useSticky effect, offeoffsetParentTop: ").concat(l," offsetParent: "),o.offsetParent);var s=!1,u=function(){var e=o.clientWidth,t=o.querySelector(".sticky-boundary");if(s&&t){var n=window.getComputedStyle(t),r=Number.parseInt(n.maxWidth,10),i=Number.parseInt(n.paddingLeft,10);a.style.padding="0 ".concat((e-r)/2+i,"px"),a.style.width="".concat(e,"px")}else a.style.width="100%"},d=function(){HT.debug("".concat(n," useSticky removing sticky")),s=!1,a.style.padding="",a.style.height="",a.style.position="",a.style.zIndex="",a.style.top="",a.style.left="",a.style.backgroundColor="",a.style.boxShadow="",u();var e=i();e&&(e.style.marginTop="")},m=function(){var e=o.scrollTop;if(!s&&e+c>l){HT.debug("".concat(n," useSticky adding sticky")),s=!0;var t=a.clientHeight,r=a.clientWidth,u=o.clientWidth,m=window.getComputedStyle(a).padding,p=parseInt(m,10);a.style.padding=p?m:"0 ".concat((u-r)/2,"px"),a.style.width="".concat(u,"px"),a.style.height="".concat(t,"px"),a.style.position="fixed",a.style.zIndex=10,a.style.top="".concat(c,"px"),a.style.left=0,a.style.backgroundColor="#fff",a.style.boxShadow="0 4px 2px -2px rgba(0, 0, 0, 0.2)";var f=i();f&&(f.style.marginTop="".concat(t,"px"))}else s&&e+c<=l&&d()};return o.addEventListener("scroll",m),window.addEventListener("resize",u),function(){o.removeEventListener("scroll",m),window.removeEventListener("resize",u),d(),HT.debug("".concat(n," useSticky deattach event scroll sticky"))}}),[e,t,n]),[r]}function WT(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return GT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GT(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function GT(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var YT=(0,Ge.css)(["padding:",";transition:padding 0.2s;"],(function(e){return qe(e,"theme.selectedItem.spacing","0px")})),qT=(0,Ge.css)(["opacity:0.4;filter:alpha(opacity=40);background-color:#fff;"]),ZT=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"CardWrapper ".concat(e["data-component-name"]):"CardWrapper"}})).withConfig({displayName:"selected-itemcomponent__CardWrapper",componentId:"sc-1je2zdw-0"})(["position:relative;height:100%;width:100%;",";"],(function(e){return e.isSelected?YT:""})),XT=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"Default ".concat(e["data-component-name"]):"Default"}})).withConfig({displayName:"selected-itemcomponent__Default",componentId:"sc-1je2zdw-1"})(["position:absolute;height:100%;width:100%;top:0;left:0;border:solid 1px #f6f7f8;border-radius:",";pointer-events:none;z-index:1;"],(function(e){return e.borderRadius?"5px":"0"})),KT=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"Selected ".concat(e["data-component-name"]):"Selected"}})).withConfig({displayName:"selected-itemcomponent__Selected",componentId:"sc-1je2zdw-2"})(["position:absolute;height:100%;width:100%;top:0;left:0;border:solid 3px ",";border-radius:",";pointer-events:none;z-index:1;"],(function(e){return qe(e,"theme.colors.primary",Kb)}),(function(e){return e.borderRadius?"5px":"0"})),QT=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"SelectedVideoMark ".concat(e["data-component-name"]):"SelectedVideoMark"}})).withConfig({displayName:"selected-itemcomponent__SelectedVideoMark",componentId:"sc-1je2zdw-3"})(["width:20px;height:20px;border-radius:2px;background-color:",";text-align:center;"],(function(e){return qe(e,"theme.colors.primary",Kb)})),$T=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"CheckMark ".concat(e["data-component-name"]):"CheckMark"}})).withConfig({displayName:"selected-itemcomponent__CheckMark",componentId:"sc-1je2zdw-4"})(["display:inline-block;transform:rotate(45deg);height:12px;width:6px;border-bottom:2px solid ",";border-right:2px solid ",";"],Jb,Jb),JT=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"DisabledReasonCard ".concat(e["data-component-name"]):"DisabledReasonCard"}})).withConfig({displayName:"selected-itemcomponent__DisabledReasonCard",componentId:"sc-1je2zdw-5"})(["position:absolute;z-index:999;background-color:#000;width:70%;text-align:center;left:15%;top:-2%;border-radius:4px;color:white;font-weight:400;font-size:14px;padding:4px;"]),eO=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"DisableOverlay ".concat(e["data-component-name"]):"DisableOverlay"}})).withConfig({displayName:"selected-itemcomponent__DisableOverlay",componentId:"sc-1je2zdw-6"})(["position:absolute;z-index:998;height:100%;width:100%;",""],qT);function tO(e){var t=e.selected,n=e.checkMark,r=e.borderRadius,o=e.children,a=e.className,i=e.enabled,c=e.disableReason,l=WT(IA(),2),s=l[0],u=l[1],d=!1===i;return h().createElement(ZT,{isSelected:t,className:a,ref:s,"data-component-name":"SelectedItem","data-key":e["data-key"]},d&&u&&h().createElement(JT,null,c),d?h().createElement(eO,null):null,o,t&&n?h().createElement($e,{relativity:"absolute",top:"10px",left:"10px"},h().createElement(QT,null,h().createElement($T,null))):null,t?h().createElement(KT,{borderRadius:r,className:"dude"}):h().createElement(XT,{borderRadius:r}))}var nO=function(){return h().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"23",viewBox:"0 0 25 23","data-component-name":"SpeakerIconSVG"},h().createElement("g",{fill:"#FFF",fillRule:"nonzero",stroke:"#FFF",strokeWidth:".5"},h().createElement("path",{d:"M14.326 1.214a1.671 1.671 0 0 0-1.765.088L5.174 6.383H2.373c-.718 0-1.308.572-1.367 1.298v7.638c.059.726.649 1.298 1.367 1.298h2.8l7.388 5.081a1.68 1.68 0 0 0 1.765.088c.56-.309.907-.908.907-1.563V2.777a1.78 1.78 0 0 0-.907-1.563zM4.698 15.21H2.373a.01.01 0 0 1-.01-.01V7.8a.01.01 0 0 1 .01-.01h2.325v7.42zm9.172 5.013a.359.359 0 0 1-.188.323.338.338 0 0 1-.364-.018l-7.256-4.991V7.463l7.256-4.99c.16-.11.308-.05.364-.018a.359.359 0 0 1 .188.322v17.446zM20.425 2.582a.6.6 0 0 0-.868 0 .647.647 0 0 0 0 .895c2.074 2.14 3.215 4.989 3.215 8.023s-1.142 5.884-3.215 8.023a.647.647 0 0 0 0 .895.602.602 0 0 0 .868 0C22.73 18.04 24 14.873 24 11.5c0-3.373-1.27-6.54-3.575-8.918z"}),h().createElement("path",{d:"M17.94 6.06a.6.6 0 0 0-.869 0 .647.647 0 0 0 0 .895 6.488 6.488 0 0 1 1.822 4.545c0 1.72-.647 3.334-1.822 4.545a.647.647 0 0 0 0 .896.602.602 0 0 0 .868 0c1.407-1.451 2.181-3.383 2.181-5.44 0-2.058-.774-3.99-2.18-5.442z"})))},rO=function(){return h().createElement("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","data-component-name":"SpeakerOffIconSVG"},h().createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},h().createElement("g",{transform:"translate(-482.000000, -691.000000)",fill:"#FFFFFF",fillRule:"nonzero"},h().createElement("g",{transform:"translate(494.000000, 703.000000) scale(1, -1) translate(-494.000000, -703.000000) translate(482.000000, 691.000000)"},h().createElement("path",{d:"M17,11.9447298 C17,9.95578387 15.8888889,8.2983289 14.2222222,7.52484991 L14.2222222,9.95578387 L17,12.7182088 C17,12.3867178 17,12.1657238 17,11.9447298 Z M19.7777778,11.9447298 C19.7777778,12.9392028 19.5555556,13.9336758 19.2222222,14.8176518 L20.8888889,16.4751068 C21.6666667,15.1491428 22,13.4916878 22,11.8342328 C22,7.08286192 18.6666667,3.10496998 14.2222222,2.110497 L14.2222222,4.43093396 C17.4444444,5.53590394 19.7777778,8.40882589 19.7777778,11.9447298 Z M3.44444444,2 L2,3.43646098 L7.22222222,8.62981989 L2,8.62981989 L2,15.2596398 L6.44444444,15.2596398 L12,20.7844897 L12,13.3811908 L16.7777778,18.1325617 C15.9999564,18.6850467 15.2222222,19.1270347 14.2222222,19.458569 L14.2222222,21.779006 C15.7777778,21.447515 17.1111111,20.784533 18.3333333,19.79006 L20.5555556,22 L22,20.5635824 L12,10.6188525 L3.44444444,2 Z M12,3.10496998 L9.66666667,5.42540694 L12,7.7458439 L12,3.10496998 L12,3.10496998 Z",id:"Shape"})))))};function oO(e){var t=e.className,n=e.height,r=void 0===n?"50%":n,o=e.width,a=void 0===o?"50%":o;return h().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:a,height:r,className:"".concat(t," center-icon"),viewBox:"0 0 60 65","data-component-name":"MusicUnknownSVG"},h().createElement("path",{fill:"#B3BFC8",fillRule:"nonzero",d:"M59.6.294a1.187 1.187 0 0 0-.928-.285l-36.47 4.74a1.18 1.18 0 0 0-1.026 1.172v42.088c-2.148-2.594-5.56-4.282-9.411-4.282C5.278 43.727 0 48.498 0 54.364 0 60.229 5.278 65 11.765 65c6.487 0 11.764-4.771 11.764-10.636 0-.275-.022-.544-.045-.812.015-.077.045-.147.045-.227V19.049l34.118-4.436V36.19c-2.148-2.593-5.561-4.28-9.412-4.28-6.487 0-11.764 4.77-11.764 10.635 0 5.866 5.277 10.637 11.764 10.637 6.429 0 11.663-4.687 11.757-10.48 0-.015.008-.028.008-.043V1.182c0-.34-.146-.664-.4-.888z"}))}function aO(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return iO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iO(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function iO(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var cO=S("MusicBoxComponent"),lO=(0,Ge.css)(["background-color:#eef1f2;background-color:rgba(26,46,59,0.8) !important;"]),sO=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"MusicThumb ".concat(e["data-component-name"]):"MusicThumb"}})).withConfig({displayName:"music-boxcomponent__MusicThumb",componentId:"sc-17pwvwg-0"})(["height:",";cursor:pointer;img{border-radius:5px;}div{border-radius:5px;}&.error{background-color:#eef1f2;background-color:rgba(26,46,59,0.8) !important;border-radius:5px;}"],(0,We.rem)(150)),uO=(0,Ge.css)(["max-width:",";"],(0,We.rem)(170)),dO=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"MusicBoxWrapper ".concat(e["data-component-name"]):"MusicBoxWrapper"}})).withConfig({displayName:"music-boxcomponent__MusicBoxWrapper",componentId:"sc-17pwvwg-1"})(["display:inline-block;padding:0 0 "," ",";width:100%;min-width:",";",";"],(0,We.rem)(20),(0,We.rem)(16),(0,We.rem)(170),(function(e){return e.fixedWidth?uO:""})),mO=(0,Ge.default)(sv).attrs((function(e){return{"data-component-name":e["data-component-name"]?"MusicName ".concat(e["data-component-name"]):"MusicName"}})).withConfig({displayName:"music-boxcomponent__MusicName",componentId:"sc-17pwvwg-2"})(["max-width:",";color:#1a2e3b;font-size:14px;line-height:20px;margin-top:",";"],(0,We.rem)(150),(0,We.rem)(4)),pO=(0,Ge.default)(sv).attrs((function(e){return{"data-component-name":e["data-component-name"]?"ArtistName ".concat(e["data-component-name"]):"ArtistName"}})).withConfig({displayName:"music-boxcomponent__ArtistName",componentId:"sc-17pwvwg-3"})(["max-width:",";color:#8498a4;font-size:",";height:",";line-height:",";"],(0,We.rem)(150),(0,We.rem)(14),(0,We.rem)(20),(0,We.rem)(20)),fO=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"MusicUnkownTrackBox ".concat(e["data-component-name"]):"MusicUnkownTrackBox"}})).withConfig({displayName:"music-boxcomponent__MusicUnkownTrackBox",componentId:"sc-17pwvwg-4"})(["position:relative;background-color:#eef1f2;width:100%;height:100%;border-radius:5px;",";"],(function(e){return e.error?lO:""})),hO=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"MusicErrorText ".concat(e["data-component-name"]):"MusicErrorText"}})).withConfig({displayName:"music-boxcomponent__MusicErrorText",componentId:"sc-17pwvwg-5"})(["position:absolute;text-align:center;bottom:",";font-size:",";padding:"," ",";width:100%;color:#fff;"],(0,We.rem)(10),(0,We.rem)(12),(0,We.rem)(4),(0,We.rem)(8));function gO(e){var t=e.album,n=e.thumb,r=e.name,o=e.artist,a=e.url,i=e.hash,c=e.id,l=e.selected,s=e.onSelectBox,u=e.tab,d=e.fixedWidth,m=(0,f.useRef)(null),p=(0,f.useRef)(!1),g=(0,f.useRef)(null),y=aO((0,f.useState)(!1),2),b=y[0],v=y[1],E=aO((0,f.useState)(0),2),w=E[0],A=E[1],C=aO((0,f.useState)(!1),2),S=C[0],_=C[1],x=aO((0,f.useState)(!1),2),I=x[0],T=x[1],O=(0,f.useCallback)((function(){p.current||(p.current=!0,T(!1),null!==g.current&&(cO.info("Audio can play: ".concat(a)),v(!0)))}),[a]),k=(0,f.useCallback)((function(e){T(!1),_(!0),cO.error("Could not load audio: ".concat(a),e)}),[a]),M=(0,f.useCallback)((function(){cO.info("Audio ended... ".concat(r)),v(!1)}),[r]),B=aO(xA((0,f.useCallback)((function(){cO.info("Delay: ".concat(300,"ms")),g.current=setTimeout((function(){if(cO.info("Trying to play sound track... ".concat(r)),p.current)v(!0);else if(!m.current){var e,t,n=new window.Audio(a);m.current=n,n.oncanplay=O,n.onerror=k,n.onended=M,n.onprogress=function(){if(n.buffered.length){var e=100*n.buffered.end(0)/n.duration;A(e.toFixed(2))}},T(!0),e={tab:u,track_id:"".concat(c),track_name:r},t={name:Ha,product:Si,flow:fa.flow,location:Sa,version:4},Li(t=sa(sa({},e),t)),vi(oa,Ha,sa({type:xi,flow:fa.flow,location:Sa},e)),cO.info("Starting Loading audio from: ".concat(a))}}),300)}),[r,O,M,k,a,u,c]),(0,f.useCallback)((function(){cO.info("Stop playing sound track... ".concat(r)),clearTimeout(g.current),g.current=null,v(!1),T(!1)}),[r])),2)[1];return(0,f.useEffect)((function(){var e=m.current;p.current&&(b?(e.currentTime=0,e.play()):e.pause())}),[b]),h().createElement(dO,{fixedWidth:d,"data-component-name":"MusicBox"},h().createElement(sO,{className:S?"error":"",onClick:function(e){var d,m;e.preventDefault(),e.stopPropagation(),l!==c&&(d={tab:u,track_id:"".concat(c),track_name:r},m={name:Va,product:Si,flow:fa.flow,location:Sa,no_music:"off",version:3},Li(m=sa(sa({},d),m)),vi(oa,Va,sa({type:xi,flow:fa.flow,location:Sa,no_music:"off"},d)),s({id:c,thumb:n,name:r,url:a,album:t,artist:o,hash:i}))},ref:B},h().createElement(tO,{selected:l,borderRadius:!0},n?h().createElement(oC,{src:n,mode:"stretch"}):h().createElement(fO,{error:S},h().createElement(oO,{height:"36%"})),b?h().createElement(EO,null):null,h().createElement("div",{className:"music-loader"},I?h().createElement(SS,{progress:w}):null),h().createElement(hO,null,S?oe.MusicLibMusicBoxError:""))),h().createElement(mO,null,r),h().createElement(pO,null,o))}var yO=(0,Ge.default)(Qe).attrs((function(e){return{"data-component-name":e["data-component-name"]?"FullScreenOverlay ".concat(e["data-component-name"]):"FullScreenOverlay"}})).withConfig({displayName:"music-boxcomponent__FullScreenOverlay",componentId:"sc-17pwvwg-6"})(["height:100%;width:100%;background-color:rgba(31,31,31,0.6);border-radius:5px;"]),bO=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"SelectedHoverBox ".concat(e["data-component-name"]):"SelectedHoverBox"}})).withConfig({displayName:"music-boxcomponent__SelectedHoverBox",componentId:"sc-17pwvwg-7"})(["position:relative;width:",";height:100%;background-color:#eef1f2;margin-right:",";"],(0,We.rem)(44),(0,We.rem)(10)),vO=function(e){var t=e.thumb,n=e.url,r=(0,f.useRef)(null),o=(0,f.useRef)(!1),a=(0,f.useRef)(null),i=aO((0,f.useState)(!1),2),c=i[0],l=i[1],s=(0,f.useCallback)((function(){o.current||(o.current=!0,null!==a.current&&(cO.info("Audio can play: ".concat(n)),l(!0)))}),[n]),u=(0,f.useCallback)((function(e){cO.error("Could not load audio: ".concat(n),e)}),[n]),d=(0,f.useCallback)((function(){l(!1)}),[]),m=aO(xA((0,f.useCallback)((function(){a.current=setTimeout((function(){if(o.current)l(!0);else if(r.current)r.current.src=n;else{var e=new window.Audio(n);r.current=e,e.oncanplay=s,e.onerror=u,e.onended=d,cO.info("Starting Loading audio from: ".concat(n))}}),300)}),[s,d,u,n]),(0,f.useCallback)((function(){clearTimeout(a.current),a.current=null,l(!1)}),[])),3),p=m[1],g=m[2];(0,f.useEffect)((function(){var e=r.current;o.current&&(c?(e.currentTime=0,e.play()):e.pause())}),[c]),(0,f.useEffect)((function(){return function(){o.current=!1}}),[n]);return h().createElement(bO,{ref:p,"data-component-name":"SelectedMusicBoxAudio"},function(e){return e?h().createElement(oC,{src:e,mode:"stretch","data-component-name":"renderSelectedThumb"}):h().createElement(oO,{"data-component-name":"renderSelectedThumb"})}(t),function(e,t){return e?h().createElement(yO,{onClick:function(){},"data-component-name":"renderHoverPlayButton"},t?h().createElement(Qe,null,h().createElement(nO,null)):null):null}(g,c))};function EO(){return h().createElement("div",{className:"music-bars-playing","data-component-name":"MusicBarPlayingAnimation"},h().createElement("div",{className:"bar"}),h().createElement("div",{className:"bar"}),h().createElement("div",{className:"bar"}),h().createElement("div",{className:"bar"}),h().createElement("div",{className:"bar"}),h().createElement("div",{className:"bar"}),h().createElement("div",{className:"bar"}),h().createElement("div",{className:"bar"}),h().createElement("div",{className:"bar"}),h().createElement("div",{className:"bar"}))}var wO=n(880296250196409);function AO(){return(AO=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var CO=function(e){return qc("checkbox.".concat(e.formatTheme,".backgroundColor"),Kb)},SO=function(e){return(0,We.rgba)(qc("checkbox.".concat(e.formatTheme,".outlineColor"),Kb),.6)},_O=function(e){return qc("checkbox.".concat(e.formatTheme,".hoverBackgroundColor"),av)},xO=(0,Ge.default)(wO.InputCheckbox).attrs((function(e){return{"data-component-name":e["data-component-name"]?"InputCheckboxWrapper ".concat(e["data-component-name"]):"InputCheckboxWrapper"}})).withConfig({displayName:"input-checkbox__InputCheckboxWrapper",componentId:"sc-134aos6-0"})(["&:checked + span{background:"," !important;}&:focus ~ span div{border-color:"," !important;}&:checked:hover + span{background:"," !important;}"],CO,SO,_O);const IO=(0,f.memo)((function(e){var t=e.formatTheme,n=void 0===t?"primary":t;return h().createElement(xO,AO({},e,{formatTheme:n,"data-component-name":"ThemeInputCheckbox","data-key":e["data-key"]}))}));var TO=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"Rect ".concat(e["data-component-name"]):"Rect"}})).withConfig({displayName:"placeholdercomponent__Rect",componentId:"sc-1odjc6x-0"})(["height:",";width:",";margin-bottom:",";border-radius:5px;background-color:#eef1f2;"],(function(e){return e.height}),(function(e){return e.width}),(function(e){return e.marginBottom}));function OO(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return kO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kO(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kO(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function MO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function BO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?MO(Object(n),!0).forEach((function(t){jO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function jO(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var LO=S("useRequest"),PO={data:null,isFetching:!0,error:null,done:!1},NO="fetching",DO="fetched",RO="error";function zO(e,t){switch(t.type){case NO:return BO(BO({},e),{},{isFetching:!0,done:!1});case DO:return BO(BO({},e),{},{isFetching:!1,data:t.payload,done:!0});case RO:return BO(BO({},e),{},{isFetching:!1,error:t.payload,done:!0});default:return e}}function UO(e,t){var n=OO((0,f.useReducer)(zO,PO),2),r=n[0],o=n[1],a=(0,f.useRef)(-1);return(0,f.useEffect)((function(){var n=Ht.CancelToken.source();++a.current,o({type:NO});var r={url:e,reqId:a.current};LO.info("[OUTPUT::REQUEST::INIT]"),LO.table(r);var i=a.current,c=t&&t.maxRetries||5,l=0;return function t(s){setTimeout((function(){Ht.get(e,{cancelToken:n.token}).then((function(e){LO.info("[INPUT::RESPONSE::OK]"),LO.table(BO(BO({},r),{},{data:e.data})),o({type:DO,payload:e.data})})).catch((function(e){if(a.current!==i)return LO.info("[REQUEST::ABORT]"),void LO.table(r);LO.info("[INPUT::RESPONSE::BAD]"),LO.table(BO(BO({},r),{},{error:e})),l>c?o({type:RO,payload:e}):(l+=1,t(3e3))}))}),s)}(0),n.cancel}),[e]),[r]}function FO(e){return function(e){if(Array.isArray(e))return WO(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||VO(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function HO(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||VO(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function VO(e,t){if(e){if("string"==typeof e)return WO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?WO(e,t):void 0}}function WO(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var GO=(0,Ge.default)(Ze).attrs((function(e){return{"data-component-name":e["data-component-name"]?"MusicTagListSelections ".concat(e["data-component-name"]):"MusicTagListSelections"}})).withConfig({displayName:"music-filter-listcomponent__MusicTagListSelections",componentId:"l02lki-0"})(["margin-bottom:10px;"]),YO=(0,Ge.default)(Ze).attrs((function(e){return{"data-component-name":e["data-component-name"]?"DropdownInnerSelector ".concat(e["data-component-name"]):"DropdownInnerSelector"}})).withConfig({displayName:"music-filter-listcomponent__DropdownInnerSelector",componentId:"l02lki-1"})(["height:100%;padding:0 ",";border:solid 1px #d0d8db;"],(0,We.rem)(12)),qO=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"InstrumentalOnlyFilter ".concat(e["data-component-name"]):"InstrumentalOnlyFilter"}})).withConfig({displayName:"music-filter-listcomponent__InstrumentalOnlyFilter",componentId:"l02lki-2"})(["margin-left:",";"],(0,We.rem)(11)),ZO=(0,Ge.default)(mI).attrs((function(e){return{"data-component-name":e["data-component-name"]?"MusicFilterDropDown ".concat(e["data-component-name"]):"MusicFilterDropDown"}})).withConfig({displayName:"music-filter-listcomponent__MusicFilterDropDown",componentId:"l02lki-3"})(["width:200px;height:40px;margin-right:",";border-radius:",";"],(0,We.rem)(8),(0,We.rem)(3)),XO=(0,Ge.default)(TO).attrs((function(e){return{"data-component-name":e["data-component-name"]?"MusicFilterPlaceholder ".concat(e["data-component-name"]):"MusicFilterPlaceholder"}})).withConfig({displayName:"music-filter-listcomponent__MusicFilterPlaceholder",componentId:"l02lki-4"})(["width:200px;height:40px;margin-right:",";border-radius:",";"],(0,We.rem)(8),(0,We.rem)(3)),KO=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"MusicFilterDropdownRow ".concat(e["data-component-name"]):"MusicFilterDropdownRow"}})).withConfig({displayName:"music-filter-listcomponent__MusicFilterDropdownRow",componentId:"l02lki-5"})(["padding:"," ",";"],(0,We.rem)(10),(0,We.rem)(16)),QO=(0,Ge.default)(hv).attrs((function(e){return{"data-component-name":e["data-component-name"]?"ClearAllFilters ".concat(e["data-component-name"]):"ClearAllFilters"}})).withConfig({displayName:"music-filter-listcomponent__ClearAllFilters",componentId:"l02lki-6"})(["margin-left:auto;"]),$O={width:"100%",height:(0,We.rem)(208),top:(0,We.rem)(41)};function JO(e,t,n){return{value:e,name:t,text:"".concat(n.charAt(0).toUpperCase()+n.slice(1))}}function ek(e){var t=e.group,n=e.name;return"".concat(t,":").concat(n)}function tk(e){var t=e.setFilterTags,n=e.filterTags,r=HO(UO("/api/musiclib/tracks/tags"),1)[0],o=HO((0,f.useState)({}),2),a=o[0],i=o[1],c=HO((0,f.useState)(),2),l=c[0],s=c[1],u=HO((0,f.useState)(),2),d=u[0],m=u[1],p=HO((0,f.useState)(),2),g=p[0],y=p[1],b=HO((0,f.useState)(!1),2),v=b[0],E=b[1],w=r.data&&r.data.tags||[],A=HO(w,2),C=A[0],S=A[1];(0,f.useEffect)((function(){!function(){var e=arguments.length>1?arguments[1]:void 0,t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce((function(e,t){var n=t.name,r=t.group_name,o=t.local_name;return e[r]||(e[r]=[]),e[r].push(JO(ek(t),n,o)),e}),{});e(t)}(w,i)}),[C,S]),(0,f.useEffect)((function(){var e,t;n.length&&(e={type_selection:l?l.text:"",genre_selection:g?g.text:"",mood_selection:d?d.text:""},t={name:Fa,product:Si,flow:fa.flow,location:Sa,version:4},Li(t=sa(sa({},e),t)),vi(oa,Fa,sa({type:xi,flow:fa.flow,location:Sa},e)))}),[n,l,g,d]);var _=(0,f.useMemo)((function(){var e=a.category||[],t=a.hidden||[];return 0===e.length&&0===t.length?h().createElement(TO,{width:"200px",height:"40px","data-component-name":"currentSelectCategorey"}):h().createElement(YO,{align:"center",justify:"space-between","data-component-name":"currentSelectCategorey"},h().createElement(fv,null,l?"".concat(oe.MusicLibMusicFilterListCategorey,": ").concat(l.text):oe.MusicLibMusicFilterListCategorey),h().createElement(GC,null))}),[a,l]),x=(0,f.useMemo)((function(){var e=a.category||[],r=a.hidden||[];if(0===e.length&&0===r.length)return[];var o=l,i=[].concat(FO(e),FO(r)),c=i.map((function(e){return h().createElement(KO,{onClick:function(){s(e);var r,a,i=o?n.filter((function(e){return e!==o.value})):n;t([e.value].concat(FO(i))),a={name:ai,product:Si,location:Sa,flow:fa.flow,version:4},Li(a=sa(sa({},r),a)),vi(oa,ai,sa({type:xi,flow:fa.flow,location:Sa},r))},role:"presentation","data-component-name":"categoriesRows"},h().createElement(fv,null,e.text,(a=e.name,r.find((function(e){return e.name===a}))?" (hidden)":"")));var a}));return[h().createElement(KO,{onClick:function(){s(null);var e=o?n.filter((function(e){return e!==o.value})):n;n!==e&&t(e)},role:"presentation","data-component-name":"clearValueSelectionAll"},h().createElement(fv,null,oe.MusicLibMusicFilterListCategorey))].concat(FO(c))}),[a,l,t,n]),I=(0,f.useMemo)((function(){return a.moods?h().createElement(YO,{align:"center",justify:"space-between","data-component-name":"currentSelectMood"},h().createElement(fv,null,d?"".concat(oe.MusicLibMusicFilterListMood,": ").concat(d.text):oe.MusicLibMusicFilterListMood),h().createElement(GC,null)):h().createElement(TO,{width:"200px",height:"40px","data-component-name":"currentSelectMood"})}),[a,d]),T=(0,f.useMemo)((function(){if(!a.moods)return[];var e=d,r=a.moods.map((function(r){return h().createElement(KO,{onClick:function(){m(r);var o,a,i=e?n.filter((function(t){return t!==e.value})):n;t([r.value].concat(FO(i))),a={name:ci,product:Si,location:Sa,flow:fa.flow,version:4},Li(a=sa(sa({},o),a)),vi(oa,ci,sa({type:xi,flow:fa.flow,location:Sa},o))},role:"presentation","data-component-name":"moodRows"},h().createElement(fv,null,r.text))}));return[h().createElement(KO,{onClick:function(){m(null);var r=e?n.filter((function(t){return t!==e.value})):n;n!==r&&t(r)},role:"presentation","data-component-name":"clearValueSelectionMoodAll"},h().createElement(fv,null,oe.MusicLibMusicFilterListMood))].concat(FO(r))}),[a,d,t,n]),O=(0,f.useMemo)((function(){return a.genres?h().createElement(YO,{align:"center",justify:"space-between","data-component-name":"currentSelectGenre"},h().createElement(fv,null,g?"".concat(oe.MusicLibMusicFilterListGenre,": ").concat(g.text):oe.MusicLibMusicFilterListGenre),h().createElement(GC,null)):h().createElement(TO,{width:"100%",height:"100%","data-component-name":"currentSelectGenre"})}),[a,g]),k=(0,f.useMemo)((function(){if(!a.genres)return[];var e=g,r=a.genres.map((function(r){return h().createElement(KO,{onClick:function(){y(r);var o,a,i=e?n.filter((function(t){return t!==e.value})):n;t([r.value].concat(FO(i))),a={name:ii,product:Si,location:Sa,flow:fa.flow,version:4},Li(a=sa(sa({},o),a)),vi(oa,ii,sa({type:xi,flow:fa.flow,location:Sa},o))},role:"presentation","data-component-name":"genreRows"},h().createElement(fv,null,r.text))}));return[h().createElement(KO,{onClick:function(){y(null);var r=e?n.filter((function(t){return t!==e.value})):n;n!==r&&t(r)},role:"presentation","data-component-name":"clearValueSelectionGenreAll"},h().createElement(fv,null,oe.MusicLibMusicFilterListGenre))].concat(FO(r))}),[a,g,n,t]),M=(0,f.useCallback)((function(){$().unstable_batchedUpdates((function(){m(null),y(null),E(!1),s(null),t([])}))}),[t]);return r.isFetching?h().createElement(GO,{wrap:"wrap",align:"center","data-component-name":"MusicFilterList"},h().createElement(XO,null),h().createElement(XO,null),h().createElement(XO,null)):h().createElement(h().Fragment,null,h().createElement(GO,{wrap:"wrap",align:"center"},h().createElement(ZO,{dropdownListStyle:$O,selectItem:I,listItem:T}),h().createElement(ZO,{dropdownListStyle:$O,selectItem:O,listItem:k}),h().createElement(ZO,{dropdownListStyle:$O,selectItem:_,listItem:x}),h().createElement(qO,null,h().createElement(IO,{label:oe.MusicLibMusicFilterListInstrumental,checked:v,onChange:function(e){var r=e.target.checked;if(r)t(["6:instrumental"].concat(FO(n)));else{var o=n.filter((function(e){return"6:instrumental"!==e}));t(o)}E(r)}})),h().createElement(QO,{onClick:M},oe.MusicLibMusicFilterListClearAll)))}function nk(){return(nk=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function rk(e){return function(e){if(Array.isArray(e))return sk(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||lk(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ok(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ak(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ok(Object(n),!0).forEach((function(t){ik(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ok(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ik(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ck(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||lk(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lk(e,t){if(e){if("string"==typeof e)return sk(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?sk(e,t):void 0}}function sk(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var uk=S("MusicLibrary][MusicAll"),dk=(0,Ge.default)(fv).attrs((function(e){return{"data-component-name":e["data-component-name"]?"NoResultTitle ".concat(e["data-component-name"]):"NoResultTitle"}})).withConfig({displayName:"music-all-trackscomponent__NoResultTitle",componentId:"sc-1t3nmzj-0"})(["margin-bottom:",";font-size:",";font-weight:500;"],(0,We.rem)(10),(0,We.rem)(16)),mk=(0,Ge.default)(Ze).attrs((function(e){return{"data-component-name":e["data-component-name"]?"VirtualizedRow ".concat(e["data-component-name"]):"VirtualizedRow"}})).withConfig({displayName:"music-all-trackscomponent__VirtualizedRow",componentId:"sc-1t3nmzj-1"})(["div:first-child{padding-left:0;}"]);function pk(e){var t=e.selectedTrackId,n=e.onSelectBox,r=e.shouldRenderList,o=e.forwardRef,a=e.handleTabChange,i=e.renderStickyTop,c=ck(VT(o,r,"all tracks"),1)[0],l=(0,f.useRef)(null),s=(0,f.useRef)(!1),u=(0,f.useRef)(1),d=ck((0,f.useState)({items:[],loading:!0}),2),m=d[0],p=d[1],g=ck((0,f.useState)([]),2),y=g[0],b=g[1],v=(0,f.useCallback)((function(e){l.current||(uk.log("LoadMore Fetching more music...",l.current),p((function(e){return ak(ak({},e),{},{loading:!0})})),l.current=function(e,t){var n=Ht.CancelToken.source();return{promise:Ht.get("/api/musiclib/tracks".concat(jt(Lt("p",e,{p:1}),Lt("filter_tags","".concat(t.join("|"))))),{cancelToken:n.token}).then((function(e){var t=e.data.tracks;return void 0===t?[]:t})).catch((function(e){throw e})),source:n}}(u.current,e),l.current.promise.then((function(e){u.current+=1,s.current=0!==e.length,l.current=null,p((function(t){return{items:[].concat(rk(t.items),rk(e)),loading:!1}}))})).catch((function(e){Ht.isCancel(e)||(l.current=null,p((function(e){return ak(ak({},e),{},{loading:!1})})))})))}),[]);(0,f.useEffect)((function(){return uk.info("[useEffect] change loading more..."),v(y),function(){l.current&&(l.current.source.cancel(),l.current=null),s.current=!1,u.current=1,p((function(){return{items:[],loading:!1}}))}}),[y,v]);return h().createElement(h().Fragment,null,h().createElement(Xe,{flex:"1"},h().createElement("div",{ref:c},i(),h().createElement(tk,{setFilterTags:b,filterTags:y})),m.loading&&0===m.items.length?h().createElement(Ze,{style:{marginLeft:(0,We.rem)(-16)},wrap:"wrap","data-component-name":"renderVirtualMusicBox"},FT(15,null,null,null,null,null,null,null,null,null,null,null,!0,!0)):m.loading||0!==m.items.length?h().createElement(f.Fragment,null,h().createElement(kT,{forwardRef:o},(function(e){var o=e.height,a=e.isScrolling,i=e.registerChild,c=e.onChildScroll,l=e.scrollTop;return h().createElement(OT.qj,{disableHeight:!0},(function(e){var u=e.width,d=u?Math.floor((u+16)/166):1,p=Math.ceil(m.items.length/d);return r?h().createElement("div",{ref:i},h().createElement(OT.aV,{autoHeight:!0,height:o,isScrolling:a,onScroll:c,rowCount:p,rowHeight:220,overscanRowCount:3,rowRenderer:function(e){var r,o=e.index,a=e.key,i=e.style,c=[],l=o*d,u=Math.min(l+d,m.items.length);u===m.items.length&&s.current&&v(y);for(var p=!1,f=l;f<u;f++){var g,b=m.items[f];u-l<d&&(p=!0),c.push(h().createElement(gO,nk({key:g=b.id,"data-key":g},b,{selected:t===b.id,onSelectBox:n,tab:"all",fixedWidth:p})))}return h().createElement(mk,{key:r=a,"data-key":r,style:i,align:"center"},c)},scrollTop:l,width:u})):null}))})),m.loading&&m.items.length>0&&h().createElement("div",{style:{alignSelf:"center",padding:"30px"}},h().createElement(NE,{size:"md"}))):h().createElement(Xe,{flex:"1",align:"center",justify:"center","data-component-name":"renderVirtualMusicBox"},h().createElement(fk,{handleTabChange:a}))))}var fk=function(e){var t=e.handleTabChange,n=(0,f.useCallback)((function(e){e.stopPropagation(),t(ET)}),[t]);return h().createElement(h().Fragment,null,h().createElement(dk,null,oe.MusicLibMusicAllTracksNoResultsTitle),h().createElement(mv,null,oe.MusicLibMusicAllTracksNoResultsText1," ",h().createElement(hv,{as:"span",onClick:n},oe.MusicLibMusicAllTracksNoResultsLinkText)," ",oe.MusicLibMusicAllTracksNoResultsText2))};function hk(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return e?t:n}function gk(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return yk(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yk(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yk(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var bk="block",vk="none",Ek="flex";function wk(e){var t=e.className,n=void 0===t?"":t,r=e.index,o=e.value,a=e.flex,i=e.children,c=gk((0,f.useState)(!1),2),l=c[0],s=c[1];return(0,f.useEffect)((function(){l||o===r&&s(!0)}),[o,r,l]),l?h().createElement("div",{className:n,style:{display:hk(r===o,a?Ek:bk,vk)},"data-component-name":"Flipper"},i):null}var Ak="media_modal",Ck=Ge.default.span.attrs((function(e){return{"data-component-name":e["data-component-name"]?"ProContainer ".concat(e["data-component-name"]):"ProContainer"}})).withConfig({displayName:"badge-labelstyle__ProContainer",componentId:"ap6foq-0"})(["margin:auto 5px;padding:0px 3px;height:15px;background:",";display:inline-flex;align-items:center;justify-content:center;cursor:pointer;"],(function(e){return qe(e,"theme.".concat(e.tier,"Label.background"),ev)})),Sk=Ge.default.span.attrs((function(e){return{"data-component-name":e["data-component-name"]?"LabelText ".concat(e["data-component-name"]):"LabelText"}})).withConfig({displayName:"badge-labelstyle__LabelText",componentId:"ap6foq-1"})(["font-family:'Helvetica Neue',Helvetica,Arial,sans-serif;color:",";font-size:9px;font-weight:bold;"],(function(e){return qe(e,"theme.".concat(e.tier,"Label.color"),Jb)})),_k=h().memo((function(e){var t=e.labelText,n=e.onClick,r=e.className,o=e.tier,a=e.upsellHook,i=void 0===a?zc.onBadgeLabelClick:a,c=e.upsellTitle,l=void 0===c?"":c,s=e.capabilityName,u=void 0===s?null:s,d=e.pageLocation,m=void 0===d?null:d,p=(0,T.I0)(),f=null;return-1!==Jo.vsid&&(f=Jo.vsid),null!==f&&(f=f.toString()),h().createElement(Ck,{className:r,tier:o,onClick:function(e){n(e),p(ne(o)),i({vsid:f,tier:o,upsellTitle:l,capabilityName:u,pageLocation:m})},"data-component-name":"BadgeLabel"},h().createElement(Sk,{tier:o},(null==t?void 0:t.toUpperCase())||oe.ProLabel))})),xk=(0,Ge.default)(fv).attrs((function(e){return{"data-component-name":e["data-component-name"]?"TabPane ".concat(e["data-component-name"]):"TabPane"}})).withConfig({displayName:"tab-list-style__TabPane",componentId:"sc-1t335tp-0"})(["cursor:pointer;font-weight:500;&:hover{background-color:#eef1f2;border-color:#eef1f2;}transition:0.3s;"]),Ik=(0,Ge.css)(["div{width:",";padding:"," ",";cursor:pointer;border-bottom:"," solid #e3e8e9;text-align:center;@media screen and (max-width:","){width:",";}@media screen and (max-width:","){width:",";}&.selected{border-bottom:"," solid ",";}}"],(0,We.rem)(150),(0,We.rem)(15),(0,We.rem)(5),(0,We.rem)(2),(0,We.rem)(1024),(0,We.rem)(120),(0,We.rem)(768),(0,We.rem)(108),(0,We.rem)(2),(function(e){return qe(e,"theme.colors.primary",Kb)})),Tk=(0,Ge.css)(["div{display:flex;align-items:center;justify-content:space-between;padding:"," ",";margin-right:",";margin-bottom:",";border-radius:",";max-width:",";width:auto;background-color:#eef1f2;color:#1a2e3b;&.selected{color:#fff;background-color:#4b4b4b;}}"],(0,We.rem)(5),(0,We.rem)(15),(0,We.rem)(10),(0,We.rem)(10),(0,We.rem)(100),(0,We.rem)(150)),Ok=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"TabListStyle ".concat(e["data-component-name"]):"TabListStyle"}})).withConfig({displayName:"tab-list-style__TabListStyle",componentId:"sc-1t335tp-1"})(["display:flex;flex-wrap:wrap;align-content:center;align-items:center;",""],(function(e){return function(e){switch(e){case"primary":return Ik;case"secondary":return Tk;default:return Ik}}(e.tabTheme)})),kk=Ge.default.span.attrs((function(e){return{"data-component-name":e["data-component-name"]?"ProLabelTabStyle ".concat(e["data-component-name"]):"ProLabelTabStyle"}})).withConfig({displayName:"tab-list-style__ProLabelTabStyle",componentId:"sc-1t335tp-2"})(["padding-left:10px;display:inline-flex;"]);function Mk(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Bk(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bk(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bk(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jk(e){var t=e.className,n=void 0===t?"":t,r=e.tabList,o=void 0===r?[]:r,a=e.activeTab,i=void 0===a?"":a,c=e.onPropagateTabSelected,l=void 0===c?function(){}:c,s=e.theme,u=void 0===s?"primary":s,d=Mk((0,f.useState)(i),2),m=d[0],p=d[1],g=(0,T.v9)((function(e){return e.userCapabilities.capabilities.hasStock})),y=g.allowed,b=g.showBadge,v=g.tier||{},E=v.text,w=v.name;(0,f.useEffect)((function(){p(i)}),[i]);var A=(0,f.useCallback)((function(e,t){e.preventDefault(),e.stopPropagation(),p(t),l(t)}),[l]),C=(0,f.useMemo)((function(){return o.map((function(e){var t;return h().createElement(xk,{fontSize:(0,We.rem)(14),key:t=e.id,"data-key":t,className:"".concat(hk(m===e.id,"selected")),onClick:function(t){A(t,e.id)}},e.label,"stock"===e.id&&!y&&b?h().createElement(kk,null,h().createElement(_k,{labelText:E,tier:w,upsellTitle:oe.stockUpsellTitle(E),capabilityName:"stock",pageLocation:Ak,onClick:function(){Pi({location:Ak,pro_feature:"stock",plan:w})}})):null)}))}),[o,m,y,b,E,w,A]);return h().createElement(Ok,{tabTheme:u,align:"center",wrap:"wrap",className:"".concat(n),"data-component-name":"TabList"},C)}var Lk=(0,Ge.default)(Xe).attrs((function(e){return{"data-component-name":e["data-component-name"]?"MusicLibraryContainerStyled ".concat(e["data-component-name"]):"MusicLibraryContainerStyled"}})).withConfig({displayName:"music-library-container-style__MusicLibraryContainerStyled",componentId:"sc-1ve9e85-0"})(["width:100%;overflow-y:auto;height:100%;border-top:1px solid #fff;z-index:9;"]),Pk=(0,Ge.default)(et).attrs((function(e){return{"data-component-name":e["data-component-name"]?"VerticalContainer ".concat(e["data-component-name"]):"VerticalContainer"}})).withConfig({displayName:"music-library-container-style__VerticalContainer",componentId:"sc-1ve9e85-1"})(["display:flex;flex-direction:column;padding:0 ",";"],(0,We.rem)(20)),Nk=(0,Ge.default)(wk).attrs((function(e){return{"data-component-name":e["data-component-name"]?"ContentTab ".concat(e["data-component-name"]):"ContentTab"}})).withConfig({displayName:"music-library-container-style__ContentTab",componentId:"sc-1ve9e85-2"})(["flex:1;flex-direction:",";"],(function(e){return e.flex&&e.direction})),Dk=(0,Ge.default)(jk).attrs((function(e){return{"data-component-name":e["data-component-name"]?"MusicTabList ".concat(e["data-component-name"]):"MusicTabList"}})).withConfig({displayName:"music-library-container-style__MusicTabList",componentId:"sc-1ve9e85-3"})(["margin-bottom:",";"],(0,We.rem)(12)),Rk=(0,Ge.default)(Fw).attrs((function(e){return{"data-component-name":e["data-component-name"]?"UploadLegalModal ".concat(e["data-component-name"]):"UploadLegalModal"}})).withConfig({displayName:"music-library-container-style__UploadLegalModal",componentId:"sc-1ve9e85-4"})(["max-width:",";"],(0,We.rem)(338)),zk=(0,Ge.default)(Tv).attrs((function(e){return{"data-component-name":e["data-component-name"]?"UploadLegalModalOK ".concat(e["data-component-name"]):"UploadLegalModalOK"}})).withConfig({displayName:"music-library-container-style__UploadLegalModalOK",componentId:"sc-1ve9e85-5"})(["margin-left:",";"],(0,We.rem)(16)),Uk=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"UploadLegalContent ".concat(e["data-component-name"]):"UploadLegalContent"}})).withConfig({displayName:"music-library-container-style__UploadLegalContent",componentId:"sc-1ve9e85-6"})(["margin-top:",";margin-bottom:",";line-height:",";"],(0,We.rem)(24),(0,We.rem)(41),(0,We.rem)(24)),Fk=Ge.default.a.attrs((function(e){return{"data-component-name":e["data-component-name"]?"TermsAndCondition ".concat(e["data-component-name"]):"TermsAndCondition"}})).withConfig({displayName:"music-library-container-style__TermsAndCondition",componentId:"sc-1ve9e85-7"})(["cursor:pointer;color:",";text-decoration:none;"],(function(e){return qe(e,"theme.colors.primary",Kb)})),Hk=n(354922979515426),Vk=[".m4a",".m4p",".mp3",".wav",".wma",".ogg",".adts"],Wk=(0,Ge.default)(Xw).attrs((function(e){return{"data-component-name":e["data-component-name"]?"MusicToggle ".concat(e["data-component-name"]):"MusicToggle"}})).withConfig({displayName:"music-panelcomponent__MusicToggle",componentId:"sc-14l2ipf-0"})(["span{font-weight:bold;}"]),Gk=(0,Ge.default)(Ze).attrs((function(e){return{"data-component-name":e["data-component-name"]?"MusicPanelStyle ".concat(e["data-component-name"]):"MusicPanelStyle"}})).withConfig({displayName:"music-panelcomponent__MusicPanelStyle",componentId:"sc-14l2ipf-1"})(["flex:unset;"]),Yk=(0,Ge.default)(Hk.ButtonFileUpload).attrs((function(e){return{"data-component-name":e["data-component-name"]?"ButtonFileUploadWithFonts ".concat(e["data-component-name"]):"ButtonFileUploadWithFonts"}})).withConfig({displayName:"music-panelcomponent__ButtonFileUploadWithFonts",componentId:"sc-14l2ipf-2"})(["width:auto;white-space:nowrap;padding:0;font-family:'Helvetica Neue',Helvetica,Arial,sans-serif;margin-left:",";"],(0,We.rem)(42));const qk=function(e){var t=e.onMusicToggleSound,n=e.onUploadSoundTrack,r=e.isNoMusic,o=e.onUploadMusicClick,a=(0,T.v9)((function(e){return qe(e,"featureToggles.values.musicUpload",!1)})),i=(0,f.useCallback)((function(e){t(e.target.checked)}),[t]);return h().createElement(Gk,{align:"center","data-component-name":"MusicPanel"},h().createElement(Wk,{label:oe.MusicLibMusicPanelNoMusic,onChange:i,checked:r,value:"true",size:"lg"}),a?h().createElement("div",{role:"presentation",onClick:function(e){e.preventDefault(),o()}},h().createElement(Yk,{label:oe.MusicLibUploadYourMusic,id:"uploadButtonFileUpload",format:"secondary",accept:Vk,onClick:function(e){e.stopPropagation()},onChange:function(e){var t=e.target.files[0];Ei("click",ha,"music_upload",{}),Li({name:"vimeo.click_to_upload_your_music",product:Si,location:fa.location,flow:fa.flow},!1),e.target.value="",n(t)}})):null)};function Zk(){return(Zk=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Xk(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Kk(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Kk(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Kk(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Qk=(0,Ge.default)(Ze).attrs((function(e){return{"data-component-name":e["data-component-name"]?"TrackList ".concat(e["data-component-name"]):"TrackList"}})).withConfig({displayName:"music-recommended-trackscomponent__TrackList",componentId:"sc-15melhp-0"})(["margin-left:",";display:grid;grid-template-columns:repeat(auto-fit,minmax(",",1fr));"],(0,We.rem)(-16),(0,We.rem)(170));const $k=(0,T.$j)((function(e,t){return{themeId:Ye(e,"storyBoard.theme.id")||t.themeId}}))((function(e){var t=e.selectedTrackId,n=e.onSelectBox,r=e.themeId,o=e.renderStickyTop,a=e.forwardRef,i=e.shouldRenderList,c=e.handleMusicChangeStep,l=Xk(VT(a,i,"recommended tracks"),1)[0],s=Xk(UO("/api/musiclib/tracks?theme=".concat(r)),1)[0],u=s.data&&s.data.tracks||[];return(0,f.useEffect)((function(){if(s.data){var e=s.data.tracks||[];e.length>0&&!t&&n(e[0]),c&&c({type:to,payload:s.data.tracks[0]})}}),[s.data,t,n,c]),h().createElement(h().Fragment,null,h().createElement("div",{ref:l},o()),s.isFetching?h().createElement("div",{style:{marginLeft:(0,We.rem)(-16)}},FT(15,null,null,null,null,null,null,null,null,null,null,null,!0,!0)):h().createElement(Qk,null,u.length>0&&u.map((function(e){var r;return h().createElement(gO,Zk({key:r=e.id,"data-key":r},e,{selected:t===e.id,onSelectBox:n,tab:"recommended"}))}))))}));function Jk(){return(Jk=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function eM(e){return function(e){if(Array.isArray(e))return rM(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||nM(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tM(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||nM(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nM(e,t){if(e){if("string"==typeof e)return rM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rM(e,t):void 0}}function rM(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var oM=(0,Ge.default)(fv).attrs((function(e){return{"data-component-name":e["data-component-name"]?"NoResultTitle ".concat(e["data-component-name"]):"NoResultTitle"}})).withConfig({displayName:"music-recent-trackscomponent__NoResultTitle",componentId:"kmerdx-0"})(["margin-bottom:",";"],(0,We.rem)(10)),aM=(0,Ge.default)(Xe).attrs((function(e){return{"data-component-name":e["data-component-name"]?"NoRecentWrapper ".concat(e["data-component-name"]):"NoRecentWrapper"}})).withConfig({displayName:"music-recent-trackscomponent__NoRecentWrapper",componentId:"kmerdx-1"})(["height:100%;"]);function iM(e){var t=e.selectedTrackId,n=e.onSelectBox,r=e.externalLoadedFiles,o=e.setSyncLoading,a=e.isUploading,i=e.setEmptyState,c=tM((0,f.useState)([]),2),l=c[0],s=c[1],u=tM((0,f.useState)(!1),2),d=u[0],m=u[1];(0,f.useEffect)((function(){m(!0),Ht.get("/api/musiclib/tracks/recent").then((function(e){return e.data})).then((function(e){s(e.recent_tracks)})).finally((function(){m(!1),o(!0)}))}),[s,o]);var p=r.filter((function(e){return!l.some((function(t){return e.hash===t.hash}))})),g=[].concat(eM(p),eM(l)),y=0===g.length;i(y);var b=null;return d&&y&&(b=FT(15,null,null,null,null,null,null,null,null,null,null,null,!0,!0)),d||!y||a||(b=h().createElement(aM,{flex:"1",align:"center",justify:"center"},h().createElement(cM,null))),d||y||(b=g.length>0&&g.map((function(e){var r;return h().createElement(gO,Jk({key:r=e.id,"data-key":r},e,{selected:t===e.id,onSelectBox:n,tab:"recent"}))}))),h().createElement(h().Fragment,null,b)}var cM=function(){return h().createElement(h().Fragment,null,h().createElement(oM,{fontSize:(0,We.rem)(16),weight:"500"},oe.MusicLibMusicRecentTracksNoResultsTitle),h().createElement(mv,null,oe.MusicLibMusicRecentTracksNoResultsText))},lM=n(0x66aecdb4eb56),sM=(0,Ge.default)(bv.ButtonLoadingState).attrs((function(e){return{"data-component-name":e["data-component-name"]?"RemoveButtonSmallStyle ".concat(e["data-component-name"]):"RemoveButtonSmallStyle"}})).withConfig({displayName:"remove-button__RemoveButtonSmallStyle",componentId:"i4zrdg-0"})(["position:relative;min-height:auto;min-width:auto;width:32px;height:32px;border-radius:2px;background-color:#404040;border-color:#404040;padding:0;&:hover{background-color:#404040;border-color:#404040;color:#fff;}&:disabled{background-color:rgba(64,64,64,0.4);border-color:rgba(64,64,64,0.4);color:#fff;}svg{position:absolute;top:50%;right:50%;transform:translate(50%,-50%);height:",";width:",";}span{margin-right:0;}"],(0,We.rem)(24),(0,We.rem)(24));function uM(e){var t=e.isLoading,n=e.disabled,r=e.onClick;return(0,f.useMemo)((function(){return h().createElement(sM,{onClick:r,isLoading:t,disabled:n,icon:h().createElement(lM.Trash,null),"data-component-name":"removeButtonElement"})}),[t,n,r])}function dM(){return h().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",width:"24",height:"24",viewBox:"0 0 24 24","data-component-name":"ReplayIconSVG"},h().createElement("defs",null,h().createElement("path",{id:"a",d:"M9.888 1.034L9.044 9 18.008.205V18.01H.018V.03z"})),h().createElement("g",{fill:"none",fillRule:"evenodd"},h().createElement("path",{d:"M0 0h24v24H0z"}),h().createElement("g",{transform:"rotate(45 6.425 13.51)"},h().createElement("mask",{id:"b",fill:"#fff"},h().createElement("use",{href:"#a"})),h().createElement("circle",{cx:"9",cy:"9",r:"7",stroke:"#FFF",strokeWidth:"2",mask:"url(#b)"})),h().createElement("path",{stroke:"#FFF",strokeLinejoin:"round",strokeWidth:"2",d:"M17.146 2.297l-.006 5.658-5.679.027"})))}var mM=(0,Ge.default)(Ze).attrs((function(e){return{"data-component-name":e["data-component-name"]?"ReplayButtonSmallStyle ".concat(e["data-component-name"]):"ReplayButtonSmallStyle"}})).withConfig({displayName:"replay-button__ReplayButtonSmallStyle",componentId:"von4tt-0"})(["width:32px;height:32px;border-radius:2px;background-color:#404040;cursor:pointer;"]);function pM(e){var t=e.onClick,n=void 0===t?function(){}:t;return h().createElement(mM,{align:"center",justify:"center",onClick:n,"data-component-name":"RemoveButton"},h().createElement(dM,{width:"24",height:"24",center:!0}))}var fM=S("MusicUploadBoxComponent"),hM=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"MusicBoxWrapper ".concat(e["data-component-name"]):"MusicBoxWrapper"}})).withConfig({displayName:"music-upload-boxcomponent__MusicBoxWrapper",componentId:"sc-1yypy2b-0"})(["display:inline-block;width:",";height:",";margin:0 0 "," ",";"],(0,We.rem)(150),(0,We.rem)(200),(0,We.rem)(20),(0,We.rem)(16)),gM=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"MusicUploadBoxStyle ".concat(e["data-component-name"]):"MusicUploadBoxStyle"}})).withConfig({displayName:"music-upload-boxcomponent__MusicUploadBoxStyle",componentId:"sc-1yypy2b-1"})(["position:relative;width:",";height:",";background-color:#eef1f2;background-color:rgba(26,46,59,0.8) !important;border-radius:5px;"],(0,We.rem)(150),(0,We.rem)(150)),yM=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"ProgressBarStyle ".concat(e["data-component-name"]):"ProgressBarStyle"}})).withConfig({displayName:"music-upload-boxcomponent__ProgressBarStyle",componentId:"sc-1yypy2b-2"})(["position:absolute;bottom:",";"],(0,We.rem)(10)),bM=(0,Ge.default)(sv).attrs((function(e){return{"data-component-name":e["data-component-name"]?"MusicName ".concat(e["data-component-name"]):"MusicName"}})).withConfig({displayName:"music-upload-boxcomponent__MusicName",componentId:"sc-1yypy2b-3"})(["max-width:",";color:#1a2e3b;font-size:14px;line-height:20px;margin-top:",";"],(0,We.rem)(150),(0,We.rem)(4)),vM=(0,Ge.default)(sv).attrs((function(e){return{"data-component-name":e["data-component-name"]?"ArtistName ".concat(e["data-component-name"]):"ArtistName"}})).withConfig({displayName:"music-upload-boxcomponent__ArtistName",componentId:"sc-1yypy2b-4"})(["max-width:",";color:#8498a4;font-size:",";height:",";line-height:",";"],(0,We.rem)(150),(0,We.rem)(14),(0,We.rem)(20),(0,We.rem)(20)),EM=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"IndicatorInfo ".concat(e["data-component-name"]):"IndicatorInfo"}})).withConfig({displayName:"music-upload-boxcomponent__IndicatorInfo",componentId:"sc-1yypy2b-5"})(["position:absolute;bottom:",";color:#fff;font-size:",";padding:"," ",";align-self:flex-end;"],(0,We.rem)(15),(0,We.rem)(12),(0,We.rem)(4),(0,We.rem)(8));const wM=(0,f.memo)((function(e){var t,n,r=e.uploadFile,o=e.handleRemove,a=e.retryUpload,i=e.onSelectBox,c=e.recommendedTrack,l=(t=r.progress.loaded,n=r.progress.total,Math.round(100*t/n)),s=r.error,u=function(){var e={id:"n/a",name:r.fileName,album:"",artist:"",thumb:""};i(e)},d=(0,f.useCallback)((function(){i(c),o(r)}),[r]),m=(0,f.useCallback)((function(){var e=r.retryData,t=r.onCompleted;a(e,t,!0),u()}),[r]);return(0,f.useEffect)((function(){fM.info("Rendering",r)})),h().createElement(hM,{onClick:u,"data-component-name":"MusicUploadBox"},h().createElement(gM,null,h().createElement($e,{relativity:"absolute",top:"10px",right:"10px",zIndex:"2"},h().createElement(uM,{onClick:d})),s&&s.retry?h().createElement($e,{relativity:"absolute",top:"10px",right:"50px",zIndex:"2"},h().createElement(pM,{onClick:m})):null,h().createElement(oO,{height:"36%"}),h().createElement(EM,null,s?s.msg:""),h().createElement(yM,{className:"center"},h().createElement(SS,{hasError:!!s,progress:l,bgBarColor:"#fff"}))),h().createElement(bM,null,r.fileName),h().createElement(vM,null))}));function AM(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return CM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CM(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function CM(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var SM=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"RecentMusicWrapper ".concat(e["data-component-name"]):"RecentMusicWrapper"}})).withConfig({displayName:"recent-tracks-containercomponent__RecentMusicWrapper",componentId:"sc-1iya4q2-0"})(["margin-left:",";display:",";grid-template-columns:",";"],(0,We.rem)(-16),(function(e){return e.emptyState?"flex":"grid"}),(function(e){return e.loading?"repeat(auto-fit, minmax(".concat((0,We.rem)(170),", 1fr))"):"repeat(auto-fit, ".concat((0,We.rem)(172.8),")")}));function _M(e){var t=e.uploads,n=e.completed,r=e.removePendingUpload,o=e.retryUpload,a=e.onSelectBox,i=e.selectedTrackId,c=e.renderStickyTop,l=e.forwardRef,s=e.shouldRenderList,u=e.recommendedTrack,d=AM(VT(l,s,"recent tracks"),1)[0],m=AM((0,f.useState)(!1),2),p=m[0],g=m[1],y=AM((0,f.useState)(!1),2),b=y[0],v=y[1],E=t.length>0;return h().createElement(h().Fragment,null,h().createElement("div",{ref:d},c()),h().createElement(SM,{loading:!p,emptyState:b},p?t.map((function(e){var t;return h().createElement(wM,{onSelectBox:a,key:t=e.key,"data-key":t,uploadFile:e,handleRemove:r,retryUpload:o,recommendedTrack:u})})):null,h().createElement(iM,{onSelectBox:a,selectedTrackId:i,externalLoadedFiles:n,setSyncLoading:g,isUploading:E,setEmptyState:v})))}function xM(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return IM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return IM(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function IM(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const TM=(0,T.$j)((function(e){var t=e.upload;return{pending:t.pending,completed:t.completed}}),(function(e){return{uploadSoundTrack:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e(Er(t,n,r))},removePendingUpload:function(t){t.error||t.cancellationToken.cancel(),e({type:"REMOVE_PENDING_UPLOAD",payload:{pendingKey:t.key}})}}}))((function(e){var t=e.currentTrackModel,n=e.onMusicStatusChange,r=e.onSelectMusic,o=e.onSelectTab,a=e.renderHeader,i=e.themeId,c=e.activeTab,l=e.hideMusicPanel,s=e.uploadSoundTrack,u=e.pending,d=e.completed,m=e.removePendingUpload,p=e.handleMusicChangeStep,g=e.recommendedTrack,y=(0,f.useMemo)((function(){return[{id:"recommended",label:oe.MusicLibMusicLibraryContainerMusicTabListRecommended},{id:"all",label:oe.MusicLibMusicLibraryContainerMusicTabListAll},{id:"recent",label:oe.MusicLibMusicLibraryContainerMusicTabListRecent}]}),[]),b=(0,f.useRef)(null),v=(0,f.useRef)(t.id),E=xM((0,f.useState)(!1),2),w=E[0],A=E[1],C=(0,f.useCallback)((function(e){o(e)}),[o]),S=(0,f.useCallback)((function(e){t.id!==e.id&&(v.current=e.id,r(e))}),[t,r]),_=(0,f.useCallback)((function(e){if(o(AT),e){var t=function(e){var t=new FormData;return Object.keys(e).forEach((function(n){t.append(n,e[n])})),t}({file:e,vsid:Jo.vsid,file_name:e.name,only_library:!1,order:0,save_meta:!0}),n={key:Date.now(),formData:t},r={id:"n/a",name:e.name,album:"",artist:"",thumb:""};S(r),s(n,(function(e){"n/a"===v.current&&S(e)}))}}),[s,S,o]),x=(0,f.useCallback)((function(e){n(e)}),[n]),I=(0,f.useCallback)((function(){return h().createElement(Ze,{align:"center",justify:"space-between","data-component-name":"renderTabs"},h().createElement(Dk,{tabList:y,theme:"primary",activeTab:c,onPropagateTabSelected:C}),l?null:h().createElement(qk,{onMusicToggleSound:x,onUploadMusicClick:function(){A(!0)},onUploadSoundTrack:_,isNoMusic:t.id===CT.id}))}),[y,c,C,l,x,t.id,_]);return(0,f.useEffect)((function(){b.current.scrollTop=0}),[c]),(0,f.useEffect)((function(){w&&Ji({notification_name:"music_submission_terms"})}),[w]),h().createElement(Lk,{ref:b,flex:"1","data-component-name":"MusicLibraryContainer"},a(),h().createElement(Pk,{className:"sticky-boundary"},w?h().createElement(Rk,{overlayPosition:"fixed",title:oe.MusicLibModalLegalTitle,content:h().createElement(Uk,null,h().createElement("span",null,oe.MusicLibModalLegal((function(e){return h().createElement(Fk,{href:Ot.get("links.termsOfService"),target:"_blank",rel:"noopener noreferrer"},e)})))),footer:h().createElement(Ze,{justify:"flex-end"},h().createElement(Tv,{format:"secondary",onClick:function(){ec({notification_name:"music_submission_terms",cta:"cancel"}),A(!1),ec({notification_name:"music_submission_terms",cta:"enable media access"})}},oe.Cancel),h().createElement(zk,{format:"primary",onClick:function(){ec({notification_name:"music_submission_terms",cta:"agree"}),A(!1),ec({notification_name:"music_submission_terms",cta:"enable media access"}),document.getElementById("uploadButtonFileUpload").click()}},oe.MusicLibModalLegalOK)),onClose:function(){ec({notification_name:"music_submission_terms",cta:"x"}),A(!1)}}):null,h().createElement(Nk,{value:c,index:ET},h().createElement($k,{onSelectBox:S,selectedTrackId:t.id,renderStickyTop:I,themeId:i,shouldRenderList:c===ET,forwardRef:b,handleMusicChangeStep:p})),h().createElement(Nk,{value:c,index:wT,flex:!0},h().createElement(pk,{onSelectBox:S,selectedTrackId:t.id,shouldRenderList:c===wT,handleTabChange:C,renderStickyTop:I,forwardRef:b})),h().createElement(Nk,{value:c,index:AT,flex:!0,direction:"column"},h().createElement(_M,{uploads:u,completed:d,removePendingUpload:m,retryUpload:s,onSelectBox:S,selectedTrackId:t.id,renderStickyTop:I,shouldRenderList:c===AT,forwardRef:b,recommendedTrack:g}))))}));var OM=(0,Ge.default)(Xe).attrs((function(e){return{"data-component-name":e["data-component-name"]?"SelectedMusicDescription ".concat(e["data-component-name"]):"SelectedMusicDescription"}})).withConfig({displayName:"selected-music-boxcomponent__SelectedMusicDescription",componentId:"p34gcr-0"})(["max-width:",";height:100%;"],(0,We.rem)(250)),kM=(0,Ge.default)(Ze).attrs((function(e){return{"data-component-name":e["data-component-name"]?"SelectedMusicWrapper ".concat(e["data-component-name"]):"SelectedMusicWrapper"}})).withConfig({displayName:"selected-music-boxcomponent__SelectedMusicWrapper",componentId:"p34gcr-1"})(["height:",";img{border-radius:5px;}"],(0,We.rem)(44)),MM=(0,Ge.default)(uv).attrs((function(e){return{"data-component-name":e["data-component-name"]?"SongName ".concat(e["data-component-name"]):"SongName"}})).withConfig({displayName:"selected-music-boxcomponent__SongName",componentId:"p34gcr-2"})(["line-height:",";font-weight:500;"],(0,We.rem)(20)),BM=(0,Ge.default)(dv).attrs((function(e){return{"data-component-name":e["data-component-name"]?"ArtistName ".concat(e["data-component-name"]):"ArtistName"}})).withConfig({displayName:"selected-music-boxcomponent__ArtistName",componentId:"p34gcr-3"})(["line-height:normal;font-size:",";"],(0,We.rem)(12)),jM=function(){return h().createElement(OM,{justify:"center","data-component-name":"NoMusic"},h().createElement(sv,null,h().createElement(fv,{weight:"500"},oe.MusicLibSelectedMusicBoxNoMusicText1)),h().createElement(pv,{fontSize:(0,We.rem)(12)},oe.MusicLibSelectedMusicBoxNoMusicText2))},LM=function(e){var t=e.thumb,n=e.name,r=e.artist,o=e.url;return h().createElement(h().Fragment,null,h().createElement(vO,{url:o,thumb:t}),h().createElement(OM,null,h().createElement(mv,{fontSize:(0,We.rem)(10)},oe.MusicLibSelectedMusicBoxDescriptionCurrent),h().createElement(MM,null,n),h().createElement(BM,null,r)))};function PM(e){var t=e.currentTrackModel;return t.id?h().createElement(kM,{"data-component-name":"SelectedMusicBox"},21306===t.id?h().createElement(jM,null):h().createElement(LM,t)):h().createElement(Ke,{flex:"1","data-component-name":"SelectedMusicBox"})}function NM(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return DM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DM(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function DM(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const RM=(0,T.$j)((function(e,t){var n={id:e.storyBoard&&e.storyBoard.sound?e.storyBoard.sound.id:t&&t.trackModel&&t.trackModel.id,hash:e.storyBoard&&e.storyBoard.sound?e.storyBoard.sound.hash:t&&t.trackModel&&t.trackModel.hash,thumb:e.storyBoard&&e.storyBoard.sound?e.storyBoard.sound.thumb:t&&t.trackModel&&t.trackModel.thumb,name:e.storyBoard&&e.storyBoard.sound?e.storyBoard.sound.name:t&&t.trackModel&&t.trackModel.name,url:e.storyBoard&&e.storyBoard.sound?e.storyBoard.sound.url:t&&t.trackModel&&t.trackModel.url,album:e.storyBoard&&e.storyBoard.sound?e.storyBoard.sound.album:t&&t.trackModel&&t.trackModel.album,artist:e.storyBoard&&e.storyBoard.sound?e.storyBoard.sound.artist:t&&t.trackModel&&t.trackModel.artist,no_music:e.storyBoard&&e.storyBoard.sound?e.storyBoard.sound.no_music:t&&t.trackModel&&t.trackModel.no_music};return{trackId:e.storyBoard&&e.storyBoard.sound?e.storyBoard.sound.id:t&&t.trackModel&&t.trackModel.id,trackModel:n}}))((function(e){var t=e.themeId,n=e.trackModel,r=e.closeModal,o=e.onCreate,a=NM((0,f.useState)(n),2),i=a[0],c=a[1],l=vT(i),s=NM((0,f.useState)(ET),2),u=s[0],d=s[1],m=(0,f.useCallback)((function(e){c(e?CT:l||CT)}),[l]),p=(0,f.useCallback)((function(e){c(e)}),[]),g=(0,f.useCallback)((function(e){e!==u&&d(e)}),[u]),y=(0,f.useCallback)((function(){return h().createElement(_T,{align:"center","data-component-name":"renderHeader"},h().createElement(Ke,{flex:"1"},h().createElement(gv,null,oe.MusicLibModalTitleChooseMusic)),h().createElement(Mv,{onClick:r}))}),[r]),b=(0,f.useCallback)((function(){return null}),[]);return h().createElement(Jv,{withStyle:ST,"data-component-name":"MusicLibraryModal","data-key":e["data-key"]},h().createElement(TT,{align:"center"},y(),h().createElement(TM,{themeId:t,onSelectTab:g,onMusicStatusChange:m,onSelectMusic:p,currentTrackModel:i,activeTab:u,renderHeader:b})),h().createElement(xT,null,h().createElement(et,{padding:"0 ".concat((0,We.rem)(30))},h().createElement(Ze,{align:"center",justify:"space-between"},h().createElement(PM,{currentTrackModel:i}),h().createElement(Ze,{align:"center",justify:"space-between"},h().createElement(IT,{format:"secondary",onClick:r},oe.Cancel),h().createElement(IT,{format:"primary",isLast:!0,onClick:function(){o(i)},disabled:"n/a"===i.id},oe.Done))))))}));var zM=(0,Ge.default)(Ze).attrs((function(e){return{"data-component-name":e["data-component-name"]?"MuteUnMuteButtonContainer ".concat(e["data-component-name"]):"MuteUnMuteButtonContainer"}})).withConfig({displayName:"mute-buttoncomponent__MuteUnMuteButtonContainer",componentId:"ekwbo7-0"})(["cursor:pointer;"]),UM=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"MuteUnMuteButtonSmallStyle ".concat(e["data-component-name"]):"MuteUnMuteButtonSmallStyle"}})).withConfig({displayName:"mute-buttoncomponent__MuteUnMuteButtonSmallStyle",componentId:"ekwbo7-1"})(["width:32px;height:32px;border-radius:2px;background-color:#404040;"]);function FM(e){var t=e.muted,n=void 0!==t&&t,r=e.onClick,o=void 0===r?function(){}:r;return h().createElement(zM,{justify:"center",onClick:o,"data-component-name":"MuteUnMuteButton"},h().createElement(UM,null,n?h().createElement(VM,null):h().createElement(HM,null)))}function HM(){return h().createElement(Je,{relativity:"absolute","data-component-name":"SpeakerIcon"},h().createElement(nO,null))}function VM(){return h().createElement(Je,{relativity:"absolute","data-component-name":"SpeakerOffIcon"},h().createElement(rO,null))}function WM(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return GM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GM(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function GM(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var YM=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"ThemeModalOverlay ".concat(e["data-component-name"]):"ThemeModalOverlay"}})).withConfig({displayName:"video-modalcomponent__ThemeModalOverlay",componentId:"sc-1qdn2fv-0"})(["position:absolute;top:0;left:0;height:100%;width:100%;background-color:rgba(0,0,0,0.4);z-index:20;"]),qM=(0,Ge.default)(Qe).attrs((function(e){return{"data-component-name":e["data-component-name"]?"ThemeModal ".concat(e["data-component-name"]):"ThemeModal"}})).withConfig({displayName:"video-modalcomponent__ThemeModal",componentId:"sc-1qdn2fv-1"})(["background-color:#fff;height:",";width:",";border-radius:3px;box-shadow:0 6px 10px 0 rgba(0,0,0,0.12);@media screen and (max-width:","){width:",";}@media screen and (max-width:","){width:",";}@media screen and (max-width:","){width:",";}"],(0,We.rem)(530),(0,We.rem)(660),(0,We.rem)(768),(0,We.rem)(620),(0,We.rem)(640),(0,We.rem)(540),(0,We.rem)(592),(0,We.rem)(496)),ZM=(0,Ge.default)(Xe).attrs((function(e){return{"data-component-name":e["data-component-name"]?"ThemeModalContainer ".concat(e["data-component-name"]):"ThemeModalContainer"}})).withConfig({displayName:"video-modalcomponent__ThemeModalContainer",componentId:"sc-1qdn2fv-2"})(["height:100%;width:100%;justify-content:space-between;"]),XM=(0,Ge.default)(Ze).attrs((function(e){return{"data-component-name":e["data-component-name"]?"ThemeModalFooter ".concat(e["data-component-name"]):"ThemeModalFooter"}})).withConfig({displayName:"video-modalcomponent__ThemeModalFooter",componentId:"sc-1qdn2fv-3"})(["background-color:#fff;padding:"," ",";flex-basis:auto;border-bottom-left-radius:3px;border-bottom-right-radius:3px;"],(0,We.rem)(15),(0,We.rem)(20)),KM=(0,Ge.default)(Tv).attrs((function(e){return{"data-component-name":e["data-component-name"]?"ModalButton ".concat(e["data-component-name"]):"ModalButton"}})).withConfig({displayName:"video-modalcomponent__ModalButton",componentId:"sc-1qdn2fv-4"})(["height:",";width:",";text-align:center;border-radius:3px;cursor:pointer;"],(0,We.rem)(40),(0,We.rem)(95)),QM=(0,Ge.default)(Ze).attrs((function(e){return{"data-component-name":e["data-component-name"]?"VideoContentWrapper ".concat(e["data-component-name"]):"VideoContentWrapper"}})).withConfig({displayName:"video-modalcomponent__VideoContentWrapper",componentId:"sc-1qdn2fv-5"})(["position:relative;"]),$M=(0,Ge.default)(fv).attrs((function(e){return{"data-component-name":e["data-component-name"]?"ThemeModalTitle ".concat(e["data-component-name"]):"ThemeModalTitle"}})).withConfig({displayName:"video-modalcomponent__ThemeModalTitle",componentId:"sc-1qdn2fv-6"})(["display:flex;align-items:center;font-size:",";letter-spacing:",";line-height:",";font-weight:500;max-width:70%;& > span{margin-left:10px;}"],(0,We.rem)(18),(0,We.rem)(1),(0,We.rem)(24)),JM=(0,Ge.default)(Ze).attrs((function(e){return{"data-component-name":e["data-component-name"]?"ThemeModalHeader ".concat(e["data-component-name"]):"ThemeModalHeader"}})).withConfig({displayName:"video-modalcomponent__ThemeModalHeader",componentId:"sc-1qdn2fv-7"})(["padding:20px;"]);function eB(e){var t=e.id,n=e.autoPlay,r=void 0!==n&&n,o=e.src,a=e.type,i=e.image,c=e.muted,l=void 0!==c&&c,s=e.showMute,u=void 0===s||s,d=e.title,m=void 0===d?"":d,p=e.onClose,g=void 0===p?function(){}:p,y=e.onButtonClick,b=void 0===y?function(){}:y,v=e.buttonText,E=void 0===v?"":v,w=e.buttonClass,A=void 0===w?"":w,C=e.isInModal,S=void 0!==C&&C,_=e.context,x=void 0===_?"general":_,I=e.showBadgeLabel,O=void 0!==I&&I,k=WM(wA((function(){return g(!1)})),1)[0],M=WM((0,f.useState)(l),2),B=M[0],j=M[1],L=(0,T.v9)((function(e){return e.userCapabilities.capabilities.hasStock})),P=L.allowed,N=L.showBadge,D=L.tier||{},R=D.text,z=D.name;return h().createElement(YM,{"data-component-name":"VideoModal"},h().createElement(qM,{ref:k},h().createElement(ZM,null,h().createElement(JM,{align:"center",justify:"space-between"},h().createElement($M,null,h().createElement(sv,null,m),O&&!P&&N?h().createElement(_k,{labelText:R,tier:z,capabilityName:"stock",pageLocation:Ak,onClick:function(){Pi({location:Ak,pro_feature:x,plan:z})}}):null),h().createElement(Mv,{onClick:g})),o&&"video"===a?h().createElement(QM,{flex:"1"},h().createElement(ex,{src:o,isPlaying:r,muted:B,loop:!0,isInModal:S,preload:"true"}),u?h().createElement($e,{relativity:"absolute",top:"10px",right:"10px"},h().createElement(FM,{muted:B,onClick:function(){return j(!B)}})):null):null,i&&"image"===a?h().createElement(oC,{src:i,mode:"original"}):null,h().createElement(XM,{justify:"flex-end"},h().createElement(KM,{className:A,onClick:function(){b(t)}},E)))))}var tB=function(e){var t=e.width,n=void 0===t?"100%":t,r=e.height,o=void 0===r?"100%":r,a=e.center,i=void 0!==a&&a;return h().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:o,className:i?"center-icon":"",viewBox:"0 0 24 24","data-component-name":"ZoomIconSVG"},h().createElement("g",{fill:"none",fillRule:"evenodd"},h().createElement("path",{d:"M0 0h24v24H0z"}),h().createElement("path",{stroke:"#FFF",strokeLinejoin:"round",strokeWidth:"2",d:"M21 16v5h-4.995M16 3.01h5V8"}),h().createElement("path",{stroke:"#FFF",strokeLinejoin:"round",strokeWidth:"2",d:"M16 3.01h5V8M8 3H3v5M8 21H3v-5"}),h().createElement("path",{stroke:"#FFF",strokeLinecap:"square",strokeWidth:"2",d:"M3.5 3.5L8 8M20.5 3.5L16 8"}),h().createElement("path",{stroke:"#FFF",strokeLinecap:"square",strokeLinejoin:"round",strokeWidth:"2",d:"M8 16l-4.5 4.5"}),h().createElement("path",{stroke:"#FFF",strokeLinecap:"square",strokeWidth:"2",d:"M16 16l4.5 4.502"})))},nB=(0,Ge.default)(Qe).attrs((function(e){return{"data-component-name":e["data-component-name"]?"FullScreenOverlay ".concat(e["data-component-name"]):"FullScreenOverlay"}})).withConfig({displayName:"selected-theme-box-style__FullScreenOverlay",componentId:"idh6x-0"})(["height:100%;width:100%;background-color:rgba(31,31,31,0.6);z-index:1;cursor:pointer;border-radius:5px;"]),rB=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"SelectedHoverBox ".concat(e["data-component-name"]):"SelectedHoverBox"}})).withConfig({displayName:"selected-theme-box-style__SelectedHoverBox",componentId:"idh6x-1"})(["position:relative;width:",";height:100%;background-color:#eef1f2;margin-right:",";"],(0,We.rem)(44),(0,We.rem)(10)),oB=(0,Ge.default)(Xe).attrs((function(e){return{"data-component-name":e["data-component-name"]?"SelectedThemeDescription ".concat(e["data-component-name"]):"SelectedThemeDescription"}})).withConfig({displayName:"selected-theme-box-style__SelectedThemeDescription",componentId:"idh6x-2"})(["max-width:",";height:100%;"],(0,We.rem)(250)),aB=(0,Ge.default)(Ze).attrs((function(e){return{"data-component-name":e["data-component-name"]?"SelectedThemeWrapper ".concat(e["data-component-name"]):"SelectedThemeWrapper"}})).withConfig({displayName:"selected-theme-box-style__SelectedThemeWrapper",componentId:"idh6x-3"})(["height:",";flex:1;img{border-radius:5px;}"],(0,We.rem)(44)),iB=(0,Ge.default)(uv).attrs((function(e){return{"data-component-name":e["data-component-name"]?"ThemeName ".concat(e["data-component-name"]):"ThemeName"}})).withConfig({displayName:"selected-theme-box-style__ThemeName",componentId:"idh6x-4"})(["line-height:",";font-weight:500;"],(0,We.rem)(20));function cB(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return lB(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lB(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lB(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var sB=(0,Ge.default)(_k).attrs((function(e){return{"data-component-name":e["data-component-name"]?"FloattingProLabel ".concat(e["data-component-name"]):"FloattingProLabel"}})).withConfig({displayName:"selected-theme-boxcomponent__FloattingProLabel",componentId:"v975w3-0"})(["position:absolute;top:3px;right:2px;"]);function uB(e){var t=e.thumb,n=e.name,r=e.plan_type,o=e.onExpandThemeModal,a=cB(IA(),2),i=a[0],c=a[1],l=-1!==(0,T.v9)((function(e){return e.userCapabilities.showTierBadges})).indexOf(r);return(0,f.useEffect)((function(){Zi({category:n,category_type:"theme",via:"default"})}),[n]),h().createElement(aB,{"data-component-name":"SelectedThemeBox"},h().createElement(rB,{ref:i},h().createElement(oC,{src:t,mode:"stretch"}),yt[r]&&l?h().createElement(sB,{labelText:yt[r].text,tier:yt[r].name}):null,c?h().createElement(nB,{onClick:function(){var e,t;Ei("click",ha,"theme_preview_screen"),t={name:fi,product:Si,location:Ca,flow:ha,version:2},Li(t=sa(sa({},e={theme_name:n,via:"drawer"}),t)),vi(oa,fi,sa({type:xi,location:Ca,flow:ha},e)),o()}},h().createElement(tB,{width:"50%",height:"50%",center:!0})):null),h().createElement(oB,{justify:"center"},h().createElement(mv,{color:"#8498a4",fontSize:"10px"},oe.ThemeLibSelectedThemeBoxCurrentlySelected),h().createElement(iB,null,h().createElement(sv,null,n))))}(0,We.rem)(530),(0,We.rem)(660);var dB=(0,Ge.default)(Xe).attrs((function(e){return{"data-component-name":e["data-component-name"]?"LoaderWrapper ".concat(e["data-component-name"]):"LoaderWrapper"}})).withConfig({displayName:"modal-preloader-container-style__LoaderWrapper",componentId:"sc-169uqh5-4"})(["height:100%;width:100%;position:absolute;background-color:",";"],(function(e){return e.withDarkOverlay?"rgba(0, 0, 0, 0.5)":"none"})),mB=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"VideoThumbnailContainer ".concat(e["data-component-name"]):"VideoThumbnailContainer"}})).withConfig({displayName:"video-thumbnail-style__VideoThumbnailContainer",componentId:"gzfy3n-0"})(["position:relative;width:100%;height:100%;"]),pB=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"VideoContainer ".concat(e["data-component-name"]):"VideoContainer"}})).withConfig({displayName:"video-thumbnail-style__VideoContainer",componentId:"gzfy3n-1"})(["position:absolute;width:100%;height:100%;"]),fB=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"ImagePosterContainer ".concat(e["data-component-name"]):"ImagePosterContainer"}})).withConfig({displayName:"video-thumbnail-style__ImagePosterContainer",componentId:"gzfy3n-2"})(["position:absolute;width:100%;height:100%;"]),hB=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"ExternalControls ".concat(e["data-component-name"]):"ExternalControls"}})).withConfig({displayName:"video-thumbnail-style__ExternalControls",componentId:"gzfy3n-3"})(["position:absolute;width:100%;height:100%;z-index:1;"]);function gB(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return yB(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yB(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yB(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var bB="always",vB="hover";function EB(e){var t=e.id,n=e.src,r=e.vidPoster,o=e.imgPoster,a=e.pIsPlaying,i=void 0!==a&&a,c=e.muted,l=void 0!==c&&c,s=e.delay,u=e.loop,d=void 0!==u&&u,m=e.preload,p=void 0===m?"none":m,g=e.className,y=void 0===g?"":g,b=e.onSelect,v=void 0===b?function(){}:b,E=e.controls,w=void 0===E?[]:E,A=e.withPreloader,C=void 0!==A&&A,S=e.style,_=void 0===S?{}:S,x=e.borderRadius,I=(0,f.useRef)(null),T=gB((0,f.useState)(i),2),O=T[0],k=T[1],M=gB((0,f.useState)(!1),2),B=M[0],j=M[1],L=Z_(),P=(0,f.useMemo)((function(){return!!L.isSafari||l}),[L,l]),N=gB((0,f.useState)(!1),2),D=N[0],R=N[1],z=gB(xA((function(){I&&I.current&&clearTimeout(I.current),I.current=setTimeout((function(){k(!0)}),s)}),(function(){I&&I.current&&clearTimeout(I.current),k(!1),j(!1),R(!1)})),3),U=z[1],F=z[2],H=(0,f.useCallback)((function(){j(!0)}),[]),V=hk(!F||!B,"","hide"),W=hk(F&&B,"","hide"),G=hk(F&&!B,"","hide");return h().createElement(mB,{className:"".concat(y),ref:U,onClick:function(){v({id:t,src:n,vidPoster:r,imgPoster:o})},"data-component-name":"VideoThumbnail"},h().createElement(pB,{className:"".concat(W)},n&&O?h().createElement(ex,{src:n,isPlaying:O,playAgain:!0,onCanPlay:H,poster:r,loop:d,preload:p,muted:P,setIsBuffering:R,className:"".concat(y)}):null),h().createElement(fB,{className:"".concat(V," video-thumbnail-poster")},h().createElement(oC,{mode:"stretch",src:o,style:_,borderRadius:x})),C&&D?h().createElement(dB,{align:"center",justify:"center",className:"".concat(G," circular-loader-overlay"),withDarkOverlay:!0},h().createElement(NE,{size:"xl"})):null,w.length>0?h().createElement(hB,null,w.map((function(e){return e&&e.display===vB&&F||e&&e.display===bB?e.control:null}))):null)}var wB=(0,Ge.default)(fv).attrs((function(e){return{"data-component-name":e["data-component-name"]?"ThemeName ".concat(e["data-component-name"]):"ThemeName"}})).withConfig({displayName:"theme-box-style__ThemeName",componentId:"sc-5bc3n1-0"})(["max-width:",";margin-top:",";font-weight:500;line-height:1.43;"],(0,We.rem)(225),(0,We.rem)(7)),AB=(0,Ge.default)(Ze).attrs((function(e){return{"data-component-name":e["data-component-name"]?"ThemeNameAndLabels ".concat(e["data-component-name"]):"ThemeNameAndLabels"}})).withConfig({displayName:"theme-box-style__ThemeNameAndLabels",componentId:"sc-5bc3n1-1"})(["& > *{margin-right:10px;}&:last-child{margin-right:0;}"]),CB=(0,Ge.default)(tO).attrs((function(e){return{"data-component-name":e["data-component-name"]?"ThemeBoxSize ".concat(e["data-component-name"]):"ThemeBoxSize"}})).withConfig({displayName:"theme-box-style__ThemeBoxSize",componentId:"sc-5bc3n1-2"})(["cursor:pointer;height:",";width:",";video{border-radius:5px;}img{border-radius:5px;}video{border-radius:5px;}.theme-box-size{border-radius:5px;}.circular-loader-overlay{border-radius:5px;}.video-thumbnail-poster{border-radius:5px;}"],(0,We.rem)(140),(0,We.rem)(225)),SB=(0,Ge.default)(Xe).attrs((function(e){return{"data-component-name":e["data-component-name"]?"ThemeBoxWrapper ".concat(e["data-component-name"]):"ThemeBoxWrapper"}})).withConfig({displayName:"theme-box-style__ThemeBoxWrapper",componentId:"sc-5bc3n1-3"})(["position:relative;height:",";margin:0 0 "," ",";"],(0,We.rem)(170),(0,We.rem)(40),(0,We.rem)(25)),_B=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"AllowedForPackageType ".concat(e["data-component-name"]):"AllowedForPackageType"}})).withConfig({displayName:"theme-box-style__AllowedForPackageType",componentId:"sc-5bc3n1-4"})(["position:absolute;height:16px;background-color:#f6f7f8;color:#1a2e3b;border 1px solid #b3bfc8;padding:2px 7px;font-weight:bold;font-size:10px;line-height:100%;text-align:center;top:8px;right:8px;border-radius:5px;z-index:2;box-shadow:0 1px 2px 0 rgba(0,0,0,0.08);"]);function xB(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function IB(e){var t,n=e.isThemeSelected,r=e.onSelectTheme,o=e.trackLocation,a=e.plan_type,i=e.withPreloader,c=void 0!==i&&i,l=e.containerName,s=xB(e,["isThemeSelected","onSelectTheme","trackLocation","plan_type","withPreloader","containerName"]),u=(0,T.v9)((function(e){return e.userCapabilities.showTierBadges})),d=(0,T.v9)((function(e){return e.userCapabilities.isUpsellBlocker})),m=(0,f.useCallback)((function(e){return-1!==u.indexOf(e)}),[u]),p=s.label,g=s.package_type,y=function(e){return"Marketers"===e?"Business":e||""}(p),b=(0,f.useCallback)((function(){var e,t;if(!n)if(e={theme_name:s.name,theme_id:"".concat(s.id),theme_color:"".concat(s.colors),theme_font:s.font,is_free_theme:1!==s.is_premium},t={name:Ua,product:Si,location:Ca,flow:fa.flow,version:5},Li(t=sa(sa({},e),t)),vi(oa,Ua,sa({type:xi,location:Ca,flow:fa.flow},e)),d||m(g)){var a,i=(null===(a=yt[s.package_type])||void 0===a?void 0:a.text)||"";zc.onSelectTheme({packageType:g,origin:o,planType:s.package_type,vsid:Jo.vsid,upsellTitle:oe.themeUpsellTitle(i)}).then((function(){r(s)})).catch((function(){d||r(s)}))}else r(s)}),[n,s,d,m,g,o,r]),v=(0,T.v9)((function(e){return qe(e,"featureToggles.values.themePackageLabel",!0)})),E=(0,f.useMemo)((function(){return y&&v?h().createElement(_B,{"data-component-name":"packageTypeLabel"},y):null}),[y,v]);return h().createElement(h().Fragment,null,h().createElement(SB,{role:"presentation",key:t=s.id,"data-key":t,onClick:b},h().createElement(CB,{className:"theme-box-size",selected:n,borderRadius:!0},E,h().createElement(EB,{id:s.id,src:s.video,imgPoster:s.thumb,name:s.name,delay:0,preload:"auto",loop:!0,withPreloader:c,controls:[]})),h().createElement(wB,null,h().createElement(AB,null,h().createElement(Ke,null,s.name),g&&yt[g]&&m(g)?h().createElement(_k,{labelText:yt[g].text,tier:yt[g].name,capabilityName:"style",pageLocation:l,onClick:function(e){e.preventDefault(),e.stopPropagation(),Pi({location:o,pro_feature:"theme",plan:a})}}):null))))}var TB=(0,Ge.default)(Xe).attrs((function(e){return{"data-component-name":e["data-component-name"]?"ThemeLibraryContainerStyled ".concat(e["data-component-name"]):"ThemeLibraryContainerStyled"}})).withConfig({displayName:"theme-library-container-style__ThemeLibraryContainerStyled",componentId:"sc-1d7x13f-0"})(["width:100%;height:100%;overflow-y:auto;border-top:1px solid #fff;z-index:9;"]),OB=(0,Ge.default)(et).attrs((function(e){return{"data-component-name":e["data-component-name"]?"VerticalContainer ".concat(e["data-component-name"]):"VerticalContainer"}})).withConfig({displayName:"theme-library-container-style__VerticalContainer",componentId:"sc-1d7x13f-1"})(["display:flex;flex-direction:column;padding:0 ",";"],(0,We.rem)(30)),kB=(0,Ge.default)(jk).attrs((function(e){return{"data-component-name":e["data-component-name"]?"ThemeTagList ".concat(e["data-component-name"]):"ThemeTagList"}})).withConfig({displayName:"theme-library-container-style__ThemeTagList",componentId:"sc-1d7x13f-2"})(["margin:"," 0;"],(0,We.rem)(24)),MB=(0,Ge.default)(Ze).attrs((function(e){return{"data-component-name":e["data-component-name"]?"ThemeDisplayContainer ".concat(e["data-component-name"]):"ThemeDisplayContainer"}})).withConfig({displayName:"theme-library-container-style__ThemeDisplayContainer",componentId:"sc-1d7x13f-3"})(["margin-left:",";flex-basis:auto;"],(0,We.rem)(-25));function BB(){return(BB=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function jB(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return LB(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LB(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function LB(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function PB(e){var t=e.themes,n=e.selectedThemeId,r=e.onSelectTheme,o=e.showThemeTags,a=e.themeTags,i=e.selectedThemeTagId,c=e.onSelectThemeTag,l=e.isLoading,s=e.trackLocation,u=e.renderHeader,d=e.stickyHeader,m=void 0!==d&&d,p=e.withPreloader,g=void 0!==p&&p,y=e.deepLinksTheme,b=void 0===y?{}:y,v=e.containerName,E=(0,f.useRef)(null),w=!(!o||!a),A=jB(VT(E,w,"theme"),1)[0];return(0,f.useEffect)((function(){var e,t;!!b.category&&(e={category:b.category,via:"deeplink_CRM"},t={name:za,product:Si,location:Ca,flow:fa.flow,type:_i,via:"default",version:4},Li(t=sa(sa({},e),t)),vi(oa,za,sa({type:_i,flow:fa.flow},e)),vi("braze","trigger_screen_editingstyles",sa({flow:fa.flow},e)),Zi({category:b.category,category_type:"theme",via:"deeplink_CRM"}))}),[b.category]),(0,f.useEffect)((function(){E.current.scrollTop=0}),[i]),h().createElement(TB,{ref:E,"data-component-name":"ThemeLibraryContainer"},!m&&u&&u(),h().createElement(OB,{className:"sticky-boundary"},h().createElement("div",{ref:A},m&&u&&u(),w?h().createElement(kB,{tabList:a,theme:"secondary",activeTab:i,onPropagateTabSelected:c}):null),h().createElement(MB,{wrap:"wrap",align:"center"},l?FT(10,!1,!0,(0,We.rem)(140),(0,We.rem)(12),(0,We.rem)(16),(0,We.rem)(225),(0,We.rem)(225),!1):t.map((function(e){var t;return h().createElement(IB,BB({key:t=e.id,"data-key":t,isThemeSelected:n===e.id,onSelectTheme:r,trackLocation:s,withPreloader:g},e,{containerName:v}))}))||null)))}function NB(){return(NB=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function DB(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return RB(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RB(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function RB(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var zB=S("ThemeLibModal"),UB=function(){return(0,Ge.css)(["display:flex;flex-direction:column;height:100%;max-width:",";width:",";"],(0,We.rem)(1051),(0,We.rem)(1051))},FB=(0,Ge.default)(Ze).attrs((function(e){return{"data-component-name":e["data-component-name"]?"ModalHeader ".concat(e["data-component-name"]):"ModalHeader"}})).withConfig({displayName:"modal__ModalHeader",componentId:"sc-1srubtj-0"})(["padding:"," 0 "," 0;width:100%;flex-basis:auto;"],(0,We.rem)(25),(0,We.rem)(15)),HB=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"CartModal ".concat(e["data-component-name"]):"CartModal"}})).withConfig({displayName:"modal__CartModal",componentId:"sc-1srubtj-1"})(["width:100%;bottom:0;padding:"," 0;box-shadow:0 -4px 4px 0 rgba(0,0,0,0.11);z-index:10;background-color:#fff;"],(0,We.rem)(16)),VB=(0,Ge.default)(Tv).attrs((function(e){return{"data-component-name":e["data-component-name"]?"ModalButton ".concat(e["data-component-name"]):"ModalButton"}})).withConfig({displayName:"modal__ModalButton",componentId:"sc-1srubtj-2"})(["width:",";margin-right:",";"],(0,We.rem)(150),(0,We.rem)(15)),WB=(0,Ge.default)(Xe).attrs((function(e){return{"data-component-name":e["data-component-name"]?"ModalContent ".concat(e["data-component-name"]):"ModalContent"}})).withConfig({displayName:"modal__ModalContent",componentId:"sc-1srubtj-3"})(["flex:1;width:100%;flex-basis:auto;overflow-y:auto;"]);const GB=(0,T.$j)((function(e,t){return{themeModel:e.storyBoard&&e.storyBoard.theme||t.themeModel,showThemeTagsFT:e.featureToggles.values.themeTags}}))((function(e){var t=e.themeModel,n=e.closeModal,r=e.onCreate,o=e.showThemeTagsFT,a=e.trackLocation,i=void 0===a?"style_screen":a,c=DB((0,f.useState)(t),2),l=c[0],s=c[1],u=DB(TA(!1),2),d=u[0],m=u[1],p=DB((0,f.useState)(),2),g=p[0],y=p[1],b=DB((0,f.useState)([]),2),v=b[0],E=b[1],w=DB((0,f.useState)([]),2),A=w[0],C=w[1],S=DB((0,f.useState)(void 0),2),_=S[0],x=S[1],I=DB((0,f.useState)(!1),2),T=I[0],O=I[1],k=(0,f.useCallback)((function(e){s(e)}),[]),M=(0,f.useCallback)((function(e){x(e)}),[]),B=(0,f.useCallback)((function(e){if(e)y(e);else{if(!l)return;y(l)}m(!0)}),[l,m]);(0,f.useEffect)((function(){if(!o)return function(){};var e,t=(e=Ht.CancelToken.source(),{promise:Ht.get("/api/musiclib/themes/tags".concat(jt(Lt("app",Ot.get("api.app")))),{cancelToken:e.token}).then((function(e){return e.data})).catch((function(e){throw e})),source:e}),n=t.source;return t.promise.then((function(e){var t=e.tags,n=(void 0===t?[]:t).map((function(e){return{id:e.name,label:e.local_name}})),r=n[0]&&n[0].id||"most_popular";C(n),x(r)})).catch((function(e){zB.error("error loading theme tags",e)})),function(){return n.cancel()}}),[o]),(0,f.useEffect)((function(){if(o&&!_)return function(){};var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en",n=Ht.CancelToken.source();return{promise:Ht.get("/api/musiclib/themes".concat(jt(Lt("client",Ot.get("api.themes.client","")),Lt("tags",e),Lt("lang",t),Lt("new_editor",Ot.get("api.themes.newEditor",!1)?1:0),Lt("with_upsells",1))),{cancelToken:n.token}).then((function(e){return e.data})).catch((function(e){throw e})),source:n}}(_),t=e.promise,n=e.source;return O(!0),t.then((function(e){E(e.themes),O(!1)})).catch((function(e){O(!1),zB.error("error loading themes",e)})),function(){return n.cancel()}}),[o,_]);var j=(0,f.useCallback)((function(){return h().createElement(FB,{align:"center","data-component-name":"renderHeader"},h().createElement(Ke,{flex:"1"},h().createElement(gv,null,oe.ThemeLibModalTitle)),h().createElement(Mv,{onClick:n}))}),[n]);return h().createElement(Jv,{withStyle:UB,"data-component-name":"ThemeLibraryModal","data-key":e["data-key"]},h().createElement(WB,null,h().createElement(PB,{themes:v,selectedThemeId:l.id,onSelectTheme:k,showThemeTags:o,themeTags:A,selectedThemeTagId:_,onSelectThemeTag:M,isLoading:T,trackLocation:i,renderHeader:j,stickyHeader:!0,containerName:Ak})),d?h().createElement(eB,{id:g.id,autoPlay:!0,src:g.video,type:"video",title:g.name,onClose:function(){m(!1)},showMute:!1,buttonText:l.id===g.id?oe.OK:oe.ThemeLibModalVideoModalButtonUse,onButtonClick:function(){m(!1),s(g)},context:"theme"}):null,l?h().createElement(HB,null,h().createElement(et,{padding:"0 ".concat((0,We.rem)(30))},h().createElement(Ze,{align:"center",justify:"space-between"},h().createElement(uB,NB({},l,{onExpandThemeModal:B})),h().createElement(Ze,{align:"center",justify:"space-between"},h().createElement(VB,{format:"secondary",onClick:n},oe.Cancel),h().createElement(VB,{format:"primary",onClick:function(){r(l)}},oe.Done))))):null)}));function YB(e){var t=e.color,n=void 0===t?"#1A2E3B":t,r=e.className;return h().createElement("svg",{height:"25",width:"25",viewBox:"0 0 25 25",xmlns:"http://www.w3.org/2000/svg",className:r},h().createElement("g",{fill:"none",fillRule:"evenodd"},h().createElement("path",{d:"M21 16.753L21 7.371 12.035 2.5 3 6.945 3 16.753 12 21.5z",stroke:n,strokeWidth:"2",transform:"translate(.522 .333)"}),h().createElement("g",{fill:n},h().createElement("path",{d:"M0 0H4V2H0zM0 6H8V8H0z",transform:"translate(.522 .333) translate(8 8)"}),h().createElement("path",{d:"M-1.5 3H5.5V5H-1.5z",transform:"translate(.522 .333) translate(8 8) rotate(90 2 4)"}),h().createElement("path",{d:"M6 4.5H8V6.5H6z",transform:"translate(.522 .333) translate(8 8) matrix(-1 0 0 1 14 0)"}))))}var qB=function(){return h().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","data-component-name":"PortraitIconSVG"},h().createElement("g",{fill:"none",fillRule:"evenodd"},h().createElement("path",{fill:"#1A2E3B",fillRule:"nonzero",d:"M7 2h10a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1zm1 2v16h8V4H8z"})))},ZB=function(){return h().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","data-component-name":"SquareIconSVG"},h().createElement("g",{fill:"none",fillRule:"evenodd"},h().createElement("path",{fill:"#1A2E3B",fillRule:"nonzero",d:"M4 3h16a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1zm1 2v14h14V5H5z"})))},XB=function(){return h().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","data-component-name":"LandscapeIconSVG"},h().createElement("g",{fill:"none",fillRule:"evenodd"},h().createElement("path",{fill:"#1A2E3B",fillRule:"nonzero",d:"M22 7v10a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h18a1 1 0 0 1 1 1zm-2 1H4v8h16V8z"})))},KB=function(){return h().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","data-component-name":"SceneMediaIconSVG"},h().createElement("g",{fill:"#1A2E3B",fillRule:"evenodd"},h().createElement("path",{d:"M20 2c1.105 0 2 .895 2 2v16c0 1.105-.895 2-2 2H4c-1.105 0-2-.895-2-2V4c0-1.105.895-2 2-2h16zm0 2H4v16h16V4z"}),h().createElement("path",{d:"M9 9.153c-.002-.581.375-.82.854-.528l4.646 2.838c.474.29.48.757.004 1.052L9.88 15.374c-.471.291-.855.063-.858-.525L9 9.153zM5 6H7V8H5zM17 6H19V8H17zM5 11H7V13H5zM17 11H19V13H17zM5 16H7V18H5zM17 16H19V18H17z"})))},QB=function(){return h().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","data-component-name":"SceneTextIconSVG"},h().createElement("g",{fill:"#1A2E3B",fillRule:"evenodd"},h().createElement("path",{d:"M20 2c1.105 0 2 .895 2 2v16c0 1.105-.895 2-2 2H4c-1.105 0-2-.895-2-2V4c0-1.105.895-2 2-2h16zm0 2H4v16h16V4z"}),h().createElement("path",{d:"M5 6H7V8H5zM17 6H19V8H17zM5 11H7V13H5zM17 11H19V13H17zM5 16H7V18H5zM17 16H19V18H17zM15 8c.552 0 1 .448 1 1s-.448 1-1 1h-2v6c0 .552-.448 1-1 1s-1-.448-1-1v-6H9c-.552 0-1-.448-1-1s.448-1 1-1h6z"})))},$B=function(){return h().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","data-component-name":"StickerTextIconSVG"},h().createElement("g",{fill:"none",fillRule:"evenodd"},h().createElement("path",{fill:"#1A2E3B",d:"M19 4c.552 0 1 .448 1 1s-.448 1-1 1h-6v13c0 .552-.448 1-1 1s-1-.448-1-1V6H5c-.552 0-1-.448-1-1s.448-1 1-1h14z"})))},JB=function(){return h().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","data-component-name":"StickerMediaIconSVG"},h().createElement("path",{fill:"#1A2E3B",fillRule:"evenodd",d:"M11.89 1.99l10.12 10.12-.025.446C21.695 17.84 17.315 22 12 22 6.477 22 2 17.523 2 12c0-5.316 4.159-9.695 9.444-9.985l.446-.024zm-1.386 2.15l-.204.04C6.688 4.962 4 8.179 4 12c0 4.418 3.582 8 8 8 3.894 0 7.16-2.79 7.86-6.506-2.401-.147-4.693-1.156-6.446-2.908-1.752-1.753-2.76-4.045-2.91-6.446zm4.324 5.032c.98.978 2.167 1.667 3.448 2.034l-5.482-5.483c.367 1.282 1.055 2.47 2.034 3.449z"}))};const ej=function(){return h().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","data-component-name":"MusicIconSVG"},h().createElement("g",{fill:"none",fillRule:"evenodd",stroke:"#1A2E3B",strokeWidth:"2"},h().createElement("circle",{cx:"6",cy:"18",r:"3"}),h().createElement("circle",{cx:"18",cy:"16",r:"3"}),h().createElement("path",{strokeLinejoin:"round",d:"M9 18V6l12-3v13M9 10l12-3"})))};function tj(){return h().createElement("svg",{height:"25",width:"25",viewBox:"0 0 25 25",xmlns:"http://www.w3.org/2000/svg"},h().createElement("g",{fill:"none",fillRule:"evenodd"},h().createElement("g",{fill:"#1A2E3B"},h().createElement("path",{d:"M1 0h10c.552 0 1 .448 1 1v18c0 .552-.448 1-1 1H1c-.552 0-1-.448-1-1V1c0-.552.448-1 1-1zm1 2v16h8V2H2z",fillOpacity:".5",transform:"translate(.522 .333) translate(2 2)"}),h().createElement("path",{d:"M20 9v10c0 .552-.448 1-1 1H1c-.552 0-1-.448-1-1V9c0-.552.448-1 1-1h18c.552 0 1 .448 1 1zm-2 1H2v8h16v-8z",transform:"translate(.522 .333) translate(2 2)"}))))}function nj(e){var t,n,r,o=e.palette,a=void 0===o?{}:o;return h().createElement("svg",{height:"25",width:"25",viewBox:"0 0 25 25",xmlns:"http://www.w3.org/2000/svg"},h().createElement("g",{fill:"none",fillRule:"evenodd"},h().createElement("path",{d:"M0 0L24 0 24 24 0 24z",transform:"translate(.522 .333)"}),h().createElement("path",{d:"M18.364 2H5.636C3.628 2 2 3.628 2 5.636v12.728C2 20.372 3.628 22 5.636 22h12.728C20.372 22 22 20.372 22 18.364V5.636C22 3.628 20.372 2 18.364 2zM5.778 4h12.444C19.204 4 20 4.796 20 5.778v12.444c0 .982-.796 1.778-1.778 1.778H5.778C4.796 20 4 19.204 4 18.222V5.778C4 4.796 4.796 4 5.778 4z",fill:"#1A2E3B",fillRule:"nonzero",transform:"translate(.522 .333)"}),h().createElement("g",null,h().createElement("path",{d:"M1.8 0h12.4c.994 0 1.8.806 1.8 1.8v3.533H0V1.8C0 .806.806 0 1.8 0z",fill:null!==(t=a.primary)&&void 0!==t?t:"#8DC4DD",transform:"translate(.522 .333) translate(4 4)"}),h().createElement("path",{d:"M1.8 16h12.4c.994 0 1.8-.806 1.8-1.8v-3.533H0V14.2c0 .994.806 1.8 1.8 1.8z",fill:null!==(n=a.default)&&void 0!==n?n:"#EDAC0D",transform:"translate(.522 .333) translate(4 4)"}),h().createElement("path",{d:"M0 5.333H16V10.666H0z",fill:null!==(r=a.secondary)&&void 0!==r?r:"#935637",transform:"translate(.522 .333) translate(4 4)"}))))}const rj=function(){return h().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",viewBox:"0 0 25 25","data-component-name":"ThemeIconSVG"},h().createElement("g",{fill:"none",fillRule:"evenodd"},h().createElement("path",{d:"M0 0L24 0 24 24 0 24z",transform:"translate(.522 .333)"}),h().createElement("path",{fill:"#1A2E3B",fillRule:"nonzero",d:"M19.778 9.778v10H4.2V4.222h10V2H4.222C3 2 2 3 2 4.222v15.556C2 21 3 22 4.222 22h15.556C21 22 22 21 22 19.778v-10h-2.222zM18.06 5.94L19 8l.94-2.06L22 5l-2.06-.94L19 2l-.94 2.06L16 5l2.06.94zM12 7l-1.563 3.438L7 12l3.438 1.563L12 17l1.563-3.438L17 12l-3.438-1.563L12 7z",transform:"translate(.522 .333)"})))};var oj=function(){return(0,Ge.css)(["display:flex;flex-direction:column;height:100%;max-width:",";width:",";@media screen and (max-width:","){width:",";}@media screen and (max-width:","){width:",";}@media screen and (max-width:","){width:",";}@media screen and (max-width:","){width:",";}@media screen and (max-width:","){width:",";}"],(0,We.rem)(1116),(0,We.rem)(1116),(0,We.rem)(1280),(0,We.rem)(996),(0,We.rem)(1024),(0,We.rem)(760),(0,We.rem)(768),(0,We.rem)(600),(0,We.rem)(640),(0,We.rem)(540),(0,We.rem)(592),(0,We.rem)(496))},aj=(0,Ge.default)(Ze).attrs((function(e){return{"data-component-name":e["data-component-name"]?"AllSelectedMediaRow ".concat(e["data-component-name"]):"AllSelectedMediaRow"}})).withConfig({displayName:"modal-style__AllSelectedMediaRow",componentId:"sc-1vf3uba-0"})(["position:relative;overflow-x:auto;"]),ij=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"CartModal ".concat(e["data-component-name"]):"CartModal"}})).withConfig({displayName:"modal-style__CartModal",componentId:"sc-1vf3uba-1"})(["width:100%;bottom:0;padding:"," 0;box-shadow:0 -4px 4px 0 rgba(0,0,0,0.11);background-color:#fff;z-index:10;"],(0,We.rem)(16)),cj=(0,Ge.default)(Ze).attrs((function(e){return{"data-component-name":e["data-component-name"]?"ModalActionButtons ".concat(e["data-component-name"]):"ModalActionButtons"}})).withConfig({displayName:"modal-style__ModalActionButtons",componentId:"sc-1vf3uba-2"})(["button:last-child{margin-right:0;}"]),lj=(0,Ge.default)(fv).attrs((function(e){return{"data-component-name":e["data-component-name"]?"ModalCountdownText ".concat(e["data-component-name"]):"ModalCountdownText"}})).withConfig({displayName:"modal-style__ModalCountdownText",componentId:"sc-1vf3uba-3"})(["margin-right:",";white-space:nowrap;font-size:",";color:#1a2e3b;font-weight:bold;"],(0,We.rem)(24),(0,We.rem)(14)),sj=(0,Ge.default)(Tv).attrs((function(e){return{"data-component-name":e["data-component-name"]?"ModalButton ".concat(e["data-component-name"]):"ModalButton"}})).withConfig({displayName:"modal-style__ModalButton",componentId:"sc-1vf3uba-4"})(["width:",";margin-right:",";"],(0,We.rem)(150),(0,We.rem)(15)),uj=(0,Ge.default)(Ze).attrs((function(e){return{"data-component-name":e["data-component-name"]?"ModalHeader ".concat(e["data-component-name"]):"ModalHeader"}})).withConfig({displayName:"modal-style__ModalHeader",componentId:"sc-1vf3uba-5"})(["padding:"," "," "," ",";width:100%;flex-basis:auto;z-index:10;"],(0,We.rem)(25),(0,We.rem)(30),(0,We.rem)(15),(0,We.rem)(30)),dj=(0,Ge.default)(Xe).attrs((function(e){return{"data-component-name":e["data-component-name"]?"ModalContent ".concat(e["data-component-name"]):"ModalContent"}})).withConfig({displayName:"modal-style__ModalContent",componentId:"sc-1vf3uba-6"})(["flex:1 1 0;width:100%;flex-basis:auto;z-index:9;overflow-y:auto;"]),mj=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"SelectedMediaStyle ".concat(e["data-component-name"]):"SelectedMediaStyle"}})).withConfig({displayName:"modal-style__SelectedMediaStyle",componentId:"sc-1vf3uba-7"})(["position:relative;flex:0 0 auto;width:60px;height:60px;border-radius:3px;background-color:rgba(0,0,0,0.5);margin-right:15px;img{border-radius:3px;}"]),pj=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"SelectedHoverBox ".concat(e["data-component-name"]):"SelectedHoverBox"}})).withConfig({displayName:"modal-style__SelectedHoverBox",componentId:"sc-1vf3uba-8"})(["position:absolute;top:0;left:0;width:100%;height:100%;border-radius:3px;background-color:rgba(0,0,0,0.5);z-index:2;"]),fj=(0,Ge.default)(Qe).attrs((function(e){return{"data-component-name":e["data-component-name"]?"TrashBoxContainer ".concat(e["data-component-name"]):"TrashBoxContainer"}})).withConfig({displayName:"modal-style__TrashBoxContainer",componentId:"sc-1vf3uba-9"})(["width:32px;height:32px;border-radius:2px;background-color:#404040;"]),hj=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"ProLabelStyle ".concat(e["data-component-name"]):"ProLabelStyle"}})).withConfig({displayName:"modal-style__ProLabelStyle",componentId:"sc-1vf3uba-10"})(["position:absolute;top:3px;right:2px;z-index:1;display:flex;"]),gj=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"OverflowContent ".concat(e["data-component-name"]):"OverflowContent"}})).withConfig({displayName:"modal-overflow-content__OverflowContent",componentId:"k7lto7-0"})(["flex:1;flex-direction:",";overflow-y:auto;overflow-x:hidden;z-index:50;margin-bottom:",";padding-right:",";"],(function(e){return e.flex&&e.direction}),(0,We.rem)(16),(0,We.rem)(24)),yj=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"StickerThumbnailContainer ".concat(e["data-component-name"]):"StickerThumbnailContainer"}})).withConfig({displayName:"sticker__StickerThumbnailContainer",componentId:"sc-1xpfs60-0"})(["width:",";height:",";"],(function(e){var t=e.width;return(0,We.rem)(t)}),(function(e){var t=e.height;return(0,We.rem)(t)}));function bj(e){var t=e.id,n=e.src,r=e.onSelect,o=void 0===r?function(){}:r,a=e.width,i=e.height;return h().createElement(yj,{width:a,height:i,"data-component-name":"StickerThumbnail"},h().createElement(oC,{onClick:function(){o({id:t,src:n})},mode:"stretch",src:n}))}var vj=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"StickerContainer ".concat(e["data-component-name"]):"StickerContainer"}})).withConfig({displayName:"sticker-search-style__StickerContainer",componentId:"sc-1ufigzl-0"})(["padding:",";margin:",";display:flex;justify-content:center;align-items:center;cursor:pointer;border-radius:3px;border:solid 3px transparent;:hover{border:solid 3px ",";}"],(function(e){var t=e.padding;return(0,We.rem)(t)}),(function(e){return e.margin||"0 ".concat((0,We.rem)(16)," ").concat((0,We.rem)(16)," 0")}),(function(e){return e.theme.colors.hover})),Ej=(0,Ge.default)(fv).attrs((function(e){return{"data-component-name":e["data-component-name"]?"NoStickerFound ".concat(e["data-component-name"]):"NoStickerFound"}})).withConfig({displayName:"sticker-search-style__NoStickerFound",componentId:"sc-1ufigzl-1"})(["margin-bottom:",";font-size:",";font-weight:500;"],(0,We.rem)(10),(0,We.rem)(16)),wj=(0,Ge.default)(Xe).attrs((function(e){return{"data-component-name":e["data-component-name"]?"NoResultsWrapper ".concat(e["data-component-name"]):"NoResultsWrapper"}})).withConfig({displayName:"sticker-search-style__NoResultsWrapper",componentId:"sc-1ufigzl-2"})(["height:100%;"]),Aj=(0,Ge.default)(Ze).attrs((function(e){return{"data-component-name":e["data-component-name"]?"VirtualizedRow ".concat(e["data-component-name"]):"VirtualizedRow"}})).withConfig({displayName:"sticker-search-style__VirtualizedRow",componentId:"sc-1ufigzl-3"})(["div:first-child{margin-left:0;}"]),Cj=(0,Ge.default)(Ze).attrs((function(e){return{"data-component-name":e["data-component-name"]?"LoadingBoxPlaceHoldersRow ".concat(e["data-component-name"]):"LoadingBoxPlaceHoldersRow"}})).withConfig({displayName:"sticker-all-categories-view__LoadingBoxPlaceHoldersRow",componentId:"sc-15ghtps-0"})(["height:",";div:last-child{margin-right:0;}.box-placeholder-container{flex-wrap:nowrap;overflow:hidden;}"],(0,We.rem)(127)),Sj=Ge.default.h4.attrs((function(e){return{"data-component-name":e["data-component-name"]?"CategoryLabel ".concat(e["data-component-name"]):"CategoryLabel"}})).withConfig({displayName:"sticker-all-categories-view__CategoryLabel",componentId:"sc-15ghtps-1"})(["color:#1a2e3b;font-size:1.125rem;font-family:'Helvetica Neue',Helvetica,Arial,sans-serif;letter-spacing:0.01rem;line-height:1.3333333333333333;margin-bottom:0.25rem;max-width:44rem;margin-top:0;font-weight:400;"]),_j=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"CategoryHeader ".concat(e["data-component-name"]):"CategoryHeader"}})).withConfig({displayName:"sticker-all-categories-view__CategoryHeader",componentId:"sc-15ghtps-2"})(["font-weight:400;display:flex;align-items:center;justify-content:space-between;margin-top:",";"],(0,We.rem)(20)),xj=(0,Ge.default)(LT).attrs((function(e){return{"data-component-name":e["data-component-name"]?"CategoryLabelPlaceHolder ".concat(e["data-component-name"]):"CategoryLabelPlaceHolder"}})).withConfig({displayName:"sticker-all-categories-view__CategoryLabelPlaceHolder",componentId:"sc-15ghtps-3"})(["width:226px;height:24px;"]),Ij=(0,Ge.default)(Xe).attrs((function(e){return{"data-component-name":e["data-component-name"]?"StickerResultsContainer ".concat(e["data-component-name"]):"StickerResultsContainer"}})).withConfig({displayName:"sticker-all-categories-view__StickerResultsContainer",componentId:"sc-15ghtps-4"})(["margin-top:",";",""],(0,We.rem)(20),(function(e){return e.noScroll&&"overflow: hidden;"}));const Tj=function(e){var t=e.onViewAll,n=void 0===t?function(){}:t,r=e.onSelectSticker,o=void 0===r?function(){}:r,a=e.categories,i=(0,f.useRef)({});if((0,f.useEffect)((function(){Object.keys(i.current).forEach((function(e){i.current[e]&&i.current[e].buildSlides()}))}),[]),!a||0===a.length){for(var c=[],l=0;l<5;l++){var s;c.push(h().createElement("div",{key:s=l,"data-key":s},h().createElement(xj,null),h().createElement(Cj,{wrap:"wrap"},FT(8,!1,!1,(0,We.rem)(116),(0,We.rem)(16),1,(0,We.rem)(116),(0,We.rem)(116),(0,We.rem)(116),(0,We.rem)(16),"0px",(0,We.rem)(16)))))}return h().createElement(Ij,{noScroll:!0,"data-component-name":"StickerAllCategoriesView"},c)}return a.map((function(e){var t,r=e.name,a=e.items.slice(0,8);return h().createElement(Xe,{key:t=e.id,"data-key":t},h().createElement(_j,null,h().createElement(Sj,null,r),h().createElement(hv,{onClick:function(){n(e)}},oe.StickerLibStockSuggestionViewAll)),h().createElement(Ze,null,a.map((function(e){var t,n=e.low_path,r=e.id;return h().createElement(vj,{padding:15,key:t=r,"data-key":t,margin:"0 ".concat((0,We.rem)(16)," 0 0"),onClick:function(){o(Object.assign({},e,{upl_origin:ea.STICKERLIB}))}},h().createElement(bj,{width:80,height:80,src:n}))}))))}))};function Oj(e){return function(e){if(Array.isArray(e))return kj(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return kj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kj(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kj(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Mj=(0,Ge.default)(Ze).attrs((function(e){return{"data-component-name":e["data-component-name"]?"DropdownInnerSelector ".concat(e["data-component-name"]):"DropdownInnerSelector"}})).withConfig({displayName:"sticker-filter-listcomponent__DropdownInnerSelector",componentId:"sc-17sc4ac-0"})(["height:100%;padding:0 ",";border:solid 1px #d0d8db;"],(0,We.rem)(12)),Bj=(0,Ge.default)(mI).attrs((function(e){return{"data-component-name":e["data-component-name"]?"CategoryFilterDropDown ".concat(e["data-component-name"]):"CategoryFilterDropDown"}})).withConfig({displayName:"sticker-filter-listcomponent__CategoryFilterDropDown",componentId:"sc-17sc4ac-1"})(["width:200px;height:40px;margin-right:",";border-radius:",";"],(0,We.rem)(8),(0,We.rem)(3)),jj=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"CategoryFilterDropdownRow ".concat(e["data-component-name"]):"CategoryFilterDropdownRow"}})).withConfig({displayName:"sticker-filter-listcomponent__CategoryFilterDropdownRow",componentId:"sc-17sc4ac-2"})(["padding:"," 0;"],(0,We.rem)(10)),Lj={width:"100%",height:(0,We.rem)(208),top:(0,We.rem)(41),padding:"".concat((0,We.rem)(7)," ").concat((0,We.rem)(13)," ").concat((0,We.rem)(16)," ").concat((0,We.rem)(13))},Pj=(0,Ge.default)(fv).attrs((function(e){return{"data-component-name":e["data-component-name"]?"SingleLineDisplayText ".concat(e["data-component-name"]):"SingleLineDisplayText"}})).withConfig({displayName:"sticker-filter-listcomponent__SingleLineDisplayText",componentId:"sc-17sc4ac-3"})(["overflow:hidden;white-space:nowrap;text-overflow:ellipsis;"]);function Nj(e){var t=e.categories,n=e.onCategorySelected,r=e.selectedCategory,o=(0,f.useMemo)((function(){return h().createElement(Mj,{align:"center",justify:"space-between","data-component-name":"currentSelectCategory"},h().createElement(Pj,null,r?r.name:oe.StickerLibFilterListCategoryAll),h().createElement(GC,null))}),[r]),a=(0,f.useMemo)((function(){if(0===t.length)return[];var e=[{name:oe.StickerLibFilterListCategoryAll}].concat(Oj(t)).map((function(e){return h().createElement(jj,{onClick:function(){n(e.name===oe.StickerLibFilterListCategoryAll?null:e)},role:"presentation","data-component-name":"categoriesRows"},h().createElement(Pj,null,e.name))}));return Oj(e)}),[t]);return h().createElement(Bj,{dropdownListStyle:Lj,selectItem:o,listItem:a,"data-component-name":"StickerCategoryFilter"})}function Dj(e){return function(e){if(Array.isArray(e))return Vj(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Hj(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rj(Object(n),!0).forEach((function(t){Uj(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rj(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Uj(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fj(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||Hj(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hj(e,t){if(e){if("string"==typeof e)return Vj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vj(e,t):void 0}}function Vj(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Wj=(0,Ge.default)(Ze).attrs((function(e){return{"data-component-name":e["data-component-name"]?"LoadingBoxPlaceHoldersRow ".concat(e["data-component-name"]):"LoadingBoxPlaceHoldersRow"}})).withConfig({displayName:"sticker-search__LoadingBoxPlaceHoldersRow",componentId:"sc-3llrr7-0"})(["div:last-child{margin-right:0;}.box-placeholder-container{flex-wrap:nowrap;overflow:hidden;}"]),Gj=(0,Ge.default)(Xe).attrs((function(e){return{"data-component-name":e["data-component-name"]?"StickerResultsContainer ".concat(e["data-component-name"]):"StickerResultsContainer"}})).withConfig({displayName:"sticker-search__StickerResultsContainer",componentId:"sc-3llrr7-1"})(["margin-top:",";",""],(0,We.rem)(20),(function(e){return e.noScroll&&"overflow: hidden;"})),Yj=S("SearchStickerComponent"),qj=function(e){var t=e.category,n=e.type,r=e.onSelectSticker,o=e.forwardRef,a=e.shouldRenderList,i=e.isTest,c=(0,f.useRef)(null),l=(0,f.useRef)(null),s=(0,f.useRef)(1),u=Fj((0,f.useState)({items:[],loading:!0}),2),d=u[0],m=u[1],p=(0,f.useCallback)((function(e){Yj.log("onLoadMore Request",c.current),!c.current&&e&&(m((function(e){return zj(zj({},e),{},{loading:!0})})),c.current=function(e,t,n){var r=Ht.CancelToken.source();return{promise:Ht.get("/api/stickerlib/gallery".concat(jt(Lt("p",e,{p:1}),Lt("category_id",t.id),n?Lt("is_test",n):"")),{cancelToken:r.token}).then((function(e){return e.data.categories[0]})).catch((function(e){throw e})),source:r}}(s.current,e,i),Yj.log("onLoadMore Send request to fetch more stickers",c.current),c.current.promise.then((function(t){var n=t.items,r=void 0===n?[]:n,o=t.has_next_page;e.has_next_page=o;var a=(l.current||r.length)+(o?r.length:0);Yj.log("New Stickers from API...",r),s.current+=1,l.current=a,c.current=null,Yj.log("Remove query ref",c.current),m((function(e){return{items:[].concat(Dj(e.items),Dj(r)),loading:!1}}))})).catch((function(e){Ht.isCancel(e)||(c.current=null,m((function(e){return zj(zj({},e),{},{loading:!1})})))})))}),[i]);if((0,f.useEffect)((function(){return Yj.log('Now Dependency States: "'.concat(t,'"')),p(t,n),function(){Yj.log("Cleaning up..."),Yj.log("Previous request",c.current),Yj.log('Previous Dependency States: "'.concat(t,'"')),c.current&&(Yj.log("Abort request",c.current),c.current.source.cancel(),c.current=null),l.current=null,s.current=1,m((function(){return{items:[],loading:!1}}))}}),[t,n,p]),d.loading&&0===d.items.length){for(var g=[],y=0;y<5;y++){var b;g.push(h().createElement(Wj,{key:b=y,"data-key":b,wrap:"wrap"},FT(8,!1,!1,(0,We.rem)(116),(0,We.rem)(16),1,(0,We.rem)(116),(0,We.rem)(116),(0,We.rem)(116),(0,We.rem)(16),"0px",(0,We.rem)(16))))}return h().createElement(Gj,{noScroll:!0,"data-component-name":"StickerCategoryView"},g)}return d.loading||0!==d.items.length?(Yj.log("Before Render Stickers length",d.items.length),h().createElement(Gj,{"data-component-name":"StickerCategoryView"},h().createElement(kT,{forwardRef:o},(function(e){var o=e.height,i=e.isScrolling,c=e.registerChild,s=e.onChildScroll,u=e.scrollTop;return h().createElement(OT.qj,{disableHeight:!0},(function(e){var m=e.width,f=m?Math.floor((m+16)/120):1,g=Math.ceil(d.items.length/f);return a?h().createElement("div",{ref:c},h().createElement(OT.aV,{autoHeight:!0,height:o,isScrolling:i,onScroll:s,rowCount:g,rowHeight:132,overscanRowCount:1,rowRenderer:function(e){var o,a=e.index,i=e.key,c=e.style,s=[],u=a*f,m=Math.min(u+f,d.items.length);Yj.log("Render Stickers length",d.items.length,m),m===d.items.length&&l.current&&l.current>d.items.length&&t.has_next_page&&(Yj.log("Loading more by render list...",m),p(t,n));for(var g=function(e){var t,n=d.items[e];s.push(h().createElement(vj,{padding:15,key:t=n.id,"data-key":t,onClick:function(){r(Object.assign({},n,{upl_origin:ea.STICKERLIB}))}},h().createElement(bj,{width:80,height:80,src:n.low_path})))},y=u;y<m;y++)g(y);return h().createElement(Aj,{key:o=i,"data-key":o,style:c,align:"center"},s)},scrollTop:u,width:m+8})):null}))})))):h().createElement(wj,{align:"center",justify:"center","data-component-name":"StickerCategoryView"},h().createElement(Ej,null,"function"==typeof oe.MediaLibStockSearchNoMediaTitle?oe.MediaLibStockSearchNoMediaTitle(t):oe.MediaLibStockSearchNoMediaTitle))};const Zj=(0,f.memo)(qj);var Xj=n(694416481422731),Kj=["image/jpg","image/jpeg","image/png","image/gif"],Qj=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"StickerFileUploadContainer ".concat(e["data-component-name"]):"StickerFileUploadContainer"}})).withConfig({displayName:"upload-image-sticker-btncomponent__StickerFileUploadContainer",componentId:"sc-1kb5hlz-0"})(["position:relative;margin-top:3px;"]),$j=function(e){var t=e.onFileSelected,n=e.replacedSticker,r=(0,T.I0)(),o=(0,T.v9)((function(e){return e.userCapabilities.capabilities.canUploadImageSticker})),a=o.allowed,i=o.tier||{},c=i.name,l=i.text,s=(0,f.useCallback)((function(e){var o=e.target,a=e.target.files[0];if(a){if(a.size/1e3/1e3>10)return o.value=null,r(td({title:oe.BrandingModalLogoMaxSizeErrorTitle,content:oe.BrandingModalLogoMaxSizeError(10)})),void Qi({status:"failed"});var i=URL.createObjectURL(a),c=new window.Image;c.onerror=function(){c=c.src=c.onload=c.onerror=null},c.onload=function(){if(c.width<64||c.height<64)return r(td({title:oe.BrandingModalLogoMinSizeErrorTitle,content:oe.BrandingModalLogoMinSizeError(64,64)})),Qi({status:"failed"}),o.value=null,void(c=c.onload=c.onerror=null);c=c.onload=c.onerror=null,r(cg({file:a,name:a.name},n)),o.value=null},c.src=i,t()}}),[r,t,n]),u=(0,f.useRef)(null);return h().createElement(Qj,{"data-component-name":"UploadImageStickerButton"},h().createElement("input",{hidden:!0,ref:u,type:"file",name:"file",accept:Kj,onChange:s}),h().createElement(Tv,{icon:h().createElement(Xj.UploadCloud,null),onClick:function(){var e,t;t={name:"click_to_upload_sticker",product:Si,location:ba,vsid:fa.vsid,flow:fa.flow},Li(t=sa(sa({},e),t)),a?u.current.click():zc.onUploadImageSticker({tier:c,vsid:Jo.vsid,upsellTitle:oe.uploadStickersUpsellTitle(l)}).then((function(){u.current.click()}))},format:"secondary"},oe.StickerLibraryContainerButtonUpload))};function Jj(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return eL(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eL(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eL(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var tL=(0,Ge.default)(gj).attrs((function(e){return{"data-component-name":e["data-component-name"]?"StyledOverflowContent ".concat(e["data-component-name"]):"StyledOverflowContent"}})).withConfig({displayName:"sticker-library-container__StyledOverflowContent",componentId:"sc-1ppmh6t-0"})(["padding:0 ",";margin:0 ",";"],(0,We.rem)(30),(0,We.rem)(-30)),nL=(0,Ge.default)(Xe).attrs((function(e){return{"data-component-name":e["data-component-name"]?"StickerLibraryContainerStyled ".concat(e["data-component-name"]):"StickerLibraryContainerStyled"}})).withConfig({displayName:"sticker-library-container__StickerLibraryContainerStyled",componentId:"sc-1ppmh6t-1"})(["width:100%;height:100%;padding-top:1.25rem;border-top:1px solid #fff;z-index:9;flex:1 0 0;overflow:hidden;"]),rL=(0,Ge.default)(et).attrs((function(e){return{"data-component-name":e["data-component-name"]?"VerticalContainer ".concat(e["data-component-name"]):"VerticalContainer"}})).withConfig({displayName:"sticker-library-container__VerticalContainer",componentId:"sc-1ppmh6t-2"})(["display:flex;flex-direction:column;padding:0 ",";flex:1;overflow:hidden;"],(0,We.rem)(30)),oL=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"UploadImageStickerButtonWrapper ".concat(e["data-component-name"]):"UploadImageStickerButtonWrapper"}})).withConfig({displayName:"sticker-library-container__UploadImageStickerButtonWrapper",componentId:"sc-1ppmh6t-3"})(["float:right;"]),aL=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"StickerLibraryHeader ".concat(e["data-component-name"]):"StickerLibraryHeader"}})).withConfig({displayName:"sticker-library-container__StickerLibraryHeader",componentId:"sc-1ppmh6t-4"})(["width:100% !important;padding-bottom:16px !important;top:","!important;z-index:60;"],(0,We.rem)(73));const iL=(0,T.$j)((function(e){return{isTest:e.featureToggles.values.useTestImageStickers}}),null)((function(e){var t=e.onSelectSticker,n=e.closeModal,r=e.replacedSticker,o=e.isTest,a=(0,f.useRef)(null),i=Jj((0,f.useState)([]),2),c=i[0],l=i[1],s=Jj((0,f.useState)(""),2),u=s[0],d=s[1],m=(0,T.v9)((function(e){return e.userCapabilities.capabilities.canUploadImageSticker})).isVisible,p=(0,f.useCallback)((function(e){var t,n;t={category:e?e.name:"All"},n={name:"choose_sticker_category",product:Si,location:ba,vsid:fa.vsid,flow:fa.flow,category:t.category},Li(n=sa(sa({},t),n)),vi(oa,ki,sa({type:xi,flow:ha},t)),d(e)}),[d]);return(0,f.useEffect)((function(){(function(e){var t=Ht.CancelToken.source();return Ht.get("/api/stickerlib/gallery".concat(e?"?is_test=true":""),{cancelToken:t.token}).catch((function(e){throw e}))})(o).then((function(e){l(e.data.categories)}))}),[o]),h().createElement(nL,{"data-component-name":"StickerLibraryContainer"},h().createElement(rL,null,h().createElement(aL,null,m&&h().createElement(oL,null,h().createElement($j,{replacedSticker:r,onFileSelected:function(){n()}})),h().createElement(Nj,{selectedCategory:u,onCategorySelected:function(e){p(e)},categories:c})),h().createElement(tL,{ref:a},u?h().createElement(Zj,{type:"image",forwardRef:a,isTest:o,category:u,onSelectSticker:t,shouldRenderList:!0}):h().createElement("div",null,h().createElement(Tj,{categories:c,onViewAll:function(e){p(e)},type:"image",onSelectSticker:t})))))}));function cL(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return lL(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lL(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lL(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var sL,uL=function(){return(0,Ge.css)(["display:flex;flex-direction:column;height:100%;width:100%;"])},dL=(0,Ge.default)(Xe).attrs((function(e){return{"data-component-name":e["data-component-name"]?"ModalContent ".concat(e["data-component-name"]):"ModalContent"}})).withConfig({displayName:"modal__ModalContent",componentId:"asdwag-0"})(["flex:1 1 0;width:100%;flex-basis:auto;z-index:9;overflow-y:auto;"]),mL=function(e){var t=e.closeModal,n=e.replacedSticker,r=(0,T.I0)(),o=(0,f.useCallback)((function(){return h().createElement(uj,{align:"center","data-component-name":"renderHeader"},h().createElement(Ke,{flex:"1"},h().createElement(gv,null,oe.StickerLibraryModalTitle)),h().createElement(Mv,{onClick:t}))}),[t]);return h().createElement(Jv,{withStyle:uL,"data-component-name":"ImageStickerLibraryModal","data-key":e["data-key"]},h().createElement(dL,null,o(),h().createElement(iL,{closeModal:t,onSelectSticker:function(e){var o;o={stickerId:e.id,stickerName:e.name},Li(sa({},{name:"click_to_select_sticker",product:Si,location:ba,vsid:fa.vsid,flow:fa.flow,version:2,sticker_id:o.stickerId,sticker_name:o.stickerName})),r(cg({sourceHash:e.id,name:e.name},n)),t()},replacedSticker:n})))},pL=function(e){var t=cL((0,f.useState)(!1),2),n=t[0],r=t[1],o=(0,f.useCallback)((function(){r(!0)}),[]);return[n&&h().createElement(mL,{closeModal:function(){return r(!1)},replacedSticker:e}),o]};!function(e){e[e.Stage=0]="Stage",e[e.Storyboard=1]="Storyboard",e[e.Timeline=2]="Timeline",e[e.GlobalBar=3]="GlobalBar",e[e.DropDownList=4]="DropDownList",e[e.LadyBug=5]="LadyBug"}(sL||(sL={}));var fL=Ge.default.span.attrs((function(e){return{"data-component-name":e["data-component-name"]?"TooltipTextContent ".concat(e["data-component-name"]):"TooltipTextContent"}})).withConfig({displayName:"tooltipcomponent__TooltipTextContent",componentId:"fxw0z7-0"})(["text-align:center;visibility:hidden;border:2px solid black;background-color:black;transition:opacity 50ms ease-in 0s;color:#ffffff;position:fixed;z-index:99999;max-width:",";padding:"," ",";border-radius:",";line-height:1.14;font-size:",";font-weight:normal;white-space:",";display:",";margin-top:",";"],(function(e){var t=e.maxWidth;return t?(0,We.rem)(t):(0,We.rem)(220)}),(0,We.rem)(5),(0,We.rem)(8),(0,We.rem)(4),(0,We.rem)(14),(function(e){return e.multiLine?"normal":"nowrap"}),(function(e){return e.showTooltip?"block":"none"}),(function(e){return"top"===e.attachLocation?(0,We.rem)(-5):(0,We.rem)(5)})),hL=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"TooltipContainer ".concat(e["data-component-name"]):"TooltipContainer"}})).withConfig({displayName:"tooltipcomponent__TooltipContainer",componentId:"fxw0z7-1"})(["position:relative;display:",";",""],(function(e){return e.inline?"inline-flex":"flex"}),(function(e){var t=e.flex;return t&&(0,Ge.css)(["flex:",";"],t)})),gL=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"ChildrenContainer ".concat(e["data-component-name"]):"ChildrenContainer"}})).withConfig({displayName:"tooltipcomponent__ChildrenContainer",componentId:"fxw0z7-2"})(["position:relative;flex:1 1;"]),yL="tooltip-root",bL=document.getElementById(yL);bL||((bL=document.createElement("div")).id=yL,bL&&document.body.appendChild(bL));var vL=(0,f.forwardRef)((function(e,t){var n=e.attachLocation,r=e.className,o=e.showTooltip,a=e.multiLine,i=e.maxWidth,c=e.children,l=h().createElement(fL,{attachLocation:n,className:r,showTooltip:o,multiLine:a,maxWidth:i,ref:t},c);return $().createPortal(l,bL)})),EL=function(){},wL=function(e){var t=e.text,n=e.children,r=e.className,o=e.multiLine,a=void 0!==o&&o,i=e.attachLocation,c=void 0===i?"top":i,l=e.absolutePosition,s=void 0===l?void 0:l,u=e.showTooltip,d=void 0===u||u,m=e.inline,p=void 0!==m&&m,g=e.flex,y=void 0===g?void 0:g,b=e.maxWidth,v=void 0===b?void 0:b,E=e.biCallback,w=void 0===E?EL:E,A=(0,f.useRef)(null),C=(0,f.useRef)(null),S=(0,f.useCallback)((function(){var e,t,n,r,o=C.current,a=A.current,i=o.getBoundingClientRect(),l=a.getBoundingClientRect(),u=i.top+(null!==(e=null==s?void 0:s.top)&&void 0!==e?e:0),d=i.left+(null!==(t=null==s?void 0:s.left)&&void 0!==t?t:0),m=null!==(n=null==s?void 0:s.height)&&void 0!==n?n:i.height,p=null!==(r=null==s?void 0:s.width)&&void 0!==r?r:i.width,f="top"===c?u-l.height:u+m,h=d-(l.width-p)/2;A.current.style.top="".concat(f,"px"),A.current.style.left="".concat(h,"px")}),[c,s]);(0,f.useEffect)((function(){S()}),[S]);var _=(0,f.useCallback)((function(){w(),S(),A.current.style.visibility="visible"}),[S,w]),x=(0,f.useCallback)((function(){A.current.style.visibility="hidden"}),[]);return h().createElement(hL,{inline:p,flex:y,"data-component-name":"Tooltip","data-key":e["data-key"]},h().createElement(vL,{attachLocation:c,className:r,ref:A,showTooltip:d,multiLine:a,maxWidth:v},t),h().createElement(gL,{ref:C,onFocus:_,onBlur:x,onMouseOver:_,onMouseOut:x},n))};(0,We.rem)(150);function AL(){return(AL=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}const CL=function(e){return h().createElement("svg",AL({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},e,{"data-component-name":"MarkIconDark","data-key":e["data-key"]}),h().createElement("g",{fill:"none",fillRule:"evenodd"},h().createElement("path",{stroke:"#1A2E3B",strokeLinecap:"square",strokeWidth:"2",d:"M3 21h18"}),h().createElement("path",{stroke:"#1A2E3B",strokeLinejoin:"round",strokeWidth:"2",d:"M6.988 12.218l4.618 4.542 7.737-7.731a3 3 0 000-4.243l-.017-.018-.34-.335a3 3 0 00-4.225.017l-7.773 7.768z"}),h().createElement("path",{fill:"#1A2E3B",fillRule:"nonzero",d:"M11 16l-1.86 1.854a.5.5 0 01-.353.146h-4.58a.5.5 0 01-.353-.854L8 13.003 11 16z"}),h().createElement("path",{stroke:"#1A2E3B",strokeWidth:"2",d:"M10 9.053l4.693 4.693"})))};function SL(){return(SL=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}const _L=function(e){return h().createElement("svg",SL({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},e,{"data-component-name":"MarkIconWhite","data-key":e["data-key"]}),h().createElement("g",{fill:"none",fillRule:"evenodd"},h().createElement("path",{stroke:"#FFF",strokeLinecap:"square",strokeWidth:"2",d:"M3 21h18"}),h().createElement("path",{stroke:"#FFF",strokeLinejoin:"round",strokeWidth:"2",d:"M6.988 12.218l4.618 4.542 7.737-7.731a3 3 0 000-4.243l-.017-.018-.34-.335a3 3 0 00-4.225.017l-7.773 7.768z"}),h().createElement("path",{fill:"#FFF",fillRule:"nonzero",d:"M11 16l-1.86 1.854a.5.5 0 01-.353.146h-4.58a.5.5 0 01-.353-.854L8 13.003 11 16z"}),h().createElement("path",{stroke:"#FFF",strokeWidth:"2",d:"M10 9.053l4.693 4.693"})))};var xL=n(809126095052529);const IL=(0,Ge.default)(xL.TextArea).withConfig({displayName:"text-area",componentId:"wu40ul-0"})([""]);var TL=function(){return(0,Ge.css)(["width:",";min-width:",";max-width:",";height:",";min-height:",";max-height:",";"],(0,We.rem)(540),(0,We.rem)(540),(0,We.rem)(540),(0,We.rem)(323),(0,We.rem)(323),(0,We.rem)(323))},OL=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"ModalHeader ".concat(e["data-component-name"]):"ModalHeader"}})).withConfig({displayName:"text-input-modalstyle__ModalHeader",componentId:"sc-77vqma-0"})(["font-size:",";color:#1a2e3b;margin-bottom:",";"],(0,We.rem)(18),(0,We.rem)(26)),kL=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"ModalFooter ".concat(e["data-component-name"]):"ModalFooter"}})).withConfig({displayName:"text-input-modalstyle__ModalFooter",componentId:"sc-77vqma-1"})(["display:flex;"]),ML=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"ActionButtonsContainer ".concat(e["data-component-name"]):"ActionButtonsContainer"}})).withConfig({displayName:"text-input-modalstyle__ActionButtonsContainer",componentId:"sc-77vqma-2"})(["margin-left:auto;"]),BL=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"TextInputContainer ".concat(e["data-component-name"]):"TextInputContainer"}})).withConfig({displayName:"text-input-modalstyle__TextInputContainer",componentId:"sc-77vqma-3"})(["display:flex;flex-direction:column;justify-content:flex-end;padding:",";"],(0,We.rem)(24)),jL=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"TextContainer ".concat(e["data-component-name"]):"TextContainer"}})).withConfig({displayName:"text-input-modalstyle__TextContainer",componentId:"sc-77vqma-4"})(["position:relative;"]),LL=(0,Ge.css)(["white-space:pre;font-size:",";line-height:",";border-width:",";padding:",";"],(0,We.rem)(20),1.2,(0,We.rem)(1),(0,We.rem)(18)),PL=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"FormattedText ".concat(e["data-component-name"]):"FormattedText"}})).withConfig({displayName:"text-input-modalstyle__FormattedText",componentId:"sc-77vqma-5"})(["position:absolute;z-index:-10;top:0;right:0;bottom:0;left:0;border-style:solid;border-color:transparent;overflow:hidden;",""],LL),NL=(0,Ge.default)(IL).attrs((function(e){return{"data-component-name":e["data-component-name"]?"TextInput ".concat(e["data-component-name"]):"TextInput"}})).withConfig({displayName:"text-input-modalstyle__TextInput",componentId:"sc-77vqma-6"})([""," height:",";margin-bottom:",";resize:none;overflow-y:hidden;color:transparent;background-color:transparent;caret-color:black;",""],LL,(function(e){var t=e.TEXT_STICKER_MAX_LINES;return(0,We.rem)(24*t+36+2)}),(0,We.rem)(24),(function(e){var t=e.theme;return t.textInput.outlineColor&&(0,Ge.css)([":focus{box-shadow:0 0 0 0.0625rem ",";border-color:",";outline:0;}"],t.textInput.outlineColor,t.textInput.outlineColor)})),DL=(0,Ge.default)(Tv).attrs((function(e){return{"data-component-name":e["data-component-name"]?"ActionButton ".concat(e["data-component-name"]):"ActionButton"}})).withConfig({displayName:"text-input-modalstyle__ActionButton",componentId:"sc-77vqma-7"})(["min-width:",";height:",";float:right;margin-left:",";"],(0,We.rem)(93),(0,We.rem)(40),(0,We.rem)(8)),RL=(0,Ge.default)(Tv).attrs((function(e){return{"data-component-name":e["data-component-name"]?"HighlightButton ".concat(e["data-component-name"]):"HighlightButton"}})).withConfig({displayName:"text-input-modalstyle__HighlightButton",componentId:"sc-77vqma-8"})(["height:",";float:left;"],(0,We.rem)(40)),zL=(0,Ge.default)(_L).attrs((function(e){return{"data-component-name":e["data-component-name"]?"HighlightOnIcon ".concat(e["data-component-name"]):"HighlightOnIcon"}})).withConfig({displayName:"text-input-modalstyle__HighlightOnIcon",componentId:"sc-77vqma-9"})(["align-self:center;",""],(function(e){return e.hide&&(0,Ge.css)(["opacity:0;"])})),UL=(0,Ge.default)(CL).attrs((function(e){return{"data-component-name":e["data-component-name"]?"HighlightOffIcon ".concat(e["data-component-name"]):"HighlightOffIcon"}})).withConfig({displayName:"text-input-modalstyle__HighlightOffIcon",componentId:"sc-77vqma-10"})(["align-self:center;"]),FL=(0,Ge.default)(wL).attrs((function(e){return{"data-component-name":e["data-component-name"]?"HighlightTooltip ".concat(e["data-component-name"]):"HighlightTooltip"}})).withConfig({displayName:"text-input-modalstyle__HighlightTooltip",componentId:"sc-77vqma-11"})(["max-width:",";"],(0,We.rem)(400));function HL(e){return function(e){if(Array.isArray(e))return GL(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||WL(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function VL(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||WL(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function WL(e,t){if(e){if("string"==typeof e)return GL(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?GL(e,t):void 0}}function GL(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var YL=h().memo((function(e){var t=e.initialValue,n=e.onSubmit,r=e.onCancel,o=e.TEXT_STICKER_MAX_CHAR_NUM,a=e.TEXT_STICKER_MAX_LINES,i=VL((0,f.useState)((function(){var e=su(t.join("\n")),n=uu(t.join("\n"));return{text:e,highlight:n,isHighlightActive:n[0]&&0===n[0].index}})),2),c=i[0],l=c.text,s=c.highlight,u=c.isHighlightActive,d=i[1],m=(0,f.useCallback)((function(){var e,t;n({value:(e=du(l,s),t=e.replace(new RegExp("<".concat(lu,">([^]*?)</").concat(lu,">"),"g"),(function(e){return e.split("\n").join("</".concat(lu,">\n<").concat(lu,">"))})).replace(new RegExp("<".concat(lu,"></").concat(lu,">"),"g"),"").split("\n"),ou.add("splitMarkupToLines",{multiLineMarkup:e,splittedMarkup:t}),t)})}),[n,l,s]),p=(0,f.useCallback)((function(){r(),Hi()}),[r]),g=(0,f.useRef)(null),y=VL((0,f.useState)((function(){return"text-input-".concat(Math.random().toString().substr(-10))})),1)[0];(0,f.useEffect)((function(){var e=document.getElementById(y);e.focus(),g.current=e}),[y]);var b=(0,f.useRef)(null),v=(0,f.useCallback)((function(){return d((function(e){var t=e.text,n=e.highlight,r=e.isHighlightActive,i=g.current,c=i.selectionEnd,l=i.value,s=l.split("\n").length,u=l.replaceAll("\n","").length,d=c;if(s>a||u>o){var m=l.length-c,p=function(e,t){var n,r=e.length,o=t.length;for(n=0;n<r&&n<o&&e[n]===t[n];++n);return n}(t.substr(0,t.length-m),l.substr(0,l.length-m)),f=t.substr(0,p),h=t.substr(t.length-m),y=l.substring(p,l.length-m),v=(f+h).split("\n").length,E=(f+h).replaceAll("\n","").length;if(u>o){var w=o-E;s=(l=f+(y=y.split("\n").reduce((function(e,t){if(0===w)return e;if(w>=t.length)return w-=t.length,[].concat(HL(e),[t]);var n=t.substr(0,w);return w=0,[].concat(HL(e),[n])}),[]).join("\n"))+h).split("\n").length,u=l.replaceAll("\n","").length}if(s>a){var A=a-v;s=(l=f+(y=[].concat(HL(y.split("\n").slice(0,A)),[y.split("\n").slice(A).join("")]).join("\n"))+h).split("\n").length,u=l.replaceAll("\n","").length}}var C=l.length-t.length,S=function(e){var t=e.highlight,n=e.from,r=e.shift;try{ou.add("shiftHighlight",{highlight:t,from:n,shift:r});var o=t.map((function(e){var t=e.index,o=e.edge;return{index:r<0?t<=n+r?t:t<=n?n+r:t+r:t<n?t:t===n?0===o?n:n+r:t+r,edge:o}})).filter((function(e,t,n){var r=e.index,o=e.edge;return!(1!==n.filter((function(e){return e.index===r})).length||0===o&&r===n[t+1].index||1===o&&r===n[t-1].index)}));return ou.add("shiftHighlight",{shiftedHighlight:o}),o}catch(e){return au({highlight:t,error:e}),[]}}({highlight:n,from:d-C,shift:C}),_=S;if(C>0){var x=fu({index:d,highlight:S});r&&!x&&(_=pu({addFrom:d-C,addTo:d,prevHighlight:S})),!r&&x&&(_=mu({removeFrom:d-C,removeTo:d,prevHighlight:S}))}return b.current=d,{text:l,highlight:_,isHighlightActive:r}}))}),[o,a]),E=(0,f.useCallback)((function(){return d((function(e){var t=e.text,n=e.highlight,r=g.current,o=r.selectionStart,a=r.selectionEnd;return{text:t,highlight:n,isHighlightActive:o===a?fu({index:o,highlight:n}):function(e){var t=e.highlight,n=e.selectionStart,r=e.selectionEnd;return!!hu({highlight:t,selectionStart:n,selectionEnd:r})}({highlight:n,selectionStart:o,selectionEnd:a})}}))}),[]);(0,f.useLayoutEffect)((function(){if(null!==b.current){var e=b.current;g.current.setSelectionRange(e,e),b.current=null}}));var w=(0,f.useCallback)((function(e){e.preventDefault();var t=g.current,n=t.selectionStart,r=t.selectionEnd;return d((function(e){var t,o=function(e){var t=e.text,o=e.highlight,a=e.isHighlightActive;if(n===r)return{text:t,highlight:o,isHighlightActive:!a};var i=hu({highlight:o,selectionStart:n,selectionEnd:r});return i?{text:t,highlight:mu({coveringInterval:i,removeFrom:n,removeTo:r,prevHighlight:o}),isHighlightActive:!1}:{text:t,highlight:pu({addFrom:n,addTo:r,prevHighlight:o}),isHighlightActive:!0}}(e);return t={state:o.isHighlightActive?"on":"off"},Li(sa({name:"click_on_text_highlight",product:Si,location:ba,flow:fa.flow,version:1},t)),o})),!1}),[]);(0,f.useEffect)((function(){var e=function(e){27===e.keyCode&&r()};return document.addEventListener("keydown",e),function(){return document.removeEventListener("keydown",e)}}),[r]);var A=(0,f.useRef)(null),C=(0,f.useCallback)((function(e){var t=A.current;t&&(t.scrollLeft=e.target.scrollLeft)}),[]),S=(0,f.useMemo)((function(){return{__html:du(l,s,{highlightStart:'<span style="color: #ffffff; background-color: #1a2e3b;">',highlightEnd:"</span>"})}}),[l,s]);return h().createElement(Jv,{withStyle:TL,"data-component-name":"TextInputModal","data-key":e["data-key"]},h().createElement(BL,null,h().createElement(OL,null,oe.TextInputModalTitle,h().createElement(Mv,{size:"sm",onClick:p})),h().createElement(jL,{className:"notranslate"},h().createElement(PL,{ref:A,dangerouslySetInnerHTML:S}),h().createElement(NL,{id:y,onKeyDownCapture:function(e){46!==e.which&&8!==e.which||e.nativeEvent.stopImmediatePropagation()},showLabel:!1,value:l,onChange:v,onSelect:E,placeholder:oe.TextInputModalPlaceholder,onScroll:C,TEXT_STICKER_MAX_LINES:a})),h().createElement(kL,null,h().createElement(FL,{text:oe.TextInputModalHighlightButtonTooltip,biCallback:function(){return e={name:qi,product:Si,location:ba,version:2,flow:fa.flow},void gi(qi,e);var e}},h().createElement(RL,{onMouseDown:w,format:u?"primary":"secondary",className:"notranslate",title:""},u&&h().createElement(zL,null),!u&&h().createElement(UL,null),oe.TextInputModalHighlightButton)),h().createElement(ML,null,h().createElement(DL,{onClick:m,title:""},oe.Done),h().createElement(DL,{onClick:r,format:"secondary",title:""},oe.Cancel)))))}));YL.propTypes={initialValue:(0,Sw.arrayOf)(Sw.string).isRequired,onSubmit:Sw.func.isRequired,onCancel:Sw.func.isRequired};var qL=function(e){return e.join("").length>0},ZL=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.initialValue,o=void 0===r?[""]:r,a=(0,T.v9)((function(e){return e.staticParameters})),i=a.TEXT_STICKER_MAX_CHAR_NUM,c=a.TEXT_STICKER_MAX_LINES,l=(0,f.useState)(!1),s=VL(l,2),u=s[0],d=s[1],m=(0,f.useCallback)((function(){Fi(),ou.clear(),d(!0)}),[]),p=(0,f.useCallback)((function(){Hi(),ou.clear(),d(!1)}),[]),g=(0,f.useCallback)(e,t),y=(0,f.useCallback)((function(e){var t=e.value;qL(t)&&g({value:t}),p()}),[p,g]),b=u?h().createElement(YL,{initialValue:o,onSubmit:y,onCancel:p,TEXT_STICKER_MAX_CHAR_NUM:i,TEXT_STICKER_MAX_LINES:c}):null;return[b,m,p]},XL=function(e){var t=(0,T.v9)((function(e){return e.staticParameters})),n=t.IMAGE_STICKER_MAX_NUM_PER_SCENE,r=t.TEXT_STICKER_MAX_NUM_PER_SCENE,o=(0,T.I0)();return[(0,f.useCallback)((function(t){var o=t===_s;return(o?e.getImageStickersElements().length:e.getTextElements().length)>=(o?n:r)}),[n,r,e]),(0,f.useCallback)((function(e){var t=e===_s,a=t?oe.ImageStickerReachMaxNumberLimitTitle:oe.TextStickerReachMaxNumberLimitTitle,i=t?oe.ImageStickerReachMaxNumberLimitText(n):oe.TextStickerReachMaxNumberLimitText(r);o(td({title:a,content:i}))}),[n,r,o])]},KL=function(e){switch(e){case"xs":return(0,We.rem)(24);case"sm":return(0,We.rem)(32);default:return(0,We.rem)(40)}},QL=(0,Ge.default)(Tv).attrs((function(e){return{"data-component-name":e["data-component-name"]?"ButtonIconOnlyControl ".concat(e["data-component-name"]):"ButtonIconOnlyControl"}})).withConfig({displayName:"button-icon-only__ButtonIconOnlyControl",componentId:"feiect-0"})(["border:none;min-width:initial;min-height:initial;padding:0;width:",";height:",";margin:0 ",";"],(function(e){return KL(e.size)}),(function(e){return KL(e.size)}),(0,We.rem)(1)),$L=function(e){return e.active?e.disabled?qc("button.".concat(e.format,".disabledActiveColor"),ov):qc("button.".concat(e.format,".activeColor"),Jb):e.disabled?qc("button.".concat(e.format,".disableColor"),ov):qc("button.".concat(e.format,".color"),$b)},JL=function(e){var t=e.show,n=void 0===t||t,r=e.attachLocation,o=void 0===r?"top":r,a=e.tooltipText,i=e.onClick,c=e.iconReactComponent,l=e.format,s=e.size,u=e.className,d=e.test,m=e.disabled,p=e.customFormat;return n?h().createElement(wL,{text:a,attachLocation:o,test:d,"data-component-name":"ButtonIconOnly"},h().createElement(QL,{onClick:i,title:"",format:l,size:s,className:u,disabled:m,customFormat:p},c)):null};function eP(){return h().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","data-component-name":"PencilIconSVG"},h().createElement("g",{fill:"none",fillRule:"evenodd",stroke:"#1A2E3B",strokeWidth:"2"},h().createElement("path",{strokeLinecap:"square",d:"M13.414 7.596l2.829 2.829"}),h().createElement("path",{strokeLinejoin:"round",d:"M18.718 4.414l1.414 1.414a2 2 0 0 1 0 2.829L9.525 19.263l-4.95.708.707-4.95L15.89 4.414a2 2 0 0 1 2.829 0z"})))}function tP(e){return function(e){if(Array.isArray(e))return nP(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return nP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nP(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nP(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function rP(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var oP=(0,il.P1)((function(e){return e.colorPalettes}),(function(e){return e.storyBoard.videoBranding.colors}),(function(e,t){var n=e.brand,r=void 0===n?{}:n,o=rP(e,["brand"]),a=1e10,i=Object.values(o).filter((function(e){return!lr(e,r)})).sort((function(e,t){var n,r;return(null!==(n=e.order)&&void 0!==n?n:a)-(null!==(r=t.order)&&void 0!==r?r:a)}));return lr(r,t)||!!i.find((function(e){return lr(e,t)}))?i:[].concat(tP(i),[t])})),aP=n(745073418470247);function iP(){return(iP=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function cP(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var lP=function(e){var t=e.children,n=e.scrollX,r=void 0===n||n,o=e.scrollY,a=void 0===o||o,i=e.alwaysShowScrollbars,c=void 0!==i&&i,l=e.onInitialized,s=e.onInitializationWithdrawn,u=e.onDestroyed,d=e.onScrollStart,m=e.onScroll,p=e.onScrollStop,f=e.onOverflowChanged,g=e.onOverflowAmountChanged,y=e.onDirectionChanged,b=e.onContentSizeChanged,v=e.onHostSizeChanged,E=e.onUpdate,w=cP(e,["children","scrollX","scrollY","alwaysShowScrollbars","onInitialized","onInitializationWithdrawn","onDestroyed","onScrollStart","onScroll","onScrollStop","onOverflowChanged","onOverflowAmountChanged","onDirectionChanged","onContentSizeChanged","onHostSizeChanged","onUpdate"]);return h().createElement(aP.E,iP({},w,{options:{sizeAutoCapable:!1,paddingAbsolute:!1,overflowBehavior:{x:r?"scroll":"hidden",y:a?"scroll":"hidden"},scrollbars:{visibility:c?"visible":"auto",clickScrolling:!0},callbacks:{onInitialized:l,onInitializationWithdrawn:s,onDestroyed:u,onScrollStart:d,onScroll:m,onScrollStop:p,onOverflowChanged:f,onOverflowAmountChanged:g,onDirectionChanged:y,onContentSizeChanged:b,onHostSizeChanged:v,onUpdate:E}},"data-component-name":"Scrollable"}),t)},sP=S("ColorPalettesDropdown"),uP=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"ColorPalettesContainer ".concat(e["data-component-name"]):"ColorPalettesContainer"}})).withConfig({displayName:"color-palettes-dropdowncomponent__ColorPalettesContainer",componentId:"oq4iiv-0"})(["width:252px;height:385px;border-radius:5px;box-shadow:0 2px 4px 0 rgba(0,0,0,0.12);border:solid 1px #d0d8db;background-color:#ffffff;position:absolute;z-index:4;margin-left:83px;overflow:hidden;top:220px;"]),dP=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"ColorPalettesList ".concat(e["data-component-name"]):"ColorPalettesList"}})).withConfig({displayName:"color-palettes-dropdowncomponent__ColorPalettesList",componentId:"oq4iiv-1"})(["height:calc( "," - ","px );display:flex;"],(function(e){return e.showCustomColors?"221px":"385px"}),(function(e){return e.hasAddYourBrandColors?"48":"0"})),mP=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"PaletteRow ".concat(e["data-component-name"]):"PaletteRow"}})).withConfig({displayName:"color-palettes-dropdowncomponent__PaletteRow",componentId:"oq4iiv-2"})(["height:17px;background-color:",";"],(function(e){return e.color})),pP=Ge.default.div.attrs({className:"palette-border"}).attrs((function(e){return{"data-component-name":e["data-component-name"]?"PaletteWrapper ".concat(e["data-component-name"]):"PaletteWrapper"}})).withConfig({displayName:"color-palettes-dropdowncomponent__PaletteWrapper",componentId:"oq4iiv-3"})(["width:54px;height:54px;border-radius:7px;overflow:hidden;cursor:pointer;display:inline-block;margin:8px;scroll-margin:8px;background-color:#e3e8e9;&:hover{background-color:",";}"," ",""],(function(e){return e.theme.colors.primary}),(function(e){return e.isBrandingPalette&&(0,Ge.css)(["display:block;margin:12px 12px 24px 12px;"])}),(function(e){return e.isSelected&&(0,Ge.css)(["background-color:",";"],(function(e){return e.theme.colors.primary}))})),fP=Ge.default.div.attrs({className:"palette"}).attrs((function(e){return{"data-component-name":e["data-component-name"]?"Palette ".concat(e["data-component-name"]):"Palette"}})).withConfig({displayName:"color-palettes-dropdowncomponent__Palette",componentId:"oq4iiv-4"})(["width:50px;height:50px;border-radius:5px;overflow:hidden;margin:2px;pointer-events:none;"]),hP=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"BrandColorLabel ".concat(e["data-component-name"]):"BrandColorLabel"}})).withConfig({displayName:"color-palettes-dropdowncomponent__BrandColorLabel",componentId:"oq4iiv-5"})(["font-family:HelveticaNeue;font-size:14px;font-weight:500;color:#1a2e3b;margin:12px 0 0 12px;"]),gP=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"ColorPencilWrapper ".concat(e["data-component-name"]):"ColorPencilWrapper"}})).withConfig({displayName:"color-palettes-dropdowncomponent__ColorPencilWrapper",componentId:"oq4iiv-6"})(["float:right;margin:22px 12px 0 0;padding:4px;"]),yP=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"ColorPaletteSeparator ".concat(e["data-component-name"]):"ColorPaletteSeparator"}})).withConfig({displayName:"color-palettes-dropdowncomponent__ColorPaletteSeparator",componentId:"oq4iiv-7"})(["height:1px;background-color:#e3e8e9;margin:0 12px 12px 12px;"]),bP=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"AddCustomBrandColors ".concat(e["data-component-name"]):"AddCustomBrandColors"}})).withConfig({displayName:"color-palettes-dropdowncomponent__AddCustomBrandColors",componentId:"oq4iiv-8"})(["padding:8px;position:absolute;bottom:0;width:100%;left:0;background-color:white;box-shadow:0px 0px 15px 0px rgba(0,0,0,0.33);"]),vP=(0,Ge.default)(Tv).attrs((function(e){return{"data-component-name":e["data-component-name"]?"AddCustomBrandColorsButton ".concat(e["data-component-name"]):"AddCustomBrandColorsButton"}})).withConfig({displayName:"color-palettes-dropdowncomponent__AddCustomBrandColorsButton",componentId:"oq4iiv-9"})(["height:32px;border-radius:2px;width:100%;color:#fff;font-size:14px;font-weight:bold;border:0;line-height:initial;min-height:initial;"]),EP=function(e){var t=e.colorPalette,n=e.isBrandingPalette,r=void 0!==n&&n,o=e.isSelected,a=e.onPaletteClick;return h().createElement(pP,{isSelected:o,isBrandingPalette:r,className:o&&"selected",onClick:function(){a(t)},"data-component-name":"ColorPalette"},h().createElement(fP,{key:0,"data-key":0},h().createElement(mP,{color:t.primary}),h().createElement(mP,{color:t.secondary,style:{height:"16px"}}),h().createElement(mP,{color:t.default})))};var wP={updateVideoBrandingColors:function(e){return function(t,n){var r=n(),o=r.storyBoard.videoBranding,a=r.staticParameters.DEFAULT_HIGHLIGHT_COLOR;t({type:fd.UPDATE_VIDEO_BRANDING_COLORS_BY_USER,payload:{videoBranding:Xf(Xf({},o),{},{colors:Xf(Xf({},o.colors),e)}),defaultHighlightColor:a}})}}};const AP=(0,T.$j)((function(e){var t=e.storyBoard,n=t.vsid,r=t.videoBranding,o=e.colorPalettes;return{vsid:n,colorPalettes:oP(e),brandPalette:o.brand,selectedColorPalette:r.colors,customColorsInPaletteFT:e.featureToggles.values.customColorsInPalette}}),wP)((function(e){var t=e.vsid,n=e.colorPalettes,r=e.brandPalette,o=e.selectedColorPalette,a=e.customColorsInPaletteFT,i=e.updateVideoBrandingColors,c=e.openBranding,l=(0,T.v9)((function(e){return e.userCapabilities.capabilities.canBrandVideo})),s=l.tier,u=l.isVisible,d=(s||{}).text,m=(0,f.useCallback)((function(e){i(e),Ei("click",ha,"color_palette_select",{video_session_id:t,selected_palette:e})}),[i,t]),p=(0,f.useRef)(null);return(0,f.useEffect)((function(){var e,t=null===(e=p.current)||void 0===e?void 0:e.querySelector(".selected");t?t.scrollIntoView({block:"end"}):sP.error("Cannot find selected palette element")}),[p]),h().createElement(uP,{tabIndex:"0","data-component-name":"ColorPalettesDropdown"},h().createElement(dP,{"data-popover":!0,ref:p,showCustomColors:a,hasAddYourBrandColors:!r&&u},h().createElement(lP,{style:{padding:12,textAlign:"left",flex:"1 1"}},!!r&&h().createElement(h().Fragment,null,h().createElement(hP,null,"Brand color"),h().createElement(gP,null,h().createElement(JL,{size:"sm",format:"transparent",tooltipText:oe.Edit,onClick:function(){return c("color",LC,oe.brandingColorUpsellTitle(d),"editor_screen","use_color")},iconReactComponent:h().createElement(eP,null)})),h().createElement(EP,{colorPalette:r,isBrandingPalette:!0,isSelected:lr(r,o),onPaletteClick:m}),h().createElement(yP,null)),n.map((function(e){var t;return h().createElement(EP,{colorPalette:e,isSelected:lr(e,o),onPaletteClick:m,key:t="".concat(e.primary,"_").concat(e.secondary,"_").concat(e.default),"data-key":t})})))),!r&&u&&h().createElement(bP,null,h().createElement(vP,{onClick:function(){return c("color",LC,oe.brandingColorUpsellTitle(d),"editor_screen","use_color")}},oe.AddCustomBrandColorsButton)))}));var CP=(0,Ge.default)(Tv).attrs((function(e){return{"data-component-name":e["data-component-name"]?"GlobalBarBtnWrapper ".concat(e["data-component-name"]):"GlobalBarBtnWrapper"}})).withConfig({displayName:"global-bar-btncomponent__GlobalBarBtnWrapper",componentId:"sc-1v3erz1-0"})(["width:",";height:",";margin-bottom:",";@media screen and (min-height:690px){margin-bottom:",";}min-width:initial;padding:0;border:0;font-size:",";font-weight:normal;font-style:normal;font-stretch:normal;line-height:1.5;&:disabled{background-color:transparent;border-color:transparent;color:transparent;opacity:0.5;}&:focus *{border:0 !important;}"," &:hover{background-color:#dae1e2;}"],(0,We.rem)(64),(0,We.rem)(64),(0,We.rem)(8),(0,We.rem)(16),(0,We.rem)(12),(function(e){return e.active&&(0,Ge.css)(["> div:last-child{background-color:#e3e8e9;z-index:-1;width:100%;height:100%;left:0;top:0;transform:none;}"])})),SP=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"LabelWrapper ".concat(e["data-component-name"]):"LabelWrapper"}})).withConfig({displayName:"global-bar-btncomponent__LabelWrapper",componentId:"sc-1v3erz1-1"})(["height:",";color:#1a2e3b;text-overflow:ellipsis;overflow:hidden;"],(0,We.rem)(18));const _P=function(e){var t=e.label,n=e.IconSVG,r=e.onBlur,o=e.onClick,a=e.active,i=e.disabled;return h().createElement(CP,{active:a,disabled:i,format:"secondaryOutline",title:"",tabIndex:"0",onBlur:r,onClick:o,className:"global-bar-button-wrapper","data-component-name":"GlobalBarBtn"},h().createElement("div",{style:{overflow:"hidden"}},n,h().createElement(SP,{className:"global-bar-button-label"},t)))};function xP(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return IP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return IP(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function IP(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var TP=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"GlobalBarWrapper ".concat(e["data-component-name"]):"GlobalBarWrapper"}})).withConfig({displayName:"globar-barcomponent__GlobalBarWrapper",componentId:"sc-10l6k4t-0"})(["border-right:"," solid rgba(0,0,0,0.1);text-align:center;margin:0;background-color:white;z-index:",";width:",";padding:"," ",";@media screen and (min-height:690px){padding:"," ",";}"],(0,We.rem)(1),sL.GlobalBar,(0,We.rem)(81),(0,We.rem)(12),(0,We.rem)(8),(0,We.rem)(24),(0,We.rem)(8)),OP=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"GlobalBarSeparator ".concat(e["data-component-name"]):"GlobalBarSeparator"}})).withConfig({displayName:"globar-barcomponent__GlobalBarSeparator",componentId:"sc-10l6k4t-1"})(["height:",";background-color:#e3e8e9;margin:"," 0 ",";@media screen and (min-height:690px){margin:"," 0 ",";}"],(0,We.rem)(1),(0,We.rem)(4),(0,We.rem)(12),(0,We.rem)(8),(0,We.rem)(24)),kP=(0,Ge.default)(mI).attrs({className:"global-bar-orientation-dropdown"}).attrs((function(e){return{"data-component-name":e["data-component-name"]?"OrientationDropdown ".concat(e["data-component-name"]):"OrientationDropdown"}})).withConfig({displayName:"globar-barcomponent__OrientationDropdown",componentId:"sc-10l6k4t-2"})(["width:",";height:",";margin-bottom:",";"],(0,We.rem)(64),(0,We.rem)(64),(0,We.rem)(16)),MP=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"OrientationRow ".concat(e["data-component-name"]):"OrientationRow"}})).withConfig({displayName:"globar-barcomponent__OrientationRow",componentId:"sc-10l6k4t-3"})(["display:flex;cursor:pointer;align-items:center;height:",";&:hover{background-color:#f7f8f9;}svg{display:block;}& > div{width:",";margin-right:",";&:last-child{font-family:HelveticaNeue;font-size:",";font-weight:normal;font-stretch:normal;font-style:normal;line-height:1.43;letter-spacing:normal;margin-right:0;}}"],(0,We.rem)(30),(0,We.rem)(24),(0,We.rem)(6),(0,We.rem)(14)),BP=(0,Ge.default)(aC).attrs((function(e){return{"data-component-name":e["data-component-name"]?"StyledCheckmarkIcon ".concat(e["data-component-name"]):"StyledCheckmarkIcon"}})).withConfig({displayName:"globar-barcomponent__StyledCheckmarkIcon",componentId:"sc-10l6k4t-4"})(["margin-left:",";"],(0,We.rem)(11)),jP=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"FixedBox ".concat(e["data-component-name"]):"FixedBox"}})).withConfig({displayName:"globar-barcomponent__FixedBox",componentId:"sc-10l6k4t-5"})(["width:",";height:",";"],(0,We.rem)(16),(0,We.rem)(16));var LP={updateStoryboard:mh,updateSound:function(e){return{type:fd.UPDATE_SOUND,actionDescription:oe.ActionDescriptionChangeMusicTrack,payload:{sound:e}}},addNewTextSlide:vh,addTextCompositionElement:function(e,t){return function(n){(0,T.dC)((function(){n(Zd()),n(vf(e,t))}))}}};const PP=(0,T.$j)((function(e){var t,n=e.storyBoard,r=n.vsid,o=n.sound,a=n.theme,i=n.orientation;return{currentTime:bs(e).currentTime,vsid:r,sound:o,theme:a,orientation:i,palette:e.storyBoard.videoBranding.colors,showSpecialLayouts:e.featureToggles.values.showSpecialLayouts,ladyBugFT:e.featureToggles.values.ladyBug,closePopover:null===(t=e.activePopover)||void 0===t?void 0:t.closeHandler}}),LP)((function(e){var t=e.currentTime,n=e.vsid,r=e.sound,o=e.theme,a=e.orientation,i=e.palette,c=e.updateStoryboard,l=e.updateSound,s=e.openBranding,u=e.showSpecialLayouts,d=e.ladyBugFT,m=e.selectedScene,p=e.disableAddStickerButtons,g=e.addTextCompositionElement,y=e.closePopover,b=(0,T.v9)((function(e){return e.userCapabilities.capabilities.canBrandVideo})),v=(b.tier||{}).text,E=xP((0,f.useState)(!1),2),w=E[0],A=E[1],C=xP((0,f.useState)(!1),2),S=C[0],_=C[1],x=b.isVisible,I=[{id:"landscape",text:oe.GlobalBarRatioLandscape,icon:h().createElement(XB,null)},{id:"square",text:oe.GlobalBarRatioSquare,icon:h().createElement(ZB,null)},{id:"portrait",text:oe.GlobalBarRatioPortrait,icon:h().createElement(qB,null)}],O=xP(pL(),2),k=O[0],M=O[1],B=(0,f.useCallback)((function(){$i({open_type:ga}),M()}),[M]),j=(0,T.I0)(),L=xP((0,f.useState)(!1),2),P=L[0],N=L[1],D=(0,f.useCallback)((function(){j(Ul((function(){N(!1)}))),N(!0)}),[j]),R=y,z=(0,f.useRef)(!0);(0,f.useEffect)((function(){d&&!z.current?c("special_layouts",!0):z.current=!1}),[d,u,c]);var U=(0,f.useRef)(null),F=(0,f.useCallback)((function(e){var t,n=e.path||e.composedPath&&e.composedPath();null!==(t=U.current)&&void 0!==t&&t.contains(e.target)||(n.find((function(e){return e.classList&&(e.classList.value.search("ColorPalettesContainer")>-1||e.classList.value.search("picker")>-1)}))||P&&R())}),[R,P]);(0,f.useEffect)((function(){return window.addEventListener("click",F),function(){window.removeEventListener("click",F)}}),[P,U,F]);var H=xP((0,f.useState)(!1),2),V=H[0],W=H[1],G=(0,f.useMemo)((function(){return I.filter((function(e){return e.id===a})).map((function(e){var t;return h().createElement(_P,{"data-popover-selector":!0,active:V,IconSVG:h().createElement(tj,null),label:oe.Format,key:t=e.id,"data-key":t})}))}),[a,V,I]),Y=(0,f.useMemo)((function(){return I.map((function(e){var t;return h().createElement(MP,{key:t=e.id,"data-key":t,align:"center",onClick:function(){var t,n;e.id!==a&&(t={selection:e.id},n={name:"click_to_select_orientation",product:Si,location:ba,version:3,selection:t.selection,vsid:fa.vsid,flow:fa.flow},Li(n=sa(sa({},t),n)),c("orientation",e.id)),function(e){var t={name:Ya,product:Si,location:fa.location,flow:fa.flow,version:3};Li(t=sa(sa({},e),t)),vi(oa,Ya,sa({type:xi,flow:fa.flow,location:fa.location},e))}({selection:e.id})},role:"presentation"},h().createElement("div",null,e.id===a?h().createElement(BP,null):h().createElement(jP,null)),h().createElement("div",null,e.icon),h().createElement("div",null,e.text))}))}),[I,a,c]),q=xP(XL(m),2),Z=q[0],X=q[1],K=sE(m.id).player,Q=m.getMasterTiming(),$=xP(ZL((function(e){var n=e.value;m.isOverlayTimingEqMasterTiming&&K.seek(Q.start),g(m.id,{text:n,currentMasterTime:t})}),[m.isOverlayTimingEqMasterTiming,m.id,g,t,K,Q.start]),2),J=$[0],ee=$[1];return h().createElement(TP,{className:"global-bar","data-component-name":"GlobalBar"},h().createElement(_P,{IconSVG:h().createElement($B,null),label:oe.GlobalBarAddNewItemText,disabled:p,onClick:function(){Z(Ts)?X(Ts):ee()}}),h().createElement(_P,{IconSVG:h().createElement(JB,null),label:oe.GlobalBarAddNewItemSticker,disabled:p,onClick:function(){Z(_s)?X(_s):B()}}),k,J,h().createElement(OP,null),h().createElement(_P,{IconSVG:h().createElement(rj,null),label:oe.Styles,onClick:function(){_(!0)}}),S&&h().createElement(GB,{closeModal:function(){_(!1)},onCreate:function(e){e.id!==o.id&&c("theme",e.id,oe.ActionDescriptionChangeStyle),_(!1)}}),h().createElement(_P,{IconSVG:h().createElement(ej,null),label:oe.Music,onClick:function(){A(!0)}}),w&&h().createElement(RM,{closeModal:function(){A(!1)},onCreate:function(e){var t=Object.assign({},e,{id:e.hash?e.hash:e.id});t.id!==r.id&&l(t),A(!1)}}),h().createElement(kP,{onOpenDropDown:function(e){return W(e)},closeOnSelect:!1,dropdownListStyle:{top:0,left:"83px",width:"180px",padding:"0",height:"137px",justifyContent:"space-evenly",cursor:"auto"},selectItem:G,listItem:Y}),h().createElement("div",{"data-popover-selector":!0,ref:U},h().createElement(_P,{IconSVG:h().createElement(nj,{palette:i}),label:oe.Colors,active:P,onClick:function(){P?R():D(),Ei("click",ha,"color_palette_menu_open",{video_session_id:n})}})),x&&h().createElement(_P,{IconSVG:h().createElement(YB,null),label:oe.Brand,onClick:function(){var e,t;t={name:ti,product:Si,flow:fa.flow,location:_a,version:3},Li(t=sa(sa({},e),t)),vi(oa,ti,sa({type:xi,flow:fa.flow,location:_a},e)),s("brand_button",NC,oe.brandingUpsellTitle(v))}}),P&&h().createElement(AP,{openBranding:s}))}));var NP=function(e,t){return e.exceededVideoLengthUsageMagisto?"#5f45e6":t},DP=Ge.default.input.attrs({type:"range"}).attrs((function(e){return{"data-component-name":e["data-component-name"]?"StyledRange ".concat(e["data-component-name"]):"StyledRange"}})).withConfig({displayName:"slider-style__StyledRange",componentId:"sc-12ecdvn-0"})(["background-color:transparent;-webkit-appearance:none;width:100%;margin:5.5px 0;:focus{outline:none;}::-webkit-slider-runnable-track{width:100%;height:5px;cursor:pointer;box-shadow:0px 0px 0px rgba(0,0,0,0),0px 0px 0px rgba(13,13,13,0);background:#d0d8db;border-radius:25px;border:0px solid rgba(0,0,0,0);background:-moz-linear-gradient( left,"," 0%,"," ","%,#d0d8db ","%,#d0d8db 100% );background:-webkit-linear-gradient( left,"," 0%,"," ","%,#d0d8db ","%,#d0d8db 100% );background:linear-gradient( to right,"," 0%,"," ","%,#d0d8db ","%,#d0d8db 100% );}::-webkit-slider-thumb{width:24px;height:24px;box-shadow:0 0 6px 0 rgba(0,0,0,0.3);border-radius:45px;background:#fff;cursor:pointer;-webkit-appearance:none;margin-top:-10px;}:focus::-webkit-slider-runnable-track{background:-moz-linear-gradient( left,"," 0%,"," ","%,#d0d8db ","%,#d0d8db 100% );background:-webkit-linear-gradient( left,"," 0%,"," ","%,#d0d8db ","%,#d0d8db 100% );background:linear-gradient( to right,"," 0%,"," ","%,#d0d8db ","%,#d0d8db 100% );}::-moz-range-track{width:100%;height:4px;cursor:pointer;box-shadow:0px 0px 0px rgba(0,0,0,0),0px 0px 0px rgba(13,13,13,0);background:-moz-linear-gradient( left,"," 0%,"," ","%,#d0d8db ","%,#d0d8db 100% );background:-webkit-linear-gradient( left,"," 0%,"," ","%,#d0d8db ","%,#d0d8db 100% );background:linear-gradient( to right,"," 0%,"," ","%,#d0d8db ","%,#d0d8db 100% );border-radius:25px;border:0px solid rgba(0,0,0,0);}::-moz-range-thumb{width:24px;height:24px;box-shadow:0 0 6px 0 rgba(0,0,0,0.3);border-radius:45px;background:linear-gradient( 90deg,"," ","%,#d0d8db ","% );cursor:pointer;}::-ms-track{width:100%;height:4px;cursor:pointer;background:transparent;border-color:transparent;color:transparent;}::-ms-fill-lower{background:#d0d8db;border:0px solid rgba(0,0,0,0);border-radius:50px;box-shadow:0px 0px 0px rgba(0,0,0,0),0px 0px 0px rgba(13,13,13,0);}::-ms-fill-upper{background:#d0d8db;border:0px solid rgba(0,0,0,0);border-radius:50px;box-shadow:0px 0px 0px rgba(0,0,0,0),0px 0px 0px rgba(13,13,13,0);}::-ms-thumb{width:24px;height:24px;box-shadow:0 0 6px 0 rgba(0,0,0,0.3);border-radius:45px;background:#fff;cursor:pointer;height:4px;}:focus::-ms-fill-lower{background:#d0d8db;}:focus::-ms-fill-upper{background:#d0d8db;}"],(function(e){return qe(e,"theme.colors.primary",Kb)}),(function(e){return qe(e,"theme.colors.primary",Kb)}),(function(e){return e.percentage}),(function(e){return e.percentage+1}),(function(e){return qe(e,"theme.colors.primary",Kb)}),(function(e){return qe(e,"theme.colors.primary",Kb)}),(function(e){return e.percentage}),(function(e){return e.percentage+1}),(function(e){return NP(e,qe(e,"theme.colors.primary",Kb))}),(function(e){return NP(e,qe(e,"theme.colors.primary",Kb))}),(function(e){return e.percentage}),(function(e){return e.percentage+1}),(function(e){return qe(e,"theme.colors.primary",Kb)}),(function(e){return qe(e,"theme.colors.primary",Kb)}),(function(e){return e.percentage}),(function(e){return e.percentage+1}),(function(e){return qe(e,"theme.colors.primary",Kb)}),(function(e){return qe(e,"theme.colors.primary",Kb)}),(function(e){return e.percentage}),(function(e){return e.percentage+1}),(function(e){return NP(e,qe(e,"theme.colors.primary",Kb))}),(function(e){return NP(e,qe(e,"theme.colors.primary",Kb))}),(function(e){return e.percentage}),(function(e){return e.percentage+1}),(function(e){return qe(e,"theme.colors.primary",Kb)}),(function(e){return qe(e,"theme.colors.primary",Kb)}),(function(e){return e.percentage}),(function(e){return e.percentage+1}),(function(e){return qe(e,"theme.colors.primary",Kb)}),(function(e){return qe(e,"theme.colors.primary",Kb)}),(function(e){return e.percentage}),(function(e){return e.percentage+1}),(function(e){return qe(e,"theme.colors.primary",Kb)}),(function(e){return qe(e,"theme.colors.primary",Kb)}),(function(e){return e.percentage}),(function(e){return e.percentage+1}),(function(e){return qe(e,"theme.colors.primary",Kb)}),(function(e){return e.value/e.max*100}),(function(e){return 100-e.value/e.max*100}));function RP(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return zP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zP(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zP(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function UP(){return(UP=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function FP(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var HP=function(e){var t=e.value,n=e.min,r=e.max,o=e.step,a=e.onChange,i=e.onRelease,c=FP(e,["value","min","max","step","onChange","onRelease"]),l=(0,f.useRef)({}),s=(0,f.useCallback)((function(e){var t=parseFloat(e.target.value);l.current.onChange=t,l.current.onRelease=t}),[]),u=(0,f.useCallback)((function(e){var t=parseFloat(e.target.value);t!==l.current.onChange&&(l.current.onChange=t,a&&a(e,t))}),[a]),d=(0,f.useCallback)((function(e){var t=parseFloat(e.target.value);t!==l.current.onRelease&&(l.current.onRelease=t,i&&i(e,t))}),[i]);return h().createElement(DP,UP({onChange:function(e){u(e)},onMouseUp:function(e){u(e),d(e)},onMouseDown:function(e){s(e)},value:t,min:n,max:r,step:o,percentage:Math.round((t-n)/(r-n)*100)},c,{"data-component-name":"Slider"}))},VP=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"SliderWrapper ".concat(e["data-component-name"]):"SliderWrapper"}})).withConfig({displayName:"slider__SliderWrapper",componentId:"sc-5fz6wq-0"})(["display:flex;margin-top:",";"],(0,We.rem)(8)),WP=Ge.default.span.attrs((function(e){return{"data-component-name":e["data-component-name"]?"UnitSign ".concat(e["data-component-name"]):"UnitSign"}})).withConfig({displayName:"slider__UnitSign",componentId:"sc-5fz6wq-1"})(["font-size:",";position:absolute;left:",";margin-top:",";"],(0,We.rem)(12),(0,We.rem)(31),(0,We.rem)(1)),GP=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"SliderInputWrapper ".concat(e["data-component-name"]):"SliderInputWrapper"}})).withConfig({displayName:"slider__SliderInputWrapper",componentId:"sc-5fz6wq-2"})(["position:relative;:hover{","{display:none;}}"],WP),YP=Ge.default.input.attrs((function(e){return{"data-component-name":e["data-component-name"]?"SliderTextInput ".concat(e["data-component-name"]):"SliderTextInput"}})).withConfig({displayName:"slider__SliderTextInput",componentId:"sc-5fz6wq-3"})(["width:",";height:",";border-radius:",";border:solid "," #d0d8db;background-color:#f6f7f8;text-align:center;font-size:",";font-weight:normal;font-style:normal;font-stretch:normal;line-height:1.67;letter-spacing:normal;color:#1a2e3b;-moz-appearance:textfield;margin-left:",";padding-right:",";::-webkit-inner-spin-button{display:none;}&:hover{padding-right:initial;-moz-appearance:initial;::-webkit-inner-spin-button{display:inline-block;}}"],(0,We.rem)(41),(0,We.rem)(22),(0,We.rem)(3),(0,We.rem)(1),(0,We.rem)(12),(0,We.rem)(6),(0,We.rem)(15)),qP=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"SliderLabel ".concat(e["data-component-name"]):"SliderLabel"}})).withConfig({displayName:"slider__SliderLabel",componentId:"sc-5fz6wq-4"})(["margin-bottom:",";"],(0,We.rem)(8)),ZP=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"SliderControlWrapper ".concat(e["data-component-name"]):"SliderControlWrapper"}})).withConfig({displayName:"slider__SliderControlWrapper",componentId:"sc-5fz6wq-5"})(["",""],(function(e){var t=e.marginTop;return t&&"margin-top: ".concat(t,";")})),XP=h().memo((function(e){var t=e.label,n=e.value,r=e.min,o=e.max,a=e.onValueMutating,i=void 0===a?I.noop:a,c=e.onValueCommited,l=void 0===c?I.noop:c,s=e.onValueChangeFromInput,u=void 0===s?l:s,d=e.step,m=void 0===d?1:d,p=e.precision,g=void 0===p?0:p,y=e.marginTop,b=e.unitSign,v=void 0===b?"":b,E=e.adjustValue,w=void 0===E?function(e){return e}:E,A=RP((0,f.useState)(null),2),C=A[0],S=A[1],_=function(){return S(null)};return h().createElement(ZP,{marginTop:y,"data-component-name":"SliderControl"},h().createElement(qP,{id:"".concat(t,"-slider")},t),h().createElement(VP,null,h().createElement(HP,{min:r,max:o,value:n,step:m,onChange:function(e,t){return i(w(t))},onRelease:function(e,t){return l(w(t))},"aria-labelledby":"".concat(t,"-slider")}),h().createElement(GP,null,h().createElement(YP,{value:null===C?+n.toFixed(g):C,step:m,type:"number",min:r,max:o,onChange:function(e){var t=e.target.value,n=parseFloat(t);""!==t&&r<=n&&n<=o&&n===w(n)?(S(null),u(n)):S(t)},onBlur:function(){return _()},onKeyDown:function(e){return 13===e.keyCode&&_()}}),h().createElement(WP,null,v))))})),KP=n(0xcfb991d4203e),QP=((0,We.rem)(600),(0,We.rem)(630),(0,We.rem)(40),(0,We.rem)(126),(0,We.rem)(28),(0,We.rem)(25),(0,We.rem)(30),(0,We.rem)(30),(0,We.rem)(28),(0,We.rem)(200),(0,We.rem)(249),(0,We.rem)(18),(0,We.rem)(18),(0,We.rem)(30),(0,We.rem)(200),(0,We.rem)(40),(0,We.rem)(8),(0,Ge.default)(Ze).attrs((function(e){return{"data-component-name":e["data-component-name"]?"DropdownSelector ".concat(e["data-component-name"]):"DropdownSelector"}})).withConfig({displayName:"story-styles__DropdownSelector",componentId:"eojf7e-14"})(["& > *{margin-right:",";&:last-child:{margin-right:0;}}"],(0,We.rem)(8))),$P=((0,We.rem)(24),(0,We.rem)(24),(0,We.rem)(24),(0,We.rem)(16),(0,We.rem)(24),(0,We.rem)(26),(0,We.rem)(273),(0,We.rem)(252),(0,We.rem)(242),(0,We.rem)(50),(0,We.rem)(37),(0,We.rem)(90),Ge.default.div.attrs({className:"inspector-container"}).attrs((function(e){return{"data-component-name":e["data-component-name"]?"InspectorWrapper ".concat(e["data-component-name"]):"InspectorWrapper"}})).withConfig({displayName:"inspectorstyle__InspectorWrapper",componentId:"xgqpi6-0"})(["width:",";min-height:",";opacity:",";pointer-events:",";border-radius:",";font-size:",";font-weight:500;font-style:normal;font-stretch:normal;line-height:1.43;letter-spacing:normal;text-align:center;color:#1a2e3b;background-color:#fff;input[type='button']{border:none;outline:none;}"],(0,We.rem)(256),(0,We.rem)(317),(function(e){var t=e.scene;return t&&t.ready?1:.4}),(function(e){var t=e.scene;return t&&t.ready?"auto":"none"}),(0,We.rem)(5),(0,We.rem)(14))),JP=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"InspectorContentStyle ".concat(e["data-component-name"]):"InspectorContentStyle"}})).withConfig({displayName:"inspectorstyle__InspectorContentStyle",componentId:"xgqpi6-1"})(["text-align:left;font-size:",";font-weight:",";line-height:",";color:#1a2e3b;height:calc(100% - 41px);width:100%;display:flex;flex-direction:column;"],(0,We.rem)(14),500,(0,We.rem)(20)),eN=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"Separator ".concat(e["data-component-name"]):"Separator"}})).withConfig({displayName:"inspectorstyle__Separator",componentId:"xgqpi6-2"})(["height:",";background-color:#e3e8e9;margin-bottom:",";margin-top:",";"],(0,We.rem)(1),(0,We.rem)(24),(0,We.rem)(24)),tN=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"Label ".concat(e["data-component-name"]):"Label"}})).withConfig({displayName:"inspectorstyle__Label",componentId:"xgqpi6-3"})(["font-size:",";font-weight:",";margin-bottom:",";"],(0,We.rem)(14),500,(0,We.rem)(8)),nN=((0,We.rem)(86),(0,We.rem)(40),(0,We.rem)(3),(0,We.rem)(8),(0,We.rem)(8),Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"BottomPadding ".concat(e["data-component-name"]):"BottomPadding"}})).withConfig({displayName:"inspectorstyle__BottomPadding",componentId:"xgqpi6-5"})(["height:",";"],(0,We.rem)(24)));var rN=function(e){var t=e.children,n=e.className,r=(0,f.useRef)(null),o=(0,f.useRef)([]),a=(0,f.useMemo)((function(){var e=new Map;return function(){o.current.forEach((function(t){var n=e.get(t);if(!n){var r=t.style.display;t.style.display="block",n=t.getBoundingClientRect().height,t.style.display=r,e.set(t,n)}!function(e,t){var n=e.previousElementSibling.getBoundingClientRect().bottom,r=window.innerHeight-(t+24),o=Math.min(n,r);e.style.top="".concat(o,"px")}(t,n)}))}}),[]);return(0,f.useLayoutEffect)((function(){var e=r.current;e&&(o.current=Array.from(e.querySelectorAll("[data-inspector-dropdown]")),a(!0))}),[a]),h().createElement(JP,{ref:r,className:n,"data-component-name":"InspectorContent"},h().createElement(lP,{style:{padding:(0,We.rem)(24),flex:"1 1"},onScroll:function(){return a()},onOverflowChanged:function(){return a()},onOverflowAmountChanged:function(){return a()}},t,h().createElement(nN,null)))};function oN(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return aN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aN(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function aN(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var iN=S("InspectorDropdown"),cN=(0,Ge.default)(mI).attrs((function(e){return{"data-component-name":e["data-component-name"]?"StyledDropdown ".concat(e["data-component-name"]):"StyledDropdown"}})).withConfig({displayName:"inspector-dropdowncomponent__StyledDropdown",componentId:"sc-1q8yf0i-0"})(["height:",";border-radius:",";border:solid "," #d0d8db;font-size:",";color:#1a2e3b;div{font-weight:normal;}.dropdown-list{[role='presentation']{line-height:",";}}.chevron-down-svg,.chevron-up-svg{position:absolute;right:",";top:",";}"],(0,We.rem)(40),(0,We.rem)(3),(0,We.rem)(1),(0,We.rem)(14),(0,We.rem)(38),(0,We.rem)(12),(0,We.rem)(7)),lN={position:"fixed",width:(0,We.rem)(205)},sN=h().memo((function(e){var t=e.labelText,n=e.selectedItemId,r=e.items,o=e.onItemSelected,a=oN((0,f.useState)(!1),2),i=a[0],c=a[1],l=(0,f.useCallback)((function(e){return c(e)}),[c]),s=(0,f.useCallback)((function(e){return o(e.key)}),[o]),u=(0,f.useMemo)((function(){var e=r.find((function(e){return e.id===n}));return e||iN.error('Cannot find item with id "'.concat(n,'"')),h().createElement(h().Fragment,null,h().createElement(fv,{weight:"500"},null==e?void 0:e.displayName),i?h().createElement(YC,null):h().createElement(GC,null))}),[r,n,i]),d=(0,f.useMemo)((function(){return r.map((function(e){var t,n=e.id,r=e.displayName;return h().createElement(QP,{key:t=n,"data-key":t,align:"center","data-popover-selector":!0},h().createElement(fv,{weight:"500"},r))}))}),[r]);return h().createElement(h().Fragment,null,t&&h().createElement(tN,null,t),h().createElement(cN,{onOpenDropDown:l,onSelectItem:s,dropdownListStyle:lN,dropdownListProps:{"data-inspector-dropdown":!0},dropdownSelectorStyle:{padding:"".concat((0,We.rem)(10)," ").concat((0,We.rem)(12))},selectItem:u,listItem:d}))}));const uN=function(){return h().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"25",viewBox:"0 0 24 25","data-component-name":"FlipIconSVG"},h().createElement("g",{fill:"none",fillRule:"evenodd",stroke:"#1A2E3B",strokeWidth:"2"},h().createElement("path",{strokeLinejoin:"round",d:"M9.364 12.955L3 17.5V8.41z"}),h().createElement("path",{fill:"#1A2E3B",strokeLinejoin:"round",d:"M14.7 12.955l6.364 4.545V8.41z"}),h().createElement("path",{strokeLinecap:"round",d:"M12 3.409v18.182"})))};function dN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mN(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var pN=(0,Ge.default)(JL).attrs((function(e){return{"data-component-name":e["data-component-name"]?"FlipButtonView ".concat(e["data-component-name"]):"FlipButtonView"}})).withConfig({displayName:"inspector-transform-buttons__FlipButtonView",componentId:"lvo3jn-0"})(["margin-right:",";svg{transform:",";}"],(0,We.rem)(18),(function(e){var t=e.direction,n=e.active;return"".concat(1===t?"rotate(90deg)":"","\n    ").concat(n?"scaleX(-1)":"")})),fN=function(e){var t=e.direction,n=e.ce,r=e.biCallback,o=e.updateCallback;return h().createElement(pN,{size:"md",format:"secondary",tooltipText:1===t?oe.FlipV:oe.FlipH,onClick:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dN(Object(n),!0).forEach((function(t){mN(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dN(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n.flip);1===t?e.vertical=!n.flip.vertical:e.horizontal=!n.flip.horizontal,o(e),r()},iconReactComponent:h().createElement(uN,null),direction:t,active:n.flip&&(1===t?n.flip.vertical:n.flip.horizontal),"data-component-name":"FlipButton"})},hN=((0,We.rem)(18),Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"FlipButtonsWrapper ".concat(e["data-component-name"]):"FlipButtonsWrapper"}})).withConfig({displayName:"image-sticker-inspectorcomponent__FlipButtonsWrapper",componentId:"sc-14rwpyc-0"})(["display:flex;"])),gN={updateImageSticker:cy,setOverrides:ds,removeOverrides:ms};const yN=(0,T.$j)((function(e,t){var n=e.overrides,r=e.staticParameters,o=t.sceneId,a=t.ce;return{overrides:n["".concat(a.id,"@").concat(o)],IMAGE_STICKER_SCALE_MIN:r.IMAGE_STICKER_SCALE_MIN,IMAGE_STICKER_SCALE_MAX:r.IMAGE_STICKER_SCALE_MAX}}),gN)((function(e){var t,n,r,o,a=e.overrides,i=e.sceneId,c=e.ce,l=e.setOverrides,s=e.removeOverrides,u=e.updateImageSticker,d=e.IMAGE_STICKER_SCALE_MIN,m=e.IMAGE_STICKER_SCALE_MAX,p=(0,f.useMemo)((function(){return[{id:Kl,displayName:oe.MediaStickerInspectorPropertiesAnimationNone},{id:Ql,displayName:oe.MediaStickerInspectorPropertiesAnimationFade},{id:Jl,displayName:oe.MediaStickerInspectorPropertiesAnimationStamp},{id:$l,displayName:oe.MediaStickerInspectorPropertiesAnimationPop}]}),[]),g=(0,f.useCallback)((function(e){var t,n;t={animation:e},n={name:"click_to_select_sticker_animation",product:Si,location:ba,vsid:fa.vsid,flow:fa.flow,animation:t.animation},Li(n=sa(sa({},t),n)),Cp.publish(wp,{sceneId:i,ceId:c.id,style:e}),u(i,c.id,{style:e})}),[u,i,c.id]),y=null!==(t=null!==(n=null==a?void 0:a.userRect)&&void 0!==n?n:null==a?void 0:a.rect)&&void 0!==t?t:c.rect,b=y.width*y.height*100,v=(0,f.useCallback)((function(e){var t=c.rect.width/c.rect.height,n=Math.sqrt(e/100*t),r=n/t;return hm(c.rect,n,r)}),[c.rect]),E=(0,f.useCallback)((function(e){var t=v(e);l(i,c.id,{userRect:t})}),[i,c.id,v,l]),w=(0,f.useCallback)((function(e){(0,T.dC)((function(){var t=v(e);s(),u(i,c.id,{rect:ym(t)})}))}),[i,c.id,v,s,u]),A=(0,f.useCallback)((function(e){var t=v(e);u(i,c.id,{rect:ym(t)})}),[i,c.id,v,u]),C=null!==(r=null==a?void 0:a.bgAlpha)&&void 0!==r?r:c.bgAlpha,S=(0,f.useCallback)((function(e){l(i,c.id,{bgAlpha:e})}),[i,c.id,l]),_=(0,f.useCallback)((function(e){(0,T.dC)((function(){var t,n;s(),n={name:"click_to_change_sticker_opacity",product:Si,location:ba,vsid:fa.vsid,flow:fa.flow},Li(n=sa(sa({},t),n)),u(i,c.id,{bgAlpha:e})}))}),[i,c.id,s,u]),x=(0,f.useCallback)((function(e){u(i,c.id,{bgAlpha:e})}),[i,c.id,u]),I=null!==(o=null==a?void 0:a.rotate)&&void 0!==o?o:c.rotate,O=(0,f.useCallback)((function(e){l(i,c.id,{rotate:e})}),[i,c.id,l]),k=(0,f.useCallback)((function(e){(0,T.dC)((function(){s(),u(i,c.id,{rotate:e})}))}),[i,c.id,s,u]),M=(0,f.useCallback)((function(e){u(i,c.id,{rotate:e})}),[c.id,i,u]);return h().createElement(rN,{"data-component-name":"ImageStickerInspector"},h().createElement(sN,{labelText:oe.MediaStickerInspectorPropertiesAnimation,selectedItemId:c.style,items:p,onItemSelected:g}),h().createElement(eN,null),c.resizeable&&h().createElement(XP,{marginTop:(0,We.rem)(24),step:1,label:oe.MediaStickerInspectorPropertiesScale,value:b,unitSign:"%",min:d,max:m,onValueMutating:E,onValueCommited:w,onValueChangeFromInput:A}),h().createElement(XP,{marginTop:(0,We.rem)(24),label:oe.MediaStickerInspectorPropertiesOpacity,step:1,value:C,unitSign:"%",min:0,max:100,onValueMutating:S,onValueChangeFromInput:x,onValueCommited:_}),c.rotatable&&h().createElement(XP,{marginTop:(0,We.rem)(24),label:oe.MediaStickerInspectorPropertiesRotate,step:1,unitSign:"",value:I,min:0,max:360,onValueMutating:O,onValueChangeFromInput:M,onValueCommited:k}),h().createElement(eN,null),h().createElement(tN,null,oe.MediaStickerInspectorPropertiesTransform),h().createElement(hN,null,h().createElement(fN,{direction:0,ce:c,sceneId:i,updateCallback:function(e){return u(i,c.id,{flip:e})},biCallback:function(){Ki({transform:"horizontal"})}}),h().createElement(fN,{direction:1,ce:c,sceneId:i,updateCallback:function(e){return u(i,c.id,{flip:e})},biCallback:function(){Ki({transform:"vertical"})}})))}));var bN=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"InspectorHeader ".concat(e["data-component-name"]):"InspectorHeader"}})).withConfig({displayName:"inspector-headercomponent__InspectorHeader",componentId:"dt8t1e-0"})(["line-height:40px;text-align:center;position:relative;font-size:16px;color:#1a2e3b;cursor:",";pointer-events:",";border-bottom:1px solid #e3e8e9;svg{position:absolute;left:4px;top:8px;transition:background 250ms ease;border-radius:3px;&:hover{background-color:#eef1f2;}}"],(function(e){return e.clickable&&"pointer"}),(function(e){return e.clickable?"auto":"none"})),vN=function(e){var t=e.label,n=e.isUnselectSupported,r=(0,T.I0)();return h().createElement(bN,{clickable:n,onClick:function(){n&&r(gh(null))},"data-component-name":"InspectorHeaderComponent"},h().createElement("div",{className:"notranslate"},n&&h().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},h().createElement("path",{fill:"none",fillRule:"evenodd",stroke:"#1A2E3B",strokeLinejoin:"round",strokeWidth:"2",d:"M14 7l-5 5 5 5"}))),t)};function EN(){return(EN=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function wN(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}const AN=function(e){var t=e.disabled,n=wN(e,["disabled"]);return h().createElement("svg",EN({viewBox:"0 0 24 24",width:"24",height:"24",fill:"none"},n,{"data-component-name":"TimelineClockSVG"}),h().createElement("path",{fill:t?iv:"#23313B",fillRule:"evenodd",d:"M12 20a8 8 0 100-16 8 8 0 000 16zm10-8c0 5.523-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2s10 4.477 10 10zM12 6a1 1 0 011 1v4.5l3.6 2.7a1 1 0 01-1.2 1.6l-3.988-2.991a1.037 1.037 0 01-.29-.33A.994.994 0 0111 12V7a1 1 0 011-1z",clipRule:"evenodd"}))};var CN=n(962236385972917),SN=n(826033276773662),_N=n.n(SN);function xN(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return IN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return IN(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function IN(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const TN=function(){var e=xN((0,f.useState)(window.innerWidth),2),t=e[0],n=e[1];return(0,f.useEffect)((function(){var e=_N()((function(){return n(window.innerWidth)}),1e3);return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),t};var ON=(0,Ge.default)("div").attrs((function(e){return{"data-component-name":e["data-component-name"]?"CarouselContainer ".concat(e["data-component-name"]):"CarouselContainer"}})).withConfig({displayName:"content-carousel-styles__CarouselContainer",componentId:"vxkhit-0"})(["display:flex;overflow:hidden;position:relative;height:",";width:90%;"],(0,We.rem)(60)),kN=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"CarouselHeader ".concat(e["data-component-name"]):"CarouselHeader"}})).withConfig({displayName:"content-carousel-styles__CarouselHeader",componentId:"vxkhit-1"})(["display:flex;align-items:center;justify-content:space-between;"]),MN=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"NavButton ".concat(e["data-component-name"]):"NavButton"}})).withConfig({displayName:"content-carousel-styles__NavButton",componentId:"vxkhit-2"})(["width:",";height:",";border-radius:",";border:solid "," ",";background-color:",";display:inline-block;vertical-align:top;cursor:pointer;transition:background-color 0.2s linear;&:hover{background-color:",";}"],(0,We.rem)(32),(0,We.rem)(32),(0,We.rem)(3),(0,We.rem)(1),$x.Paste,$x.White,$x.Plaster),BN=(0,Ge.css)(["cursor:default;pointer-events:none;border:none;svg{opacity:0;}"]),jN=(0,Ge.default)(MN).attrs((function(e){return{"data-component-name":e["data-component-name"]?"Prev ".concat(e["data-component-name"]):"Prev"}})).withConfig({displayName:"content-carousel-styles__Prev",componentId:"vxkhit-3"})(["margin-left:",";margin-right:",";",";"],(0,We.rem)(4),(0,We.rem)(4),(function(e){return e.disabled?BN:""})),LN=(0,Ge.default)(MN).attrs((function(e){return{"data-component-name":e["data-component-name"]?"Next ".concat(e["data-component-name"]):"Next"}})).withConfig({displayName:"content-carousel-styles__Next",componentId:"vxkhit-4"})(["",";"],(function(e){return e.disabled?BN:""})),PN=(0,Ge.default)(CN.ChevronRight).attrs((function(e){return{"data-component-name":e["data-component-name"]?"ChevronLeft ".concat(e["data-component-name"]):"ChevronLeft"}})).withConfig({displayName:"content-carousel-styles__ChevronLeft",componentId:"vxkhit-5"})(["transform:rotate(-180deg);"]),NN=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"SliderWrapper ".concat(e["data-component-name"]):"SliderWrapper"}})).withConfig({displayName:"content-carousel-styles__SliderWrapper",componentId:"vxkhit-6"})(["height:100%;width:100%;display:flex;"]),DN=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"BtnsWrapper ".concat(e["data-component-name"]):"BtnsWrapper"}})).withConfig({displayName:"content-carousel-styles__BtnsWrapper",componentId:"vxkhit-7"})(["display:flex;"]);(0,We.rem)(670);function RN(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return zN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zN(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zN(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function UN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function FN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?UN(Object(n),!0).forEach((function(t){HN(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UN(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function HN(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VN(e,t){return e.reduce((function(e,n,r){return r%t==0&&e.push([]),e[e.length-1].push(n),e}),[])}function WN(e,t,n,r,o){var a=Math.max(e-n,0);return o[r]&&o[r].length<n?t.slice(a):o[r]}function GN(e){var t=e.children,n=void 0===t?[]:t,r=e.modalSized,o=void 0!==r&&r,a=TN(),i=o?675:a,c=Math.floor((i+15)/75),l=RN((0,f.useState)((function(){return function(e,t){var n=VN(e,t),r=n.length-1,o=n.length?n.length-1:0;return{items:n,activeSegment:o,displayCarouselItemList:WN(e.length,e,t,o,n),segments:r}}(n,c)})),2),s=l[0],u=l[1],d=(0,f.useRef)(n.length);(0,f.useEffect)((function(){u((function(e){var t=e.activeSegment,r=VN(n,c),o=r.length-1,a=0;a=d.current>n.length?t>o?o:t:o,d.current=n.length;var i=WN(n.length,n,c,a,r);return FN(FN({},e),{},{items:r,activeSegment:a,displayCarouselItemList:i,segments:o})}))}),[n,c]);return h().createElement(NN,{"data-component-name":"Carousel"},h().createElement(kN,null,h().createElement(DN,null,h().createElement(jN,{onClick:function(){u((function(e){return function(e,t,n){return FN(FN({},e),{},{activeSegment:e.activeSegment-1,displayCarouselItemList:WN(t.length,t,n,e.activeSegment-1,VN(t,n))})}(e,n,c)}))},disabled:0===s.activeSegment},h().createElement(PN,null)))),h().createElement(ON,null,h().createElement(NN,{width:i,style:{transition:"transform ease-out 0.30s"}},s.displayCarouselItemList)),h().createElement(kN,null,h().createElement(DN,null,h().createElement(LN,{onClick:function(){u((function(e){return function(e,t,n){return FN(FN({},e),{},{activeSegment:e.activeSegment+1,displayCarouselItemList:WN(t.length,t,n,e.activeSegment+1,VN(t,n))})}(e,n,c)}))},disabled:s.activeSegment===s.segments},h().createElement(CN.ChevronRight,null)))))}var YN=h().memo(GN);function qN(){return h().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","data-component-name":"TrashIconSVG"},h().createElement("g",{fill:"none",fillRule:"evenodd",stroke:"#FFF"},h().createElement("path",{strokeLinecap:"round",strokeWidth:"2",d:"M4 6h16"}),h().createElement("path",{strokeLinecap:"round",d:"M10.5 11.5v4M13.5 11.5v4"}),h().createElement("path",{strokeWidth:"2",d:"M6 6v14a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V6H6zM9 6V4a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v2H9z"})))}function ZN(e){return function(e){if(Array.isArray(e))return XN(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return XN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return XN(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function XN(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var KN=function(e){var t=e.width,n=void 0===t?60:t,r=e.height,o=void 0===r?60:r;return h().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:o,viewBox:"0 0 60 60","data-component-name":"GoogleSignIconSVG","data-key":e["data-key"]},h().createElement("g",{fill:"none",fillRule:"nonzero"},h().createElement("path",{fill:"#F44336",d:"M46.095 29.81h-8.69a7.6 7.6 0 0 1-7.594-7.594V.466a.314.314 0 0 1 .528-.23l15.756 14.543V29.81z"}),h().createElement("path",{fill:"#AD1457",d:"M46.095 29.811h-8.69a7.582 7.582 0 0 1-4.748-1.669l13.438-13.363v15.032z"}),h().createElement("path",{fill:"#8BC34A",d:"M13.526 29.811h8.692a7.6 7.6 0 0 1 7.594 7.594v21.75a.315.315 0 0 1-.528.23L13.526 44.843V29.811z"}),h().createElement("path",{fill:"#009688",d:"M13.526 29.811h8.692a7.582 7.582 0 0 1 4.751 1.669L13.526 44.843V29.811z"}),h().createElement("path",{fill:"#FFC107",d:"M29.81 13.526v8.692a7.6 7.6 0 0 1-7.594 7.594H.466a.314.314 0 0 1-.23-.528l14.543-15.758H29.81z"}),h().createElement("path",{fill:"#FF9800",d:"M29.811 13.526v8.692a7.582 7.582 0 0 1-1.669 4.751L14.779 13.526h15.032z"}),h().createElement("path",{fill:"#448AFF",d:"M29.811 46.095v-8.69a7.6 7.6 0 0 1 7.594-7.594h21.75a.315.315 0 0 1 .23.528L44.843 46.095H29.811z"}),h().createElement("path",{fill:"#1565C0",d:"M29.811 46.095v-8.69c0-1.727.588-3.402 1.669-4.748l13.363 13.438H29.811z"})))},QN=(0,Ge.default)(Xe).attrs((function(e){return{"data-component-name":e["data-component-name"]?"GoogleAuthenticationWrapper ".concat(e["data-component-name"]):"GoogleAuthenticationWrapper"}})).withConfig({displayName:"google-login-style__GoogleAuthenticationWrapper",componentId:"sc-1jzioha-0"})(["flex:1;"]),$N=(0,Ge.default)(Xe).attrs((function(e){return{"data-component-name":e["data-component-name"]?"GoogleAuthenticationCard ".concat(e["data-component-name"]):"GoogleAuthenticationCard"}})).withConfig({displayName:"google-login-style__GoogleAuthenticationCard",componentId:"sc-1jzioha-1"})(["width:",";height:",";"],(0,We.rem)(338),(0,We.rem)(340)),JN=(0,Ge.default)(fv).attrs((function(e){return{"data-component-name":e["data-component-name"]?"GoogleConnectHeader ".concat(e["data-component-name"]):"GoogleConnectHeader"}})).withConfig({displayName:"google-login-style__GoogleConnectHeader",componentId:"sc-1jzioha-2"})(["margin:"," 0 "," 0;font-weight:500;"],(0,We.rem)(11),(0,We.rem)(8)),eD=(0,Ge.default)(mv).attrs((function(e){return{"data-component-name":e["data-component-name"]?"GoogleDisclaimer ".concat(e["data-component-name"]):"GoogleDisclaimer"}})).withConfig({displayName:"google-login-style__GoogleDisclaimer",componentId:"sc-1jzioha-3"})(["text-align:center;margin:"," 0 "," 0;max-width:50%;line-height:",";"],(0,We.rem)(8),(0,We.rem)(21),(0,We.rem)(18));function tD(e){var t=e.isConnecting,n=e.onConnectLoaded;return h().createElement(QN,{align:"center",justify:"center","data-component-name":"GoogleLogin"},h().createElement($N,{align:"center",justify:"center"},h().createElement(KN,{width:(0,We.rem)(72),height:(0,We.rem)(72)}),h().createElement(JN,null,oe.MediaLibGoogleLoginHeader),h().createElement(eD,null,oe.MediaLibGoogleLoginDisclaimer),h().createElement(Iv,{isLoading:t,icon:h().createElement(KN,null),onClick:n},oe.MediaLibGoogleLoginButton)))}var nD=(0,Ge.default)(Ze).attrs((function(e){return{"data-component-name":e["data-component-name"]?"ExpandButtonContainerStyle ".concat(e["data-component-name"]):"ExpandButtonContainerStyle"}})).withConfig({displayName:"expand-buttoncomponent__ExpandButtonContainerStyle",componentId:"sc-1s5mlhn-0"})(["cursor:pointer;"]),rD=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"ExpandButtonSmallStyle ".concat(e["data-component-name"]):"ExpandButtonSmallStyle"}})).withConfig({displayName:"expand-buttoncomponent__ExpandButtonSmallStyle",componentId:"sc-1s5mlhn-1"})(["width:32px;height:32px;border-radius:2px;background-color:#404040;"]);function oD(e){var t=e.onClick,n=void 0===t?function(){}:t;return h().createElement(nD,{justify:"center",onClick:n,"data-component-name":"ExpandButton"},h().createElement(rD,null,h().createElement(tB,{width:"24",height:"24",center:!0})))}var aD=n(472971795955019),iD=n(904265584889001),cD=(0,Ge.default)(Xe).attrs((function(e){return{"data-component-name":e["data-component-name"]?"MenuPanelListWrapper ".concat(e["data-component-name"]):"MenuPanelListWrapper"}})).withConfig({displayName:"google-header-style__MenuPanelListWrapper",componentId:"dmtnss-0"})(["padding:"," ",";.item{margin-bottom:"," cursor:pointer;&:last-child{margin-bottom:0;}}.item.disconnect{color:#d93636;}"],(0,We.rem)(10),(0,We.rem)(10),(0,We.rem)(20)),lD=(0,Ge.default)(fv).attrs((function(e){return{"data-component-name":e["data-component-name"]?"DisplayTextMenuPanelList ".concat(e["data-component-name"]):"DisplayTextMenuPanelList"}})).withConfig({displayName:"google-header-style__DisplayTextMenuPanelList",componentId:"dmtnss-1"})(["padding:"," ",";cursor:pointer;"],(0,We.rem)(10),(0,We.rem)(0)),sD=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"AlbumThumb ".concat(e["data-component-name"]):"AlbumThumb"}})).withConfig({displayName:"google-header-style__AlbumThumb",componentId:"dmtnss-2"})(["position:relative;height:",";width:",";border-radius:",";margin-right:",";"],(0,We.rem)(48),(0,We.rem)(48),(0,We.rem)(4),(0,We.rem)(12)),uD=(0,Ge.default)(mI).attrs((function(e){return{"data-component-name":e["data-component-name"]?"GoogleAlbumDropdown ".concat(e["data-component-name"]):"GoogleAlbumDropdown"}})).withConfig({displayName:"google-header-style__GoogleAlbumDropdown",componentId:"dmtnss-3"})(["width:",";height:",";border-radius:",";border:solid "," #d0d8db;text-decoration:none;@media screen and (max-width:","){width:",";}@media screen and (max-width:","){width:",";}@media screen and (max-width:","){width:",";}"],(0,We.rem)(430),(0,We.rem)(60),(0,We.rem)(3),(0,We.rem)(1),(0,We.rem)(1024),(0,We.rem)(360),(0,We.rem)(768),(0,We.rem)(240),(0,We.rem)(640),(0,We.rem)(180)),dD=(0,Ge.default)(aD.MenuPanel).attrs((function(e){return{"data-component-name":e["data-component-name"]?"GoogleMenuManageAccount ".concat(e["data-component-name"]):"GoogleMenuManageAccount"}})).withConfig({displayName:"google-header-style__GoogleMenuManageAccount",componentId:"dmtnss-4"})(["height:",";text-decoration:none;a{text-decoration:none;color:#8498a4;&:focus{outline:none;}&:active{color:#8498a4;}}"],(0,We.rem)(20)),mD=(0,Ge.default)(Ze).attrs((function(e){return{"data-component-name":e["data-component-name"]?"GoogleMediaHeader ".concat(e["data-component-name"]):"GoogleMediaHeader"}})).withConfig({displayName:"google-header-style__GoogleMediaHeader",componentId:"dmtnss-5"})(["padding-bottom:",";padding-right:",";z-index:60;"],(0,We.rem)(16),(0,We.rem)(34)),pD=(0,Ge.default)(iD.Avatar).attrs((function(e){return{"data-component-name":e["data-component-name"]?"AvatarProfile ".concat(e["data-component-name"]):"AvatarProfile"}})).withConfig({displayName:"google-header-style__AvatarProfile",componentId:"dmtnss-6"})(["margin-right:",";"],(0,We.rem)(10)),fD=(0,Ge.default)(Ze).attrs((function(e){return{"data-component-name":e["data-component-name"]?"SelectDropdownWrapper ".concat(e["data-component-name"]):"SelectDropdownWrapper"}})).withConfig({displayName:"google-header-style__SelectDropdownWrapper",componentId:"dmtnss-7"})(["padding:",";"],(0,We.rem)(6));function hD(e){return function(e){if(Array.isArray(e))return bD(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||yD(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gD(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||yD(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yD(e,t){if(e){if("string"==typeof e)return bD(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?bD(e,t):void 0}}function bD(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vD(e){var t=e.className,n=void 0===t?"":t,r=e.title,o=e.cover,a=e.is_shared;return h().createElement(Ze,{className:n,align:"center","data-component-name":"GoogleAlbum"},h().createElement(sD,null,o?h().createElement(oC,{src:o,mode:"stretch"}):h().createElement(KN,{height:"100%"})),h().createElement(Xe,{justify:"center"},h().createElement(fv,{weight:"500"},r),a?h().createElement(mv,null," ",oe.MediaLibGoogleHeaderSharedAlbum," "):null))}var ED=(0,Ge.default)(vD).attrs((function(e){return{"data-component-name":e["data-component-name"]?"AlbumSelectionPicker ".concat(e["data-component-name"]):"AlbumSelectionPicker"}})).withConfig({displayName:"google-header-controlcomponent__AlbumSelectionPicker",componentId:"sc-1n4rkxa-0"})(["flex:1;"]);function wD(e){var t=e.selectedAlbumId,n=e.email,r=e.token,o=e.profileUrl,a=e.onSelectAlbum,i=e.onChangeAccount,c=e.onDisconnect,l=(0,f.useMemo)((function(){return h().createElement(cD,{"data-component-name":"MenuList"},h().createElement(lD,{className:"item",onClick:i,role:"presentation"},oe.MediaLibGoogleHeaderManageAccount),h().createElement(lD,{className:"item disconnect",onClick:c,role:"presentation"},oe.MediaLibGoogleHeaderDisconnect))}),[c,i]);return h().createElement(mD,{align:"center",justify:"space-between","data-component-name":"GooglePhotosHeaderControl"},h().createElement(AD,{token:r,selectedAlbumId:t,onSelectAlbum:a}),h().createElement(Ze,{align:"center"},h().createElement(pD,{src:o,size:"sm"}),h().createElement(Xe,null,h().createElement(fv,{fontSize:(0,We.rem)(14)},n),h().createElement(dD,{alignment:"center",menuContent:l,size:"sm"},h().createElement(Ze,{align:"center"},h().createElement(fv,null,h().createElement("a",{href:"/#"},oe.MediaLibGoogleHeaderManageAccount)),h().createElement(GC,null))))))}var AD=function(e){var t=e.token,n=e.onSelectAlbum,r=e.selectedAlbumId,o=gD((0,f.useState)(!1),2),a=o[0],i=o[1],c=gD(UO("/api/gphotos/albums".concat(jt({token:t}))),1)[0],l=c.data&&c.data.albums||[],s=[];s.push({title:"All Photos",icon:KN,cover:"",id:0,is_shared:!1}),s=[].concat(hD(s),hD(l));var u=(0,f.useMemo)((function(){var e,t=s.find((function(e){return e.id===r})),o=h().createElement("div",{key:e=r,"data-key":e,onClick:function(){n(r)},role:"presentation"},h().createElement(vD,t),s.length-1==0?null:h().createElement(WC,{margin:"8px 0"})),a=s.filter((function(e){return e.id!==r})).map((function(e,t,r){var o;return h().createElement("div",{key:o=e.id,"data-key":o,onClick:function(){n(e.id)},role:"presentation","data-component-name":"notSelectedAlbumsComponent"},h().createElement(vD,e),r.length-1===t?null:h().createElement(WC,{margin:"8px 0"}))}));return[o].concat(hD(a))}),[s,n,r]),d=(0,f.useMemo)((function(){return s.filter((function(e){return e.id===r})).map((function(e){var t;return h().createElement(fD,{key:t=e.id,"data-key":t,align:"center",justify:"space-between"},h().createElement(ED,e),a?h().createElement(YC,null):h().createElement(GC,null))}))}),[s,r,a]);return c.isFetching?h().createElement(TO,{width:"430px",height:"60px","data-component-name":"AlbumDropDown","data-key":e["data-key"]}):h().createElement(uD,{onOpenDropDown:function(e){i(e)},dropdownListStyle:{top:"61px",left:0,width:"100%",height:"324px",overflow:"auto"},selectItem:d,listItem:u,"data-component-name":"AlbumDropDown","data-key":e["data-key"]})},CD=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"MediaStockContainer ".concat(e["data-component-name"]):"MediaStockContainer"}})).withConfig({displayName:"google-photos-style__MediaStockContainer",componentId:"sc-44zi2t-0"})(["height:",";width:",";margin-bottom:",";margin-left:",";"],(0,We.rem)(160),(0,We.rem)(162),(0,We.rem)(35),(0,We.rem)(16)),SD=(0,Ge.default)(fv).attrs((function(e){return{"data-component-name":e["data-component-name"]?"GooglePhotoTitle ".concat(e["data-component-name"]):"GooglePhotoTitle"}})).withConfig({displayName:"google-photos-style__GooglePhotoTitle",componentId:"sc-44zi2t-1"})(["max-width:200px;margin-top:",";font-size:",";"],(0,We.rem)(8),(0,We.rem)(14)),_D=(0,Ge.default)(fv).attrs((function(e){return{"data-component-name":e["data-component-name"]?"NoPhotosDisclamer ".concat(e["data-component-name"]):"NoPhotosDisclamer"}})).withConfig({displayName:"google-photos-style__NoPhotosDisclamer",componentId:"sc-44zi2t-2"})(["margin-bottom:",";font-size:",";font-weight:500;"],(0,We.rem)(10),(0,We.rem)(16)),xD=(0,Ge.default)(Ze).attrs((function(e){return{"data-component-name":e["data-component-name"]?"VirtualizedRow ".concat(e["data-component-name"]):"VirtualizedRow"}})).withConfig({displayName:"google-photos-style__VirtualizedRow",componentId:"sc-44zi2t-3"})(["div:first-child{margin-left:0;}"]);function ID(e){return function(e){if(Array.isArray(e))return kD(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||OD(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function TD(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||OD(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function OD(e,t){if(e){if("string"==typeof e)return kD(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kD(e,t):void 0}}function kD(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function MD(e){var t=e.userDetails,n=e.onDisconnect,r=e.onClickSelectedMedia,o=e.allSelectedMediaIds,a=e.onChangeAccount,i=e.onExpandMedia,c=(e.forwardRef,e.renderStickyTop),l=e.shouldRenderList,s=e.enabled,u=void 0===s||s,d=(0,f.useRef)(null),m=TD((0,f.useState)(0),2),p=m[0],g=m[1],y=TD((0,f.useState)(),2),b=y[0],v=y[1],E=TD((0,f.useState)(!1),2),w=E[0],A=E[1],C=TD(UO("/api/gphotos".concat(jt(Lt("token",t.auth.access_token),Lt("media_type","all"),Lt("limit",100),Lt("album_id",p),Lt("next",b)))),1)[0],S=TD((0,f.useState)([]),2),_=S[0],x=S[1],I=C.data&&C.data.items||[],T=(0,f.useCallback)((function(){C.data.next&&v(C.data.next)}),[C]);(0,f.useEffect)((function(){var e=qe(C,"error.response.status",!1),t=qe(C,"error.response.data.errcode",!1);500===e&&1009===t&&n()}),[C.error]),(0,f.useEffect)((function(){return function(){x([]),v(!1)}}),[t.id]),(0,f.useEffect)((function(){0!==I.length&&x((function(e){return[].concat(ID(e),ID(I))}))}),[I]),(0,f.useEffect)((function(){if(C.isFetching)A(!1);else{if(_.length+I.length!==0)return A(!1),function(){A(!1)};A(!0)}}),[_,C.isFetching,I]);var O=(0,f.useCallback)((function(e){p!==e&&(g(e),x([]),v(!1))}),[p]);return h().createElement(h().Fragment,null,c(),h().createElement(wD,{selectedAlbumId:p,email:t.email,token:t.auth.access_token,profileUrl:t.profileUrl,onSelectAlbum:O,onChangeAccount:a,onDisconnect:n}),h().createElement(WC,{margin:"16px 0"}),h().createElement(gj,{ref:d},C.isFetching&&0===_.length?h().createElement(Ze,{style:{marginLeft:"-16px"},wrap:"wrap","data-component-name":"renderVirtualGooglePhotos"},FT(12,!1,!0,null,null,null,null,null,null,null,null,null,!0,!0)):w?h().createElement(Xe,{flex:"1",align:"center",justify:"center","data-component-name":"renderVirtualGooglePhotos"},h().createElement(_D,null,oe.MediaLibGooglePhotosNoMediaTitle),h().createElement(mv,null,oe.MediaLibGooglePhotosNoMediaText)):h().createElement(Xe,{"data-component-name":"renderVirtualGooglePhotos"},h().createElement(kT,{forwardRef:d},(function(e){var n=e.height,a=e.isScrolling,c=e.registerChild,s=e.onChildScroll,d=e.scrollTop;return h().createElement(OT.qj,{disableHeight:!0},(function(e){var m=e.width,p=m?Math.floor((m+16)/176):1,f=Math.ceil(_.length/p);return l?h().createElement("div",{ref:c},h().createElement(OT.aV,{autoHeight:!0,height:n,isScrolling:a,onScroll:s,rowCount:f,rowHeight:210,overscanRowCount:3,rowRenderer:function(e){var n,a=e.index,c=e.key,l=e.style,s=[],d=a*p,m=Math.min(d+p,_.length);m===_.length&&T();for(var f=function(e){var n,a=_[e];s.push(h().createElement(CD,{key:n=a.id,"data-key":n,onClick:function(){(u||o[a.id])&&r(Object.assign({},a,{upl_origin:ea.GPHOTOS,access_token:t.auth.access_token}))}},h().createElement(tO,{selected:o[a.id],checkMark:!0,enabled:u||!!o[a.id]},h().createElement(EB,{src:"video"===a.type?a.preview_url:null,imgPoster:a.thumbnail_url,delay:300,controls:["video"!==a.type?{display:vB,control:h().createElement($e,{key:2,"data-key":2,relativity:"absolute",top:"10px",right:"10px"},u||o[a.id]?h().createElement(oD,{onClick:function(e){e.stopPropagation(),a.upl_origin=ea.GPHOTOS,a.access_token=t.auth.access_token,i(a)}}):null)}:null]})),h().createElement(SD,null,h().createElement(sv,null,a.title))))},g=d;g<m;g++)f(g);return h().createElement(xD,{key:n=c,"data-key":n,style:l,align:"center"},s)},scrollTop:d,width:m})):null}))})),C.isFetching&&_.length>0&&h().createElement("div",{style:{alignSelf:"center",padding:"30px"}},h().createElement(NE,{size:"md"})))))}function BD(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return jD(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jD(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jD(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var LD=(0,Ge.default)(Xe).attrs((function(e){return{"data-component-name":e["data-component-name"]?"GoogleLoginLayout ".concat(e["data-component-name"]):"GoogleLoginLayout"}})).withConfig({displayName:"google-media-container__GoogleLoginLayout",componentId:"sc-1wa9qe2-0"})(["height:100%;"]);var PD=(0,Ge.default)(Xe).attrs((function(e){return{"data-component-name":e["data-component-name"]?"MediaLibraryContainerStyled ".concat(e["data-component-name"]):"MediaLibraryContainerStyled"}})).withConfig({displayName:"media-library-container-style__MediaLibraryContainerStyled",componentId:"sc-1okgyes-0"})(["width:100%;height:100%;overflow-y:auto;border-top:1px solid #fff;z-index:9;flex:1 0 0;"]),ND=(0,Ge.default)(jk).attrs((function(e){return{"data-component-name":e["data-component-name"]?"TabListWrapper ".concat(e["data-component-name"]):"TabListWrapper"}})).withConfig({displayName:"media-library-container-style__TabListWrapper",componentId:"sc-1okgyes-1"})(["flex:1;& > div{height:",";}"],(0,We.rem)(50)),DD=(0,Ge.default)(wk).attrs((function(e){return{"data-component-name":e["data-component-name"]?"ContentTab ".concat(e["data-component-name"]):"ContentTab"}})).withConfig({displayName:"media-library-container-style__ContentTab",componentId:"sc-1okgyes-2"})(["flex:1;flex-direction:",";overflow:hidden;"],(function(e){return e.flex&&e.direction})),RD=(0,Ge.default)(et).attrs((function(e){return{"data-component-name":e["data-component-name"]?"VerticalContainer ".concat(e["data-component-name"]):"VerticalContainer"}})).withConfig({displayName:"media-library-container-style__VerticalContainer",componentId:"sc-1okgyes-3"})(["display:flex;flex-direction:column;padding:0 ",";flex:1;"],(0,We.rem)(30)),zD=(0,Ge.default)(Ze).attrs((function(e){return{"data-component-name":e["data-component-name"]?"TabListContainer ".concat(e["data-component-name"]):"TabListContainer"}})).withConfig({displayName:"media-library-container-style__TabListContainer",componentId:"sc-1okgyes-4"})(["padding:"," "," "," 0;flex-basis:auto;flex:none;"],(0,We.rem)(20),(0,We.rem)(30),(0,We.rem)(20)),UD=(0,Ge.default)(RD).attrs((function(e){return{"data-component-name":e["data-component-name"]?"CustomVerticalContainer ".concat(e["data-component-name"]):"CustomVerticalContainer"}})).withConfig({displayName:"media-library-container-style__CustomVerticalContainer",componentId:"sc-1okgyes-6"})(["padding:0 0 0 ",";"],(0,We.rem)(30));const FD=function(){return h().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"120",height:"120",fill:"none",viewBox:"0 0 120 120","data-component-name":"NoProducts"},h().createElement("circle",{cx:"60",cy:"60",r:"60",fill:"#f6f7f8"}),h().createElement("path",{stroke:"#8498a4",strokeDasharray:"1.67 1.67",strokeWidth:"1.667",d:"M75.43 30.072h16.64v60h-35"}),h().createElement("path",{fillRule:"evenodd",stroke:"#1a2e3b",strokeWidth:"1.667",d:"M20.941 35.03l53.688-9.387 10.56 59.381L31.5 94.412z",clipRule:"evenodd"}),h().createElement("g",{fill:"#1a2e3b"},h().createElement("path",{d:"M69.667 77.53L43.98 82.022a.698.698 0 01-.81-.562l-4.557-25.63a52.84 52.84 0 00-.953-3.922.703.703 0 011.352-.377c.372 1.293.693 2.616.983 4.05l4.437 24.954 24.304-4.25L64.3 51.34a51.496 51.496 0 01-.473-4.14.698.698 0 01.648-.747.7.7 0 01.753.643c.098 1.313.248 2.63.46 4.022l4.553 25.61a.69.69 0 01-.117.52.7.7 0 01-.457.283z"}),h().createElement("path",{d:"M69.075 74.193l-25.688 4.491a.698.698 0 01-.81-.562.694.694 0 01.567-.803l25.688-4.491a.698.698 0 01.81.562.694.694 0 01-.567.803zM70.58 53.915a.64.64 0 01-.323-.02l-5.4-1.633a.693.693 0 01-.47-.864.701.701 0 01.872-.466l4.706 1.401 1.879-6.957-1.729-1.021a37.384 37.384 0 00-13.328-4.947A14.706 14.706 0 0142.94 41.83a37.36 37.36 0 00-10.818 9.168l-1.268 1.573 4.16 5.874 3.934-2.94a.704.704 0 01.98.142.69.69 0 01-.143.971l-4.511 3.365a.703.703 0 01-.53.135.7.7 0 01-.464-.292l-4.873-6.89a.688.688 0 01.03-.828l1.594-1.975a38.775 38.775 0 0111.432-9.627.76.76 0 01.695-.08 13.368 13.368 0 0012.996-2.272.76.76 0 01.68-.161 38.676 38.676 0 0114.009 5.18l2.18 1.321a.69.69 0 01.313.769l-2.203 8.126a.694.694 0 01-.334.432.888.888 0 01-.218.094z"}),h().createElement("path",{d:"M51.025 47.158c-4.13.722-8.044-1.57-8.672-5.106l-.15-.847a.694.694 0 01.566-.803.698.698 0 01.81.563l.153.86c.497 2.798 3.655 4.59 7.055 3.995s5.79-3.356 5.295-6.141l-.155-.874a.192.192 0 00-.01-.061.628.628 0 01.028-.237.698.698 0 01.71-.503.697.697 0 01.651.574.34.34 0 01.015.082l.14.792c.622 3.495-2.306 6.984-6.436 7.706z"})))};const HD=function(){return h().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"120",height:"120",fill:"none",viewBox:"0 0 120 120","data-component-name":"ShopifyNoMedia"},h().createElement("mask",{id:"a",width:"48",height:"49",x:"18",y:"30",maskUnits:"userSpaceOnUse"},h().createElement("rect",{width:"46",height:"46",x:"19",y:"31.291",fill:"#fff",stroke:"#fff",strokeWidth:"2",rx:"2"})),h().createElement("circle",{cx:"60",cy:"60",r:"60",fill:"#f6f7f8"}),h().createElement("g",{fill:"#1a2e3b",fillRule:"evenodd",clipRule:"evenodd"},h().createElement("path",{d:"M15.736 93.163a2.935 2.935 0 012.943-2.925 2.934 2.934 0 012.943 2.925 2.934 2.934 0 01-2.943 2.925 2.935 2.935 0 01-2.943-2.925zM72.225 15.463c0-.808.659-1.463 1.471-1.463.813 0 1.472.655 1.472 1.463s-.66 1.462-1.472 1.462a1.467 1.467 0 01-1.471-1.462zM8.508 96.87c0-.808.659-1.463 1.471-1.463.813 0 1.472.655 1.472 1.462 0 .808-.659 1.463-1.472 1.463a1.467 1.467 0 01-1.471-1.463zM82.2 29.78c-.559-3.506-2.544-5.624-6.235-6.236a.146.146 0 010-.289c3.82-.632 5.676-2.73 6.236-6.235.027-.17.26-.17.287 0 .56 3.505 2.351 5.67 6.237 6.235.17.026.168.26 0 .289-3.788.612-5.678 2.73-6.237 6.236a.145.145 0 01-.287 0zM28.113 104.869l-3.7 1.226 3.7 1.227L29.347 111l1.233-3.678 3.701-1.227-3.7-1.226-1.234-3.679z"})),h().createElement("rect",{width:"46",height:"46",x:"47.158",y:"49.811",fill:"#fff",stroke:"#1a2e3b",strokeWidth:"2",rx:"2",transform:"rotate(-10 47.159 49.811)"}),h().createElement("path",{fill:"#00adef",fillRule:"evenodd",d:"M67.216 63.227a.723.723 0 01.957-.806l12.813 4.599a.723.723 0 01.218 1.236L70.736 76.96a.723.723 0 01-1.174-.43z",clipRule:"evenodd"}),h().createElement("rect",{width:"45.831",height:"45.831",x:"19.084",y:"31.375",fill:"#fff",stroke:"#1a2e3b",strokeWidth:"2.169",rx:"1.916"}),h().createElement("g",{mask:"url(#a)"},h().createElement("circle",{cx:"48.471",cy:"45.653",r:"5",fill:"#00adef"}),h().createElement("path",{fill:"#1a2e3b",fillRule:"evenodd",d:"M16.959 63.73a3 3 0 01.864-2.107l10.815-10.967a3 3 0 014.272 0l12.305 12.479a3 3 0 004.272 0l4.042-4.1a3 3 0 014.247-.024l8.294 8.211a3 3 0 01.889 2.132v8.06a3 3 0 01-2.995 3l-44 .07a3 3 0 01-3.005-3z",clipRule:"evenodd"})))};const VD=function(){return h().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"150",height:"70",fill:"none",viewBox:"0 0 302 140","data-component-name":"ShopifyNoResults"},h().createElement("g",{fillRule:"evenodd",clipRule:"evenodd"},h().createElement("path",{fill:"#8498a4",d:"M38.563 44.36c0-2.811 2.294-5.092 5.121-5.092 2.83 0 5.122 2.281 5.122 5.091 0 2.812-2.293 5.092-5.122 5.092-2.827 0-5.121-2.28-5.121-5.092z"}),h().createElement("path",{fill:"#1a2e3b",d:"M255.391 79.375c0-1.405 1.147-2.546 2.561-2.546s2.561 1.14 2.561 2.546-1.147 2.545-2.561 2.545-2.561-1.14-2.561-2.545zM221.242 4.253a2.555 2.555 0 012.561-2.545 2.553 2.553 0 012.561 2.545 2.553 2.553 0 01-2.561 2.546 2.554 2.554 0 01-2.561-2.546z"}),h().createElement("path",{fill:"#8498a4",d:"M245.145 126.281c0-2.804-2.3-5.092-5.122-5.092 2.822 0 5.122-2.287 5.122-5.091 0 2.804 2.302 5.091 5.122 5.091-2.82 0-5.122 2.288-5.122 5.092z"}),h().createElement("path",{fill:"#1a2e3b",d:"M65.504 5.122l2.47 7.359 7.402 2.454-7.403 2.454-2.469 7.357-2.467-7.357-7.404-2.454 7.404-2.454z"}),h().createElement("path",{fill:"#8498a4",d:"M236.813 51.717c-.618-3.85-2.812-6.177-6.891-6.85a.16.16 0 010-.316c4.222-.695 6.273-3 6.891-6.85a.16.16 0 01.317 0c.618 3.85 2.599 6.228 6.893 6.85.188.028.186.285 0 .317-4.187.672-6.275 2.999-6.893 6.85a.16.16 0 01-.317 0zM47.301 128.546c-.618-3.85-2.812-6.177-6.89-6.849a.16.16 0 010-.317c4.222-.694 6.272-2.999 6.89-6.85a.16.16 0 01.318 0c.618 3.851 2.598 6.228 6.892 6.85.188.028.186.285 0 .317-4.186.672-6.274 2.999-6.892 6.849a.16.16 0 01-.318 0z"}),h().createElement("path",{fill:"#1a2e3b",d:"M9.325 71.707l2.081 6.207 6.244 2.068-6.244 2.07-2.081 6.206-2.081-6.207L1 79.982l6.244-2.068z"}),h().createElement("path",{fill:"#8498a4",d:"M26.61 3.749l2.147.713c.43.14.767.475.91.903l.715 2.133.716-2.133c.142-.428.48-.762.91-.903l2.146-.713-2.146-.713a1.427 1.427 0 01-.91-.903L30.383 0l-.716 2.133a1.43 1.43 0 01-.91.903zM266.781 8.537l2.218 4.027 4.051 2.204-4.051 2.203-2.218 4.027-2.216-4.027-4.053-2.203 4.053-2.204z"}),h().createElement("path",{fill:"#657987",d:"M268.464 24.385a1.643 1.643 0 010 2.331 1.667 1.667 0 01-2.346 0c-.647-.644-.647-1.688 0-2.331s1.697-.644 2.346 0z"}),h().createElement("path",{fill:"#8498a4",d:"M278.71 109.75a1.644 1.644 0 010 2.332 1.668 1.668 0 01-2.346 0 1.644 1.644 0 010-2.332 1.668 1.668 0 012.346 0z"}),h().createElement("path",{fill:"#1a2e3b",d:"M37.976 90.97a1.643 1.643 0 010 2.332 1.667 1.667 0 01-2.346 0 1.643 1.643 0 010-2.332 1.667 1.667 0 012.346 0zM290.805 57.56l-6.442 2.135 6.442 2.134 2.147 6.402 2.147-6.402 6.441-2.134-6.441-2.135-2.147-6.402z"})),h().createElement("circle",{cx:"149.535",cy:"71.707",r:"68.293",fill:"#e3e8e9"}),h().createElement("circle",{cx:"145.268",cy:"67.439",r:"23.049",stroke:"#1a2e3b",strokeWidth:"4"}),h().createElement("path",{stroke:"#1a2e3b",strokeLinecap:"round",strokeWidth:"4",d:"M164.902 87.073l13.659 13.659"}))};function WD(e){for(var t=document.cookie.split(";"),n=0;n<t.length;n++){var r=t[n].split("=");if(e===r[0].trim())return decodeURIComponent(r[1])}return null}function GD(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r="".concat(e,"=").concat(t);n&&(r+=";path=".concat(n)),window.document.cookie=r}function YD(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return qD(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qD(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qD(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ZD=S("useInfiniteScroll");const XD=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3?arguments[3]:void 0,o=(0,f.useState)(!1),a=YD(o,2),i=a[0],c=a[1],l=(0,f.useRef)();return(0,f.useEffect)((function(){l.current=t}),[t]),(0,f.useEffect)((function(){var t=e.current;if(t&&r){var o=_N()((function(){ZD.debug("Should not fetch",t.clientHeight+t.scrollTop+n<t.scrollHeight),t.clientHeight!==t.scrollHeight&&(t.clientHeight+t.scrollTop+n<t.scrollHeight||i||c(!0))}),100,!1);return t.addEventListener("scroll",o),function(){t.removeEventListener("scroll",o)}}}),[e,i,n,r]),(0,f.useEffect)((function(){i&&l.current&&l.current(c)}),[i]),[i,c]};var KD=(0,Ge.default)(Xe).attrs((function(e){return{"data-component-name":e["data-component-name"]?"VBoxrender ".concat(e["data-component-name"]):"VBoxrender"}})).withConfig({displayName:"upload-media-empty-state__VBoxrender",componentId:"gcszg3-0"})(["max-width:50%;margin:"," auto "," auto;font-size:",";font-weight:500;svg{display:block;margin:auto;margin-bottom:22px;}"],(0,We.rem)(72),(0,We.rem)(30),(0,We.rem)(16)),QD=(0,Ge.default)(fv).attrs((function(e){return{"data-component-name":e["data-component-name"]?"NotFoundTitle ".concat(e["data-component-name"]):"NotFoundTitle"}})).withConfig({displayName:"upload-media-empty-state__NotFoundTitle",componentId:"gcszg3-1"})(["font-size:",";text-align:center;"],(0,We.rem)(18)),$D=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"NotFoundIcon ".concat(e["data-component-name"]):"NotFoundIcon"}})).withConfig({displayName:"upload-media-empty-state__NotFoundIcon",componentId:"gcszg3-2"})([""]),JD=(0,Ge.default)(mv).attrs((function(e){return{"data-component-name":e["data-component-name"]?"NotFoundText ".concat(e["data-component-name"]):"NotFoundText"}})).withConfig({displayName:"upload-media-empty-state__NotFoundText",componentId:"gcszg3-3"})(["margin-top:",";font-weight:400;"],(0,We.rem)(12));const eR=function(e){var t=e.icon,n=e.title,r=e.text1,o=e.children,a=void 0===o?null:o,i=e.className,c=[t?h().createElement($D,null,t):null,n?h().createElement(QD,null,n):null,r?h().createElement(JD,null,r):null,a];return h().createElement(KD,{flex:"1",align:"center",justify:"center",className:i,"data-component-name":"MediaNotFound"},c.map((function(e){return e})))};function tR(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return nR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nR(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nR(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function rR(e,t,n,r,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,o)}function oR(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){rR(a,r,o,i,c,"next",e)}function c(e){rR(a,r,o,i,c,"throw",e)}i(void 0)}))}}function aR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function iR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?aR(Object(n),!0).forEach((function(t){cR(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aR(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function cR(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var lR,sR=Nt().create({baseURL:"".concat(Ot.get("api.vimeoApi.apiUrl",""),"/me/ecommerce/shopify/shops"),headers:{Accept:"application/vnd.vimeo.*; version=3.4.2","Content-Type":"application/json","Accept-Language":"en"}}),uR=100,dR=Nt().CancelToken,mR=new Map;var pR=function(e){var t=e.teamOwnerId,n=t?"/users/".concat(t,"/ecommerce/shopify/shops"):"/me/ecommerce/shopify/shops";return"https://".concat(Ot.get("api.vimeoApi.apiUrl","")).concat(n)},fR=function(e){var t=e.node,n=t.featuredImage;return{cursor:e.cursor,id:t.id,title:t.title||"",mediaCount:t.mediaCount,thumbnail_url:n&&n.originalSrc||null}},hR=function(e){return e.split("/").pop().split("?").shift()},gR=function(e){var t=e.error,n=e.node,r=n.preview.image.originalSrc,o=n.mediaContentType.toLowerCase(),a={cursor:e.cursor,id:n.id,type:o,thumbnail_url:r,file_size:0};if("video"===o){var i=n.sources.filter((function(e){return e.mimeType.includes("video")})).reduce((function(e,t){return e.width>t.width&&e.height>t.height?e:t}),{width:0,height:0,url:"",mimeType:""}),c=i.height,l=i.width,s=i.mimeType,u=i.url;return iR(iR({},a),{},{file_name:hR(u),download_url:u,preview_url:u,content_type:s,height:c,width:l,shortType:"video",error:t})}return iR(iR({},a),{},{file_name:hR(r),download_url:r,error:t})},yR=function(e,t){return"".concat(e,"?").concat(t)};function bR(e){return vR.apply(this,arguments)}function vR(){return(vR=oR(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,l,s,u,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.teamOwnerId,(r=new URLSearchParams).append("per_page",uR),o=yR("/",r.toString()),!mR.has(o)){e.next=7;break}return a=mR.get(o),e.abrupt("return",Promise.resolve(a));case 7:return e.next=9,sR.get("/",{baseURL:pR({teamOwnerId:n}),params:r,headers:{Authorization:"jwt ".concat(Ot.get("api.vimeoApi.jwt",""))}});case 9:return i=e.sent,c=i.data,l=c.paging.next,s=void 0===l?null:l,u=c.data.map((function(e){return e.shop})),d={next:s,stores:u},mR.set(o,d),console.log("Cache ".concat(o),d),e.abrupt("return",d);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ER(e){var t=e.shop,n=e.query,r=e.cursor,o=e.teamOwnerId,a="/".concat(t,"/products"),i=new URLSearchParams;i.append("per_page",uR),i.append("template","creation"),n&&i.append("query",n),r&&i.append("cursor",r);var c=yR(a,i.toString());if(mR.has(c)){var l=mR.get(c);return Promise.resolve(l)}return sR(a,{baseURL:pR({teamOwnerId:o}),cancelToken:new dR((function(e){lR=e})),params:i,headers:{Authorization:"jwt ".concat(Ot.get("api.vimeoApi.jwt",""))}}).then((function(e){var t=e.data,n=t.data.products.edges.map(fR),r={products:n,next:t.data.products.pageInfo.hasNextPage?n[n.length-1].cursor:null};return mR.set(c,r),console.log("Cache ".concat(c),r),r}))}function wR(e){var t=e.shop,n=e.productId,r=e.cursor,o=e.teamOwnerId,a="/".concat(t,"/products/media"),i=new URLSearchParams;i.append("per_page",uR),i.append("product_id",n),r&&i.append("cursor",r);var c=yR(a,i.toString());if(mR.has(c)){var l=mR.get(c);return Promise.resolve(l)}return sR(a,{baseURL:pR({teamOwnerId:o}),cancelToken:new dR((function(e){lR=e})),params:i,headers:{Authorization:"jwt ".concat(Ot.get("api.vimeoApi.jwt",""))}}).then((function(e){var t=e.data,n=null;if(null===t.data.product)n={productMedias:[],next:null};else{var r=t.data.product.media.edges.map((function(e){return e.node.preview.image?"MODEL_3D"===e.node.mediaContentType?Object.assign(e,{error:{reason:"3D models are not supported"}}):"EXTERNAL_VIDEO"===e.node.mediaContentType?Object.assign(e,{error:{reason:"YouTube videos are not supported"}}):e:(e.node.preview.image={originalSrc:""},Object.assign(e,{error:{reason:"Corrupted file"}}))})).map(gR);n={productMedias:r,next:t.data.product.media.pageInfo.hasNextPage?r[r.length-1].cursor:null}}return mR.set(c,n),console.log("Cache ".concat(c),n),n}))}function AR(e){return CR.apply(this,arguments)}function CR(){return(CR=oR(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,l,s,u,d,m,p,f,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.shop,r=t.teamOwnerId,e.next=3,bR({teamOwnerId:r});case 3:return o=e.sent,a=o.stores,i=o.next,c=a[0],(l=WD("create_context.shopify")||null)&&(s=JSON.parse(l).shop||null,(u=a.filter((function(e){return e.myshopifyDomain===s}))).length>0&&(d=tR(u,1),c=d[0])),e.next=11,ER({shop:n?n.myshopifyDomain:c.myshopifyDomain,teamOwnerId:r});case 11:return m=e.sent,p=m.products,f=m.next,h={stores:{next:i},products:{next:f}},e.abrupt("return",{primaryStore:c,storeList:a,products:p,pagination:h});case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var SR=n(63300422080874);function _R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return xR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xR(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xR(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function IR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function TR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?IR(Object(n),!0).forEach((function(t){OR(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IR(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function OR(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var kR={searchTerm:""},MR="UPDATE_SEARCH_TERM",BR="CLEAR_SEARCH_TERM";function jR(e,t){var n=t.type,r=t.payload;switch(n){case MR:return TR(TR({},e),{},{searchTerm:r});case BR:return TR(TR({},e),{},{searchTerm:""});default:return e}}function LR(){var e=_R((0,f.useReducer)(jR,kR),2),t=e[0],n=e[1],r=(0,f.useCallback)((function(e){n(function(e){return{type:MR,payload:e}}(e))}),[n]),o=(0,f.useCallback)((function(){n({type:BR})}),[n]);return(0,f.useMemo)((function(){return{searchTerm:t.searchTerm,handleUpdateSearchTerm:r,handleClearSearch:o}}),[t.searchTerm,r,o])}function PR(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return NR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return NR(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function NR(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function DR(e,t){var n=PR((0,f.useState)(e),2),r=n[0],o=n[1];return(0,f.useEffect)((function(){var n=setTimeout((function(){o(e)}),t);return function(){clearTimeout(n)}}),[e,t]),r}var RR={top:(0,We.rem)(30),right:0,zIndex:60,padding:"".concat((0,We.rem)(10)," ").concat((0,We.rem)(2)),border:"none"},zR=(0,Ge.default)(Ze).attrs((function(e){return{"data-component-name":e["data-component-name"]?"FiltersContainer ".concat(e["data-component-name"]):"FiltersContainer"}})).withConfig({displayName:"filters__FiltersContainer",componentId:"tw0gy7-0"})(["padding-bottom:",";"],(0,We.rem)(16)),UR=(0,Ge.default)(Ze).attrs((function(e){return{"data-component-name":e["data-component-name"]?"StoreDropDownContainer ".concat(e["data-component-name"]):"StoreDropDownContainer"}})).withConfig({displayName:"filters__StoreDropDownContainer",componentId:"tw0gy7-1"})(["flex-basis:auto;"]),FR=(0,Ge.default)(Ze).attrs((function(e){return{"data-component-name":e["data-component-name"]?"SelectedFilter ".concat(e["data-component-name"]):"SelectedFilter"}})).withConfig({displayName:"filters__SelectedFilter",componentId:"tw0gy7-2"})(["height:100%;"]),HR=(0,Ge.default)(Ze).attrs((function(e){return{"data-component-name":e["data-component-name"]?"FilterDropdownRow ".concat(e["data-component-name"]):"FilterDropdownRow"}})).withConfig({displayName:"filters__FilterDropdownRow",componentId:"tw0gy7-3"})(["padding:5px 10px;height:",";&:hover{background:rgb(246,247,248);}& > div{margin-right:",";&:last-child:{margin-right:0;}}transition:background 300ms ease-out;"],(0,We.rem)(44),(0,We.rem)(8)),VR=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"FixedBox ".concat(e["data-component-name"]):"FixedBox"}})).withConfig({displayName:"filters__FixedBox",componentId:"tw0gy7-4"})(["width:",";height:",";line-height:",";"],(0,We.rem)(16),(0,We.rem)(16),(0,We.rem)(16)),WR=(0,Ge.default)(TO).attrs((function(e){return{"data-component-name":e["data-component-name"]?"SearchProductPlaceholder ".concat(e["data-component-name"]):"SearchProductPlaceholder"}})).withConfig({displayName:"filters__SearchProductPlaceholder",componentId:"tw0gy7-5"})(["width:245px;height:40px;margin-right:",";border-radius:",";"],(0,We.rem)(8),(0,We.rem)(3)),GR=(0,Ge.default)(TO).attrs((function(e){return{"data-component-name":e["data-component-name"]?"SwitchStoreDropDownPlaceholder ".concat(e["data-component-name"]):"SwitchStoreDropDownPlaceholder"}})).withConfig({displayName:"filters__SwitchStoreDropDownPlaceholder",componentId:"tw0gy7-6"})(["width:150px;height:40px;margin-right:",";border-radius:",";"],(0,We.rem)(8),(0,We.rem)(3));function YR(e){var t=e.storeList,n=void 0===t?[]:t,r=e.activeStore,o=void 0===r?"Eli Store":r,a=e.onChangeStore,i=e.isDisable,c=(0,f.useMemo)((function(){return h().createElement(FR,{align:"center",justify:"space-between","data-component-name":"SelectedStore"},h().createElement(fv,null,o.name),h().createElement(GC,null))}),[o]),l=(0,f.useMemo)((function(){return n.map((function(e){return h().createElement(HR,{align:"center",onClick:function(){return a(e)},role:"presentation"},h().createElement("div",null,e.id===o.id?h().createElement(VR,null,h().createElement(aC,null)):h().createElement(VR,null)),h().createElement(fv,null,e.name))}))}),[o,a,n]);return h().createElement(UR,{align:"center","data-component-name":"SwitchStoreMenu"},h().createElement(Xe,null,h().createElement(mI,{disabled:i,selectItem:c,listItem:l,dropdownListStyle:RR})))}var qR=(0,Ge.default)(tS.ArrowLeft).attrs((function(e){return{"data-component-name":e["data-component-name"]?"BackToCategories ".concat(e["data-component-name"]):"BackToCategories"}})).withConfig({displayName:"filters__BackToCategories",componentId:"tw0gy7-7"})(["width:",";margin-right:",";cursor:pointer;&:hover{background:rgb(238,241,242);}"],(0,We.rem)(20),(0,We.rem)(20)),ZR=Ge.default.input.attrs((function(e){return{"data-component-name":e["data-component-name"]?"SearchInput ".concat(e["data-component-name"]):"SearchInput"}})).withConfig({displayName:"filters__SearchInput",componentId:"tw0gy7-8"})(["flex:1;font-size:",";"],(0,We.rem)(14)),XR=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"SearchInputContainer ".concat(e["data-component-name"]):"SearchInputContainer"}})).withConfig({displayName:"filters__SearchInputContainer",componentId:"tw0gy7-9"})(["box-sizing:border-box;display:flex;width:",";height:",";border-radius:",";padding:0 ",";border:1px solid #b3bfc8;background-color:",";","{background-color:inherit;border:none;&:focus{border-color:none;box-shadow:none;}}"],(0,We.rem)(245),(0,We.rem)(45),(0,We.rem)(3),(0,We.rem)(15),(function(e){return e.isDisable?tv:Jb}),ZR),KR=(0,Ge.default)(Ov.DismissX).attrs((function(e){return{"data-component-name":e["data-component-name"]?"ClearSearchIcon ".concat(e["data-component-name"]):"ClearSearchIcon"}})).withConfig({displayName:"filters__ClearSearchIcon",componentId:"tw0gy7-10"})(["height:100%;width:",";cursor:pointer;path{fill:#b3bfc8;}&:hover{path{fill:#1a2e3b;}}"],(0,We.rem)(13)),QR=(0,Ge.default)(SR.Search).attrs((function(e){return{"data-component-name":e["data-component-name"]?"SearchIcon ".concat(e["data-component-name"]):"SearchIcon"}})).withConfig({displayName:"filters__SearchIcon",componentId:"tw0gy7-11"})(["width:",";cursor:pointer;path{fill:#8498a4;}&:hover{path{fill:#1a2e3b;}}"],(0,We.rem)(24));function $R(e){var t,n,r=e.searchTerm,o=void 0===r?"":r,a=e.handleUpdateSearchTerm,i=e.handleSubmitSearchTerm,c=e.handleClearSearch,l=e.isDisable,s=""===o,u=(0,f.useCallback)((function(e){e.stopPropagation();var t=e.target.value.toLowerCase();a(t)}),[a]),d=(0,f.useCallback)((function(e){""!==e.trim()&&i(e.trim().toLowerCase())}),[i]),m=(0,f.useMemo)((function(){return 0!==o.length?h().createElement(wL,{attachLocation:"top",text:oe.StockMediaContainerClearTooltip,"data-component-name":"ClearSearch"},h().createElement(KR,{onClick:c})):null}),[c,o.length]),p=(t=d,n=(0,f.useRef)(),(0,f.useEffect)((function(){var e=function(e){if(13===e.keyCode){var n=e.target.value;e.preventDefault(),t(n)}};return n.current.addEventListener("keyup",e),function(){n.current.removeEventListener("keyup",e)}}),[t]),n);return h().createElement(XR,{align:"center",isDisable:l,"data-component-name":"LibrarySearch"},h().createElement(ZR,{placeholder:oe.ShopifyMediaContainerSearchPlaceholder,onChange:u,value:o,ref:p,disabled:l}),!l&&(s?h().createElement(QR,{onClick:function(){return d(o)}}):m))}function JR(e){var t=e.showBackArrow,n=void 0===t||t,r=e.storeList,o=void 0===r?[]:r,a=e.showStoreList,i=void 0===a||a,c=e.showSearchProduct,l=void 0===c||c,s=e.activeStore,u=void 0===s?null:s,d=e.onChangeStore,m=e.goBack,p=e.onClearQuery,g=e.handleSubmitSearchTerm,y=e.isInitializing,b=e.isDisable,v=e.onChangeQuery,E=LR(),w=E.searchTerm,A=E.handleUpdateSearchTerm,C=E.handleClearSearch;!function(e,t,n){var r=DR(e,n);(0,f.useEffect)((function(){t(r)}),[r,t])}(w,v,""===w?0:700);var S=(0,f.useCallback)((function(){C(),p&&p()}),[p,C]);return y?h().createElement(zR,{justify:"space-between","data-component-name":"ShopifyFilters"},h().createElement(WR,null),h().createElement(GR,null)):h().createElement(zR,{justify:"space-between","data-component-name":"ShopifyFilters"},h().createElement(Ze,{align:"center"},n?h().createElement(qR,{onClick:m}):null,l?h().createElement($R,{searchTerm:w,handleUpdateSearchTerm:A,handleSubmitSearchTerm:g,handleClearSearch:S,isDisable:b}):null),i?h().createElement(YR,{storeList:o,onChangeStore:d,activeStore:u,isDisable:b}):null)}const ez=h().memo(JR);(0,We.rem)(10),(0,We.rem)(16);function tz(e){var t=e.shouldRenderList,n=e.dataLength,r=e.forwardRef,o=e.rowRenderer,a=e.isLoadingMore;return h().createElement(Xe,{"data-component-name":"ShopifyViewer"},h().createElement(kT,{forwardRef:r},(function(e){var r=e.height,a=e.isScrolling,i=e.registerChild,c=e.onChildScroll,l=e.scrollTop;return h().createElement(OT.qj,{disableHeight:!0},(function(e){var s=e.width,u=s?Math.floor((s+160)/175):1,d=Math.ceil(n/u);return t?h().createElement("div",{ref:i},h().createElement(OT.aV,{autoHeight:!0,height:r,isScrolling:a,onScroll:c,rowCount:d,rowHeight:210,overscanRowCount:3,rowRenderer:function(e){return o(u,e)},scrollTop:l,width:s})):null}))})),a&&h().createElement("div",{style:{alignSelf:"center",padding:"30px"}},h().createElement(NE,{size:"md"})))}const nz=h().memo(tz);function rz(e){return function(e){if(Array.isArray(e))return lz(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||cz(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oz(e,t,n,r,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,o)}function az(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){oz(a,r,o,i,c,"next",e)}function c(e){oz(a,r,o,i,c,"throw",e)}i(void 0)}))}}function iz(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||cz(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cz(e,t){if(e){if("string"==typeof e)return lz(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lz(e,t):void 0}}function lz(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var sz=function(e){return Object.assign({},e,{upl_origin:ea.SHOPIFY,type:"image"})},uz=((0,We.rem)(10),(0,We.rem)(16),Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"AssetItem ".concat(e["data-component-name"]):"AssetItem"}})).withConfig({displayName:"container__AssetItem",componentId:"sc-138c4ss-1"})(["height:",";width:",";margin-bottom:",";margin-left:",";"],(0,We.rem)(160),(0,We.rem)(162),(0,We.rem)(35),(0,We.rem)(16))),dz=(0,Ge.default)(fv).attrs((function(e){return{"data-component-name":e["data-component-name"]?"AssetItemTitle ".concat(e["data-component-name"]):"AssetItemTitle"}})).withConfig({displayName:"container__AssetItemTitle",componentId:"sc-138c4ss-2"})(["max-width:200px;margin-top:",";font-size:",";"],(0,We.rem)(8),(0,We.rem)(14)),mz=(0,Ge.default)(Ze).attrs((function(e){return{"data-component-name":e["data-component-name"]?"VirtualizedRow ".concat(e["data-component-name"]):"VirtualizedRow"}})).withConfig({displayName:"container__VirtualizedRow",componentId:"sc-138c4ss-3"})(["div:first-child{margin-left:0;}"]),pz=(0,Ge.default)(Xe).attrs((function(e){return{"data-component-name":e["data-component-name"]?"ShopifyLoadingViewerContainer ".concat(e["data-component-name"]):"ShopifyLoadingViewerContainer"}})).withConfig({displayName:"container__ShopifyLoadingViewerContainer",componentId:"sc-138c4ss-4"})(["height:100%;flex-basis:auto;"]),fz=(0,Ge.default)(Xe).attrs((function(e){return{"data-component-name":e["data-component-name"]?"EmptyProductStyle ".concat(e["data-component-name"]):"EmptyProductStyle"}})).withConfig({displayName:"container__EmptyProductStyle",componentId:"sc-138c4ss-5"})(["background-color:#f6f7f8;height:100%;flex-basis:auto;"]),hz=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"PhotoNameOverlay ".concat(e["data-component-name"]):"PhotoNameOverlay"}})).withConfig({displayName:"container__PhotoNameOverlay",componentId:"sc-138c4ss-6"})(["display:inline-block;width:100%;"]),gz=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"PhotoNameText ".concat(e["data-component-name"]):"PhotoNameText"}})).withConfig({displayName:"container__PhotoNameText",componentId:"sc-138c4ss-7"})(["position:absolute;font-size:14px;font-style:normal;font-weight:500;line-height:12px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;width:160px;height:20px;text-align:center;"]),yz=function(e){var t=e.children;return h().createElement("svg",{fill:"none",height:"37",viewBox:"0 0 37 37",width:"37",xmlns:"http://www.w3.org/2000/svg","data-component-name":"CountMediaSVG"},h().createElement("filter",{id:"countMediaId",colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",height:"38",width:"38",x:"0",y:"0"},h().createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),h().createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),h().createElement("feOffset",{dy:"2"}),h().createElement("feGaussianBlur",{stdDeviation:"2"}),h().createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.16 0"}),h().createElement("feBlend",{in2:"BackgroundImageFix",mode:"normal",result:"effect1_dropShadow"}),h().createElement("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow",mode:"normal",result:"shape"})),h().createElement("g",{filter:"url(#countMediaId)"},h().createElement("path",{clipRule:"evenodd",d:"m7 2c-1.65685 0-3 1.34315-3 3v18c0 1.6569 1.34315 3 3 3h18c1.6569 0 3-1.3431 3-3v-18c0-1.65685-1.3431-3-3-3zm26 22.8824c0 3.3784-2.7392 6.1176-6.1176 6.1176h-16.8236c-1.68998 0-3.0588-1.3688-3.0588-3.0588h19.8824c1.69 0 3.0588-1.3688 3.0588-3.0588v-19.8824c1.69 0 3.0588 1.36882 3.0588 3.05882z",fill:"#fff",fillRule:"evenodd"}),h().createElement("text",{x:"45%",y:"45%",dominantBaseline:"middle",textAnchor:"middle",fontSize:"14",fontFamily:"Helvetica, Arial, sans-serif",fill:"#8498a4"},t)))},bz=function(){return h().createElement("svg",{width:"20",height:"14",viewBox:"0 0 20 14",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-component-name":"VideoPreviewIndicator"},h().createElement("mask",{id:"path-1-inside-1",fill:"white"},h().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 2H12V12H2L2 2ZM0 2C0 0.89543 0.895431 0 2 0H12C13.1046 0 14 0.895431 14 2V4.17761L16.7964 1.30279C16.9847 1.10924 17.2432 1.00005 17.5132 1.00005H19C19.5523 1.00005 20 1.44777 20 2.00005V12C20 12.5523 19.5523 13 19 13H17.5132C17.2432 13 16.9847 12.8908 16.7964 12.6973L14 9.82244V12C14 13.1046 13.1046 14 12 14H2C0.89543 14 0 13.1046 0 12V2ZM15.2 8.18774V5.81232L17.9356 3.00005H18V11H17.9356L15.2 8.18774Z"})),h().createElement("path",{d:"M12 2H14V0H12V2ZM2 2V0H2.38419e-08L0 2H2ZM12 12V14H14V12H12ZM2 12H-1.19209e-07L-1.43051e-07 14H2V12ZM14 4.17761H12V9.10202L15.4336 5.57214L14 4.17761ZM16.7964 1.30279L15.3628 -0.091745L15.3628 -0.0917437L16.7964 1.30279ZM16.7964 12.6973L15.3628 14.0918L15.3628 14.0918L16.7964 12.6973ZM14 9.82244L15.4336 8.42791L12 4.89803V9.82244H14ZM15.2 5.81232L13.7664 4.41778L13.2 5.00004V5.81232H15.2ZM15.2 8.18774H13.2V9.00002L13.7664 9.58227L15.2 8.18774ZM17.9356 3.00005V1.00005H17.0909L16.502 1.60552L17.9356 3.00005ZM18 3.00005H20V1.00005H18V3.00005ZM18 11V13H20V11H18ZM17.9356 11L16.502 12.3945L17.0909 13H17.9356V11ZM12 0H2V4H12V0ZM14 12V2H10V12H14ZM2 14H12V10H2V14ZM0 2L-1.19209e-07 12H4V2H0ZM2 -2C-0.209139 -2 -2 -0.209139 -2 2H2V2V-2ZM12 -2H2V2H12V-2ZM16 2C16 -0.209139 14.2091 -2 12 -2V2H16ZM16 4.17761V2H12V4.17761H16ZM15.3628 -0.0917437L12.5664 2.78308L15.4336 5.57214L18.2301 2.69732L15.3628 -0.0917437ZM17.5132 -0.999945C16.7032 -0.999945 15.9276 -0.672379 15.3628 -0.091745L18.2301 2.69732C18.0418 2.89086 17.7833 3.00005 17.5132 3.00005V-0.999945ZM19 -0.999945H17.5132V3.00005H19V-0.999945ZM22 2.00005C22 0.3432 20.6569 -0.999945 19 -0.999945V3.00005C18.4477 3.00005 18 2.55234 18 2.00005H22ZM22 12V2.00005H18V12H22ZM19 15C20.6569 15 22 13.6569 22 12H18C18 11.4477 18.4477 11 19 11V15ZM17.5132 15H19V11H17.5132V15ZM15.3628 14.0918C15.9276 14.6724 16.7032 15 17.5132 15V11C17.7833 11 18.0418 11.1092 18.2301 11.3027L15.3628 14.0918ZM12.5664 11.217L15.3628 14.0918L18.2301 11.3027L15.4336 8.42791L12.5664 11.217ZM16 12V9.82244H12V12H16ZM12 16C14.2091 16 16 14.2091 16 12H12V16ZM2 16H12V12H2V16ZM-2 12C-2 14.2091 -0.209139 16 2 16V12H2H-2ZM-2 2V12H2V2H-2ZM13.2 5.81232V8.18774H17.2V5.81232H13.2ZM16.502 1.60552L13.7664 4.41778L16.6336 7.20685L19.3692 4.39459L16.502 1.60552ZM18 1.00005H17.9356V5.00005H18V1.00005ZM20 11V3.00005H16V11H20ZM17.9356 13H18V9H17.9356V13ZM13.7664 9.58227L16.502 12.3945L19.3692 9.60547L16.6336 6.79321L13.7664 9.58227Z",fill:"white",mask:"url(#path-1-inside-1)"}))},vz=function(){return h().createElement(fz,{align:"center",justify:"center","data-component-name":"EmptyProductMedia"},h().createElement("svg",{width:"72",height:"72",viewBox:"0 0 72 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},h().createElement("g",{opacity:"0.5"},h().createElement("rect",{x:"9",y:"9",width:"54",height:"54",rx:"3",stroke:"#BDCAD3",strokeOpacity:"0.6",strokeWidth:"6"}),h().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M42 30C44.4853 30 46.5 27.9853 46.5 25.5C46.5 23.0147 44.4853 21 42 21C39.5147 21 37.5 23.0147 37.5 25.5C37.5 27.9853 39.5147 30 42 30Z",fill:"#BDCAD3",fillOpacity:"0.6"}),h().createElement("path",{d:"M9 45.0004L23.9199 30L41.8237 48.0004L50.7756 39.0004L63 51.0004",stroke:"#BDCAD3",strokeOpacity:"0.6",strokeWidth:"6",strokeLinecap:"round",strokeLinejoin:"round"}))))},Ez=function(){};function wz(){return h().createElement(pz,{flex:"1",align:"center",justify:"center","data-component-name":"ShopifyLoadingViewer"},h().createElement(NE,{size:"xl"}))}function Az(e){var t=e.allSelectedMediaIds,n=e.onClickSelectedMedia,r=e.renderStickyTop,o=e.renderUploadButton,a=e.shouldRenderList,i=e.onExpandVideoModal,c=e.enabled,l=void 0===c||c,s=e.shopifyContext,u=e.maxSelection,d=e.teamOwnerId,m=iz((0,f.useState)([]),2),p=m[0],g=m[1],y=iz((0,f.useState)(!1),2),b=y[0],v=y[1],E=iz((0,f.useState)(!0),2),w=E[0],A=E[1],C=iz((0,f.useState)(!1),2),S=C[0],_=C[1],x=iz((0,f.useState)(null),2),I=x[0],O=x[1],k=iz((0,f.useState)(null),2),M=k[0],B=k[1],j=iz((0,f.useState)([]),2),L=j[0],P=j[1],N=iz((0,f.useState)([]),2),D=N[0],R=N[1],z=iz((0,f.useState)(!0),2),U=z[0],F=z[1],H=iz((0,f.useState)(!0),2),V=H[0],W=H[1],G=iz((0,f.useState)(!1),2),Y=G[0],q=G[1],Z=iz((0,f.useState)(""),2),X=Z[0],K=Z[1],Q=iz((0,f.useState)(!1),2),$=Q[0],J=Q[1],ee=(0,f.useRef)(null),te=M?D:L,ne=0===te.length,re=""===X||null==X,ae=(0,f.useCallback)(function(){var e=az(regeneratorRuntime.mark((function e(t,n){var r,o,a,i,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.myshopifyDomain,console.log("Fetching Products from Store: ".concat(r,' with Query: "').concat(n,'" and there is more to fetch? ').concat(!!ee.current)),o=ER({shop:r,query:n,cursor:ee.current,teamOwnerId:d}),e.next=5,o;case 5:return a=e.sent,i=a.products,c=a.next,ee.current=c,P((function(e){return[].concat(rz(e),rz(i))})),J(null!==ee.current),e.abrupt("return",{products:i,next:c});case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[]),ie=(0,f.useCallback)(function(){var e=az(regeneratorRuntime.mark((function e(t,n){var r,o,a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.myshopifyDomain,console.log("Fetching Products from Store: ".concat(r,' from Product id: "').concat(n,'" and there is more to fetch? ').concat(!!ee.current)),e.next=4,wR({shop:r,productId:n,cursor:ee.current,teamOwnerId:d});case 4:o=e.sent,a=o.productMedias,i=o.next,ee.current=i,R((function(e){return[].concat(rz(e),rz(a))})),J(null!==ee.current);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[]),ce=(0,f.useCallback)(function(){var e=az(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ae(I,X,ee.current);case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:t(!1);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),[I,X,ae]),le=(0,f.useCallback)(function(){var e=az(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ie(I,M.id,ee.current);case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:t(!1);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),[I,M,ie]),se=(0,f.useRef)(null),ue=iz(XD(se,M?le:ce,0,a&&$),1)[0];(0,f.useEffect)((function(){function e(){return(e=az(regeneratorRuntime.mark((function e(){var t,n,r,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,AR({teamOwnerId:d});case 2:t=e.sent,n=t.storeList,r=t.primaryStore,o=t.products,a=t.pagination,ee.current=a.products.next,(0,T.dC)((function(){if(A(!1),J(null!==ee.current),g(n),r)O(r);else{var e=WD("create_context.shopify");if(e){var t=JSON.parse(e).shop||null,a=n.filter((function(e){return e.myshopifyDomain===t}))[0];a&&O(a)}}P(o)}));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function t(){return(t=az(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,l,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.shop,r=t.product,e.next=3,AR({shop:n,teamOwnerId:d});case 3:if(o=e.sent,a=o.storeList,i=o.products,c=function(e){B(e),F(!1),W(!1),q(!0)},l=function(){A(!1),g(a),O(n),P(i),_(!1)},s=null,!r){e.next=12;break}return s=fR({node:r}),e.next=12,ie(n,s.id);case 12:(0,T.dC)((function(){s&&c(s),l()}));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}s?function(e){t.apply(this,arguments)}(s):function(){e.apply(this,arguments)}()}),[s,ie]);var de,me,pe,fe=(0,f.useCallback)(function(){var e=az(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return lR(),ee.current=null,(0,T.dC)((function(){_(!0),v(!0),P([])})),e.next=5,ae(t,n,null);case 5:return r=t.myshopifyDomain,e.next=8,GD("create_context.shopify",JSON.stringify({shop:r}),"/");case 8:(0,T.dC)((function(){O(t),_(!1),v(!1)}));case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[ae]),he=(0,f.useCallback)(function(){var e=az(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("switch to store",t),I.id!==t.id){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,fe(t,X);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[I,X,fe]),ge=(0,f.useCallback)(function(){var e=az(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log('Query for products: "'.concat(t,'"')),X!==t){e.next=3;break}return e.abrupt("return");case 3:return K(t),e.next=6,fe(I,t);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[I,X,fe]),ye=(0,f.useCallback)((function(e){n(sz(e))}),[n]),be=(0,f.useCallback)(function(){var e=az(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ee.current=null,(0,T.dC)((function(){_(!0),R([]),B(t),F(!1),W(!1)})),e.next=4,ie(I,t.id);case 4:(0,T.dC)((function(){q(!0),_(!1)}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[I,ie]),ve=(0,f.useCallback)((function(){var e=L[L.length-1];ee.current=e?e.cursor:null,(0,T.dC)((function(){B(null),F(!0),W(!0),q(!1),J(null!==ee.current)}))}),[L]),Ee=(0,f.useCallback)((function(e,n){for(var r,o=n.index,a=n.key,c=n.style,s=[],d=o*e,m=Math.min(d+e,te.length),p=function(e){var n,r=te[e],o=function(e,t,n,r){return!e.error&&(!!r||(!!n||!!t))};s.push(h().createElement(uz,{key:n=r.id,"data-key":n,onClick:function(){o(r,l,Boolean(t[r.id]),null===M)&&(M?ye(r):be(r))}},h().createElement(tO,{selected:t[r.id],checkMark:!0,enabled:o(r,l,Boolean(t[r.id]),null===M),disableReason:function(e,t,n){return e.error?e.error.reason:t?"":oe.ShopifyMediaContainerDynamicRemainingMediaCounter(n)}(r,l,u),maxSelection:u,allSelectedMediaIds:t,title:r.title},r.thumbnail_url?h().createElement(EB,{src:"video"===r.type?r.preview_url:null,borderRadius:(0,We.rem)(8),imgPoster:r.thumbnail_url,controls:M?[{display:vB,control:h().createElement($e,{key:2,"data-key":2,relativity:"absolute",top:"10px",right:"10px"},o(r,l,Boolean(t[r.id]))?h().createElement(oD,{onClick:function(e){e.stopPropagation(),i(sz(r))}}):null)},"video"===r.type?{display:bB,control:h().createElement($e,{key:3,"data-key":3,relativity:"absolute",bottom:"10px",right:"15px"},h().createElement(bz,null))}:null]:[0!==r.mediaCount?{display:bB,control:h().createElement($e,{key:4,"data-key":4,relativity:"absolute",bottom:"5px",right:"5px"},h().createElement(yz,null,r.mediaCount))}:null]}):h().createElement(vz,null)),h().createElement(dz,null,h().createElement(hz,null,h().createElement(wL,{attachLocation:"top",multiLine:!0,text:r.title,showTooltip:r.title&&r.title.length>25},h().createElement(gz,null,r.title))))))},f=d;f<m;f++)p(f);return h().createElement(mz,{key:r=a,"data-key":r,style:c,align:"center","data-component-name":"rowRenderer"},s)}),[te,l,M,t,u,be,ye,i]);return h().createElement(h().Fragment,null,r(),h().createElement(ez,{storeList:p,activeStore:I,onChangeStore:he,showStoreList:U,showSearchProduct:V,showBackArrow:Y,goBack:ve,isInitializing:w,isDisable:b,onChangeQuery:ge,onClearQuery:Ez}),h().createElement(gj,{ref:se},(de=!M&&ne&&re,me=M&&ne,pe=ne&&!re,S||w?h().createElement(wz,{"data-component-name":"renderPreviewContent"}):de?h().createElement(eR,{icon:h().createElement(FD,null),title:oe.ShopifyMediaContainerNoProductsHeader,text1:oe.MediaContainerNoProductsText1,"data-component-name":"renderPreviewContent"},o("uploadButton")):me?h().createElement(eR,{icon:h().createElement(HD,null),title:oe.MediaContainerNoMediaHeader(M.title),text1:oe.ShopifyMediaContainerNoMediaText1,"data-component-name":"renderPreviewContent"}):pe?h().createElement(eR,{icon:h().createElement(VD,null),title:oe.ShopifyMediaContainerNoResultsHeader(X),"data-component-name":"renderPreviewContent"}):h().createElement(nz,{shouldRenderList:a,forwardRef:se,dataLength:te.length,rowRenderer:Ee,isLoadingMore:ue,"data-component-name":"renderPreviewContent"}))))}const Cz=h().memo(Az);function Sz(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _z(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Iz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xz(Object(n),!0).forEach((function(t){Tz(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xz(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Tz(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Oz={preRequestSearchTerm:"",requestSearchTerm:"",filter:"video"},kz="SEARCH_FILTER_CHANGE",Mz="SEARCH_PRE_TERM_CHANGE",Bz="SEARCH_REQUEST_TERM_CHANGE",jz="SEARCH_IMMEDIATE_REQUEST_TERM_CHANGE",Lz="SEARCH_CLEAR";function Pz(e,t){var n=t.type,r=t.payload;switch(n){case kz:return Iz(Iz({},e),{},{filter:r});case Mz:return Iz(Iz({},e),{},{preRequestSearchTerm:r});case Bz:return e.requestSearchTerm===r?e:Iz(Iz({},e),{},{requestSearchTerm:r});case jz:return Iz(Iz({},e),{},{preRequestSearchTerm:r,requestSearchTerm:r});case Lz:return Iz(Iz({},e),{},{preRequestSearchTerm:"",requestSearchTerm:""});default:return e}}function Nz(){var e=Sz((0,f.useReducer)(Pz,Oz),2),t=e[0],n=e[1],r=(0,f.useCallback)((function(e){n(function(e){return{type:kz,payload:e}}(e))}),[n]),o=(0,f.useCallback)((function(e){n(function(e){return{type:Mz,payload:e}}(e))}),[n]),a=(0,f.useCallback)((function(e){n(function(e){return{type:Bz,payload:e}}(e))}),[n]),i=(0,f.useCallback)((function(e){n(function(e){return{type:jz,payload:e}}(e))}),[n]),c=(0,f.useCallback)((function(){n({type:Lz,payload:""})}),[n]);return(0,f.useMemo)((function(){return{state:t,handleFilterChange:r,handleSearchTermChange:o,handleImmediateSearchTermChange:i,handleRequestSearchTermChange:a,handleClearSearch:c}}),[t,r,o,i,a,c])}var Dz=n(686819081979469),Rz=n(964773959100666),zz=n(0x60d3cdaf5f8d),Uz=function(){return qc("colors.primary",Qb)},Fz=(0,Ge.default)(zz.SearchField).attrs((function(e){return{"data-component-name":e["data-component-name"]?"SearchFieldStyled ".concat(e["data-component-name"]):"SearchFieldStyled"}})).withConfig({displayName:"search-field__SearchFieldStyled",componentId:"sc-16odf2c-0"})(["&:focus{border-color:",";box-shadow:0 0 0 0.0625rem ",";}"],Uz,Uz);const Hz=(0,f.memo)(Fz);var Vz=(0,Ge.default)(Ze).attrs((function(e){return{"data-component-name":e["data-component-name"]?"FilterMediaStockContainer ".concat(e["data-component-name"]):"FilterMediaStockContainer"}})).withConfig({displayName:"stock-media-container-style__FilterMediaStockContainer",componentId:"sc-127u5f-0"})(["padding-bottom:",";z-index:60;flex:none;&:empty{padding-bottom:0;}> *{margin-right:",";&:last-child:{margin-right:0;}}"],(0,We.rem)(16),(0,We.rem)(40)),Wz=((0,We.rem)(300),(0,We.rem)(40),Ge.default.input.attrs((function(e){return{"data-component-name":e["data-component-name"]?"SearchStockTermStyled ".concat(e["data-component-name"]):"SearchStockTermStyled"}})).withConfig({displayName:"stock-media-container-style__SearchStockTermStyled",componentId:"sc-127u5f-2"})(["flex:1;font-size:",";"],(0,We.rem)(14))),Gz=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"SearchStockWrapper ".concat(e["data-component-name"]):"SearchStockWrapper"}})).withConfig({displayName:"stock-media-container-style__SearchStockWrapper",componentId:"sc-127u5f-3"})(["box-sizing:border-box;display:flex;padding:0 ",";width:",";height:",";background-color:#fff;border:1px solid #b3bfc8;border-radius:",";","{border:none;&:focus{border-color:none;box-shadow:none;}}"],(0,We.rem)(15),(0,We.rem)(400),(0,We.rem)(40),(0,We.rem)(3),Wz),Yz=(0,Ge.default)(Ze).attrs((function(e){return{"data-component-name":e["data-component-name"]?"FilterDropdownRow ".concat(e["data-component-name"]):"FilterDropdownRow"}})).withConfig({displayName:"stock-media-container-style__FilterDropdownRow",componentId:"sc-127u5f-4"})(["padding:5px 10px;&:hover{background:rgb(246,247,248);}& > div{margin-right:",";&:last-child:{margin-right:0;}}transition:background 300ms ease-out;"],(0,We.rem)(8)),qz=(0,Ge.default)(Ze).attrs((function(e){return{"data-component-name":e["data-component-name"]?"SelectedFilter ".concat(e["data-component-name"]):"SelectedFilter"}})).withConfig({displayName:"stock-media-container-style__SelectedFilter",componentId:"sc-127u5f-5"})(["height:100%;min-width:",";font-weight:500;"],(0,We.rem)(75)),Zz=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"FixedBox ".concat(e["data-component-name"]):"FixedBox"}})).withConfig({displayName:"stock-media-container-style__FixedBox",componentId:"sc-127u5f-6"})(["width:",";height:",";line-height:",";"],(0,We.rem)(16),(0,We.rem)(16),(0,We.rem)(16)),Xz=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"StockSearchResultWrapper ".concat(e["data-component-name"]):"StockSearchResultWrapper"}})).withConfig({displayName:"stock-media-container-style__StockSearchResultWrapper",componentId:"sc-127u5f-8"})(["flex:1;"]),Kz=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"VideoStockSearchBanner ".concat(e["data-component-name"]):"VideoStockSearchBanner"}})).withConfig({displayName:"stock-media-container-style__VideoStockSearchBanner",componentId:"sc-127u5f-9"})(["height:",";padding-bottom:30px;@media screen and (max-width:","){height:",";}@media screen and (max-width:","){height:",";}"],(0,We.rem)(350),(0,We.rem)(768),(0,We.rem)(320),(0,We.rem)(640),(0,We.rem)(290)),Qz=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"StockSuggestionHeader ".concat(e["data-component-name"]):"StockSuggestionHeader"}})).withConfig({displayName:"stock-media-container-style__StockSuggestionHeader",componentId:"sc-127u5f-10"})(["font-size:36px;color:#fff;padding:0 30px;text-align:center;margin-bottom:30px;"]),$z=(0,Ge.default)(Rz.Header4).attrs((function(e){return{"data-component-name":e["data-component-name"]?"CategoryHeaderStyle ".concat(e["data-component-name"]):"CategoryHeaderStyle"}})).withConfig({displayName:"stock-media-container-style__CategoryHeaderStyle",componentId:"sc-127u5f-11"})(["margin-top:0;margin-bottom:20px;"]),Jz=(0,Ge.default)(Dz.CategoryCard).attrs((function(e){return{"data-component-name":e["data-component-name"]?"CategoryCardStyle ".concat(e["data-component-name"]):"CategoryCardStyle"}})).withConfig({displayName:"stock-media-container-style__CategoryCardStyle",componentId:"sc-127u5f-12"})(["box-shadow:none;div{font-weight:500;}&:hover{background:rgb(246,247,248);}"]),eU=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"CategoryListStyle ".concat(e["data-component-name"]):"CategoryListStyle"}})).withConfig({displayName:"stock-media-container-style__CategoryListStyle",componentId:"sc-127u5f-13"})(["flex:1;","{display:inline-block;width:calc(33.33% - ",");height:186px;margin-bottom:",";margin-right:",";}",":nth-child(3n){margin-right:0;}"],Jz,(0,We.rem)(20/3*2),(0,We.rem)(20),(0,We.rem)(20),Jz),tU=(0,Ge.default)(SR.Search).attrs((function(e){return{"data-component-name":e["data-component-name"]?"SearchIcon ".concat(e["data-component-name"]):"SearchIcon"}})).withConfig({displayName:"stock-media-container-style__SearchIcon",componentId:"sc-127u5f-14"})(["width:",";cursor:pointer;path{fill:#8498a4;}&:hover{path{fill:#1a2e3b;}}"],(0,We.rem)(24)),nU=(0,Ge.default)(NE).attrs((function(e){return{"data-component-name":e["data-component-name"]?"CategoriesLoadingSpinner ".concat(e["data-component-name"]):"CategoriesLoadingSpinner"}})).withConfig({displayName:"stock-media-container-style__CategoriesLoadingSpinner",componentId:"sc-127u5f-15"})(["margin:0 auto;"]),rU=(0,Ge.default)(tS.ArrowLeft).attrs((function(e){return{"data-component-name":e["data-component-name"]?"BackToCategories ".concat(e["data-component-name"]):"BackToCategories"}})).withConfig({displayName:"stock-media-container-style__BackToCategories",componentId:"sc-127u5f-16"})(["width:",";margin-right:",";cursor:pointer;&:hover{background:rgb(238,241,242);}"],(0,We.rem)(20),(0,We.rem)(20)),oU=(0,Ge.default)(Ov.DismissX).attrs((function(e){return{"data-component-name":e["data-component-name"]?"ClearSearchIcon ".concat(e["data-component-name"]):"ClearSearchIcon"}})).withConfig({displayName:"stock-media-container-style__ClearSearchIcon",componentId:"sc-127u5f-17"})(["height:100%;width:",";cursor:pointer;path{fill:#b3bfc8;}&:hover{path{fill:#1a2e3b;}}"],(0,We.rem)(13)),aU=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"VideoBackgroundOverlay ".concat(e["data-component-name"]):"VideoBackgroundOverlay"}})).withConfig({displayName:"stock-media-container-style__VideoBackgroundOverlay",componentId:"sc-127u5f-18"})(["position:absolute;z-index:0;height:100%;width:100%;background-color:rgba(0,0,0,0.3);"]),iU=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"MainSearchBanner ".concat(e["data-component-name"]):"MainSearchBanner"}})).withConfig({displayName:"stock-media-container-style__MainSearchBanner",componentId:"sc-127u5f-19"})(["","{height:",";position:absolute;top:",";left:20%;margin:0 auto;width:60%;border:none;border-radius:3px;@media screen and (max-width:","){top:",";}}","{position:absolute;top:-",";width:100%;}"],Gz,(0,We.rem)(50),(0,We.rem)(15),(0,We.rem)(1024),(0,We.rem)(48),Qz,(0,We.rem)(50)),cU=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"StockSuggestionVideoStyled ".concat(e["data-component-name"]):"StockSuggestionVideoStyled"}})).withConfig({displayName:"stock-media-container-style__StockSuggestionVideoStyled",componentId:"sc-127u5f-20"})(["width:100%;height:",";position:relative;overflow:hidden;display:flex;flex-direction:column;align-items:center;justify-content:center;border-radius:",";z-index:5;& > video{width:100%;position:absolute;left:50%;top:50%;min-width:100%;min-height:100%;transform:translate(-50%,-50%);z-index:-1;}","{position:relative;width:100%;}"],(function(e){return"variantB"===e.stockExperienceABTest?"auto":"100%"}),(0,We.rem)(5),iU),lU={top:(0,We.rem)(42),padding:"".concat((0,We.rem)(5)," ").concat((0,We.rem)(2)),border:"none"},sU={height:(0,We.rem)(30),width:(0,We.rem)(1),margin:"auto ".concat((0,We.rem)(15))};var uU=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"TimeContainer ".concat(e["data-component-name"]):"TimeContainer"}})).withConfig({displayName:"duration-timecomponent__TimeContainer",componentId:"u4vjx5-0"})(["background-color:rgba(0,0,0,0.7);color:#fff;border-radius:2px;text-align:center;width:48px;line-height:22px;letter-spacing:0.17px;vertical-align:middle;font-size:12px;"]);function dU(e){var t=e.time;return h().createElement(uU,{"data-component-name":"DurationTime"},function(e){var t=Math.floor(e/3600),n=Math.floor(e%3600/60),r=Math.floor(e)%60,o="";return t>0&&(o+=t+":"+(n<10?"0":"")),o+=n+":"+(r<10?"0":""),o+""+r}(t))}var mU=n(462306662805446),pU=n(0x72e8a54a8f85),fU=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"MediaStockContainer ".concat(e["data-component-name"]):"MediaStockContainer"}})).withConfig({displayName:"stock-search-style__MediaStockContainer",componentId:"sc-15qeh9-0"})(["width:",";height:",";margin-bottom:",";margin-left:",";"],(0,We.rem)(162),(0,We.rem)(160),(0,We.rem)(20),(0,We.rem)(16)),hU=(0,Ge.default)(pU.Header3).attrs((function(e){return{"data-component-name":e["data-component-name"]?"NoMediaFound ".concat(e["data-component-name"]):"NoMediaFound"}})).withConfig({displayName:"stock-search-style__NoMediaFound",componentId:"sc-15qeh9-1"})([""]),gU=(0,Ge.default)(mU.SearchEmptystate).attrs((function(e){return{"data-component-name":e["data-component-name"]?"EmptyStateSearchIcon ".concat(e["data-component-name"]):"EmptyStateSearchIcon"}})).withConfig({displayName:"stock-search-style__EmptyStateSearchIcon",componentId:"sc-15qeh9-2"})(["width:",";height:",";margin-bottom:",";"],(0,We.rem)(151),(0,We.rem)(70),(0,We.rem)(30)),yU=(0,Ge.default)(Xe).attrs((function(e){return{"data-component-name":e["data-component-name"]?"NoResultsWrapper ".concat(e["data-component-name"]):"NoResultsWrapper"}})).withConfig({displayName:"stock-search-style__NoResultsWrapper",componentId:"sc-15qeh9-3"})(["height:100%;padding-bottom:",";"],(0,We.rem)(48)),bU=(0,Ge.default)(Ze).attrs((function(e){return{"data-component-name":e["data-component-name"]?"VirtualizedRow ".concat(e["data-component-name"]):"VirtualizedRow"}})).withConfig({displayName:"stock-search-style__VirtualizedRow",componentId:"sc-15qeh9-4"})(["div:first-child{margin-left:0;}"]);function vU(e){return function(e){if(Array.isArray(e))return _U(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||SU(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function EU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?EU(Object(n),!0).forEach((function(t){AU(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EU(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function AU(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CU(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||SU(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function SU(e,t){if(e){if("string"==typeof e)return _U(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_U(e,t):void 0}}function _U(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var xU=S("SearchStockComponent"),IU=function(e){var t=e.searchTerms,n=e.type,r=e.allSelectedMediaIds,o=e.onSelectMedia,a=e.onExpandMedia,i=e.forwardRef,c=e.shouldRenderList,l=e.enabled,s=void 0===l||l,u=e.searchState,d=e.disableReason,m=(0,f.useRef)(null),p=(0,f.useRef)(null),g=(0,f.useRef)(1),y=CU((0,f.useState)({items:[],loading:!0}),2),b=y[0],v=y[1],E=(0,f.useCallback)((function(e,t){xU.log("onLoadMore Request",m.current),m.current||e.length<2||(xU.log("LoadMore Fetching more stock photos..."),v((function(e){return wU(wU({},e),{},{loading:!0})})),m.current=function(e,t,n){var r=Ht.CancelToken.source();return{promise:Ht.get("/api/video/media/browse/collection".concat(jt(Lt("p",e,{p:1}),Lt("keywords",t),Lt("search_type",n))),{cancelToken:r.token}).then((function(e){return e.data})).catch((function(e){throw e})),source:r}}(g.current,e,t),xU.log("onLoadMore Send request to fetch more photos",m.current),m.current.promise.then((function(n){var r,o,a=n.items,i=void 0===a?[]:a,c=n.items_count;xU.log("New Photos from API...",i),u?Zi({category_type:"stock"}):(r={tab:"stock",media_type:t,via:"search",keyword:e,num_items:i.length},o={name:Na,product:Si,location:wa,flow:fa.flow,version:2},Li(o=sa(sa({},r),o)),vi(oa,Na,sa({type:xi,location:wa},r))),g.current+=1,p.current=c,m.current=null,xU.log("Remove query ref",m.current),v((function(e){return{items:[].concat(vU(e.items),vU(i)),loading:!1}}))})).catch((function(e){Ht.isCancel(e)||(m.current=null,v((function(e){return wU(wU({},e),{},{loading:!1})})))})))}),[u]),w=(0,T.v9)((function(e){return e.userCapabilities.capabilities.hasStock})),A=w.allowed,C=w.tier,S=w.isUpsellBlocker,_=C||{},x=_.name,I=_.text;return(0,f.useEffect)((function(){return xU.log('Now Dependency States: "'.concat(t,'" "').concat(n,'"')),E(t,n),function(){xU.log("Cleaning up..."),xU.log("Previous request",m.current),xU.log('Previous Dependency States: "'.concat(t,'" "').concat(n,'"')),m.current&&(xU.log("Abort request",m.current),m.current.source.cancel(),m.current=null),p.current=null,g.current=1,v((function(){return{items:[],loading:!1}}))}}),[t,n,E]),b.loading&&0===b.items.length?h().createElement(Ze,{style:{marginLeft:"-16px"},wrap:"wrap","data-component-name":"StockMediaResultSearch"},FT(15,!1,!1,(0,We.rem)(160),(0,We.rem)(8),null,null,null,null,null,null,null,!0,!0)):b.loading||0!==b.items.length?(xU.log("Before Render Photos length",b.items.length),h().createElement(Xe,{"data-component-name":"StockMediaResultSearch"},h().createElement(kT,{forwardRef:i},(function(e){var i=e.height,l=e.isScrolling,u=e.registerChild,m=e.onChildScroll,f=e.scrollTop;return h().createElement(OT.qj,{disableHeight:!0},(function(e){var g=e.width,y=g?Math.floor((g+16)/176):1,v=Math.ceil(b.items.length/y);return c?h().createElement("div",{ref:u},h().createElement(OT.aV,{autoHeight:!0,height:i,isScrolling:l,onScroll:m,rowCount:v,rowHeight:180,overscanRowCount:3,rowRenderer:function(e){var i,c=e.index,l=e.key,u=e.style,m=[],f=c*y,g=Math.min(f+y,b.items.length);xU.log("Render Photos length",b.items.length,g),g===b.items.length&&p.current&&p.current>b.items.length&&(xU.log("Loading more by render list...",g),E(t,n));for(var v=function(e){var t,i=b.items[e],c=null;-1!==Jo.vsid&&(c=Jo.vsid),null!==c&&(c=c.toString()),m.push(h().createElement(fU,{key:t=i.id,"data-key":t,onClick:function(){A||r[i.id]||!(s||r[i.id]||S)?o(Object.assign({},i,{upl_origin:ea.GETTY})):zc.onSelectGetty({vsid:c,tier:x,upsellTitle:oe.stockUpsellTitle(I)}).then((function(){o(Object.assign({},i,{upl_origin:ea.GETTY}))})).catch((function(){S||o(Object.assign({},i,{upl_origin:ea.GETTY}))}))}},h().createElement(tO,{selected:r[i.id],checkMark:!0,enabled:s||!!r[i.id],disableReason:d},h().createElement(EB,{src:"video"===n?i.preview_url:null,imgPoster:i.thumbnail_url,delay:300,controls:[{display:vB,control:h().createElement($e,{key:2,"data-key":2,relativity:"absolute",top:"10px",right:"10px"},s||r[i.id]?h().createElement(oD,{onClick:function(e){e.stopPropagation(),i.upl_origin=ea.GETTY,a(i)}}):null)},"video"===n?{display:vB,control:h().createElement($e,{key:4,"data-key":4,relativity:"absolute",bottom:"5px",right:"5px"},h().createElement(dU,{time:i.duration}))}:null]}))))},w=f;w<g;w++)v(w);return h().createElement(bU,{key:i=l,"data-key":i,style:u,align:"center"},m)},scrollTop:f,width:g})):null}))})),b.loading&&b.items.length>0&&h().createElement("div",{style:{alignSelf:"center",padding:"30px"}},h().createElement(NE,{size:"md"})))):h().createElement(yU,{align:"center",justify:"center","data-component-name":"StockMediaResultSearch"},h().createElement(gU,null),h().createElement(hU,null,oe.MediaLibStockSearchNoMediaTitle(t)))};const TU=(0,f.memo)(IU);function OU(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return kU(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kU(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kU(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function MU(e){var t,n,r=e.filter,o=e.searchTerm,a=e.handleFilterChange,i=e.handleSearchTermChange,c=e.handleImmediateSearchTermChange,l=e.hasClear,s=(0,f.useCallback)((function(e){e.stopPropagation(),i(e.target.value)}),[i]),u=(0,f.useCallback)((function(e){""!==e.trim()&&c(e)}),[c]),d=(0,f.useMemo)((function(){return[{id:"video",text:oe.StockMediaContainerRadioFilterVideos},{id:"image",text:oe.StockMediaContainerRadioFilterImages}]}),[]),m=d.find((function(e){return e.id===r})).text||"",p=(0,f.useMemo)((function(){return h().createElement(qz,{align:"center",justify:"space-between","data-component-name":"SelectedFilterStock"},h().createElement(fv,null,m),h().createElement(GC,null))}),[m]),g=(0,f.useMemo)((function(){return d.map((function(e){return h().createElement(Yz,{align:"center",onClick:function(){return a(e.id)},role:"presentation"},h().createElement("div",null,e.id===r?h().createElement(Zz,null,h().createElement(aC,null)):h().createElement(Zz,null)),h().createElement(fv,null,e.text))}))}),[r,a,d]),y=(0,f.useMemo)((function(){return 0!==o.length?h().createElement(wL,{attachLocation:"top",text:oe.StockMediaContainerClearTooltip,"data-component-name":"ClearSearch"},h().createElement(oU,{onClick:function(){return i("")}})):null}),[i,o.length]),b=(t=u,n=(0,f.useRef)(),(0,f.useEffect)((function(){var e=function(e){if(13===e.keyCode){var n=e.target.value;e.preventDefault(),t(n)}};return n.current.addEventListener("keyup",e),function(){n.current.removeEventListener("keyup",e)}}),[t]),n);return h().createElement(Gz,{align:"center","data-component-name":"SearchStock"},h().createElement(Wz,{placeholder:oe.StockMediaContainerSearchPlaceholder,onChange:s,value:o,ref:b}),l?y:h().createElement(tU,{onClick:function(){return u(o)}}),h().createElement(WC,sU),h().createElement(mI,{selectItem:p,listItem:g,dropdownListStyle:lU}))}function BU(e){var t=e.filter,n=e.searchTerm,r=e.handleFilterChange,o=e.handleSearchTermChange,a=e.handleImmediateSearchTermChange,i=e.header,c=e.stockExperienceABTest;return h().createElement(cU,{stockExperienceABTest:c,"data-component-name":"StockSuggestionVideo"},h().createElement("video",{preload:"auto",src:"https://drrrhyhe9lfip.cloudfront.net/media/images/StockBackground_low159342976274.mp4",autoPlay:!0,loop:!0,draggable:!1}),h().createElement(aU,null),h().createElement(iU,null,h().createElement(Qz,null,i),h().createElement(MU,{filter:t,searchTerm:n,handleFilterChange:r,handleSearchTermChange:o,handleImmediateSearchTermChange:a})))}var jU=function(e){var t=e.allSelectedMediaIds,n=e.onExpandVideoModal,r=e.onClickSelectedMedia,o=e.forwardRef,a=e.renderStickyTop,i=e.shouldRenderList,c=e.stockExperienceABTest,l=e.enabled,s=void 0===l||l,u=e.maxSelection,d=OU((0,f.useState)(!1),2),m=d[0],p=d[1],g=OU((0,f.useState)(!1),2),y=g[0],b=g[1],v=OU(UO("/api/stock/category"),1)[0],E=qe(v,"data.categories",[]),w=Nz(),A=w.state,C=w.handleFilterChange,S=w.handleSearchTermChange,_=w.handleImmediateSearchTermChange,x=(0,f.useCallback)((function(){o.current&&(o.current.scrollTop=0)}),[o]),I=(0,f.useCallback)((function(){x(),p(!1)}),[x]),T=(0,f.useCallback)((function(e){b(!0),x(),p(!0),_(e)}),[_,x]),O=(0,f.useCallback)((function(e){b(!1),x(),p(!0),_(e)}),[_,x]),k=(0,f.useRef)(null),M=oe.ShopifyMediaContainerDynamicRemainingMediaCounter(u);return h().createElement(f.Fragment,null,a(),m?h().createElement(Vz,{align:"center"},h().createElement(rU,{onClick:I}),h().createElement(MU,{filter:A.filter,searchTerm:A.preRequestSearchTerm,handleFilterChange:C,handleSearchTermChange:S,handleImmediateSearchTermChange:_,hasClear:!0})):null,m?h().createElement(gj,{ref:k},h().createElement(Xz,null,h().createElement(TU,{searchTerms:A.requestSearchTerm,type:A.filter,allSelectedMediaIds:t,onSelectMedia:r,onExpandMedia:n,forwardRef:k,shouldRenderList:i,searchState:y,enabled:s,disableReason:M}))):h().createElement(gj,{ref:k},h().createElement(Kz,null,h().createElement(BU,{filter:A.filter,searchTerm:A.preRequestSearchTerm,handleFilterChange:C,handleSearchTermChange:S,handleImmediateSearchTermChange:O,header:oe.StockMediaHeaderSearchShortFix,stockExperienceABTest:c,enabled:s,disableReason:M})),h().createElement($z,null,oe.StockMediaPopularCategories),h().createElement(eU,null,v.isFetching?h().createElement(nU,{size:"xl"}):E.map((function(e){var t;return h().createElement(Jz,{key:t=e.name,"data-key":t,backgroundImageURL:e.thumb_url,onClick:function(){T(e.local_name)}},e.local_name)})))))};function LU(e){return(0,f.useMemo)((function(){return h().createElement(jU,e)}),[e])}const PU=(0,f.memo)(LU);const NU={isSafari:/constructor/i.test(window.HTMLElement)||"[object SafariRemoteNotification]"===(!window.safari||"undefined"!=typeof safari&&window.safari.pushNotification).toString()};var DU=function(e,t,n,r){var o=r||1,a=t||e.videoWidth,i=n||e.videoHeight,c=document.createElement("canvas"),l=c.getContext("2d");return c.width=a,c.height=i,l.drawImage(e,0,0,c.width,c.height),c.toDataURL("image/jpeg",o)},RU=function(e){return new Promise((function(t){var n=Lo(),r=e.type.split("/")[0],o=URL.createObjectURL(e);if(e.uploadId=n,e.id=n,e.upl_origin="browser",e.title=e.name,e.shortType=r,"image"===r||"photo"===r)return e.thumbnail_url=o,e.preview_url=null,e.allow_dup=!0,t(e);var a=document.createElement("video");a.addEventListener("error",(function(){var n=DU(a);e.thumbnail_url=n,e.preview_url=o,e.duration=0,t(e)})),a.src=NU.isSafari?"".concat(o):"".concat(o,"#t=0.5"),a.addEventListener("loadeddata",(function(){var n=a.duration,r=DU(a);e.thumbnail_url=r,e.preview_url=o,e.duration=n,t(e)}))}))};const zU=[".jpg",".jpeg",".bmp",".gif",".png",".mov",".webm",".mpg",".mpeg",".mp4",".avi",".tif",".mts"];var UU=(0,Ge.default)(Hk.ButtonFileUpload).attrs((function(e){return{"data-component-name":e["data-component-name"]?"ButtonFileUploadWithFonts ".concat(e["data-component-name"]):"ButtonFileUploadWithFonts"}})).withConfig({displayName:"upload-media-button-style__ButtonFileUploadWithFonts",componentId:"sc-1fyqo9v-0"})(["font-family:'Helvetica Neue',Helvetica,Arial,sans-serif;margin-top:",";margin-right:",";label{background-color:",";color:",";border-color:"," !important;@media screen and (max-width:","){min-width:",";padding:",";}}label:hover{background-color:",";color:",";border-color:"," !important;}&:focus-within div{border-color:"," !important;}label:focus > div{border-color:"," !important;}&.without-icon{label{background-color:",";color:",";border-color:"," !important;}label:hover{background-color:",";border-color:"," !important;}label span svg{display:none;}}"],(0,We.rem)(20),(function(e){return e.customRightMargin?e.customRightMargin:""}),(function(e){return qc("button.".concat(e.format,".backgroundColor"),Kb)}),(function(e){return qc("button.".concat(e.format,".color"),Jb)}),(function(e){return(0,We.rgba)(qc("button.".concat(e.format,".outlineColor"),tv),.6)}),(0,We.rem)(768),(function(e){return e.isSticky&&"0"}),(function(e){return e.isSticky&&" 0 ".concat((0,We.rem)(8))}),(function(e){return qc("button.".concat(e.format,".hoverBackgroundColor"),nv)}),(function(e){return qc("button.".concat(e.format,".color"),"#FFF")}),(function(e){return(0,We.rgba)(qc("button.".concat(e.format,".hoverBackgroundColor"),nv),.6)}),(function(e){return(0,We.rgba)(qc("button.".concat(e.format,".outlineColor"),Kb),.6)}),(function(e){return(0,We.rgba)(qc("button.".concat(e.format,".outlineColor"),Kb),.6)}),(function(e){return qc("button.".concat(e.format,".backgroundColor"),Kb)}),(function(e){return qc("button.".concat(e.format,".color"),Jb)}),(function(e){return(0,We.rgba)(qc("button.".concat(e.format,".outlineColor"),Kb),.6)}),(function(e){return qc("button.".concat(e.format,".hoverBackgroundColor"),av)}),(function(e){return(0,We.rgba)(qc("button.".concat(e.format,".hoverBackgroundColor"),av),.6)}));function FU(e){return function(e){if(Array.isArray(e))return WU(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||VU(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function HU(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||VU(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function VU(e,t){if(e){if("string"==typeof e)return WU(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?WU(e,t):void 0}}function WU(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function GU(e){var t=e.onClickSelectedMedia,n=e.format,r=void 0===n?"alternative":n,o=e.withoutIcon,a=e.id,i=void 0===a?"uploadButtonFileUploadMedia":a,c=e.isSticky,l=void 0!==c&&c,s=HU((0,f.useState)([]),2),u=s[0],d=s[1],m=HU((0,f.useState)(window.outerWidth>768||!l?oe.MediaLibraryContainerButtonUpload:""),2),p=m[0],g=m[1],y="variant"===xc.stickyTabsTest(),b=(0,T.v9)((function(e){return e.ui.mediaModalTabs})),v=(0,T.I0)();(0,f.useEffect)((function(){var e=function(){window.outerWidth<=768&&l?g(""):g(oe.MediaLibraryContainerButtonUpload)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[l]);var E=(0,f.useCallback)((function(){v(ic({selectedTab:VF.UPLOADS,currentTab:b.currentTab}))}),[v,b.currentTab]),w=(0,f.useCallback)((function(e){var n;n={num_items:e.target.files.length},Ei("click",ha,"upload_media_start",{num_items:n.num_items,location:wa,flow:ha});for(var r=[],o=0;o<e.target.files.length;o++)r.push(RU(e.target.files[o]));Promise.all(r).then((function(e){$().unstable_batchedUpdates((function(){d([].concat(FU(u),FU(e))),t(e),y&&E(),e.length>0&&zi({num_items:e.length}),u.length>0&&zi({num_items:u.length})}))})),e.target.value=""}),[y,E,u,t]);return h().createElement(UU,{className:o?"without-icon":"",withoutIcon:o,multiple:!0,label:p,id:i,format:r,accept:zU,onClick:function(){var e,t;t={name:La,product:Si,cta_type:"button",cta:"upload_files",location:wa,flow:fa.flow,version:3},Li(t=sa(sa({},e),t),!1),vi(oa,La,sa({type:xi,flow:fa.flow,cta_type:"button",cta:"upload_files",location:wa},e))},onChange:function(e){w(e)},customRightMargin:"".concat((0,We.rem)(5)),isSticky:l,"data-component-name":"ButtonFileUpload"})}const YU=function(e){return"down"===e.type?h().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16","data-component-name":"SortingArrowSVG"},h().createElement("g",{fill:"none",fillRule:"evenodd",stroke:"#1A2E3B",strokeWidth:"1.333"},h().createElement("path",{d:"M0 4L10.667 4",transform:"rotate(-90 8.667 4.667)"}),h().createElement("path",{strokeLinejoin:"round",d:"M0 0L4 4 0 8",transform:"rotate(-90 8.667 4.667) matrix(-1 0 0 1 4 0)"}))):h().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16","data-component-name":"SortingArrowSVG"},h().createElement("g",{fill:"none",fillRule:"evenodd",stroke:"#1A2E3B",strokeWidth:"1.333"},h().createElement("path",{d:"M0 4L10 4",transform:"rotate(90 4.333 7.667)"}),h().createElement("path",{strokeLinejoin:"round",d:"M0 0L4 4 0 8",transform:"rotate(90 4.333 7.667) matrix(-1 0 0 1 4 0)"})))};const qU=function(e){var t=e.className;return h().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"96",height:"96",viewBox:"0 0 96 96",className:t,"data-component-name":"VCUpload"},h().createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},h().createElement("g",{transform:"translate(-593 -341)"},h().createElement("g",{transform:"translate(593 341)"},h().createElement("g",{fill:"#E5F7FD",fillRule:"nonzero",className:"fillColor"},h().createElement("circle",{cx:"48",cy:"48",r:"48"})),h().createElement("g",{stroke:"#1A2E3B",strokeWidth:"3",transform:"translate(17.045 23.82)"},h().createElement("path",{fill:"#FFF",strokeLinecap:"square",d:"M52.523 20.578c.357-1.342.565-2.743.565-4.198 0-8.948-7.207-16.2-16.097-16.2-6.18 0-11.51 3.53-14.203 8.677-1.365-.816-2.936-1.313-4.638-1.313-5.052 0-9.146 4.12-9.146 9.205 0 1.332.295 2.59.8 3.733-5.073.52-9.03 4.83-9.03 10.073 0 5.591 4.503 10.125 10.06 10.125h40.242c5.557 0 10.06-4.534 10.06-10.125 0-5.093-3.75-9.267-8.613-9.977z"}),h().createElement("g",{transform:"translate(21.21 19.21)"},h().createElement("path",{strokeLinejoin:"round",d:"M10.244 1L10.244 27.707"}),h().createElement("path",{d:"M0.244360902 9.96992481L10.3005054 0.469924812 20.2443609 9.96992481"})))))))};var ZU=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"MediaStockContainer ".concat(e["data-component-name"]):"MediaStockContainer"}})).withConfig({displayName:"uploads-media-container-style__MediaStockContainer",componentId:"y3p0a0-0"})(["height:",";width:",";margin-bottom:",";margin-left:",";"],(0,We.rem)(200),(0,We.rem)(162),(0,We.rem)(24),(0,We.rem)(16)),XU=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"VideoThumbnailWrapper ".concat(e["data-component-name"]):"VideoThumbnailWrapper"}})).withConfig({displayName:"uploads-media-container-style__VideoThumbnailWrapper",componentId:"y3p0a0-1"})(["position:relative;width:100%;height:160px;"]),KU=(0,Ge.default)(fv).attrs((function(e){return{"data-component-name":e["data-component-name"]?"MediaName ".concat(e["data-component-name"]):"MediaName"}})).withConfig({displayName:"uploads-media-container-style__MediaName",componentId:"y3p0a0-2"})(["max-width:",";margin-top:",";display:inline-block;width:100%;"],(0,We.rem)(160),(0,We.rem)(8)),QU=(0,Ge.default)(sv).attrs((function(e){return{"data-component-name":e["data-component-name"]?"VideoTitle ".concat(e["data-component-name"]):"VideoTitle"}})).withConfig({displayName:"uploads-media-container-style__VideoTitle",componentId:"y3p0a0-3"})(["height:",";position:absolute;font-size:14px;font-style:normal;font-weight:500;line-height:12px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;width:160px;text-align:center;"],(0,We.rem)(15)),$U=(0,Ge.default)(Ze).attrs((function(e){return{"data-component-name":e["data-component-name"]?"MediaFiltersWrapper ".concat(e["data-component-name"]):"MediaFiltersWrapper"}})).withConfig({displayName:"uploads-media-container-style__MediaFiltersWrapper",componentId:"y3p0a0-4"})(["padding-bottom:",";z-index:60;flex:none;padding-right:",";"],(0,We.rem)(16),(0,We.rem)(6)),JU=(0,Ge.default)(Ze).attrs((function(e){return{"data-component-name":e["data-component-name"]?"SelectedFilter ".concat(e["data-component-name"]):"SelectedFilter"}})).withConfig({displayName:"uploads-media-container-style__SelectedFilter",componentId:"y3p0a0-5"})(["height:100%;padding:",";"],(0,We.rem)(12)),eF=(0,Ge.default)(fv).attrs((function(e){return{"data-component-name":e["data-component-name"]?"FilterDropdownRow ".concat(e["data-component-name"]):"FilterDropdownRow"}})).withConfig({displayName:"uploads-media-container-style__FilterDropdownRow",componentId:"y3p0a0-6"})(["padding:"," ",";&:hover{background-color:",";}"],(0,We.rem)(10),(0,We.rem)(16),(function(e){return qc("button.".concat(e.format,".color"),"#f6f7f8")})),tF=(0,Ge.default)(fv).attrs((function(e){return{"data-component-name":e["data-component-name"]?"NoUploadsFound ".concat(e["data-component-name"]):"NoUploadsFound"}})).withConfig({displayName:"uploads-media-container-style__NoUploadsFound",componentId:"y3p0a0-7"})(["margin-top:",";margin-bottom:",";font-size:",";font-weight:500;svg{display:block;margin:auto;margin-bottom:22px;}"],(0,We.rem)(112),(0,We.rem)(30),(0,We.rem)(16)),nF=(0,Ge.default)(qU).attrs((function(e){return{"data-component-name":e["data-component-name"]?"VCUploadSVG ".concat(e["data-component-name"]):"VCUploadSVG"}})).withConfig({displayName:"uploads-media-container-style__VCUploadSVG",componentId:"y3p0a0-8"})([".fillColor{fill:",";}"],(function(){return qc("mediaLibrary.emptyStateBackgroundSvg","#E5F7FD")})),rF=(0,Ge.default)(mI).attrs((function(e){return{"data-component-name":e["data-component-name"]?"UploadFilterBorder ".concat(e["data-component-name"]):"UploadFilterBorder"}})).withConfig({displayName:"uploads-media-container-style__UploadFilterBorder",componentId:"y3p0a0-9"})(["width:",";height:",";border-radius:",";border:solid "," #d0d8db;margin-right:",";"],(0,We.rem)(200),(0,We.rem)(40),(0,We.rem)(3),(0,We.rem)(1),(0,We.rem)(10)),oF=(0,Ge.default)(mI).attrs((function(e){return{"data-component-name":e["data-component-name"]?"UploadFilter ".concat(e["data-component-name"]):"UploadFilter"}})).withConfig({displayName:"uploads-media-container-style__UploadFilter",componentId:"y3p0a0-10"})(["margin-left:auto;height:",";padding-right:",";"],(0,We.rem)(40),(0,We.rem)(7)),aF=(0,Ge.default)(Xe).attrs((function(e){return{"data-component-name":e["data-component-name"]?"CaretDropDownSelector ".concat(e["data-component-name"]):"CaretDropDownSelector"}})).withConfig({displayName:"uploads-media-container-style__CaretDropDownSelector",componentId:"y3p0a0-11"})(["height:",";width:",";border-radius:5px;&:hover{background-color:rgb(238,241,242);}transition:0.4s all ease;"],(0,We.rem)(32),(0,We.rem)(32)),iF=(0,Ge.default)(Ze).attrs((function(e){return{"data-component-name":e["data-component-name"]?"VirtualizedRow ".concat(e["data-component-name"]):"VirtualizedRow"}})).withConfig({displayName:"uploads-media-container-style__VirtualizedRow",componentId:"y3p0a0-12"})(["div:first-child{margin-left:0;}"]),cF=(0,Ge.default)(zz.SearchField).attrs((function(e){return{"data-component-name":e["data-component-name"]?"SearchFieldWrapper ".concat(e["data-component-name"]):"SearchFieldWrapper"}})).withConfig({displayName:"uploads-media-container-style__SearchFieldWrapper",componentId:"y3p0a0-13"})(["width:300px;height:40px;border:solid 1px #b3bfc8;"]),lF=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"SortingTypeContainer ".concat(e["data-component-name"]):"SortingTypeContainer"}})).withConfig({displayName:"uploads-media-container-style__SortingTypeContainer",componentId:"y3p0a0-14"})([":hover{background-color:#eef1f2;border-radius:2px;}"]),sF=(0,Ge.default)(iF).attrs((function(e){return{"data-component-name":e["data-component-name"]?"VirtualizedRowStyled ".concat(e["data-component-name"]):"VirtualizedRowStyled"}})).withConfig({displayName:"uploads-media-container-style__VirtualizedRowStyled",componentId:"y3p0a0-15"})([":last-child{> div{margin-bottom:0;}}"]);(0,We.rem)(170);const uF=function(){return h().createElement("div",{style:{textAlign:"center",lineHeight:"40px"},"data-component-name":"VimeoVideoEmpty"},h().createElement(tF,null,oe.UploadsMediaContainerVimeoEmptyStateText1,h().createElement(mv,null,oe.UploadsMediaContainerVimeoEmptyStateText2)))};function dF(){return(dF=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function mF(e){return function(e){if(Array.isArray(e))return bF(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||yF(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pF(Object(n),!0).forEach((function(t){hF(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pF(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function hF(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gF(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||yF(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yF(e,t){if(e){if("string"==typeof e)return bF(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?bF(e,t):void 0}}function bF(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var vF=S("UploadContainer");function EF(e){var t=e.vsid,n=e.onUploadFileEnd,r=e.uploads,o=void 0===r?[]:r,a=e.allSelectedMediaIds,i=e.onClickSelectedMedia,c=e.renderStickyTop,l=e.onExpandVideoModal,s=e.shouldRenderList,u=e.enabled,d=void 0===u||u,m=e.renderUploadButton,p=e.maxSelection,g=(0,f.useMemo)((function(){return[{value:"-added_ts",label:oe.UploadsMediaContainerSortOptionsDateUploaded},{value:"-last_used_ts",label:oe.UploadsMediaContainerSortOptionsDateModified},{value:"-added_ts",label:oe.UploadsMediaContainerSortOptionsDateCreated}]}),[]),y=(0,f.useMemo)((function(){return[{value:"-modified_time",label:oe.UploadsMediaContainerVimeoSortOptionsDateModified},{value:"alphabetical",label:oe.UploadsMediaContainerVimeoSortOptionsAlphabetical},{value:"plays",label:oe.UploadsMediaContainerVimeoSortOptionsNumberOfPlays}]}),[]),b=(0,f.useMemo)((function(){return[{value:"All",label:oe.UploadsMediaContainerMediaTypeOptionsAll},{value:"photo",label:oe.UploadsMediaContainerMediaTypeOptionsPhotos},{value:"video",label:oe.UploadsMediaContainerMediaTypeOptionsVideos}]}),[]),v=(0,f.useMemo)((function(){return[{value:"All",label:oe.UploadsMediaContainerMediaTypeOptionsUploadedMedia},{value:"vimeo-videos",label:oe.UploadsMediaContainerVimeoVideos}]}),[]),E=(0,f.useMemo)((function(){return[{value:"All",label:oe.UploadsMediaContainerOrientationsOptionsAll},{value:"portrait",label:oe.UploadsMediaContainerOrientationsOptionsPortrait},{value:"landscape",label:oe.UploadsMediaContainerOrientationsOptionsLandscape},{value:"square",label:oe.UploadsMediaContainerOrientationsOptionsSquare}]}),[]),w=(0,T.v9)((function(e){return Ye(e,"featureToggles.values.vimeoUploadsSearchBar")})),A=(0,T.v9)((function(e){return Ye(e,"featureToggles.values.hideVimeoSourceOption")})),C=(0,f.useRef)(null),S=(0,f.useRef)(!0),_=(0,f.useRef)(1),x=(0,f.useRef)(o.length),I=gF((0,f.useState)({items:[],loading:!1}),2),O=I[0],k=I[1],M=(0,T.v9)((function(e){return e.ui.mediaModalTabs})),B="variant"===xc.stickyTabsTest(),j=(0,f.useCallback)((function(){var e=v.filter((function(e){return e.value===M.uploadsTabSelectedDropdown}));return e.length>0?e[0]:null}),[v,M.uploadsTabSelectedDropdown]),L=gF((0,f.useState)({type:b[0],source:B&&j()||v[0],orientations:E[0],sort:g[0]}),2),P=L[0],N=L[1],D=P.type,R=P.source,z=P.orientations,U=P.sort,F=(0,f.useCallback)((function(e,t){N((function(n){return fF(fF({},n),{},hF({},t,e))}))}),[]),H=gF((0,f.useState)(""),2),V=H[0],W=H[1],G=DR(V,500),Y=(0,f.useCallback)((function(e){e.stopPropagation(),W(e.target.value)}),[W]),q=gF((0,f.useState)("down"),2),Z=q[0],X=q[1],K=gF((0,f.useState)({media:!1,orientation:!1,date:!1}),2),Q=K[0],J=K[1],ee=(0,f.useCallback)((function(e,n,r,o,a){C.current||(k((function(e){return fF(fF({},e),{},{loading:!0})})),C.current=function(e,t,n,r,o,a,i){var c=Ht.CancelToken.source();return"vimeo-videos"===r.value?{promise:Ht.get("/api/vimeo/videos".concat(jt(Lt("page",t,{page:1}),Lt("query",i),Lt("sort",a.value))),{cancelToken:c.token}).then((function(e){return e.data})).catch((function(e){return vF.error("Error while fetching Vimeo videos...",e),e.response})),source:c}:{promise:Ht.get("/api/video/media/browse/user".concat(jt(Lt("vsid",e),Lt("p",t,{p:1}),Lt("limit",100),Lt("is_image",n.value),Lt("service",r.value),Lt("orientation","All"!==o.value&&o.value),Lt("sorting",a.value))),{cancelToken:c.token}).then((function(e){return e.data})).catch((function(e){throw vF.info("Error fetch more uploads..."),vF.table(e),e})),source:c}}(t,_.current,e,n,r,o,a),C.current.promise.then((function(e){var t=e.items,n=void 0===t?[]:t;vF.log("Uploads from API...",n),_.current+=1,!1===e.has_next&&(S.current=!1),0===n.length&&(S.current=!1),C.current=null,k((function(e){return{items:[].concat(mF(e.items),mF(n)),loading:!1}}))})).catch((function(e){Ht.isCancel(e)||(C.current=null,k((function(e){return fF(fF({},e),{},{loading:!1})})))})))}),[t]);(0,f.useEffect)((function(){o.length<=x.current||"All"===R.value||(x.current=o.length,$().unstable_batchedUpdates((function(){F(v[0],"source"),F(g[0],"sort")})))}),[o.length,F,v,g,R.value]),(0,f.useEffect)((function(){return ee(D,R,z,U,G),function(){C.current&&(vF.log("Abort request",C.current),C.current.source.cancel(),C.current=null),S.current=!0,_.current=1,k((function(){return{items:[],loading:!1}}))}}),[z,U,R,D,ee,G]);var te=(0,f.useCallback)((function(e){a[e.id]&&i(e),e.mhash?(Jo.remove_medialib_file(e.id),k((function(t){return fF(fF({},t),{},{items:t.items.filter((function(t){return t.id!==e.id}))})}))):(window.URL.revokeObjectURL(e.preview_url||e.thumbnail_url),n(e))}),[a,i,n]),ne=(0,f.useMemo)((function(){return b.map((function(e){var t;return h().createElement(eF,{key:t=e.value,"data-key":t,onClick:function(){P.type!==e&&F(e,"type")},role:"presentation"},e.label)}))}),[F,P,b]),re=(0,f.useMemo)((function(){return h().createElement(JU,{align:"center",justify:"space-between","data-component-name":"SelectedMediaType"},h().createElement(fv,null,P.type.label),Q.media?h().createElement(YC,null):h().createElement(GC,null))}),[P.type.label,Q.media]),ae=(0,T.I0)(),ie=(0,f.useMemo)((function(){return v.map((function(e){var t;return h().createElement(eF,{key:t=e.value,"data-key":t,onClick:function(){var t,n;P.source!==e&&(B&&ae(cc(e.value)),"vimeo-videos"===e.value?F(y[0],"sort"):F(g[0],"sort"),t={upload_origin:e.value},n={name:ri,product:Si,flow:fa.flow,location:va,version:2},Li(n=sa(sa({},t),n)),vi(oa,ri,sa({type:xi,flow:fa.flow,location:va},t)),F(e,"source"))},role:"presentation"},e.label)}))}),[F,P,v,g,y]),ce=(0,f.useMemo)((function(){return h().createElement(JU,{align:"center",justify:"space-between","data-component-name":"SelectedSourceType"},h().createElement(fv,null,P.source.label),h().createElement(GC,null))}),[P]),le=(0,f.useMemo)((function(){return E.map((function(e){var t;return h().createElement(eF,{key:t=e.value,"data-key":t,onClick:function(){P.orientations!==e&&F(e,"orientations")},role:"presentation"},e.label)}))}),[F,P,E]),se=(0,f.useMemo)((function(){return h().createElement(JU,{align:"center",justify:"space-between","data-component-name":"SelectedOrientationType"},h().createElement(fv,null,P.orientations.label),Q.orientation?h().createElement(YC,null):h().createElement(GC,null))}),[P.orientations.label,Q.orientation]),ue=(0,f.useMemo)((function(){return g.map((function(e){var t;return h().createElement(eF,{key:t=e.value,"data-key":t,onClick:function(){P.sort!==e&&F(e,"sort")},role:"presentation"},e.label)}))}),[F,P,g]),de=(0,f.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y[0];return h().createElement(JU,{align:"center","data-component-name":"selectedVimeoSortItem"},h().createElement(fv,null,e.label),h().createElement(aF,{align:"center",justify:"center"},h().createElement(GC,null)))}),[y]),me=gF((0,f.useState)(de()),2),pe=me[0],fe=me[1],he=(0,f.useMemo)((function(){return y.map((function(e){var t;return h().createElement(eF,{key:t=e.value,"data-key":t,onClick:function(){P.sort!==e&&(X("down"),fe(de(e)),F(e,"sort"))},role:"presentation"},e.label)}))}),[F,P,y,de]),ge=(0,f.useMemo)((function(){return h().createElement(JU,{align:"center","data-component-name":"SelectedSortByType"},h().createElement(fv,null,P.sort.label),h().createElement(aF,{align:"center",justify:"center"},Q.date?h().createElement(YC,null):h().createElement(GC,null)))}),[P.sort.label,Q.date]),ye=(0,f.useRef)(null);return h().createElement(f.Fragment,null,c(),h().createElement($U,{align:"center"},A?null:h().createElement(rF,{dropdownListStyle:{top:(0,We.rem)(41),width:"100%"},selectItem:ce,listItem:ie}),"vimeo-videos"!==P.source.value?h().createElement(rF,{onOpenDropDown:function(e){var t,n;e&&(n={name:ni,product:Si,flow:fa.flow,location:va,version:2},Li(n=sa(sa({},t),n)),vi(oa,ni,sa({type:xi,flow:fa.flow,location:va},t))),J((function(t){return fF(fF({},t),{},{media:e})}))},dropdownListStyle:{top:(0,We.rem)(41),width:"100%"},selectItem:re,listItem:ne}):null,"vimeo-videos"===P.source.value?w?h().createElement(cF,{onChange:Y,placeholder:oe.StockMediaContainerVimeoVideosSearchPlaceholder,value:V}):null:h().createElement(rF,{onOpenDropDown:function(e){J((function(t){return fF(fF({},t),{},{orientation:e})}))},dropdownListStyle:{top:(0,We.rem)(41),width:"100%"},selectItem:se,listItem:le}),"vimeo-videos"!==P.source.value?h().createElement(oF,{onOpenDropDown:function(e){J((function(t){return fF(fF({},t),{},{date:e})}))},dropdownListStyle:{right:(0,We.rem)(15),width:"auto"},selectItem:ge,listItem:ue}):h().createElement(oF,{dropdownListStyle:{right:(0,We.rem)(15),width:"auto"},selectItem:pe,listItem:he}),"vimeo-videos"===P.source.value?h().createElement(lF,{onClick:function(){X("down"===Z?"up":"down"),F(fF(fF({},y[0]),{},{value:"down"===Z?P.sort.value.replace("-",""):"-".concat(P.sort.value.replace("-",""))}),"sort")}},h().createElement(YU,{type:Z})):null),h().createElement(gj,{ref:ye},function(){if(O.loading&&0===O.items.length)return h().createElement(Ze,{style:{marginLeft:(0,We.rem)(-16)},wrap:"wrap","data-component-name":"renderVirtualMyUploads"},FT(15,!1,!0,(0,We.rem)(160),(0,We.rem)(8),(0,We.rem)(16),null,null,null,null,null,null,!0,!0));var e="vimeo-videos"===R.value?0:o.length;return O.loading||0!==O.items.length||0!==e?h().createElement(Xe,{"data-component-name":"renderVirtualMyUploads"},h().createElement(kT,{forwardRef:ye},(function(e){var t=e.height,n=e.isScrolling,r=e.registerChild,c=e.onChildScroll,u=e.scrollTop;return h().createElement(OT.qj,{disableHeight:!0},(function(e){var m=e.width,f=m?Math.floor((m+16)/176):1,g="vimeo-videos"===R.value?0:o.length,y=Math.ceil((O.items.length+g)/f);return s?h().createElement("div",{ref:r},h().createElement(OT.aV,{autoHeight:!0,height:t,isScrolling:n,onScroll:c,rowCount:y,rowHeight:224,overscanRowCount:3,rowRenderer:function(e){var t,n=e.index,r=e.key,c=e.style,s=[],u=n*f,m=Math.min(u+f,O.items.length+g);m===O.items.length&&S.current&&ee(D,R,z,U);for(var y="vimeo-videos"===R.value?[]:o,b=[].concat(mF(y),mF(O.items)),v=oe.ShopifyMediaContainerDynamicRemainingMediaCounter(p),E=function(e){var t,n=b[e],r=n.id,o=n.preview_url,c=n.thumbnail_url,u=n.title,m=n.duration;s.push(h().createElement(ZU,{key:t=r,"data-key":t,onClick:function(){(d||a[r])&&(n instanceof File?i(n):i(Object.assign(n,{upl_origin:n.upl_origin?n.upl_origin:ea.MEDIALIB})))}},h().createElement(XU,null,h().createElement(tO,{selected:a[r],checkMark:!0,enabled:d||!!a[r],disableReason:v},h().createElement(EB,{src:o,imgPoster:c,delay:300,controls:[{display:vB,control:h().createElement($e,{key:2,"data-key":2,relativity:"absolute",top:"10px",right:"10px"},d||a[r]?h().createElement(oD,{onClick:function(e){e.stopPropagation(),n instanceof File?l(n):l(Object.assign(n,{upl_origin:n.upl_origin?n.upl_origin:ea.MEDIALIB}))}}):null)},"vimeo-videos"!==P.source.value?{display:vB,control:h().createElement($e,{key:3,"data-key":3,relativity:"absolute",top:"10px",right:"50px",zIndex:"2"},d||a[r]?h().createElement(uM,{onClick:function(e){e.stopPropagation(),te(n)}}):null)}:null,o?{display:bB,control:h().createElement($e,{key:4,"data-key":4,relativity:"absolute",bottom:"5px",right:"5px"},h().createElement(dU,{time:m}))}:null]}))),h().createElement(KU,null,h().createElement(wL,{attachLocation:"top",multiLine:!0,text:u,showTooltip:u&&u.length>25},h().createElement(QU,null,u)))))},w=u;w<m;w++)E(w);return h().createElement(sF,{key:t=r,"data-key":t,style:c,align:"center"},s)},scrollTop:u,width:m})):null}))})),O.loading&&O.items.length>0&&h().createElement("div",{style:{alignSelf:"center",padding:"30px"}},h().createElement(NE,{size:"md"}))):"vimeo-videos"===R.value?h().createElement(uF,{"data-component-name":"renderVirtualMyUploads"}):h().createElement(eR,{icon:h().createElement(nF,null),title:oe.UploadsMediaContainerEmptyStateText3,"data-component-name":"renderVirtualMyUploads"},m("uploadButton"))}()))}var wF=function(e){return h().createElement(EF,dF({},e,{"data-component-name":"UploadsMediaContainer","data-key":e["data-key"]}))},AF=(0,Ge.default)(Xe).attrs((function(e){return{"data-component-name":e["data-component-name"]?"LoadingContainer ".concat(e["data-component-name"]):"LoadingContainer"}})).withConfig({displayName:"style__LoadingContainer",componentId:"sc-1cnx3n7-0"})(["height:100%;flex-basis:auto;"]),CF=(0,Ge.default)(Ze).attrs((function(e){return{"data-component-name":e["data-component-name"]?"VirtualizedRow ".concat(e["data-component-name"]):"VirtualizedRow"}})).withConfig({displayName:"style__VirtualizedRow",componentId:"sc-1cnx3n7-1"})(["div:first-child{margin-left:0;}"]),SF=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"AssetItem ".concat(e["data-component-name"]):"AssetItem"}})).withConfig({displayName:"style__AssetItem",componentId:"sc-1cnx3n7-2"})(["height:",";width:",";margin-bottom:",";margin-left:",";"],(0,We.rem)(160),(0,We.rem)(162),(0,We.rem)(35),(0,We.rem)(16)),_F=(0,Ge.default)(fv).attrs((function(e){return{"data-component-name":e["data-component-name"]?"AssetItemTitle ".concat(e["data-component-name"]):"AssetItemTitle"}})).withConfig({displayName:"style__AssetItemTitle",componentId:"sc-1cnx3n7-3"})(["max-width:",";margin-top:",";font-size:",";"],(0,We.rem)(200),(0,We.rem)(8),(0,We.rem)(14)),xF=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"PhotoNameOverlay ".concat(e["data-component-name"]):"PhotoNameOverlay"}})).withConfig({displayName:"style__PhotoNameOverlay",componentId:"sc-1cnx3n7-4"})(["display:inline-block;width:100%;"]),IF=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"PhotoNameText ".concat(e["data-component-name"]):"PhotoNameText"}})).withConfig({displayName:"style__PhotoNameText",componentId:"sc-1cnx3n7-5"})(["position:absolute;font-size:",";font-style:normal;font-weight:500;line-height:",";white-space:nowrap;overflow:hidden;text-overflow:ellipsis;width:",";height:",";text-align:center;"],(0,We.rem)(14),(0,We.rem)(12),(0,We.rem)(160),(0,We.rem)(20));function TF(e){var t=e.shouldRenderList,n=e.dataLength,r=e.forwardRef,o=e.rowRenderer,a=e.isLoadingMore;return h().createElement(Xe,{"data-component-name":"WidgetPartnerViewer"},h().createElement(kT,{forwardRef:r},(function(e){var r=e.height,a=e.isScrolling,i=e.registerChild,c=e.onChildScroll,l=e.scrollTop;return h().createElement(OT.qj,{disableHeight:!0},(function(e){var s=e.width,u=s?Math.floor((s+160)/175):1,d=Math.ceil(n/u);return t?h().createElement("div",{ref:i},h().createElement(OT.aV,{autoHeight:!0,height:r,isScrolling:a,onScroll:c,rowCount:d,rowHeight:210,overscanRowCount:3,rowRenderer:function(e){return o(u,e)},scrollTop:l,width:s})):null}))})),a&&h().createElement("div",{style:{alignSelf:"center",padding:"30px"}},h().createElement(NE,{size:"md"})))}const OF=h().memo(TF);function kF(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return MF(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MF(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function MF(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function BF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?BF(Object(n),!0).forEach((function(t){LF(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BF(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function LF(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PF(){return h().createElement(AF,{flex:"1",align:"center",justify:"center","data-component-name":"LoadingView"},h().createElement(NE,{size:"xl"}))}function NF(e){var t=e.shouldRenderList,n=e.renderStickyTop,r=e.allSelectedMediaIds,o=e.maxSelection,a=e.onClickSelectedMedia,i=(0,f.useRef)(null),c=kF((0,f.useState)(!0),2),l=c[0],s=c[1],u=kF((0,f.useState)([]),2),d=u[0],m=u[1],p=(0,T.v9)((function(e){return e.partnerConfig})),g=(0,f.useCallback)((function(e){var t;a((t=jF(jF({},e),{},{partnerName:null==p?void 0:p.name}),jF(jF({},t),{},{download_url:t.source,thumbnail_url:t.thumbnail,upl_origin:ea.WIDGET_PARTNER,type:"image"})))}),[a,p]),y=(0,f.useCallback)((function(e,t){for(var n,a=t.index,i=t.key,c=t.style,l=[],s=a*e,u=Math.min(s+e,d.length),m=function(e){var t,n=d[e];l.push(h().createElement(SF,{key:t=n.id,"data-key":t,onClick:function(){g(n)}},h().createElement(tO,{selected:r[n.id],checkMark:!0,enabled:!0,maxSelection:o,allSelectedMediaIds:r,title:n.title},n.thumbnail&&h().createElement(EB,{borderRadius:(0,We.rem)(8),imgPoster:n.source})),h().createElement(_F,null,h().createElement(xF,null,h().createElement(wL,{attachLocation:"top",multiLine:!0,text:n.title,showTooltip:n.title},h().createElement(IF,null,n.title))))))},p=s;p<u;p+=1)m(p);return h().createElement(CF,{key:n=i,"data-key":n,style:c,align:"center","data-component-name":"rowRenderer"},l)}),[d,r,g,o]);(0,f.useEffect)((function(){p.getPartnerAssets(1).then((function(e){m(e),s(!1)}))}),[p]);var b=(0,f.useCallback)((function(){return l?h().createElement(PF,{"data-component-name":"renderPreviewContent"}):d.length?h().createElement(OF,{shouldRenderList:t,forwardRef:i,dataLength:d.length,rowRenderer:y,"data-component-name":"renderPreviewContent"}):h().createElement(eR,{icon:h().createElement(FD,null),title:oe.MediaContainerNoMediaHeader("the product"),text1:oe.MediaContainerNoProductsText1,"data-component-name":"renderPreviewContent"})}),[l,d.length,t,y]);return h().createElement(h().Fragment,null,n(),h().createElement(gj,{ref:i},b()))}const DF=h().memo(NF);var RF,zF;function UF(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return FF(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FF(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function FF(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function HF(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var VF={STOCK:"stock",GOOGLE:"google",UPLOADS:"uploads",SHOPIFY:"shopify",VIDEO_SESSION_UPLOADS:"video-session-uploads",WIDGET_PARTNER:"widget-partner"},WF=[VF.SHOPIFY,VF.STOCK,VF.GOOGLE,VF.UPLOADS,VF.VIDEO_SESSION_UPLOADS,VF.WIDGET_PARTNER],GF=(HF(RF={},VF.SHOPIFY,"MediaLibraryContainerTabListShopifyLibrary"),HF(RF,VF.STOCK,"MediaLibraryContainerTabListStockLibrary"),HF(RF,VF.GOOGLE,"MediaLibraryContainerTabListGooglePhotos"),HF(RF,VF.UPLOADS,"MediaLibraryContainerTabListUploads"),HF(RF,VF.VIDEO_SESSION_UPLOADS,"MediaLibraryContainerTabListVideoSessionUploads"),RF),YF=(HF(zF={},VF.SHOPIFY,Cz),HF(zF,VF.STOCK,PU),HF(zF,VF.GOOGLE,(function(e){var t=e.allSelectedMediaIds,n=e.onClickSelectedMedia,r=e.forwardRef,o=e.renderStickyTop,a=e.shouldRenderList,i=e.onExpandVideoModal,c=e.enabled,l=void 0===c||c,s=BD((0,f.useState)(!1),2),u=s[0],d=s[1],m=BD((0,f.useState)(!1),2),p=m[0],g=m[1],y=BD((0,f.useState)({}),2),b=y[0],v=y[1],E=BD((0,f.useState)(!1),2),w=E[0],A=E[1];(0,f.useEffect)((function(){var e=Ot.get("googleApiKey"),t=Ot.get("googleClientId"),n=jo.create({apiKey:e,clientId:t,scope:"profile email https://www.googleapis.com/auth/photoslibrary.readonly"});n.init().then((function(e){d(!0),v(e.userDetails),g(e.isSignedIn),A(!1),Jo.setGTokenExpiration(e.userDetails.auth.expires_in)})).catch((function(){}));var r=n.subscribe("AUTH_CHANGE",(function(e){var t=e.isAuthenticated,n=e.userDetails;v(n),g(t)})),o=n.subscribe("USER_CHANGE",(function(e){v(e)}));return function(){r.off(),o.off()}}),[]);var C=(0,f.useCallback)((function(){jo.create().login()}),[]),S=(0,f.useCallback)((function(){jo.create().logout()}),[]),_=(0,f.useCallback)((function(){jo.create().changeAccount()}),[]),x=(0,f.useCallback)((function(){u?C():A(!0)}),[u,C]);return(0,f.useEffect)((function(){u&&w&&C()}),[u,w,C]),h().createElement(f.Fragment,null,p&&b.auth?h().createElement(MD,{userDetails:b,onDisconnect:S,onClickSelectedMedia:n,allSelectedMediaIds:t,onChangeAccount:_,forwardRef:r,renderStickyTop:o,shouldRenderList:a,onExpandMedia:i,enabled:l}):h().createElement(LD,{justify:"center"},o(),h().createElement(tD,{googleLoaded:u,isConnecting:w,onConnectLoaded:x})))})),HF(zF,VF.UPLOADS,wF),HF(zF,VF.VIDEO_SESSION_UPLOADS,wF),HF(zF,VF.WIDGET_PARTNER,DF),zF);const qF=function(e){var t=e.vsid,n=e.onExpandVideoModal,r=e.onClickSelectedMedia,o=e.allSelectedMediaIds,a=e.renderHeader,i=e.trackLocation,c=void 0===i?"media_screen":i,l=e.defaultTab,s=void 0===l?VF.STOCK:l,u=e.enabled,d=void 0===u||u,m=e.shopifyContext,p=e.maxSelection,g=(0,T.I0)(),y=(0,T.v9)((function(e){return e.partnerConfig})),b=(0,T.v9)((function(e){return e.featureToggles.values.mediaLibraryPrimaryTab})),v=(0,T.v9)((function(e){return e.ui.mediaModalTabs})),E=(0,T.v9)((function(e){return e.userCapabilities.capabilities.hasStock})).isVisible,w="variant"===xc.stickyTabsTest()&&b!==VF.SHOPIFY,A=(0,T.v9)((function(e){return e.featureToggles.values.mediaLibraryTabs})),C=(0,T.v9)((function(e){var t=e.featureToggles,n=v.tabList.filter((function(e){return e!==VF.STOCK}));return E?w?v.tabList:t.values.mediaLibraryTabs||WF:n})),S=(0,T.v9)((function(e){var t=e.featureToggles;return w&&v&&v.selectedTab?v.selectedTab:WF.includes(t.values.mediaLibraryPrimaryTab)?t.values.mediaLibraryPrimaryTab:s})),_=(0,f.useCallback)((function(e){return w&&e===VF.VIDEO_SESSION_UPLOADS?VF.UPLOADS:e}),[w]),x=(0,f.useCallback)((function(e){return w&&e===VF.UPLOADS&&A.includes(VF.VIDEO_SESSION_UPLOADS)?GF[VF.VIDEO_SESSION_UPLOADS]:e===VF.WIDGET_PARTNER?"MediaLibraryContainerTabList".concat(y.name):GF[e]}),[A,w,y.name]),I=(0,f.useMemo)((function(){return C.map((function(e){return{id:_(e),label:oe[x(e)]}}))}),[_,x,C]),O=(0,f.useRef)(null),k=UF((0,f.useState)(S),2),M=k[0],B=k[1],j=UF((0,f.useState)([]),2),L=j[0],P=j[1],N=(0,f.useCallback)((function(e){var t,n;e!==M&&(O.current.scrollTop=0,B(e),w&&g(ic({selectedTab:v.selectedTab,currentTab:e})),e!==M&&("stock"===e?(n={name:Pa,product:Si,tab:"stock",location:wa,flow:fa.flow,version:4},Li(n=sa(sa({},t),n)),vi(oa,Pa,sa({type:xi,location:wa},t))):"uploads"===e?function(e){var t={name:Ra,product:Si,tab:"google_photos",location:wa,flow:fa.flow,version:4};Li(t=sa(sa({},e),t)),vi(oa,Ra,sa({type:xi,location:wa,tab:"uploads"},e))}():"google"===e&&function(e){var t={name:Da,product:Si,tab:"google_photos",location:wa,flow:fa.flow,version:4};Li(t=sa(sa({},e),t)),vi(oa,Da,sa({type:xi,location:wa,tab:"google_photos"},e))}()))}),[M,g,w,v.selectedTab]),D=(0,f.useCallback)((function(e){var t=L.filter((function(t){return t.id!==e.id}));P(t)}),[L,P]),R=(0,f.useCallback)((function(e){return h().createElement(GU,{onClickSelectedMedia:r,format:"primary",withoutIcon:!0,id:e,"data-component-name":"renderUploadButton"})}),[r]),z=(0,f.useCallback)((function(){return h().createElement(zD,{align:"center","data-component-name":"renderTabs"},h().createElement(ND,{tabList:I,theme:"primary",activeTab:M,onPropagateTabSelected:N,trackLocation:c,renderUploadButton:R}),d?h().createElement(GU,{onClickSelectedMedia:r,isSticky:!0}):null)}),[I,M,N,c,R,d,r]);(0,f.useEffect)((function(){var e,t;e={via:c,current_tab:M,layout_id:null},t={name:Ba,product:Si,location:wa,flow:fa.flow,type:_i,version:7},Li(t=sa(sa({},e),t)),vi(oa,Ba,sa({type:_i,location:wa},t)),vi("braze","trigger_footage_screen",sa({flow:"wizard"},e))}),[M,c]);var U=(0,T.v9)((function(e){return e.ui.teamOwnerId}));return h().createElement(PD,{ref:O,"data-component-name":"MediaLibraryContainer"},a(),h().createElement(UD,{className:"sticky-boundary"},I.map((function(e){var a,i=e.id,c=YF[i];return h().createElement(DD,{value:M,index:i,key:a=i,"data-key":a,flex:!0,direction:"column"},h().createElement(c,{vsid:t,renderStickyTop:z,renderUploadButton:R,onExpandVideoModal:n,onClickSelectedMedia:r,allSelectedMediaIds:o,forwardRef:O,shouldRenderList:M===i,uploads:L,onUploadFileEnd:D,enabled:d,shopifyContext:m,maxSelection:p,teamOwnerId:U}))}))))};function ZF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function XF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ZF(Object(n),!0).forEach((function(t){KF(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZF(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function KF(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QF(e){return function(e){if(Array.isArray(e))return eH(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||JF(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $F(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||JF(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function JF(e,t){if(e){if("string"==typeof e)return eH(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?eH(e,t):void 0}}function eH(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var tH={bottom:"107px","z-index":"9"},nH=function(){return null};function rH(e){var t=e.media,n=e.onRemoveMedia,r=e.singleSelection,o=void 0!==r&&r,a=$F(xA(),3),i=a[1],c=a[2],l=(0,T.v9)((function(e){return e.userCapabilities.capabilities.hasStock})),s=l.allowed,u=l.showBadge,d=l.tier||{},m=d.text,p=d.name,f=h().memo((function(){return h().createElement(hj,{"data-component-name":"FloatingProLabel"},h().createElement(_k,{labelText:m,tier:p,capabilityName:"stock",pageLocation:Ak,onClick:function(){Pi({location:Ak,pro_feature:"stock",plan:p})}}))}));return h().createElement(mj,{ref:i,"data-component-name":"SelectedMediaBox"},t.upl_origin===ea.GETTY&&!s&&u?h().createElement(f,null):null,h().createElement(oC,{src:t.thumbnail_url,mode:"stretch"}),!c||void 0!==o&&!1!==o?null:h().createElement(pj,null,h().createElement(oH,{onClick:function(){n(t)}})))}function oH(e){var t=e.onClick,n=void 0===t?function(){}:t;return h().createElement(fj,{onClick:n,"data-component-name":"TrashRemoveMediaBox"},h().createElement(Qe,null,h().createElement(qN,null)))}const aH=function(e){var t=e.vsid,n=e.closeModal,r=e.onAddMedia,o=e.singleSelection,a=e.doneButtonText,i=e.onTryProAlertShow,c=e.isTryProAlertActive,l=e.trackLocation,s=void 0===l?"media_screen":l,u=e.toastLimitDuration,d=e.defaultTab,m=e.maxSelection,p=e.shopifyContext,g=$F((0,f.useState)(!1),2),y=g[0],b=g[1],v=$F((0,f.useState)(),2),E=v[0],w=v[1],A=$F((0,f.useState)([]),2),C=A[0],S=A[1],_=$F((0,f.useState)({}),2),x=_[0],I=_[1],O=$F((0,f.useState)(Number),2),k=O[0],M=O[1],B=$F((0,f.useState)(!1),2),j=B[0],L=B[1],P=(0,T.v9)((function(e){return e.userCapabilities.capabilities.hasStock})),N=P.allowed,D=P.tier,R=P.isUpsellBlocker,z=D||{},U=z.name,F=z.text,H=(0,T.v9)((function(e){return e.userCapabilities.capabilities.hasMaxDuration})),V=(0,T.v9)((function(e){return e.userCapabilities.isUpsellBlocker})),W=$F(ME({withStyle:tH,trackLocation:s,durationThreshold:k,closeToastBtnText:V?oe.CustomDurationKeepIt(k):oe.FreemiumToastCloseText(k),isUpsellBlocker:V}),2),G=W[0],Y=W[1],q="variant"===xc.stickyTabsTest();var Z,X,K,Q,J,ee=(0,f.useCallback)((function(e){var t=$F(function(e,t){var n=t?"?selected_duration=".concat(t):"",r=Ht.CancelToken.source();return[Ht.post("/api/create/estimate/duration".concat(n),e,{cancelToken:r.token}).then((function(e){return e.data})),r]}(function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((function(e){var t,n;return null!=e&&null!==(t=e.type)&&void 0!==t&&t.includes("video")||null!=e&&null!==(n=e.type)&&void 0!==n&&n.includes("clip")?{type:"clip",duration:e.duration}:{type:"image"}}))}([].concat(QF(Jo.getAllFiles()),QF(e)))),2),n=t[0],r=t[1];return n.then((function(e){var t=e.premium_thresh,n=e.over_thresh;null!==t&&n?c&&(L(!0),M(t),Y(),i()):L(!1)})).catch((function(){})),function(){r&&r.cancel()}}),[c,i,Y]),te=(0,T.v9)((function(e){return e.ui.mediaModalTabs})),ne=(0,T.I0)(),re=(Z=ee,X=2e3,K=(0,f.useRef)(),Q=(0,f.useRef)(),J=function(){Q.current&&clearTimeout(Q.current)},function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];K.current=t,J(),Q.current=setTimeout((function(){K.current&&Z.apply(void 0,ZN(K.current))}),X)});function ae(e){q&&ne(ic({selectedTab:te.currentTab,currentTab:te.currentTab}));var t=Array.isArray(e)?e:[e];if(t.length>0&&(!H.allowed||u)){var n=[].concat(QF(C),QF(t)),r=C.filter((function(e){return e.id===t[0].id})).length>0||!1;r&&(n=C.filter((function(e){return e.id!==t[0].id}))),(c||r&&j)&&re(n)}if(!c&&o)return 1===C.length&&(S([]),I({})),S(QF(t)),void I(KF({},t[0].id,!0));var a=C.length,i=t.map((function(e){return e.id})),l=C.filter((function(e){return!i.includes(e.id)})),s=[],d=function(e){return t.reduce((function(t,n){return t[n.id]=e,t}),{})};if(a===l.length){var p=d(!0);Array.isArray(e)?e.forEach((function(e){Ui({media_type:e.shortType,media_type_source:e.upl_origin})})):Ui({media_type:e.type,media_type_source:e.upl_origin}),m&&m<C.length+t.length&&(t=t.slice(C.length+t.length-m),p=Object.keys(p).filter((function(e){return t.map((function(e){return e.id})).includes(e)})).reduce((function(e,t){return e[t]=p[t],e}),{})),$().unstable_batchedUpdates((function(){s=[].concat(QF(C),QF(t)),S(s),I(Object.assign({},XF({},x),XF({},p)))}))}else{var f=d(!1);$().unstable_batchedUpdates((function(){s=QF(l),S(s),I(Object.assign({},XF({},x),XF({},f)))}))}}var ie=(0,f.useCallback)((function(){r(C)}),[r,C]),ce=(0,f.useCallback)((function(){return h().createElement(uj,{align:"center","data-component-name":"renderHeader"},h().createElement(Ke,{flex:"1"},h().createElement(gv,null,m&&m>0?oe.MediaLibraryModalDynamicTitle(m):oe.MediaLibraryModalTitle)),h().createElement(Mv,{onClick:n}))}),[n,m]),le=null;return-1!==t&&(le=t),null!==le&&(le=le.toString()),h().createElement(Jv,{withStyle:oj,"data-component-name":"MediaLibraryModal","data-key":e["data-key"]},h().createElement(dj,null,ce(),h().createElement(qF,{vsid:t,onExpandVideoModal:function(e){e&&(b(!0),w(e))},onClickSelectedMedia:ae,allSelectedMediaIds:x,renderHeader:nH,defaultTab:d,enabled:void 0===m||m>C.length,shopifyContext:p,maxSelection:m})),y?h().createElement(eB,{id:E.id,autoPlay:!0,src:E.preview_url,type:E.shortType||E.type,image:E.thumbnail_url,title:E.name||E.title||"",onClose:function(){b(!1)},buttonText:C.some((function(e){return e.id===E.id}))?oe.Remove:oe.Add,onButtonClick:function(){N||E.upl_origin!==ea.GETTY?(ae(E),b(!1)):(zc.onSelectGetty({vsid:le,tier:U,upsellTitle:oe.stockUpsellTitle(F)}).then((function(){ae(E)})).catch((function(){R||ae(E)})),b(!1))},isInModal:!0,showBadgeLabel:E.upl_origin===ea.GETTY,context:"stock"}):null,j&&G,0===C.length?null:h().createElement(ij,null,h().createElement(et,{padding:"0 ".concat((0,We.rem)(30))},h().createElement(Ze,{align:"center",justify:"space-between"},h().createElement(aj,{flex:1},h().createElement(YN,{modalSized:!0},C.map((function(e){var t;return h().createElement(rH,{media:e,key:t=e.id,"data-key":t,onRemoveMedia:ae,trackLocation:s,singleSelection:o})})))),m&&C&&C.length>0&&h().createElement(lj,null,oe.MediaLibraryModalCounter(C.length,m)),h().createElement(cj,{align:"center",justify:"space-between"},h().createElement(sj,{format:"secondary",onClick:n},oe.Cancel),h().createElement(sj,{format:"primary",onClick:ie},a||oe.Add))))))};function iH(){return h().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"25",viewBox:"0 0 24 25","data-component-name":"ReplaceIconSVG"},h().createElement("g",{fill:"none",fillRule:"evenodd",stroke:"#1A2E3B",strokeWidth:"2"},h().createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 19L5 15 9 15",transform:"translate(0 1)"}),h().createElement("path",{d:"M18.95 9.05c-.49-.492-1.159-1.16-2.005-2.005C15.678 5.781 13.93 5 12 5c-3.866 0-7 3.134-7 7M5.023 14.977c.471.474 1.13 1.133 1.977 1.978C8.266 18.219 10.014 19 11.945 19c3.866 0 7-3.134 7-7",transform:"translate(0 1)"}),h().createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 9L15 5 19 5",transform:"translate(0 1) rotate(180 17 7)"})))}var cH,lH=function(e,t,n){var r=e[t];return/^#[0-9a-fA-F]{6}$/.test(r)?null:new Error("Prop `".concat(t,"` supplied to `").concat(n,"` must be a color hex but got `").concat(r,"`. Validation failed."))},sH=function(e,t,n){return null==e[t]?null:lH(e,t,n)};function uH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uH(Object(n),!0).forEach((function(t){mH(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uH(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mH(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}sH.isRequired=lH;var pH=(0,Sw.exact)({x:Sw.number.isRequired,y:Sw.number.isRequired,width:Sw.number.isRequired,height:Sw.number.isRequired}),fH={rotatable:Sw.bool.isRequired,rotate:Sw.number.isRequired,flip:(0,Sw.exact)({horizontal:Sw.bool.isRequired,vertical:Sw.bool.isRequired}).isRequired},hH=(0,Sw.exact)({start:Sw.number.isRequired,end:Sw.number.isRequired}),gH={id:Sw.string.isRequired,selectable:Sw.bool.isRequired,draggable:Sw.bool.isRequired,resizeable:Sw.bool.isRequired,zindex:Sw.number.isRequired,rect:pH.isRequired,rectFromLayout:Sw.bool.isRequired,timing:hH.isRequired},yH={source:Sw.string,sourceHash:Sw.string,sourceFootageRect:pH.isRequired},bH=(0,Sw.exact)(dH(dH({type:(0,Sw.oneOf)([xs])},gH),yH)),vH=(0,Sw.exact)(dH(dH(dH({type:(0,Sw.oneOf)([Is])},gH),yH),{},{muted:Sw.bool.isRequired,hasAudio:Sw.bool.isRequired})),EH={globalId:Sw.string,tag:Sw.string},wH=(0,Sw.exact)(dH(dH(dH({type:(0,Sw.oneOf)([Ts])},gH),EH),{},{textStyleId:(0,Sw.oneOf)(ns).isRequired,colors:(0,Sw.exact)({fontColor:sH.isRequired,colorOne:sH,highlight:sH}).isRequired,font:Sw.string.isRequired,fontSize:Sw.number.isRequired,align:(0,Sw.oneOf)(["center","left","right"]).isRequired,text:(0,Sw.arrayOf)(Sw.string).isRequired,bgAlpha:Sw.number.isRequired,dropShadow:(0,Sw.oneOf)(Js).isRequired,language:Sw.string})),AH=(0,Sw.exact)(dH(dH(dH(dH({type:(0,Sw.oneOf)([_s])},gH),EH),{},{sourceFootageRect:pH.isRequired,width:Sw.number.isRequired,height:Sw.number.isRequired,mediaPath:Sw.string.isRequired,sourceHash:Sw.string.isRequired,subtype:Sw.string.isRequired,bgColor:sH.isRequired,bgAlpha:Sw.number.isRequired,style:(0,Sw.oneOf)([Kl,Ql,$l,Jl]),ready:Sw.bool.isRequired,maintainLocation:Sw.bool},fH),{},{name:Sw.string,file:Sw.object})),CH=(mH(cH={},xs,bH),mH(cH,Is,vH),mH(cH,Ts,wH),mH(cH,_s,AH),cH),SH=function(e,t,n){var r=e[t];if(!r)return new Error("Prop `".concat(t,"` of `").concat(n,"` is mandatory."));var o=CH[r.type];if(!o)return new Error("Prop `".concat(t,"` supplied to `").concat(n,"` has unknown CompositionElement type `").concat(r.type,"`."));for(var a=arguments.length,i=new Array(a>3?a-3:0),c=3;c<a;c++)i[c-3]=arguments[c];var l=o.apply(void 0,[e,t,n].concat(i));return l instanceof Error?new Error("Prop `".concat(t,"` supplied to `").concat(n,"` is not a valid CompositionElement of type `").concat(r.type,"`:\n").concat(l.message)):l},_H=function(e,t,n){if(null==e[t])return null;for(var r=arguments.length,o=new Array(r>3?r-3:0),a=3;a<r;a++)o[a-3]=arguments[a];return SH.apply(void 0,[e,t,n].concat(o))};_H.isRequired=SH;var xH=(0,Sw.oneOfType)([AH,wH]),IH=(0,Sw.oneOfType)([bH,vH,AH]),TH=(0,Sw.exact)({startTime:Sw.number.isRequired,endTime:Sw.number.isRequired}),OH=(0,Sw.exact)({id:Sw.string.isRequired,hidden:Sw.bool.isRequired,sceneDuration:TH.isRequired,duration:Sw.number.isRequired,autoDuration:Sw.bool.isRequired,isOverlayTimingEqMasterTiming:Sw.bool.isRequired,thumbs:(0,Sw.arrayOf)(Sw.string).isRequired,composition:(0,Sw.objectOf)(_H).isRequired,layoutId:Sw.string,templateHint:Sw.string,ready:Sw.bool.isRequired}),kH=(0,Sw.exact)({id:Sw.string.isRequired,fileId:Sw.string.isRequired,ready:Sw.bool.isRequired,composition:(0,Sw.objectOf)(_H).isRequired,replacedScene:OH,uploadProgress:(0,Sw.exact)({loaded:Sw.number,total:Sw.number})}),MH=(0,Sw.exact)({mhash:Sw.string.isRequired,hash:Sw.string.isRequired,height:Sw.number.isRequired,width:Sw.number.isRequired,type:(0,Sw.oneOf)(["image","clip"]).isRequired,duration:Sw.number.isRequired,service:Sw.string,previewURL:Sw.string.isRequired,footageRects:(0,Sw.objectOf)((0,Sw.exact)({x:Sw.number.isRequired,y:Sw.number.isRequired,w:Sw.number.isRequired,h:Sw.number.isRequired})).isRequired,thumbs:(0,Sw.arrayOf)((0,Sw.exact)({thumb_clip_id:Sw.string.isRequired,is_chosen:Sw.bool.isRequired,thumb:Sw.string.isRequired,thumb_portrait:Sw.string.isRequired,thumb_landscape:Sw.string.isRequired,thumb_extralarge:Sw.string.isRequired,thumb_listview:Sw.string.isRequired})).isRequired}),BH=function(e){return URL.createObjectURL(new Blob([e],{type:"image/svg+xml"}))},jH=function(e){return"url(".concat(BH(function(e){var t=e.width,n=e.height,r=e.color;return"<svg xmlns='http://www.w3.org/2000/svg' width='".concat(t,"' height='").concat(n,"' viewBox='0 0 ").concat(t," ").concat(n,"'>\n  <rect fill='").concat(r,"' x='0' y='0' width='100%' height='100%'/>\n</svg>")}({color:"white",width:e.width,height:e.height})),")")},LH=function(e){var t=e.source,n=e.fit;return{backgroundImage:jH(t),backgroundSize:n,backgroundRepeat:"no-repeat",backgroundClip:"content-box",backgroundPosition:"center"}};function PH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function NH(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DH(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return RH(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RH(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function RH(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var zH=function(e){var t=e.source,n=e.fit,r=DH((0,f.useState)(!1),2),o=r[0],a=r[1],i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?PH(Object(n),!0).forEach((function(t){NH(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PH(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({objectFit:n},o&&LH({source:t,fit:n}));return h().createElement("div",{role:"presentation",className:"storyboard-item","data-component-name":"ImageThumbnail"},h().createElement("img",{className:"media-thumbnail",src:t.previewURL,alt:t.previewURL,style:i,onLoad:function(){return a(!0)},draggable:!1}))};zH.propTypes={source:MH.isRequired};var UH={selectScene:hh};const FH=(0,T.$j)(null,UH)(zH);function HH(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return VH(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return VH(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function VH(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var WH=function(e){var t=e.source,n=e.timing,r=e.muted,o=e.play,a=HH((0,f.useState)(!1),2),i=a[0],c=a[1],l=function(){c(!0)},s=function(){c(!1)};return h().createElement("div",{role:"presentation",className:"storyboard-item",onMouseOver:l,onFocus:l,onMouseOut:s,onBlur:s,"data-component-name":"VideoThumbnail"},h().createElement(ex,{isPlaying:o||i,src:t.previewURL,timing:n,muted:r,className:"media-thumbnail",loop:!0,goToStartOnVideoEnd:!0,preload:"auto"}))};WH.defaultProps={play:!1},WH.propTypes={source:MH.isRequired,timing:hH.isRequired,muted:Sw.bool.isRequired,play:Sw.bool};var GH={selectScene:hh};const YH=(0,T.$j)(null,GH)(WH);var qH=function(e){var t=e.scene,n=e.mediaSource,r=e.fit,o=e.timing,a=e.muted,i=e.play;if(n){if("image"===n.type)return h().createElement(FH,{scene:t,source:n,fit:r,"data-component-name":"Thumbnail"});if("clip"===n.type)return h().createElement(YH,{scene:t,source:n,timing:o,muted:a,play:i,"data-component-name":"Thumbnail"})}return h().createElement("div",{"data-component-name":"Thumbnail"})};qH.defaultProps={timing:null,muted:!1,play:!1},qH.propTypes={scene:(0,Sw.oneOfType)([OH,kH]).isRequired,timing:hH,muted:Sw.bool,play:Sw.bool};const ZH=(0,T.$j)((function(e,t){var n=t.mediaElem,r={};return n&&(r={mediaSource:e.storyBoard.sources[n.sourceHash],timing:n.timing,muted:n.muted}),r}))(qH);function XH(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return KH(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KH(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function KH(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(0,We.rem)(24);var QH=(0,Ge.default)(Xe).attrs((function(e){return{"data-component-name":e["data-component-name"]?"MediaInspectorActions ".concat(e["data-component-name"]):"MediaInspectorActions"}})).withConfig({displayName:"media-inspectorcomponent__MediaInspectorActions",componentId:"sc-1t3156b-2"})(["justify-content:space-between;height:",";"],(0,We.rem)(96)),$H=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"ThumbnailContainer ".concat(e["data-component-name"]):"ThumbnailContainer"}})).withConfig({displayName:"media-inspectorcomponent__ThumbnailContainer",componentId:"sc-1t3156b-3"})(["position:relative;.storyboard-item{width:100%;height:100%;line-height:0;background-color:#f0f1f2;.media-thumbnail{width:",";height:",";border-radius:",";object-fit:contain;display:block;color:transparent;overflow:hidden;}}"],(0,We.rem)(152),(0,We.rem)(96),(0,We.rem)(3)),JH=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"MuteSection ".concat(e["data-component-name"]):"MuteSection"}})).withConfig({displayName:"media-inspectorcomponent__MuteSection",componentId:"sc-1t3156b-4"})(["margin:"," 0;position:relative;z-index:0;"],(0,We.rem)(24)),eV=(0,Ge.default)(Xw).attrs((function(e){return{"data-component-name":e["data-component-name"]?"StyledInputToggle ".concat(e["data-component-name"]):"StyledInputToggle"}})).withConfig({displayName:"media-inspectorcomponent__StyledInputToggle",componentId:"sc-1t3156b-5"})(["position:absolute;top:0;right:",";"],(0,We.rem)(-12)),tV=(0,Ge.default)(JL).attrs((function(e){return{"data-component-name":e["data-component-name"]?"TimelineButton ".concat(e["data-component-name"]):"TimelineButton"}})).withConfig({displayName:"media-inspectorcomponent__TimelineButton",componentId:"sc-1t3156b-6"})(["&:disabled{background:#eef1f2;}"]),nV=function(e){var t=e.ce,n=t.id,r=t.hasAudio,o=t.muted,a=e.updateMuted,i=(0,f.useCallback)((function(){a(n,!0)}),[n,a]),c=(0,f.useCallback)((function(){a(n,!1)}),[n,a]);return r&&h().createElement(JH,{"data-component-name":"Sound"},oe.MediaInspectorAudio,h().createElement(eV,{name:"demoToggleMd",id:"toggleMute",checked:!o,onChange:o?c:i,size:"lg"}))},rV=function(e){var t=e.sceneId,n=e.vsid,r=e.replaceMedia,o=XH((0,f.useState)(!1),2),a=o[0],i=o[1],c=sE(t).player,l=(0,f.useCallback)((function(){i(!0)}),[]);return h().createElement(h().Fragment,null,a?h().createElement(aH,{vsid:n,closeModal:function(){i(!1)},onAddMedia:function(e){var t=e[0];i(!1),c.seek(0),r(t)},singleSelection:!0,doneButtonText:oe.Replace}):null,h().createElement(JL,{format:"secondary",tooltipText:oe.MediaInspectorReplace,onClick:l,iconReactComponent:h().createElement(iH,null)}))},oV={updateMuted:ny,replaceMedia:function(e){return function(t,n){(0,T.dC)((function(){e.allow_dup=!0,Jo.add_file(e),Jo.start_upload();var r=n().storyBoard,o=r.scenes,a=r.selectedSceneId,i=o.findIndex((function(e){return e.id===a})),c=Xu({fileId:e.id,replacedScene:o[i]}),l=[].concat(Gf(o.slice(0,i)),[c],Gf(o.slice(i+1)));t(Zd({addedPlaceholderId:e.id})),t({type:fd.REPLACE_MEDIA,payload:{scenes:l,selectedSceneId:c.id}})}))}},setOverrides:ds,removeOverrides:ms,updateSourceFootageRect:ey,showTimeline:sd};const aV=(0,T.$j)((function(e,t){var n=e.overrides,r=e.storyBoard,o=e.timeline,a=e.staticParameters,i=t.sceneId,c=t.ce;return{vsid:r.vsid,overrides:n["".concat(c.id,"@").concat(i)],timelineVisible:o.show,MEDIA_MAX_SCALE:a.MEDIA_MAX_SCALE}}),oV)((function(e){var t,n=e.scene,r=e.ce,o=e.overrides,a=e.timelineVisible,i=e.MEDIA_MAX_SCALE,c=e.setOverrides,l=e.removeOverrides,s=e.updateSourceFootageRect,u=e.vsid,d=e.replaceMedia,m=e.updateMuted,p=e.showTimeline,g=r.type===Is,y=!(n.hasBRolls||n.isBRoll),b=null!==(t=null==o?void 0:o.sourceFootageRect)&&void 0!==t?t:r.sourceFootageRect,v=100/Math.max(r.sourceFootageRect.width,r.sourceFootageRect.height),E=100/Math.max(b.width,b.height),w=(0,f.useCallback)((function(e){var t=v/e*r.sourceFootageRect.width,n=v/e*r.sourceFootageRect.height,o=hm(r.sourceFootageRect,t,n),a=o.x,i=o.y,c=1-t,l=1-n;return{x:Math.max(0,Math.min(c,a)),y:Math.max(0,Math.min(l,i)),width:t,height:n}}),[r.sourceFootageRect,v]),A=(0,f.useCallback)((function(e){var t=w(e);c(n.id,r.id,{sourceFootageRect:t})}),[n.id,r.id,w,c]),C=(0,f.useCallback)((function(e){(0,T.dC)((function(){var t=w(e);l(),Xi({via:"scale slider",scale_value_percent:e,item_type:r.type===xs?"image":"video"}),s(n.id,r.id,t)}))}),[n.id,r.id,r.type,w,l,s]),S=(0,f.useCallback)((function(e){var t=w(e);Xi({via:"scale input",item_type:r.type===xs?"image":"video"}),s(n.id,r.id,t)}),[n.id,r.id,r.type,w,s]);return h().createElement(h().Fragment,null,h().createElement(tN,null,oe.MediaInspectorMedia),h().createElement(Ze,{align:"center",justify:"space-between"},h().createElement($H,null,h().createElement(ZH,{scene:n,mediaElem:r,fit:"contain",muted:!0})),h().createElement(QH,null,y&&h().createElement(rV,{sceneId:n.id,vsid:u,replaceMedia:d}),h().createElement(tV,{size:"md",format:"secondary",tooltipText:oe.MediaInspectorTimeline,onClick:p,iconReactComponent:h().createElement(AN,{disabled:a}),disabled:a}))),g&&y&&h().createElement(nV,{ce:r,scene:n,updateMuted:m}),h().createElement(XP,{marginTop:(0,We.rem)(24),step:1,label:oe.MediaStickerInspectorPropertiesScale,value:E,unitSign:"%",min:100,max:100*i,onValueMutating:A,onValueCommited:C,onValueChangeFromInput:S}),!1)}));var iV=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"SceneDurationText ".concat(e["data-component-name"]):"SceneDurationText"}})).withConfig({displayName:"non-media-scene-durationcomponent__SceneDurationText",componentId:"sc-1pyhp6n-0"})(["font-size:14px;"]),cV=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"SceneDurationWrapper ".concat(e["data-component-name"]):"SceneDurationWrapper"}})).withConfig({displayName:"non-media-scene-durationcomponent__SceneDurationWrapper",componentId:"sc-1pyhp6n-1"})(["display:flex;flex-direction:row;justify-content:space-between;align-items:center;"]);var lV={showTimeline:sd};const sV=(0,T.$j)((function(e){return{timelineVisible:e.timeline.show}}),lV)((function(e){var t=e.scene,n=e.showTimeline,r=e.timelineVisible,o=(Math.round(2*t.getDuration())/2).toFixed(1);return h().createElement(cV,{"data-component-name":"NonMediaSceneDuration","data-key":e["data-key"]},h().createElement(iV,null,oe.StoryboardContainerEstimatedDuration,": ",o,oe.SecondsShortcut),h().createElement(tV,{size:"md",format:"secondary",tooltipText:oe.MediaInspectorTimeline,onClick:n,iconReactComponent:h().createElement(AN,{disabled:r}),disabled:r}))}));var uV=function(e){var t=e.show,n=void 0===t||t,r=e.attachLocation,o=void 0===r?"top":r,a=e.tooltipText,i=e.iconReactComponent;return n?h().createElement(wL,{text:a,attachLocation:o,"data-component-name":"IconWithTooltip"},i):null};const dV=function(){return h().createElement("svg",{width:"34px",height:"34px",viewBox:"0 0 34 34",xmlns:"http://www.w3.org/2000/svg",display:"block","data-component-name":"ResetIconSVG"},h().createElement("desc",null,"Created with Sketch."),h().createElement("defs",null,h().createElement("polygon",{id:"path-1",points:"9.88844693 1.03351518 9.04418945 9 18.0083008 0.204848346 18.0083008 18.0101929 0.0171508789 18.0101929 0.0171508789 0.0305175781"})),h().createElement("g",{id:"Reset-button",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},h().createElement("g",{id:"Reset_option-1_4",transform:"translate(-1178.000000, -359.000000)"},h().createElement("g",{id:"Group-2",transform:"translate(1178.000000, 359.000000)"},h().createElement("g",{id:"Group-3"},h().createElement("circle",{id:"Oval",fill:"#FFFFFF",cx:"17",cy:"17",r:"17"}),h().createElement("g",{id:"Icon/Dark/Replay",transform:"translate(5.000000, 5.000000)"},h().createElement("g",{id:"Icon",transform:"translate(12.142136, 12.142136) rotate(45.000000) translate(-12.142136, -12.142136) translate(2.642136, 1.642136)"},h().createElement("g",{id:"Oval-13",transform:"translate(0.000000, 2.000000)"},h().createElement("mask",{id:"mask-2",fill:"white"},h().createElement("use",{xlinkHref:"#path-1"})),h().createElement("g",{id:"Mask"}),h().createElement("circle",{stroke:"#1A2E3B",strokeWidth:"2",mask:"url(#mask-2)",cx:"9",cy:"9",r:"7"})),h().createElement("polyline",{id:"Path-2",stroke:"#1A2E3B",strokeWidth:"2",strokeLinejoin:"round",transform:"translate(8.237756, 4.134507) rotate(90.000000) translate(-8.237756, -4.134507) ",points:"4.70069008 5.89863596 8.24043541 2.36731348 11.7748221 5.90170021"}))))))))};function mV(){return(mV=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var pV=function(e){return h().createElement("svg",mV({width:"97px",height:"60px",viewBox:"0 0 130 80",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},e,{"data-component-name":"LND_SLIDE","data-key":e["data-key"]}),h().createElement("g",{id:"Layout-icon",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},h().createElement("g",{id:"Artboard-Copy",transform:"translate(-268.000000, -1649.000000)"},h().createElement("g",{id:"layout-landscape-textonly",transform:"translate(268.000000, 1649.000000)"},h().createElement("rect",{id:"Rectangle-Copy-5",fill:"#7C8E99",x:"0",y:"0",width:"130",height:"80"}),h().createElement("rect",{id:"Rectangle",fill:"#CED6DB",x:"16",y:"36",width:"98",height:"8",rx:"1"})))))},fV=function(e){return h().createElement("svg",mV({width:"80px",height:"128px",viewBox:"0 0 80 128",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},e,{"data-component-name":"PRT_SLIDE","data-key":e["data-key"]}),h().createElement("g",{id:"Layout-icon",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},h().createElement("g",{id:"Artboard-Copy",transform:"translate(-151.000000, -1601.000000)"},h().createElement("g",{id:"layout-portrait-textonly",transform:"translate(151.000000, 1601.000000)"},h().createElement("rect",{id:"Rectangle-Copy-2",fill:"#7C8E99",x:"0",y:"0",width:"80",height:"128"}),h().createElement("rect",{id:"Rectangle",fill:"#CED6DB",x:"16",y:"60",width:"48",height:"8",rx:"1"})))))},hV=function(e){return h().createElement("svg",mV({width:"80px",height:"80px",viewBox:"0 0 80 80",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},e,{"data-component-name":"SQR_SLIDE","data-key":e["data-key"]}),h().createElement("g",{id:"Layout-icon",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},h().createElement("g",{id:"Artboard-Copy",transform:"translate(-40.000000, -1649.000000)"},h().createElement("g",{id:"layout-square-textonly",transform:"translate(40.000000, 1649.000000)"},h().createElement("rect",{id:"Rectangle",fill:"#7C8E99",x:"0",y:"0",width:"80",height:"80"}),h().createElement("rect",{id:"Rectangle",fill:"#CED6DB",x:"16",y:"36",width:"48",height:"8",rx:"1"})))))},gV=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"LayoutWrapper ".concat(e["data-component-name"]):"LayoutWrapper"}})).withConfig({displayName:"layoutcomponent__LayoutWrapper",componentId:"sc-9nw0da-0"})(["position:relative;",""],(function(e){return e.withStyle})),yV=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"ResetLayout ".concat(e["data-component-name"]):"ResetLayout"}})).withConfig({displayName:"layoutcomponent__ResetLayout",componentId:"sc-9nw0da-1"})(["position:absolute;top:0;bottom:0;left:0;right:0;background-color:rgba(0,0,0,0.2);z-index:1;pointer-events:all;cursor:pointer;display:flex;justify-content:center;align-items:center;"]),bV=function(e){var t=e.layout,n=e.isDirty,r=e.style,a=(0,f.useMemo)((function(){if(t.image)return h().createElement("img",{alt:"",src:t.image,style:{width:"100%",height:"100%",borderRadius:(0,We.rem)(3)},draggable:!1,"data-component-name":"DefaultLayoutSVG"});var e=o["".concat(t.orientation,"_SLIDE")];return h().createElement(e,{style:{width:"100%",height:"100%"},"data-component-name":"DefaultLayoutSVG"})}),[t.image,t.orientation]);return h().createElement(gV,{withStyle:r,"data-component-name":"LayoutThumbnail"},a,n&&h().createElement(yV,null,h().createElement(uV,{tooltipText:oe.Reset,iconReactComponent:h().createElement(dV,null)})))},vV=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"LayoutLabel ".concat(e["data-component-name"]):"LayoutLabel"}})).withConfig({displayName:"layoutcomponent__LayoutLabel",componentId:"sc-9nw0da-2"})(["pointer-events:none;position:absolute;top:0;left:5%;width:90%;text-align:center;color:white;background-color:rgba(0,0,0,0.5);font-size:8px;word-break:break-all;white-space:normal;"]),EV=function(e){var t=e.scene,n=e.layout,r=e.selectedLayout,o=e.updateLayout,a=e.resetLayout,i=e.style,c=e.showSpecialLayouts,l=e.showDirty,s=r&&r.id===n.id,u=t.ready&&t.isLayoutDirty(n.id)&&s,d=t.isBCard();return h().createElement("div",{style:{position:"relative"},onClick:function(e){var i,c,m;l&&u&&!d?(e.stopPropagation(),a(t.id,r)):s||(c={layout:n.id},m={name:"click_to_select_scene_layout",product:Si,location:ba,layout:c.layout},Li(m=sa(sa({},c),m)),e.nativeEvent,i=n,o(t.id,i))},"data-component-name":"Layout"},h().createElement(bV,{layout:n,isDirty:l&&u&&!d,style:i}),c&&h().createElement(vV,null,n.id))};function wV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function AV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wV(Object(n),!0).forEach((function(t){CV(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wV(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function CV(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var SV={position:"fixed",alignSelf:"center",marginTop:(0,We.rem)(4),right:(0,We.rem)(24),width:(0,We.rem)(240),border:"none",padding:(0,We.rem)(8),justifyContent:"space-between",cursor:"auto",flexDirection:"row",flexWrap:"wrap",borderRadius:(0,We.rem)(3),boxShadow:"0 ".concat((0,We.rem)(4)," ").concat((0,We.rem)(8)," 0 rgba(0, 0, 0, 0.15), 0 0 ").concat((0,We.rem)(1)," 0 rgba(0, 0, 0, 0.15)")},_V=Ge.default.span.attrs({role:"presentation"}).attrs((function(e){return{"data-component-name":e["data-component-name"]?"AdditionalSelectItemWrapper ".concat(e["data-component-name"]):"AdditionalSelectItemWrapper"}})).withConfig({displayName:"inspector-dropdown-gallerycomponent__AdditionalSelectItemWrapper",componentId:"qckzbi-0"})(["cursor:pointer;",""],(function(e){return e.disabled&&"pointer-events:none;"})),xV=function(e){var t=e.selectedElem,n=e.listOfElems,r=e.label,o=e.dropdownListStyle,a=void 0===o?{}:o,i=e.ItemsWrapper,c=(0,f.useRef)(null),l=(0,f.useRef)(null),s=(0,f.useCallback)((function(){var e;null===(e=c.current)||void 0===e||e.toggle()}),[c]);return h().createElement(h().Fragment,null,h().createElement(tN,null,r),h().createElement(Ze,{align:"center",justify:"space-between"},h().createElement(_V,{"data-popover-selector":!0,ref:l,onClick:s,disabled:n.length<2},t),n.length>1&&h().createElement(Xe,null,h().createElement(mI,{closeOnSelect:!1,dropdownListStyle:AV(AV({},SV),a),ref:c,additionalSelectorsRefs:[l],dropdownListProps:{"data-inspector-dropdown":!0},selectItem:h().createElement(JL,{size:"md",format:"secondary",tooltipText:oe.DropdownChange,iconReactComponent:h().createElement(GC,null)}),listItem:n,ItemsWrapper:i}))))},IV=function(e,t,n){switch(e){case"landscape":return t?(0,Ge.css)(["width:95px;height:60px;margin:8px;border-radius:",";border:",";&:hover{cursor:pointer;border:solid 2px ",";}"],(0,We.rem)(3),(function(e){var t=e.theme;return n?"solid 2px ".concat(t.colors.primary):"solid 2px #fff"}),(function(e){return e.theme.colors.hover})):(0,Ge.css)(["width:98px;height:60px;"]);case"portrait":return t?(0,Ge.css)(["width:59px;height:92px;margin:8px;border-radius:",";border:",";&:hover{cursor:pointer;border:solid 2px ",";}"],(0,We.rem)(3),(function(e){var t=e.theme;return n?"solid 2px ".concat(t.colors.primary):"solid 2px #fff"}),(function(e){return e.theme.colors.hover})):(0,Ge.css)(["width:65px;height:104px;"]);default:return t?(0,Ge.css)(["width:96px;height:96px;margin:8px;border-radius:",";border:",";&:hover{cursor:pointer;border:solid 2px ",";}"],(0,We.rem)(3),(function(e){var t=e.theme;return n?"solid 2px ".concat(t.colors.primary):"solid 2px #fff"}),(function(e){return e.theme.colors.hover})):(0,Ge.css)(["width:98px;height:98px;"])}},TV={right:(0,We.rem)(22),width:(0,We.rem)(243)};var OV={updateLayout:function(e,t){return function(n){var r=Object.keys(t.composition)[0];(0,T.dC)((function(){n(function(e,t){return{type:Nh,sceneId:e,payload:kh({},t)}}(e,{layoutId:t.id})),n(ld(r,{rect:t.composition[r].rect,sourceFootageRect:t.composition[r].sourceFootageRect})),n(function(e,t){return function(n,r){var o=r().storyBoard.scenes.find((function(t){return t.id===e}));if(o.isLayoutDirty(o.layoutId)){var a=o.layoutsTextConfigurationMap[o.layoutId],i=o.getTextElements();Object.keys(a).forEach((function(e){n(ld(e,{rect:a[e].rect,fontSize:a[e].fontSize}))}));var c=i.filter((function(e){return!a[e.id]}));c.length>0&&n($h(o.id,t,c))}else n($h(o.id,t))}}(e,t))}))}},resetLayout:function(e,t,n){return function(r){r(Zd()),r($h(e,t,n))}}};const kV=(0,T.$j)((function(e,t){var n,r=e.layouts,o=e.storyBoard.orientation,a=t.scene,i=[],c=null;return a.ready&&(c=a.getLayout(r,o),i=null!==(n=r[a.id])&&void 0!==n?n:[c]),{scene:a,orientation:o,sceneLayouts:i,selectedLayout:c,showSpecialLayouts:e.featureToggles.values.showSpecialLayouts}}),OV)((function(e){var t,n=e.scene,r=e.orientation,o=e.selectedLayout,a=e.sceneLayouts,i=e.showSpecialLayouts,c=e.updateLayout,l=e.resetLayout,s=(0,f.useMemo)((function(){return a.map((function(e){var t,a=e.id===o.id;return h().createElement(EV,{key:t=e.id,"data-key":t,scene:n,layout:e,updateLayout:c,selectedLayout:o,resetLayout:l,showSpecialLayouts:i,style:IV(r,!0,a),showDirty:!1})}))}),[r,l,n,a,o,i,c]),u=h().createElement(EV,{key:t=o.id,"data-key":t,scene:n,layout:o,updateLayout:c,selectedLayout:o,resetLayout:l,showSpecialLayouts:i,style:IV(r,!1),showDirty:!0});return h().createElement(xV,{selectedElem:u,listOfElems:s,dropdownListStyle:TV,label:oe.SceneInspectorLayoutsLabel,"data-component-name":"SceneLayoutsConfiguration"})}));function MV(){return(MV=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}const BV=(0,T.$j)((function(e,t){var n=t.selectedScene,r=n.ready?n.getMediaElement():null;return{scene:n,mediaElement:r,mediaSource:r?e.storyBoard.sources[r.sourceHash]:null}}),null)((function(e){var t=e.scene,n=e.mediaElement;return t.ready?h().createElement(rN,{"data-component-name":"SceneInspector","data-key":e["data-key"]},h().createElement(kV,e),!n&&h().createElement(h().Fragment,null,h().createElement(eN,null),h().createElement(sV,e)),n&&h().createElement(h().Fragment,null,h().createElement(eN,null),h().createElement(aV,MV({scene:t},e,{ce:n})))):null}));function jV(){return(jV=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}const LV=function(e){return h().createElement("svg",jV({xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 14 14"},e,{"data-component-name":"AlignCenterSVG","data-key":e["data-key"]}),h().createElement("g",{fill:"none",fillRule:"evenodd",strokeWidth:"2"},h().createElement("path",{d:"M.389 1.4h13.02M.389 7h13.02M.389 12.6h13.02"})))};function PV(){return(PV=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}const NV=function(e){return h().createElement("svg",PV({xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 14 14"},e,{"data-component-name":"AlignLeftSVG","data-key":e["data-key"]}),h().createElement("g",{fill:"none",fillRule:"evenodd",strokeWidth:"2"},h().createElement("path",{d:"M.389 1.4h13.02M.389 7H7M.389 12.6h13.02"})))};function DV(){return(DV=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}const RV=function(e){return h().createElement("svg",DV({xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 14 14"},e,{"data-component-name":"AlignRightSVG","data-key":e["data-key"]}),h().createElement("g",{fill:"none",fillRule:"evenodd",strokeWidth:"2"},h().createElement("path",{d:"M13.611 1.4H.591M13.611 7H7M13.611 12.6H.591"})))};function zV(e){return function(e){if(Array.isArray(e))return UV(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return UV(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return UV(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function UV(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var FV=(0,il.P1)([function(e){return e.storyBoard.lastRevision},function(e){return e.storyBoard.videoBranding.colors},function(e){return e.crayons}],(function(e,t,n){var r=new Set(n.list.map((function(e){return e.color})));r.add(void 0),r.add(t.primary),r.add(t.secondary),r.add(t.default);var o=[];e.scenes.forEach((function(e){var t=e.composition;Object.values(t).forEach((function(e){e.type===Ts&&(r.has(e.colors.fontColor)||(o.push(e.colors.fontColor),r.add(e.colors.fontColor)),r.has(e.colors.colorOne)||(o.push(e.colors.colorOne),r.add(e.colors.colorOne)),r.has(e.colors.highlight)||(o.push(e.colors.highlight),r.add(e.colors.highlight)))}))}));var a=o.map((function(e,t){return{name:"t".concat(t+1),order:1e15+t,color:e}})),i=[].concat(zV(n.list),zV(a));return i.sort((function(e,t){return e.order-t.order})),i}));function HV(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return VV(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return VV(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function VV(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var WV,GV=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"TextColorPaletteContainer ".concat(e["data-component-name"]):"TextColorPaletteContainer"}})).withConfig({displayName:"preset-color-palettecomponent__TextColorPaletteContainer",componentId:"sc-11kkh27-0"})(["display:",";position:fixed;z-index:4;width:",";border-radius:",";box-shadow:0 "," "," 0 rgba(0,0,0,0.15),0 0 "," 0 rgba(0,0,0,0.15);background-color:#ffffff;right:",";margin-top:",";"],(function(e){return e.show?"block":"none"}),(0,We.rem)(240),(0,We.rem)(3),(0,We.rem)(4),(0,We.rem)(8),(0,We.rem)(1),(0,We.rem)(24),(0,We.rem)(4)),YV=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"SelectedPalette ".concat(e["data-component-name"]):"SelectedPalette"}})).withConfig({displayName:"preset-color-palettecomponent__SelectedPalette",componentId:"sc-11kkh27-1"})(["border-bottom:solid "," #d0d8db;padding:"," ",";"],(0,We.rem)(1),(0,We.rem)(24),(0,We.rem)(12)),qV=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"ColorsGrid ".concat(e["data-component-name"]):"ColorsGrid"}})).withConfig({displayName:"preset-color-palettecomponent__ColorsGrid",componentId:"sc-11kkh27-2"})(["display:flex;flex-direction:column;flex-wrap:wrap;align-items:flex-start;align-content:flex-start;justify-content:flex-start;margin:0 "," "," 0;height:",";& > *{flex:0 0 auto;margin:0 "," "," 0;}",""],(0,We.rem)(-8),(0,We.rem)(-8),(function(e){var t=e.rows;return(0,We.rem)(32*t)}),(0,We.rem)(8),(0,We.rem)(8),(WV=12,(0,Ge.css)(["& > *:last-child{position:relative;&::after{content:'';position:absolute;left:100%;height:",";padding-right:",";}}"],(0,We.rem)(1),(0,We.rem)(WV)))),ZV=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"AvailableColors ".concat(e["data-component-name"]):"AvailableColors"}})).withConfig({displayName:"preset-color-palettecomponent__AvailableColors",componentId:"sc-11kkh27-3"})(["padding:"," ",";overflow-x:auto;"],(0,We.rem)(24),(0,We.rem)(12)),XV=Ge.default.div.attrs({tabIndex:0}).attrs((function(e){return{"data-component-name":e["data-component-name"]?"ColorPaletteButton ".concat(e["data-component-name"]):"ColorPaletteButton"}})).withConfig({displayName:"preset-color-palettecomponent__ColorPaletteButton",componentId:"sc-11kkh27-4"})(["background-color:",";width:",";height:",";border-radius:",";border:none;box-shadow:0 0 0 "," #e3e8e9;&:hover{cursor:pointer;box-shadow:0 0 0 "," ",";}"," ",""],(function(e){return e.color}),(0,We.rem)(24),(0,We.rem)(24),(0,We.rem)(3),(0,We.rem)(1),(0,We.rem)(2),(function(e){return e.theme.colors.primary}),(function(e){return e.selected&&(0,Ge.css)(["box-shadow:0 0 0 "," ",";&:hover{box-shadow:0 0 0 "," ",";}"],(0,We.rem)(2),(function(e){return e.theme.colors.primary}),(0,We.rem)(2),(function(e){return e.theme.colors.primary}))}),(function(e){return"big"===e.size&&(0,Ge.css)(["width:",";height:",";border:none;box-shadow:none;box-sizing:border-box;",""],(0,We.rem)(32),(0,We.rem)(32),(function(e){return"#ffffff"===e.color&&(0,Ge.css)(["border:solid "," #e3e8e9;"],(0,We.rem)(1))}))})),KV=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"ColorPaletteWrapper ".concat(e["data-component-name"]):"ColorPaletteWrapper"}})).withConfig({displayName:"preset-color-palettecomponent__ColorPaletteWrapper",componentId:"sc-11kkh27-5"})(["text-align:left;position:relative;"]),QV=["#04a2ff","#0076ba","#004d80","#00315e","#19e7cf","#04a89d","#007b76","#005a59","#62d837","#1fb100","#007101","#024e06","#fae231","#f7ba00","#ff9200","#d75f01","#ff644e","#ee220d","#b51700","#800d02","#ef5fa7","#cb2a7b","#99195d","#650d47","#ffffff","#6c6c6c","#a9a9a9","#000000"];const $V=(0,T.$j)((function(e){var t;return{selectedPalette:e.storyBoard.videoBranding.colors,crayons:FV(e),closePopover:null===(t=e.activePopover)||void 0===t?void 0:t.closeHandler}}),null)((function(e){var t=e.selectedPalette,n=e.onColorChange,r=e.color,o=e.crayons,a=e.closePopover,i=HV((0,f.useState)(!1),2),c=i[0],l=i[1],s=(0,T.I0)(),u=(0,f.useMemo)((function(){return o&&o.length>0?o.map((function(e){return e.color})):QV}),[o]),d=(0,f.useRef)(null),m=(0,f.useRef)(null);return(0,f.useEffect)((function(){var e=function(e){d&&!d.current.contains(e.target)&&e.target!==m.current&&c&&a()};return document.addEventListener("click",e),function(){document.removeEventListener("click",e)}}),[a,c]),h().createElement(KV,{"data-component-name":"PresetColorPalette"},h().createElement(XV,{size:"big","data-popover-selector":!0,color:r,ref:m,onClick:function(){a&&a(),s(Ul((function(){l(!1)}))),l(!c)}}),h().createElement(GV,{ref:d,show:c,"data-inspector-dropdown":!0,"data-popover":!0,tabIndex:"0"},h().createElement(YV,null,h().createElement(tN,null,oe.ColorPaletteHeader),h().createElement(qV,{rows:1},h().createElement(XV,{color:t.primary,onMouseDown:function(){return n(t.primary)},selected:r===t.primary}),h().createElement(XV,{color:t.secondary,onMouseDown:function(){return n(t.secondary)},selected:r===t.secondary}),h().createElement(XV,{color:t.default,onMouseDown:function(){return n(t.default)},selected:r===t.default}))),h().createElement(ZV,null,h().createElement(qV,{rows:4},u.map((function(e){var t;return h().createElement(XV,{color:e,selected:r===e,key:t=e,"data-key":t,onMouseDown:function(){return n(e)}})}))))))}));function JV(){return h().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","data-component-name":"PencilIconSVG"},h().createElement("g",{fill:"none",fillRule:"evenodd",stroke:"#B3BFC8",strokeWidth:"2"},h().createElement("path",{strokeLinecap:"square",d:"M13.414 7.596l2.829 2.829"}),h().createElement("path",{strokeLinejoin:"round",d:"M18.718 4.414l1.414 1.414a2 2 0 0 1 0 2.829L9.525 19.263l-4.95.708.707-4.95L15.89 4.414a2 2 0 0 1 2.829 0z"})))}const eW=function(e){var t=e.className;return h().createElement("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","data-component-name":"ChevronDownSVG"},h().createElement("path",{fill:"none",fillRule:"evenodd",stroke:"#1A2E3B",strokeLinejoin:"round",strokeWidth:"2",d:"M17 10l-5 4.5L7 10"}))};function tW(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return nW(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nW(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nW(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var rW=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"FontControlContainer ".concat(e["data-component-name"]):"FontControlContainer"}})).withConfig({displayName:"text-sticker-fontcomponent__FontControlContainer",componentId:"ddyeak-0"})(["height:",";position:relative;margin:"," 0;cursor:pointer;"],(0,We.rem)(40),(0,We.rem)(8)),oW=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"FontInputContainer ".concat(e["data-component-name"]):"FontInputContainer"}})).withConfig({displayName:"text-sticker-fontcomponent__FontInputContainer",componentId:"ddyeak-1"})(["height:100%;border:solid "," #d0d8db;border-radius:",";padding:0 ",";pointer-events:none;"],(0,We.rem)(1),(0,We.rem)(3),(0,We.rem)(12)),aW=Ge.default.input.attrs((function(e){return{"data-component-name":e["data-component-name"]?"FontInput ".concat(e["data-component-name"]):"FontInput"}})).withConfig({displayName:"text-sticker-fontcomponent__FontInput",componentId:"ddyeak-2"})(["height:100%;border:0;top:0;font-size:",";position:absolute;width:",";background-color:transparent;color:#000;pointer-events:none;"],(0,We.rem)(14),(0,We.rem)(142)),iW=(0,Ge.default)(eW).attrs((function(e){return{"data-component-name":e["data-component-name"]?"OpenFontsListIcon ".concat(e["data-component-name"]):"OpenFontsListIcon"}})).withConfig({displayName:"text-sticker-fontcomponent__OpenFontsListIcon",componentId:"ddyeak-3"})(["position:absolute;top:",";right:",";pointer-events:none;"],(0,We.rem)(8),(0,We.rem)(12)),cW=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"FontsListContainer ".concat(e["data-component-name"]):"FontsListContainer"}})).withConfig({displayName:"text-sticker-fontcomponent__FontsListContainer",componentId:"ddyeak-4"})(["display:",";flex-direction:column;background-color:white;font-size:",";box-shadow:0 "," "," "," hsla(0,0%,0%,0.05),0 "," "," "," rgba(0,0,0,0.05),0 "," "," "," rgba(0,0,0,0.05);overflow-y:hidden;z-index:4;height:",";width:",";position:fixed;margin-left:",";"],(function(e){return e.show?"flex":"none"}),(0,We.rem)(14),(0,We.rem)(5),(0,We.rem)(5),(0,We.rem)(-3),(0,We.rem)(8),(0,We.rem)(10),(0,We.rem)(1),(0,We.rem)(3),(0,We.rem)(14),(0,We.rem)(2),(0,We.rem)(288),(0,We.rem)(240),(0,We.rem)(-16)),lW=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"FontItemStyled ".concat(e["data-component-name"]):"FontItemStyled"}})).withConfig({displayName:"text-sticker-fontcomponent__FontItemStyled",componentId:"ddyeak-5"})(["flex:0 0 auto;position:relative;cursor:pointer;height:",";padding:"," "," "," ",";&:hover{background-color:#f7f8f9;}",""],(0,We.rem)(40),(0,We.rem)(3),(0,We.rem)(15),(0,We.rem)(3),(0,We.rem)(32),(function(e){return e.disabled&&(0,Ge.css)(["pointer-events:none;opacity:0.25;"])})),sW=(0,Ge.default)(aC).attrs((function(e){return{"data-component-name":e["data-component-name"]?"StyledCheckmarkIcon ".concat(e["data-component-name"]):"StyledCheckmarkIcon"}})).withConfig({displayName:"text-sticker-fontcomponent__StyledCheckmarkIcon",componentId:"ddyeak-6"})(["position:absolute;top:50%;transform:translateY(-50%);left:",";"],(0,We.rem)(12)),uW=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"FontPencilWrapper ".concat(e["data-component-name"]):"FontPencilWrapper"}})).withConfig({displayName:"text-sticker-fontcomponent__FontPencilWrapper",componentId:"ddyeak-7"})(["position:absolute;right:",";padding:",";bottom:",";z-index:1;"],(0,We.rem)(15),(0,We.rem)(2),(0,We.rem)(-35)),dW=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"AddBrandingFontContainer ".concat(e["data-component-name"]):"AddBrandingFontContainer"}})).withConfig({displayName:"text-sticker-fontcomponent__AddBrandingFontContainer",componentId:"ddyeak-8"})(["flex:0 0 auto;padding:",";width:100%;background-color:white;box-shadow:0 0 "," 0 rgba(0,0,0,0.33);line-height:initial;"],(0,We.rem)(8),(0,We.rem)(15)),mW=(0,Ge.default)(Tv).attrs((function(e){return{"data-component-name":e["data-component-name"]?"AddBrandingFontButton ".concat(e["data-component-name"]):"AddBrandingFontButton"}})).withConfig({displayName:"text-sticker-fontcomponent__AddBrandingFontButton",componentId:"ddyeak-9"})(["height:",";border-radius:",";width:100%;background-color:",";color:#fff;font-size:",";font-weight:bold;border:0;line-height:initial;min-height:initial;"],(0,We.rem)(32),(0,We.rem)(2),(function(e){return e.theme.colors.primary}),(0,We.rem)(14)),pW=(0,Ge.default)(oC).attrs((function(e){return{"data-component-name":e["data-component-name"]?"FontThumbnail ".concat(e["data-component-name"]):"FontThumbnail"}})).withConfig({displayName:"text-sticker-fontcomponent__FontThumbnail",componentId:"ddyeak-10"})(["height:100%;"]),fW=h().memo((function(e){var t=e.font,n=e.onFontChange,r=e.selectedFontName,o=e.disabled,a=e.className,i=void 0===a?"":a;return h().createElement(lW,{onClick:function(e){e.target.scrollIntoView({block:"nearest"}),n(t)},className:"".concat(i," ").concat(t.name===r&&"selected"),disabled:o,"data-component-name":"FontItem"},t.name===r&&h().createElement(sW,null),h().createElement(pW,{src:t.thumbnails.svg_horizontal,containerStyle:{overflow:"hidden"}}))})),hW=(0,Ge.default)(fW).attrs((function(e){return{"data-component-name":e["data-component-name"]?"BrandFontItem ".concat(e["data-component-name"]):"BrandFontItem"}})).withConfig({displayName:"text-sticker-fontcomponent__BrandFontItem",componentId:"ddyeak-11"})(["padding-right:",";"],(0,We.rem)(50)),gW=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"UnavailableFontsContainer ".concat(e["data-component-name"]):"UnavailableFontsContainer"}})).withConfig({displayName:"text-sticker-fontcomponent__UnavailableFontsContainer",componentId:"ddyeak-12"})(["pointer-events:none;opacity:0.25;"]),yW=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"FontsListSeparator ".concat(e["data-component-name"]):"FontsListSeparator"}})).withConfig({displayName:"text-sticker-fontcomponent__FontsListSeparator",componentId:"ddyeak-13"})(["flex:0 0 auto;height:",";background-color:#e3e8e9;"],(0,We.rem)(1)),bW=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"FontsListLabel ".concat(e["data-component-name"]):"FontsListLabel"}})).withConfig({displayName:"text-sticker-fontcomponent__FontsListLabel",componentId:"ddyeak-14"})(["flex:0 0 auto;position:relative;font-family:HelveticaNeue;font-size:",";line-height:",";font-weight:bold;color:#1a2e3b;padding:"," 0 "," ",";height:initial;"],(0,We.rem)(14),(0,We.rem)(20),(0,We.rem)(16),(0,We.rem)(8),(0,We.rem)(30)),vW=function(e){var t=e.currentFontName,n=e.brandingFont,r=e.brandingFontSupportsCurrentLanguage,o=e.onFontChange,a=e.openBranding,i=(0,T.v9)((function(e){return e.userCapabilities.capabilities.canBrandVideo})),c=i.tier,l=i.isVisible,s=(c||{}).name;return!!n&&l&&h().createElement(h().Fragment,null,h().createElement(bW,null,oe.TextInspectorFontsBrandFont,h().createElement(uW,null,h().createElement(JL,{size:"sm",format:"transparent",tooltipText:oe.Edit,onClick:function(e){e.stopPropagation(),a("font",PC,oe.brandingFontUpsellTitle(s),"editor_screen","use_font")},iconReactComponent:h().createElement(JV,null)}))),h().createElement(hW,{disabled:!r,font:n,selectedFontName:t,onFontChange:o}),h().createElement(yW,null))},EW=function(e){var t=e.brandingFont,n=e.openBranding,r=(0,T.v9)((function(e){return e.userCapabilities.capabilities.canBrandVideo})),o=r.tier,a=r.isVisible,i=(o||{}).name;return!t&&a&&h().createElement(dW,{"data-component-name":"AddBrandingFontSection"},h().createElement(mW,{onMouseDown:function(e){e.stopPropagation(),n("font",PC,oe.brandingFontUpsellTitle(i),"editor_screen","use_font")}},oe.AddCustomBrandFontButton))},wW=function(e){var t=e.show,n=e.currentFontName,r=e.brandingFontName,o=e.language,a=e.fonts,i=e.fontsFamilies,c=e.fontsByLanguage,l=e.onFontChange,s=e.openBranding,u=(0,f.useRef)();(0,f.useEffect)((function(){var e=u.current.querySelector(".selected");t&&e&&e.scrollIntoView({block:"center"})}),[t]);var d=o&&c[o].fonts,m=(0,f.useMemo)((function(){var e=d&&of(r,{language:o,fonts:a,languageFonts:d});return{brandingFont:e||a[r],brandingFontSupportsCurrentLanguage:!!e}}),[r,o,a,d]),p=m.brandingFont,g=m.brandingFontSupportsCurrentLanguage,y=p&&p.family,b=(0,f.useMemo)((function(){return d?d.filter((function(e){return e.family!==y})):[]}),[d,y]),v=(0,f.useMemo)((function(){if(!d)return[];var e=new Set(d.map((function(e){return e.family})));return i.map((function(e){return e[0]})).filter((function(t){return!e.has(t.family)&&t.family!==y}))}),[d,i,y]);return h().createElement(cW,{show:t,ref:u,"data-inspector-dropdown":!0,"data-component-name":"FontsDropdownList"},h().createElement(vW,{currentFontName:n,brandingFont:p,brandingFontSupportsCurrentLanguage:g,onFontChange:l,openBranding:s}),h().createElement(lP,{hasBrandingFont:p,style:{flex:"1 1 100%",width:"100%"}},b.map((function(e){var t;return h().createElement(fW,{key:t=e.name,"data-key":t,font:e,selectedFontName:n,onFontChange:l})})),v.length>0&&h().createElement(h().Fragment,null,h().createElement(yW,null),h().createElement(gW,null,v.map((function(e){var t;return h().createElement(fW,{key:t=e.name,"data-key":t,font:e,selectedFontName:n,onFontChange:l})}))))),h().createElement(EW,{brandingFont:p,openBranding:s}))},AW=h().memo((function(e){var t=e.currentFontName,n=e.currentFont,r=e.brandingFontName,o=e.language,a=e.fonts,i=e.fontsFamilies,c=e.fontsByLanguage,l=e.onFontChange,s=e.openBranding,u=e.closePopover,d=(0,T.I0)(),m=tW((0,f.useState)(!1),2),p=m[0],g=m[1],y=u;return h().createElement(rW,{tabIndex:"0","data-popover-selector":!0,onClick:function(e){e.currentTarget===e.target&&(p?y():(d(Ul((function(){g(!1)}))),g(!0)))},onBlur:function(e){(function(e){var t=e.target,n=e.relatedTarget;if(!n||n===t)return!1;for(var r=n.parentElement;r&&r!==t;)r=r.parentElement;return r===t})(e)||p&&g(!1)},"data-component-name":"FontControl"},h().createElement(oW,null,h().createElement(aW,{type:"text",disabled:!0,value:n.family}),h().createElement(iW,null)),h().createElement(wW,{"data-popover":!0,show:p,currentFontName:t,brandingFontName:r,language:o,fonts:a,fontsFamilies:i,fontsByLanguage:c,onFontChange:l,openBranding:function(){y(),s("font")}}))})),CW={updateText:Ef},SW=(0,T.$j)((function(e){var t,n=e.fontsSettings;return{fonts:n.fonts,fontsFamilies:Qp(e),fontsByLanguage:$p(e),brandingFontName:n.brand,closePopover:null===(t=e.activePopover)||void 0===t?void 0:t.closeHandler}}),CW)((function(e){var t=e.sceneId,n=e.ce,r=e.fonts,o=e.fontsFamilies,a=e.fontsByLanguage,i=e.brandingFontName,c=e.updateText,l=e.openBranding,s=e.closePopover,u=n.language,d=n.font,m=(0,f.useCallback)((function(e){c(t,n,{font:e.name})}),[t,n,c]);return h().createElement(AW,{currentFontName:d,currentFont:r[d],brandingFontName:i,language:u,fonts:r,fontsFamilies:o,fontsByLanguage:a,openBranding:l,onFontChange:m,closePopover:s,"data-component-name":"TextStickerFontView"})}));function _W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_W(Object(n),!0).forEach((function(t){IW(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function IW(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TW(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return OW(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OW(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function OW(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var kW=h().memo((function(e){var t=e.sceneId,n=e.ceId,r=e.dropShadow,o=e.updateProperties,a=(0,f.useMemo)((function(){return[{id:Zs,displayName:oe.TextStickerDropShadowNone},{id:Xs,displayName:oe.TextStickerDropShadowSoft},{id:Ks,displayName:oe.TextStickerDropShadowNormal},{id:Qs,displayName:oe.TextStickerDropShadowSharp}]}),[]),i=(0,f.useCallback)((function(e){var r;r={dropShadowType:e}.dropShadowType,Li({name:"vimeo.click_to_select_drop_shadow",product:Si,location:ba,flow:fa.flow,test_layout:null,version:2,drop_shadow_type:r}),o(t,n,{dropShadow:e})}),[n,t,o]);return h().createElement(h().Fragment,null,h().createElement(sN,{labelText:oe.TextInspectorPropertiesDropShadow,selectedItemId:r,items:a,onItemSelected:i}),h().createElement(eN,null))})),MW=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"IntervalBox ".concat(e["data-component-name"]):"IntervalBox"}})).withConfig({displayName:"text-sticker-propertiescomponent__IntervalBox",componentId:"e74nt6-0"})(["background-color:black;color:green;position:relative;margin:8px -17px;padding:7px 17px;::after{content:'DEV MODE';display:block;position:absolute;right:2px;top:0;}p p{color:green;}"]),BW=h().memo((function(e){var t=e.sceneId,n=e.ce,r=e.orientation,o=e.fontsParams,a=e.updateRect,i=(0,f.useCallback)((function(e){var o=n.text,i=n.font,c=n.fontSize,l=n.rect;(function(e){var t,n=e.text,r=e.font,o=e.fontSize,a=e.lineHeight,i=void 0===a?pm:a,c=e.prevRect,l=e.orientation;return fm({text:n,font:r,fontSize:o,lineHeight:i,orientation:l}).then((function(e){t=e;var n=e.getTextWidth(),r=e.getTextHeight();return hm(c,n,r)})).finally((function(){t&&t.destroy()}))})({text:o,font:i,fontSize:c,lineHeight:e,prevRect:l,orientation:r}).then((function(e){a(t,n.id,e,c)}))}),[t,n,r,a]),c=TW((0,f.useState)(null),2),l=c[0],s=c[1],u=TW((0,f.useState)(null),2),d=u[0],m=u[1];if((0,f.useEffect)((function(){(function(e){var t,n=e.text,r=e.font,o=e.fontSize,a=e.rect,i=e.orientation;return fm({text:n,font:r,fontSize:o,lineHeight:pm,orientation:i}).then((function(e){t=e;var r=e.getTextHeightInPx(),o=e.getFontSizeInPx();return{defaultLineHeight:r/n.length/o,lineHeight:a.height*e.SVG_HEIGHT/n.length/o}})).finally((function(){t&&t.destroy()}))})({text:n.text,font:n.font,fontSize:n.fontSize,rect:n.rect,orientation:r}).then((function(e){var t=e.defaultLineHeight,n=e.lineHeight;(0,T.dC)((function(){s(n),m(t)}))}))}),[n,r]),null===l||null===d)return null;var p=o[n.font],g=p&&p.metaData.lineHeight;return h().createElement(MW,{"data-component-name":"LineHeightControl"},h().createElement("div",null,h().createElement("strong",null,"FONT SETTINGS:"," ",g?g.toFixed(2):"not specified")),h().createElement("div",null,h().createElement("strong",null,"FONT DEFAULT: ",d.toFixed(2))),h().createElement(XP,{label:oe.TextInspectorPropertiesLineHeight,value:l,min:.5,max:2,step:.01,precision:2,onValueMutating:i,onValueCommited:i}))})),jW=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"AlignmentControlWrapper ".concat(e["data-component-name"]):"AlignmentControlWrapper"}})).withConfig({displayName:"text-sticker-propertiescomponent__AlignmentControlWrapper",componentId:"e74nt6-1"})(["border:solid "," #d0d8db;border-radius:",";height:",";margin:"," 0;span{width:33.3%;height:",";display:inline-flex;justify-content:center;align-items:center;border-right:solid "," #d0d8db;cursor:pointer;&:last-of-type{border-right:none;}&:hover{svg{stroke:#1a2e3b !important;}}}"],(0,We.rem)(1),(0,We.rem)(3),(0,We.rem)(40),(0,We.rem)(8),(0,We.rem)(40),(0,We.rem)(1)),LW=h().memo((function(e){var t=e.alignment,n=e.onAlignmentChange;return h().createElement(jW,{"data-component-name":"AlignmentControl"},h().createElement("span",{onClick:function(){return n("left")}},h().createElement(NV,{style:{stroke:"left"===t?"#1a2e3b":"#b3bfc8"}})),h().createElement("span",{onClick:function(){return n("center")}},h().createElement(LV,{style:{stroke:"center"===t?"#1a2e3b":"#b3bfc8"}})),h().createElement("span",{onClick:function(){return n("right")}},h().createElement(RV,{style:{stroke:"right"===t?"#1a2e3b":"#b3bfc8"}})))})),PW=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"ColorControlWrapper ".concat(e["data-component-name"]):"ColorControlWrapper"}})).withConfig({displayName:"text-sticker-propertiescomponent__ColorControlWrapper",componentId:"e74nt6-2"})(["display:flex;flex-direction:row;align-items:center;margin:"," 0;"],(0,We.rem)(16)),NW=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"ColorControlLabel ".concat(e["data-component-name"]):"ColorControlLabel"}})).withConfig({displayName:"text-sticker-propertiescomponent__ColorControlLabel",componentId:"e74nt6-3"})(["flex:1 1;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;"]),DW=(0,Ge.default)($V).attrs((function(e){return{"data-component-name":e["data-component-name"]?"ColorPicker ".concat(e["data-component-name"]):"ColorPicker"}})).withConfig({displayName:"text-sticker-propertiescomponent__ColorPicker",componentId:"e74nt6-4"})(["flex:0 0;"]),RW=function(e){var t=e.label,n=e.color,r=e.onColorChange;return h().createElement(PW,{"data-component-name":"ColorControl"},h().createElement(NW,null,t),h().createElement(DW,{color:n,onColorChange:r}))},zW=function(e,t,n,r,o){return r+(e-t)*(o-r)/(n-t)},UW={updateProperties:function(e,t,n){return function(r){return r({type:gf,sceneId:e,selectedCEId:t,payload:lf({},n)})}},updateRect:wf,setOverrides:ds,removeOverrides:ms},FW=(0,T.$j)((function(e,t){var n=t.sceneId,r=t.ce,o=e.fontsSettings,a=e.storyBoard,i=e.overrides,c=e.featureToggles,l=e.textStickerAssets;return{overrides:i["".concat(r.id,"@").concat(n)],fontsParams:o.fonts,textStickerAssets:l,orientation:a.orientation,dropShadowFT:c.values.textStickerDropShadow,lineHeightFT:c.values.lineHeight,showFontSizeControlFT:c.values.showFontSizeControl}}),UW)((function(e){var t,n=e.sceneId,r=e.ce,o=e.overrides,a=e.fontsParams,i=e.textStickerAssets,c=e.orientation,l=e.updateProperties,s=e.updateRect,u=e.setOverrides,d=e.removeOverrides,m=e.dropShadowFT,p=e.lineHeightFT,g=e.showFontSizeControlFT,y=e.openBranding,b=r.textStyleId,v=r.rect,E=r.fontSize,w=r.dropShadow,A=i[b].metaData,C=b===es,S=c,_=20/("portrait"===c?1920:1080),x=(0,f.useMemo)((function(){return im(v,A,{whUnitsRatio:S,isCircle:C})}),[v,A,S,C]),I=(0,f.useMemo)((function(){var e=x.width*x.height;return E/Math.sqrt(e)}),[x,E]),O=o&&o.userRect,k=E*(O?O.height/x.height:1),M=O||x,B=g?M.width*M.height*100:zW(k,0,I,0,qn),j=g?Math.ceil(B/Math.pow(E/_,2)):Math.ceil(zW(_,0,I,0,qn)),L=(0,f.useCallback)((function(e){var t=Math.max(j,Math.min(qn,e));return zW(t,0,qn,0,I)}),[j,I]),P=(0,f.useCallback)((function(e){var t;if(g){var o=x.width/x.height,a=Math.sqrt(e/100*o);t=hm(x,a,a/o)}else{var i=L(e)/E;t=hm(x,x.width*i,x.height*i)}u(n,r.id,{userRect:t})}),[g,n,r.id,x,E,L,u]),N=(0,f.useCallback)((function(e){var t;if(g){var o=x.width*x.height*100,a=Math.sqrt(e/o);t=E*a}else t=L(e);(0,T.dC)((function(){d(),s(n,r.id,null,t)}))}),[g,n,r.id,x,E,L,s,d]),D=(0,f.useCallback)((function(e){var t=e/100/E,o=hm(x,x.width*t,x.height*t);u(n,r.id,{userRect:o})}),[n,r.id,x,E,u]),R=(0,f.useCallback)((function(e){var t=e/100;(0,T.dC)((function(){d(),s(n,r.id,null,t)}))}),[n,r.id,s,d]),z=null!==(t=null==o?void 0:o.bgAlpha)&&void 0!==t?t:r.bgAlpha,U=(0,f.useCallback)((function(e){d(),l(n,r.id,{bgAlpha:e})}),[l,n,r.id,d]),F=(0,f.useCallback)((function(e){u(n,r.id,{bgAlpha:e})}),[u,n,r.id]),H=r.align,V=(0,f.useCallback)((function(e){l(n,r.id,{align:e})}),[n,r.id,l]),W=r.colors,G=W.fontColor,Y=W.colorOne,q=W.highlight,Z=(0,f.useCallback)((function(e){l(n,r.id,{colors:xW(xW({},W),e)})}),[n,r.id,W,l]),X=r.text,K=(0,f.useMemo)((function(){return gu(X)}),[X]);return h().createElement(h().Fragment,null,h().createElement(XP,{step:1,label:oe.TextInspectorPropertiesScale,value:B,min:j,max:qn,onValueMutating:P,onValueCommited:N,unitSign:"%"}),g&&h().createElement(XP,{step:1,label:"Font Size",value:100*k,min:Math.ceil(100*_),max:100,onValueMutating:D,onValueCommited:R}),h().createElement(eN,null),h().createElement(SW,{sceneId:n,ce:r,openBranding:y}),h().createElement(LW,{alignment:H,onAlignmentChange:V}),h().createElement(eN,null),m&&h().createElement(kW,{sceneId:n,ceId:r.id,dropShadow:w,updateProperties:l}),h().createElement(RW,{label:oe.TextInspectorPropertiesTextColor,color:G,onColorChange:function(e){return Z({fontColor:e})}}),K&&h().createElement(RW,{label:oe.TextInspectorPropertiesHighlightColor,color:q,onColorChange:function(e){return Z({highlight:e})}}),h().createElement(RW,{label:oe.TextInspectorPropertiesBackgroundColor,color:Y,onColorChange:function(e){return Z({colorOne:e})}}),h().createElement(XP,{label:oe.TextInspectorPropertiesBackgroundOpacity,value:z,min:0,max:100,step:1,unitSign:"%",onValueMutating:F,onValueCommited:U}),p&&h().createElement(BW,{sceneId:n,ce:r,orientation:c,fontsParams:a,updateRect:s}))})),HW="bodymovin",VW=(0,il.P1)((function(e){return e.textStickerAssets}),(function(e){return Object.values(e).filter((function(e){return e.name!==Qn})).sort((function(e,t){return e.order-t.order}))})),WW=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"TextStickerBox ".concat(e["data-component-name"]):"TextStickerBox"}})).withConfig({displayName:"text-sticker-style-configurationcomponent__TextStickerBox",componentId:"sc-1sallyb-0"})(["position:relative;padding:",";box-sizing:content-box;background-color:#eef1f2;user-select:none;::after{content:'';pointer-events:none;position:absolute;box-sizing:content-box;width:100%;height:100%;border:none;border-radius:",";box-shadow:0 0 0 "," #e3e8e9;}"," ",""],(0,We.rem)(0),(0,We.rem)(5),(0,We.rem)(1),(function(e){return 0===e.appearance?(0,Ge.css)(["width:",";height:",";"],(0,We.rem)(64),(0,We.rem)(64)):(0,Ge.css)(["width:",";height:",";margin:",";cursor:pointer;:hover::after{border-radius:",";box-shadow:0 0 0 "," ",";}",""],(0,We.rem)(96),(0,We.rem)(96),(0,We.rem)(8),(0,We.rem)(3),(0,We.rem)(2),(function(e){return e.theme.colors.hover}),(function(e){return e.selected&&(0,Ge.css)(["&::after,&:hover::after{border-radius:",";box-shadow:0 0 0 "," ",";}"],(0,We.rem)(3),(0,We.rem)(2),(function(e){return e.theme.colors.primary}))}))}),(function(e){return e.test&&(0,Ge.css)(["::before,:hover::before{content:'';pointer-events:none;position:absolute;box-sizing:content-box;width:100%;height:100%;border:none;border-radius:",";box-shadow:0 0 0 "," red;}"],(0,We.rem)(3),(0,We.rem)(4))})),GW=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"TextStickerFallbackThumbnail ".concat(e["data-component-name"]):"TextStickerFallbackThumbnail"}})).withConfig({displayName:"text-sticker-style-configurationcomponent__TextStickerFallbackThumbnail",componentId:"sc-1sallyb-1"})(["position:absolute;top:50%;transform:translateY(-50%);width:100%;padding:10px;white-space:break-spaces;color:red;font-weight:bold;text-align:center;"]),YW=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"LottieContainer ".concat(e["data-component-name"]):"LottieContainer"}})).withConfig({displayName:"text-sticker-style-configurationcomponent__LottieContainer",componentId:"sc-1sallyb-2"})(["position:absolute;top:0;right:0;bottom:0;left:0;display:inline-flex;vertical-align:top;align-items:center;justify-content:center;overflow:hidden;"]),qW={height:(0,We.rem)(576),padding:0},ZW=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"ScrollableStyle ".concat(e["data-component-name"]):"ScrollableStyle"}})).withConfig({displayName:"text-sticker-style-configurationcomponent__ScrollableStyle",componentId:"sc-1sallyb-3"})(["display:flex;flex-direction:row;align-content:flex-start;flex-wrap:wrap;align-content:flex-start;padding:",";"],(0,We.rem)(8)),XW=function(e){var t=e.children;return h().createElement(lP,{scrollY:!0,scrollX:!1,style:{flex:"1 1",height:"100%"},"data-component-name":"DropdownGalleryItemsWrapper"},h().createElement(ZW,null,t))},KW=h().memo((function(e){var t=e.bodymovinURL,r=e.staticFrame,o=void 0===r?30:r,a=(0,f.useRef)(null),i=(0,f.useRef)(null);return(0,f.useEffect)((function(){var e=n.e(375).then(n.t.bind(n,752402360832183,23)).then((function(e){var n=e.loadAnimation({container:a.current,renderer:"svg",loop:!0,autoplay:!1,path:t});return n.goToAndStop(o,!0),i.current=n,function(){return n.destroy()}}));return function(){return e.then((function(e){return e()}))}}),[t,o]),IA((function(){return i.current&&i.current.goToAndPlay(0,!0)}),(function(){return i.current&&i.current.goToAndStop(o,!0)}),a),h().createElement(YW,{ref:a,"data-component-name":"TextStickerLottieThumbnail"})})),QW=function(e){var t,n=e.textStickerAsset,r=n.displayName,o=n.metaData,a=n.isTest,i=n.thumbnails,c=e.appearance,l=e.selected,s=e.onSelect,u=(0,f.useMemo)((function(){return i&&i.find((function(e){return e.size===HW}))}),[i]);return h().createElement(WW,{appearance:c,selected:l,onClick:s,test:a,"data-component-name":"TextStickerThumbnail"},u?h().createElement(KW,{bodymovinURL:u.url,staticFrame:null==o||null===(t=o.thumbnail)||void 0===t?void 0:t.static_frame}):h().createElement(GW,null,r))},$W={updateTextStyleId:function(e,t,n){return function(r,o){var a=o(),i=a.textStickerAssets,c=a.storyBoard.orientation,l=function(e){var t=e.textStyleId,n=e.ce,r=e.orientation,o=e.textStickerAssets,a=o[n.textStyleId].metaData,i=o[t].metaData,c=n.textStyleId===es,l=t===es,s=Wp(n.rect,a,{whUnitsRatio:r,isCircle:c}),u=s.width*s.height*(c?Math.PI/4:1),d=Wp(n.rect,i,{whUnitsRatio:r,isCircle:l}),m=d.width*d.height*(l?Math.PI/4:1),p=20/("portrait"===r?1920:1080)/n.fontSize,f=Math.max(p,0===m?1:Math.sqrt(u/m)),h=Bp(s,d.width*f,d.height*f),g=Yp(Pp(h,s,r),2),y=g[0],b=f*g[1];return{rect:Gp(n.rect,d,y,b,b),fontSize:n.fontSize*b,bgAlpha:i.defaults.bg_alpha}}({textStyleId:n,ce:t,orientation:c,textStickerAssets:i}),s=l.rect,u=l.fontSize,d=l.bgAlpha;Cp.publish(wp,{sceneId:e,ceId:t.id,textStyleId:n}),(0,T.dC)((function(){r({type:hf,sceneId:e,selectedCEId:t.id,payload:{textStyleId:n,rect:s,fontSize:u,bgAlpha:d}}),r(Jh(e,t.id,!1))}))}}},JW=(0,T.$j)((function(e,t){var n=t.ce;return{selectedTextStickerAsset:e.textStickerAssets[n.textStyleId],orderedTextStickerAssets:VW(e)}}),$W)((function(e){var t=e.sceneId,n=e.ce,r=e.selectedTextStickerAsset,o=e.orderedTextStickerAssets,a=e.updateTextStyleId,i=h().createElement(QW,{textStickerAsset:r,appearance:0}),c=o.map((function(e){var r;return h().createElement(QW,{key:r=e.name,"data-key":r,textStickerAsset:e,appearance:1,selected:n.textStyleId===e.name,onSelect:function(){return a(t,n,e.name)},"data-component-name":"stylesList"})}));return h().createElement(xV,{selectedElem:i,listOfElems:c,dropdownListStyle:qW,label:oe.TextInspectorStyleLabel,ItemsWrapper:XW,"data-component-name":"TextStickerStyleConfigurationView"})}));const eG=function(e){var t=e.sceneId,n=e.ce,r=e.openBranding;return h().createElement(rN,{"data-component-name":"TextStyleInspector"},h().createElement(JW,{sceneId:t,ce:n}),h().createElement(eN,null),h().createElement(FW,{sceneId:t,ce:n,openBranding:r}))};function tG(){return(tG=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var nG=S("Inspector");const rG=(0,T.$j)((function(e){return{selectedScene:hs(e),selectedComposition:gs(e)}}),null)((function(e){var t=e.selectedScene,n=e.selectedComposition,r=e.openBranding,o=(0,f.useMemo)((function(){var o;if(t&&(!n||n.isMaster())){if(t.ready){var a=t.getSceneType();switch(a){case Gu:o=oe.ImageSceneInspectorHeader;break;case Yu:o=oe.VideoSceneInspectorHeader;break;case qu:o=oe.TextInspectorHeader;break;default:nG.error('Unexpected scene type "'.concat(a,'"')),o=""}}else o=oe.NonReadySceneInspectorHeader;return{inspectorTitle:o,isMainInspector:!0,inspectorContentElement:h().createElement(BV,tG({},e,{sceneId:t.id}))}}if(n){var i;switch(n.type){case Ts:o=oe.TextInspectorHeader,i=h().createElement(eG,{scene:t,sceneId:t.id,ce:n,openBranding:r});break;case _s:o=oe.ImageStickerInspectorHeader,i=h().createElement(yN,{scene:t,sceneId:t.id,ce:n});break;default:nG.error('Unexpected composition element type "'.concat(n.type,'"'))}return{inspectorTitle:o,isMainInspector:!1,inspectorContentElement:i}}return{inspectorTitle:null,isMainInspector:!1,inspectorContentElement:null}}),[t,n,e,r]),a=o.inspectorContentElement,i=o.isMainInspector,c=o.inspectorTitle;return h().createElement($P,{scene:t,"data-component-name":"Inspector","data-key":e["data-key"]},h().createElement(vN,{label:c,isUnselectSupported:!i}),a)}));function oG(e){var t=FC(window.location.host).name,n="/admin/".concat(e),r="";return"vimeo"===t&&(r="https://www.magisto.com"),"".concat(r).concat(n)}var aG=n(901651008478473),iG=(0,Ge.default)(aG.Card).attrs((function(e){return{"data-component-name":e["data-component-name"]?"ReportWrapper ".concat(e["data-component-name"]):"ReportWrapper"}})).withConfig({displayName:"bug-reportstyle__ReportWrapper",componentId:"nkxese-0"})(["border:1px solid;position:absolute;z-index:100;background:white;display:block;min-width:100%;width:auto;overflow:hidden;"]),cG=Ge.default.form.attrs((function(e){return{"data-component-name":e["data-component-name"]?"FormWrapper ".concat(e["data-component-name"]):"FormWrapper"}})).withConfig({displayName:"bug-reportstyle__FormWrapper",componentId:"nkxese-1"})(["flex:1;padding:0 "," ",";"],(0,We.rem)(20),(0,We.rem)(30)),lG=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"InputItemWrapper ".concat(e["data-component-name"]):"InputItemWrapper"}})).withConfig({displayName:"bug-reportstyle__InputItemWrapper",componentId:"nkxese-2"})(["margin-top:",";"],(0,We.rem)(20)),sG=(0,Ge.default)(xL.TextArea).attrs((function(e){return{"data-component-name":e["data-component-name"]?"TextAreaWrapper ".concat(e["data-component-name"]):"TextAreaWrapper"}})).withConfig({displayName:"bug-reportstyle__TextAreaWrapper",componentId:"nkxese-3"})(["height:",";"],(0,We.rem)(100)),uG=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"ButtonsWrapper ".concat(e["data-component-name"]):"ButtonsWrapper"}})).withConfig({displayName:"bug-reportstyle__ButtonsWrapper",componentId:"nkxese-4"})(["display:flex;margin-top:",";justify-content:center;"],(0,We.rem)(30)),dG=(0,Ge.default)(Iv).attrs((function(e){return{"data-component-name":e["data-component-name"]?"ButtonWrapper ".concat(e["data-component-name"]):"ButtonWrapper"}})).withConfig({displayName:"bug-reportstyle__ButtonWrapper",componentId:"nkxese-5"})(["width:100%;margin-left:",";"],(function(e){return"primary"===e.format?(0,We.rem)(10):0})),mG=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"MessagesWrapper ".concat(e["data-component-name"]):"MessagesWrapper"}})).withConfig({displayName:"bug-reportstyle__MessagesWrapper",componentId:"nkxese-6"})(["display:flex;margin:"," 0;position:relative;align-items:center;white-space:normal;line-break:anywhere;"],(0,We.rem)(20)),pG=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"SuccessMessageText ".concat(e["data-component-name"]):"SuccessMessageText"}})).withConfig({displayName:"bug-reportstyle__SuccessMessageText",componentId:"nkxese-7"})(["color:",";"],$x.PistachioDarkened),fG=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"ErrorMessageText ".concat(e["data-component-name"]):"ErrorMessageText"}})).withConfig({displayName:"bug-reportstyle__ErrorMessageText",componentId:"nkxese-8"})(["color:",";"],$x.SunsetOrangeDarkened),hG=function(e){return h().createElement(pG,{"data-component-name":"SuccessMessage","data-key":e["data-key"]},h().createElement("div",null,"Bug reported. Thank you!"),(null==e?void 0:e.reportMessage)&&h().createElement("a",{href:e.reportMessage,rel:"noreferrer",target:"_blank"},"click here to view ticket"))},gG=function(e){return(null==e?void 0:e.reportMessage)&&h().createElement(fG,{"data-component-name":"ErrorMessage","data-key":e["data-key"]},"Error: ",e.reportMessage)};function yG(e,t,n,r,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,o)}function bG(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return vG(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vG(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vG(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var EG=function(e){var t=e.toggleBugReport,n=bG((0,f.useState)(!1),2),r=n[0],o=n[1],a=bG((0,f.useState)(!1),2),i=a[0],c=a[1],l=bG((0,f.useState)(!1),2),s=l[0],u=l[1],d=bG((0,f.useState)(null),2),m=d[0],p=d[1],g=(0,f.useRef)(null),y=(0,f.useRef)(null),b=(0,f.useCallback)((function(e){var t=new FormData;return Object.keys(e).forEach((function(n){t.append(n,e[n])})),t}),[]),v=(0,f.useCallback)((function(e){e.preventDefault();var t=function(){var e,t=(e=regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),t={type:"general",name:g.current,text:y.current},e.abrupt("return",Ht.post("/api/adminbugreport",b(t)).then((function(e){return e.data})).catch((function(e){throw new Error(e.message)})));case 3:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){yG(a,r,o,i,c,"next",e)}function c(e){yG(a,r,o,i,c,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}();u(!1),c(!1),o(!0),t().then((function(e){return function(e){o(!1),c(!0),p(e.issue_url)}(e)})).catch((function(e){return function(e){o(!1),u(!0),p((null==e?void 0:e.toString())||"unknown")}(e)}))}),[b]);return h().createElement(iG,{"data-component-name":"BugReport","data-key":e["data-key"]},h().createElement(cG,{onSubmit:v,onClick:function(e){return e.stopPropagation()},onDoubleClick:function(e){return e.stopPropagation()},onMouseDown:function(e){return e.stopPropagation()}},h().createElement(lG,null,h().createElement(_w.InputText,{required:!0,key:"report_name_key",id:"report_name_id",label:"Name",type:"text",onChange:function(e){g.current=e.target.value}})),h().createElement(lG,null,h().createElement(sG,{key:"report_description_key",id:"report_description_id",label:"Description",type:"textarea",onChange:function(e){y.current=e.target.value}})),h().createElement(mG,null,i&&h().createElement(hG,{reportMessage:m}),s&&h().createElement(gG,{reportMessage:m})),h().createElement(uG,null,h().createElement(dG,{format:"secondary",type:"button",onClick:function(){return t(!1)}},"Cancel"),h().createElement(dG,{format:"primary",type:"submit",disabled:r,isLoading:r},"Submit"))))};const wG=function(){return h().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"-8 -2033 1450 1450","data-component-name":"Icon"},h().createElement("g",{fillOpacity:"1",fillRule:"nonzero",stroke:"none",strokeWidth:"30",color:"#000",visibility:"visible"},h().createElement("path",{fill:"#0f0f0f",d:"M1875.551 1347.481c-6.88-5.504-8.632-5.004-10.008-6.505-1.376-1.501-7.131-12.636-6.255-13.762.875-1.125 4.128-3.252 5.504-1.626 1.376 1.626 3.753 11.76 4.63 13.01.875 1.252 8.506 6.506 10.758 8.758 2.252 2.252-.625 4.254-2.127 2.877-1.501-1.376-2.502-2.752-2.502-2.752z",display:"inline",enableBackground:"accumulate",overflow:"visible",transform:"scale(6.6784 -6.6784) rotate(83.646 1715.733 -206.201)",style:{marker:"none"}}),h().createElement("path",{fill:"#292929",d:"M1861.665 1329.091c1.126 5.38 4.503 10.259 6.255 11.385 1.751 1.125 9.007 6.38 7.38 4.753-1.625-1.626-7.13-5.129-7.755-6.88-.626-1.752-2.252-10.76-4.004-10.884-1.751-.125-1.876 1.626-1.876 1.626z",display:"inline",enableBackground:"accumulate",overflow:"visible",transform:"scale(6.6784 -6.6784) rotate(83.646 1715.733 -206.201)",style:{marker:"none"}})),h().createElement("g",{fillOpacity:"1",fillRule:"nonzero",stroke:"none",strokeWidth:"30",color:"#000",visibility:"visible"},h().createElement("path",{fill:"#0f0f0f",style:{marker:"none"},d:"M1875.551 1347.481c-6.88-5.504-8.632-5.004-10.008-6.505-1.376-1.501-7.131-12.636-6.255-13.762.875-1.125 4.128-3.252 5.504-1.626 1.376 1.626 3.753 11.76 4.63 13.01.875 1.252 8.506 6.506 10.758 8.758 2.252 2.252-.625 4.254-2.127 2.877-1.501-1.376-2.502-2.752-2.502-2.752z",display:"inline",enableBackground:"accumulate",overflow:"visible",transform:"scale(-6.6784 6.6784) rotate(-49.283 -834.103 2822.431)"}),h().createElement("path",{fill:"#292929",style:{marker:"none"},d:"M1861.665 1329.091c1.126 5.38 4.503 10.259 6.255 11.385 1.751 1.125 9.007 6.38 7.38 4.753-1.625-1.626-7.13-5.129-7.755-6.88-.626-1.752-2.252-10.76-4.004-10.884-1.751-.125-1.876 1.626-1.876 1.626z",display:"inline",enableBackground:"accumulate",overflow:"visible",transform:"scale(-6.6784 6.6784) rotate(-49.283 -834.103 2822.431)"})),h().createElement("g",{fillOpacity:"1",fillRule:"nonzero",stroke:"none",strokeWidth:"30",color:"#000",visibility:"visible"},h().createElement("path",{fill:"#0f0f0f",d:"M1886.281 1370.219c-14.056 1.335-28.276 8.33-35.656 20.656-1.54 2.706 1.644 5.433 2.563 7.875 1.103 2.21 4.165 5.188 6.53 2.813 2.148-3.011 1.583-7.31 4.458-10.102 3.984-6.06 9.62-11.232 16.89-12.94 3.072-1.403 7.924-1.975 8.871-5.708-.01-1.615-2.125-3.085-3.656-2.594z",display:"inline",enableBackground:"accumulate",overflow:"visible",transform:"matrix(-6.6784 0 0 6.6784 13595.539 -10612.894)",style:{marker:"none"}}),h().createElement("path",{fill:"#292929",d:"M1853.158 1392.268c.25 2.878 2.752 6.13 4.629 6.756 1.876.625.5-3.003 2.627-7.006 2.126-4.003 7.005-10.634 13.636-13.511 6.63-2.877 11.384-3.253 12.635-4.754 1.251-1.501-.25-1.251-2.502-1-2.252.25-12.01 2.751-20.767 8.631-8.757 5.88-10.258 10.884-10.258 10.884z",display:"inline",enableBackground:"accumulate",overflow:"visible",transform:"matrix(-6.6784 0 0 6.6784 13595.539 -10612.894)",style:{marker:"none"}}),h().createElement("path",{fill:"#555",d:"M1867.219 1383.125c-3.454 2.011-6.596 5.267-8.063 7.906-1.876 3.378-.999 6-2 6-1 0-1.75-3.374-2.25-4-.289-.361.115-3.421 3.094-7.344-4.001 3.823-4.844 6.594-4.844 6.594.25 2.878 2.749 6.125 4.625 6.75 1.877.626.499-2.997 2.625-7 1.31-2.464 3.652-5.94 6.813-8.906z",display:"inline",enableBackground:"accumulate",opacity:"0.513",overflow:"visible",transform:"matrix(-6.6784 0 0 6.6784 13595.539 -10612.894)",style:{marker:"none"}})),h().createElement("g",{fillOpacity:"1",fillRule:"nonzero",stroke:"none",strokeWidth:"30",color:"#000",visibility:"visible"},h().createElement("path",{fill:"#0f0f0f",d:"M1897.757 1369.875c-20.83-14.074-24.207-15.482-25.896-20.267-1.69-4.785 5.942-9.226 9.038-6.693 3.097 2.533 19.954 23.019 22.206 26.96 2.252 3.94-5.348 0-5.348 0z",display:"inline",enableBackground:"accumulate",overflow:"visible",transform:"matrix(-6.6784 0 0 6.6784 13595.539 -10612.894)",style:{marker:"none"}}),h().createElement("path",{fill:"#0f0f0f",style:{marker:"none"},d:"M1875.551 1347.481c-6.88-5.504-8.632-5.004-10.008-6.505-1.376-1.501-7.131-12.636-6.255-13.762.875-1.125 4.128-3.252 5.504-1.626 1.376 1.626 3.753 11.76 4.63 13.01.875 1.252 8.506 6.506 10.758 8.758 2.252 2.252-.625 4.254-2.127 2.877-1.501-1.376-2.502-2.752-2.502-2.752z",display:"inline",enableBackground:"accumulate",overflow:"visible",transform:"matrix(-6.6784 0 0 6.6784 13595.539 -10612.894)"}),h().createElement("path",{fill:"#292929",style:{marker:"none"},d:"M1861.665 1329.091c1.126 5.38 4.503 10.259 6.255 11.385 1.751 1.125 9.007 6.38 7.38 4.753-1.625-1.626-7.13-5.129-7.755-6.88-.626-1.752-2.252-10.76-4.004-10.884-1.751-.125-1.876 1.626-1.876 1.626z",display:"inline",enableBackground:"accumulate",overflow:"visible",transform:"matrix(-6.6784 0 0 6.6784 13595.539 -10612.894)"}),h().createElement("path",{fill:"#292929",style:{marker:"none"},d:"M1899.971 1369.553c-18.706-12.64-25.07-16.396-26.133-20.828-.641-2.67 3.585-6.159 6.366-3.884 2.78 2.275 19.045 20.673 21.067 24.212 2.022 3.538-1.3.5-1.3.5z",display:"inline",enableBackground:"accumulate",overflow:"visible",transform:"matrix(-6.6784 0 0 6.6784 13595.539 -10612.894)"}),h().createElement("path",{fill:"#717171",d:"M1877.938 1344.125c-2.332.146-4.575 2.59-4.094 4.594.508 2.118 2.237 4.114 5.937 6.969-3.308-4.186-4.103-7.228-3.843-8.094.375-1.251 1.498-2.25 3-1.875.908.227 8.488 7.764 15.093 14.25-5.438-6.355-12.116-13.737-13.812-15.125a3.22 3.22 0 00-2.281-.719z",display:"inline",enableBackground:"accumulate",opacity:"0.451",overflow:"visible",transform:"matrix(-6.6784 0 0 6.6784 13595.539 -10612.894)",style:{marker:"none"}})),h().createElement("g",{fillOpacity:"1",fillRule:"nonzero",stroke:"none",strokeWidth:"30",color:"#000",visibility:"visible"},h().createElement("path",{fill:"#0f0f0f",d:"M1876.875 1422.656c-7.54.53-14.659 3.709-19.943 9.124-6.476 5.739-10.948 13.472-15.33 20.908-1.527 3.572-4.726 7.47-3.508 11.5 2.972 3.33 7.551 6.4 12.219 6 3.443-1.296 2.779-6.05 3.604-8.995 1.071-8.326 3.951-16.459 8.401-23.578 3.643-5.579 11.543-5.176 15.526-10.146.962-1.496.445-4.096-.969-4.813z",display:"inline",enableBackground:"accumulate",overflow:"visible",transform:"matrix(-6.6784 0 0 6.6784 13595.539 -10612.894)",style:{marker:"none"}}),h().createElement("path",{fill:"#292929",d:"M1876.74 1424.295c-23.066 2.382-34.76 37.704-34.716 38.281.043.562 3.565 3.566 6.192 3.566 2.627 0 2.39-10.357 4.504-15.2 2.994-6.863 5.067-14.637 11.447-19.329 6.38-4.691 9.007-2.815 11.447-3.94 2.44-1.126 1.126-3.378 1.126-3.378z",display:"inline",enableBackground:"accumulate",overflow:"visible",transform:"matrix(-6.6784 0 0 6.6784 13595.539 -10612.894)",style:{marker:"none"}}),h().createElement("path",{fill:"#fcfcfc",d:"M1856.469 1442c-1.531 2.048-3.033 4.256-4.125 6.313-3.19 6.004-4.688 15.187-4.688 15.187s-2.624-1.5-3.375-1.875c-.363-.182.086-4.028 1.907-9.281-2.757 5.679-4.172 10.02-4.157 10.219.043.56 3.56 3.593 6.188 3.593 2.627 0 2.387-10.375 4.5-15.219 1.276-2.925 2.404-5.99 3.75-8.937z",display:"inline",enableBackground:"accumulate",opacity:"0.075",overflow:"visible",transform:"matrix(-6.6784 0 0 6.6784 13595.539 -10612.894)",style:{marker:"none"}})),h().createElement("g",{fillOpacity:"1",fillRule:"nonzero",stroke:"none",strokeWidth:"30",color:"#000",visibility:"visible"},h().createElement("path",{fill:"#0f0f0f",d:"M1958.698 1355.52c0 7.694-13.043 13.933-29.133 13.933s-29.134-6.239-29.134-13.934c0-7.695 13.044-13.933 29.134-13.933s29.133 6.238 29.133 13.933z",display:"inline",enableBackground:"accumulate",overflow:"visible",transform:"matrix(6.6784 0 0 6.6784 -12161.242 -10150.45) translate(0 1.251) translate(0 -73.467)",style:{marker:"none"}}),h().createElement("path",{fill:"#383838",style:{marker:"none"},d:"M1958.698 1355.52c0 7.694-13.043 13.933-29.133 13.933s-29.134-6.239-29.134-13.934c0-7.695 13.044-13.933 29.134-13.933s29.133 6.238 29.133 13.933z",display:"inline",enableBackground:"accumulate",overflow:"visible",transform:"matrix(6.6784 0 0 6.6784 -12161.242 -10150.45) translate(0 1.251) matrix(.92915 0 0 .94613 136.278 -1.819)"}),h().createElement("path",{fill:"#242424",d:"M1902.906 1283.969c3.004 5.686 13.605 9.875 26.219 9.875 11.723 0 21.706-3.61 25.469-8.688-5.176 3.783-14.46 6.313-25.094 6.313-11.73 0-21.86-3.056-26.594-7.5z",display:"inline",enableBackground:"accumulate",overflow:"visible",transform:"matrix(6.6784 0 0 6.6784 -12161.242 -10150.45) translate(0 1.251)",style:{marker:"none"}})),h().createElement("g",{fillOpacity:"1",fillRule:"nonzero",stroke:"none",strokeWidth:"30",color:"#000",visibility:"visible"},h().createElement("path",{fill:"#0f0f0f",style:{marker:"none"},d:"M1875.551 1347.481c-6.88-5.504-8.632-5.004-10.008-6.505-1.376-1.501-7.131-12.636-6.255-13.762.875-1.125 4.128-3.252 5.504-1.626 1.376 1.626 3.753 11.76 4.63 13.01.875 1.252 8.506 6.506 10.758 8.758 2.252 2.252-.625 4.254-2.127 2.877-1.501-1.376-2.502-2.752-2.502-2.752z",display:"inline",enableBackground:"accumulate",overflow:"visible",transform:"rotate(-96.354 1949.417 9611.58) scale(6.6784)"}),h().createElement("path",{fill:"#292929",style:{marker:"none"},d:"M1861.665 1329.091c1.126 5.38 4.503 10.259 6.255 11.385 1.751 1.125 9.007 6.38 7.38 4.753-1.625-1.626-7.13-5.129-7.755-6.88-.626-1.752-2.252-10.76-4.004-10.884-1.751-.125-1.876 1.626-1.876 1.626z",display:"inline",enableBackground:"accumulate",overflow:"visible",transform:"rotate(-96.354 1949.417 9611.58) scale(6.6784)"})),h().createElement("g",{fillOpacity:"1",fillRule:"nonzero",stroke:"none",strokeWidth:"30",color:"#000",visibility:"visible"},h().createElement("path",{fill:"#0f0f0f",d:"M1875.551 1347.481c-6.88-5.504-8.632-5.004-10.008-6.505-1.376-1.501-7.131-12.636-6.255-13.762.875-1.125 4.128-3.252 5.504-1.626 1.376 1.626 3.753 11.76 4.63 13.01.875 1.252 8.506 6.506 10.758 8.758 2.252 2.252-.625 4.254-2.127 2.877-1.501-1.376-2.502-2.752-2.502-2.752z",display:"inline",enableBackground:"accumulate",overflow:"visible",transform:"rotate(-49.283 -4853.325 17285.912) scale(6.6784)",style:{marker:"none"}}),h().createElement("path",{fill:"#292929",d:"M1861.665 1329.091c1.126 5.38 4.503 10.259 6.255 11.385 1.751 1.125 9.007 6.38 7.38 4.753-1.625-1.626-7.13-5.129-7.755-6.88-.626-1.752-2.252-10.76-4.004-10.884-1.751-.125-1.876 1.626-1.876 1.626z",display:"inline",enableBackground:"accumulate",overflow:"visible",transform:"rotate(-49.283 -4853.325 17285.912) scale(6.6784)",style:{marker:"none"}})),h().createElement("g",{fillOpacity:"1",fillRule:"nonzero",stroke:"none",strokeWidth:"30",color:"#000",visibility:"visible"},h().createElement("path",{fill:"#0f0f0f",d:"M1886.281 1370.219c-14.056 1.335-28.276 8.33-35.656 20.656-1.54 2.706 1.644 5.433 2.563 7.875 1.103 2.21 4.165 5.188 6.53 2.813 2.148-3.011 1.583-7.31 4.458-10.102 3.984-6.06 9.62-11.232 16.89-12.94 3.072-1.403 7.924-1.975 8.871-5.708-.01-1.615-2.125-3.085-3.656-2.594z",display:"inline",enableBackground:"accumulate",overflow:"visible",transform:"matrix(6.6784 0 0 6.6784 -12161.242 -10612.894)",style:{marker:"none"}}),h().createElement("path",{fill:"#292929",style:{marker:"none"},d:"M1853.158 1392.268c.25 2.878 2.752 6.13 4.629 6.756 1.876.625.5-3.003 2.627-7.006 2.126-4.003 7.005-10.634 13.636-13.511 6.63-2.877 11.384-3.253 12.635-4.754 1.251-1.501-.25-1.251-2.502-1-2.252.25-12.01 2.751-20.767 8.631-8.757 5.88-10.258 10.884-10.258 10.884z",display:"inline",enableBackground:"accumulate",overflow:"visible",transform:"matrix(6.6784 0 0 6.6784 -12161.242 -10612.894)"}),h().createElement("path",{fill:"#555",style:{marker:"none"},d:"M1867.219 1383.125c-3.454 2.011-6.596 5.267-8.063 7.906-1.876 3.378-.999 6-2 6-1 0-1.75-3.374-2.25-4-.289-.361.115-3.421 3.094-7.344-4.001 3.823-4.844 6.594-4.844 6.594.25 2.878 2.749 6.125 4.625 6.75 1.877.626.499-2.997 2.625-7 1.31-2.464 3.652-5.94 6.813-8.906z",display:"inline",enableBackground:"accumulate",opacity:"0.513",overflow:"visible",transform:"matrix(6.6784 0 0 6.6784 -12161.242 -10612.894)"})),h().createElement("g",{fillOpacity:"1",fillRule:"nonzero",stroke:"none",strokeWidth:"30",color:"#000",visibility:"visible"},h().createElement("path",{fill:"#0f0f0f",d:"M1877.906 1341.719c-4.238.376-8.678 5.19-5.937 9.406 3.454 5.682 10.2 8.387 15.4 12.386 5.192 2.902 9.567 7.899 15.6 8.614 2.408-.656-.083-3.606-.938-4.719-6.537-8.598-13.339-17.18-20.844-24.906-.905-.72-2.121-.909-3.28-.781z",display:"inline",enableBackground:"accumulate",overflow:"visible",transform:"matrix(6.6784 0 0 6.6784 -12161.242 -10612.894)",style:{marker:"none"}}),h().createElement("path",{fill:"#0f0f0f",d:"M1875.551 1347.481c-6.88-5.504-8.632-5.004-10.008-6.505-1.376-1.501-7.131-12.636-6.255-13.762.875-1.125 4.128-3.252 5.504-1.626 1.376 1.626 3.753 11.76 4.63 13.01.875 1.252 8.506 6.506 10.758 8.758 2.252 2.252-.625 4.254-2.127 2.877-1.501-1.376-2.502-2.752-2.502-2.752z",display:"inline",enableBackground:"accumulate",overflow:"visible",transform:"matrix(6.6784 0 0 6.6784 -12161.242 -10612.894)",style:{marker:"none"}}),h().createElement("path",{fill:"#292929",d:"M1861.665 1329.091c1.126 5.38 4.503 10.259 6.255 11.385 1.751 1.125 9.007 6.38 7.38 4.753-1.625-1.626-7.13-5.129-7.755-6.88-.626-1.752-2.252-10.76-4.004-10.884-1.751-.125-1.876 1.626-1.876 1.626z",display:"inline",enableBackground:"accumulate",overflow:"visible",transform:"matrix(6.6784 0 0 6.6784 -12161.242 -10612.894)",style:{marker:"none"}}),h().createElement("path",{fill:"#292929",d:"M1899.971 1369.553c-18.706-12.64-25.07-16.396-26.133-20.828-.641-2.67 3.585-6.159 6.366-3.884 2.78 2.275 19.045 20.673 21.067 24.212 2.022 3.538-1.3.5-1.3.5z",display:"inline",enableBackground:"accumulate",overflow:"visible",transform:"matrix(6.6784 0 0 6.6784 -12161.242 -10612.894)",style:{marker:"none"}}),h().createElement("path",{fill:"#717171",style:{marker:"none"},d:"M1877.938 1344.125c-2.332.146-4.575 2.59-4.094 4.594.508 2.118 2.237 4.114 5.937 6.969-3.308-4.186-4.103-7.228-3.843-8.094.375-1.251 1.498-2.25 3-1.875.908.227 8.488 7.764 15.093 14.25-5.438-6.355-12.116-13.737-13.812-15.125a3.22 3.22 0 00-2.281-.719z",display:"inline",enableBackground:"accumulate",opacity:"0.451",overflow:"visible",transform:"matrix(6.6784 0 0 6.6784 -12161.242 -10612.894)"})),h().createElement("g",{fillOpacity:"1",fillRule:"nonzero",stroke:"none",strokeWidth:"30",color:"#000",visibility:"visible"},h().createElement("path",{fill:"#0f0f0f",d:"M1928.156 1239.656c-14.908 1.276-28.457 10.185-37.531 21.719-3.739 5.294-4.001 13.406.813 17.938 9.04 10.242 23.621 12.016 36.593 11.91 13.667.378 29.092-.547 39.5-10.317 4.78-4.358 6.972-12.12 3.031-17.781-5.582-9.872-15.7-15.838-25.713-20.581-5.306-2.042-10.963-3.202-16.693-2.888z",display:"inline",enableBackground:"accumulate",overflow:"visible",transform:"matrix(6.6784 0 0 6.6784 -12165.303 -10182.407)",style:{marker:"none"}}),h().createElement("path",{fill:"#0f0f0f",style:{marker:"none"},d:"M1906.989 1221.421c-1.762-.027-3.188 1.426-3.188 3.188a3.186 3.186 0 003.188 3.187c.03 0 .606.001.95.148.627.627 5.504 3.125 15.206 16.008 0 0 1.126-1.123-.375-3.187-1.478-2.033-9.313-10.792-12.444-15.782-.085-2.231-1.224-3.529-3.337-3.562zM1951.28 1222.531c1.761-.027 3.187 1.426 3.187 3.188a3.186 3.186 0 01-3.188 3.187c-.03 0-.606.001-.95.149-.626.627-5.504 3.125-15.206 16.008 0 0-1.126-1.124.375-3.188 1.479-2.033 9.313-10.791 12.444-15.782.085-2.23 1.225-3.529 3.337-3.562z",display:"inline",enableBackground:"accumulate",overflow:"visible",transform:"matrix(6.6784 0 0 6.6784 -12165.303 -10182.407)"}),h().createElement("path",{fill:"#383838",style:{marker:"none"},d:"M1928.375 1243.656c-14.441 1.513-27.795 10.11-35.594 22.031-2.303 4.752-.308 10.552 4.031 13.282 10.218 8.666 24.66 8.3 37.407 8.312 11.602-.14 24.798-2.043 32.531-11.5 3.078-4.252 1.833-10.33-1.75-13.796-7.044-8.856-17.4-14.813-28.313-17.672-2.74-.498-5.525-.787-8.312-.657z",display:"inline",enableBackground:"accumulate",overflow:"visible",transform:"matrix(6.6784 0 0 6.6784 -12165.303 -10182.407)"}),h().createElement("path",{fill:"#000",style:{marker:"none"},d:"M1959.531 1256.25l2.969 13.969c-2.815 11.54-59.965 17.733-65.031 0-.713-4.458.836-9.597 2.781-13.406a49.052 49.052 0 00-7.469 8.874c-2.303 4.752-.308 10.552 4.031 13.282 10.218 8.666 24.66 8.3 37.407 8.312 11.602-.14 24.798-2.043 32.531-11.5 3.078-4.252 1.833-10.314-1.75-13.781a45.967 45.967 0 00-5.469-5.75z",display:"inline",enableBackground:"accumulate",opacity:"0.363",overflow:"visible",transform:"matrix(6.6784 0 0 6.6784 -12165.303 -10182.407)"}),h().createElement("path",{fill:"#6b6b6b",style:{marker:"none"},d:"M1930.469 1243.625a30.47 30.47 0 00-2.094.031c-10.662 1.117-20.728 6.11-28.406 13.438 20.518-8.8 23.207-9.844 32.248-10.095 6.017-.167 20.053 6.383 28.846 10.657-6.705-6.487-15.353-10.98-24.376-13.344-2.054-.373-4.13-.637-6.218-.687z",display:"inline",enableBackground:"accumulate",opacity:"0.363",overflow:"visible",transform:"matrix(6.6784 0 0 6.6784 -12165.303 -10182.407)"}),h().createElement("path",{fill:"#959595",style:{marker:"none"},d:"M1906.938 1251.531c-4.588 3.049-8.67 6.836-12 11.156.99 5.744 7.715 10.48 14.53 10.594 7.507.125 10.376-12.123 10.25-14.625-.124-2.502-6.122-5.374-9.25-6.5-1.282-.462-2.439-.631-3.53-.625z",display:"inline",enableBackground:"accumulate",overflow:"visible",transform:"matrix(6.6784 0 0 6.6784 -12165.303 -10182.407)"}),h().createElement("path",{fill:"#0f0f0f",d:"M1909.469 1237.844c-6.747.066-13.044 6.14-12 13.125.182 2.538.02 6.4 2.562 7.531 6.398.921 11.755-3.683 17.094-6.406 3.159-1.984 7.65-4.893 6.781-9.156-2.275-4.321-8.063-4.66-12.468-5.126-.658.096-1.312-.062-1.97.032z",display:"inline",enableBackground:"accumulate",overflow:"visible",transform:"matrix(6.6784 0 0 6.6784 -12165.303 -10182.407)",style:{marker:"none"}}),h().createElement("path",{fill:"#c1c1c1",d:"M1909.86 1240.674c-10.977 1.69-8.444 14.637-7.036 14.637 1.407 0 14.637-6.755 16.889-9.007 2.251-2.252-5.349-6.193-9.852-5.63z",display:"inline",enableBackground:"accumulate",overflow:"visible",transform:"matrix(6.6784 0 0 6.6784 -12165.303 -10182.407)",style:{marker:"none"}}),h().createElement("path",{fill:"#fff",d:"M1910.75 1240.625c-.302 0-.594.027-.875.062-9.666 1.487-8.855 11.673-7.563 14.094 1.029-8.666 4.757-11.262 11.657-11.625 2.365-.125 4.398.76 6.094 1.968-.448-2.047-5.552-4.518-9.313-4.5z",display:"inline",enableBackground:"accumulate",overflow:"visible",transform:"matrix(6.6784 0 0 6.6784 -12165.303 -10182.407)",style:{marker:"none"}}),h().createElement("path",{fill:"#000",d:"M1909.83 1244.771a3.628 3.628 0 11-7.256 0 3.628 3.628 0 017.255 0z",display:"inline",enableBackground:"accumulate",overflow:"visible",transform:"matrix(6.6784 0 0 6.6784 -12165.303 -10182.407) matrix(1 0 0 .65086 3.253 431.829)",style:{marker:"none"}}),h().createElement("path",{fill:"#959595",d:"M1954.261 1251.531c4.588 3.049 8.67 6.836 12 11.156-.99 5.744-7.716 10.48-14.531 10.594-7.506.125-10.375-12.123-10.25-14.625.125-2.502 6.122-5.374 9.25-6.5 1.283-.462 2.44-.631 3.531-.625z",display:"inline",enableBackground:"accumulate",overflow:"visible",transform:"matrix(6.6784 0 0 6.6784 -12165.303 -10182.407)",style:{marker:"none"}}),h().createElement("g",null,h().createElement("path",{fill:"#0f0f0f",d:"M1909.469 1237.844c-6.747.066-13.044 6.14-12 13.125.182 2.538.02 6.4 2.562 7.531 6.398.921 11.755-3.683 17.094-6.406 3.159-1.984 7.65-4.893 6.781-9.156-2.275-4.321-8.063-4.66-12.468-5.126-.658.096-1.312-.062-1.97.032z",display:"inline",enableBackground:"accumulate",overflow:"visible",transform:"matrix(6.6784 0 0 6.6784 -12165.303 -10182.407) matrix(-1 0 0 1 3861.32 0)",style:{marker:"none"}}),h().createElement("path",{fill:"#c1c1c1",style:{marker:"none"},d:"M1909.86 1240.674c-10.977 1.69-8.444 14.637-7.036 14.637 1.407 0 14.637-6.755 16.889-9.007 2.251-2.252-5.349-6.193-9.852-5.63z",display:"inline",enableBackground:"accumulate",overflow:"visible",transform:"matrix(6.6784 0 0 6.6784 -12165.303 -10182.407) matrix(-1 0 0 1 3861.32 0)"}),h().createElement("path",{fill:"#fff",style:{marker:"none"},d:"M1910.75 1240.625c-.302 0-.594.027-.875.062-9.666 1.487-8.855 11.673-7.563 14.094 1.029-8.666 4.757-11.262 11.657-11.625 2.365-.125 4.398.76 6.094 1.968-.448-2.047-5.552-4.518-9.313-4.5z",display:"inline",enableBackground:"accumulate",overflow:"visible",transform:"matrix(6.6784 0 0 6.6784 -12165.303 -10182.407) matrix(-1 0 0 1 3861.32 0)"}),h().createElement("path",{fill:"#000",style:{marker:"none"},d:"M1909.83 1244.771a3.628 3.628 0 11-7.256 0 3.628 3.628 0 017.255 0z",display:"inline",enableBackground:"accumulate",overflow:"visible",transform:"matrix(6.6784 0 0 6.6784 -12165.303 -10182.407) matrix(-1 0 0 1 3861.32 0) matrix(1 0 0 .80603 3.253 239.238)"})),h().createElement("path",{fill:"#fff",style:{marker:"none"},d:"M1917.875 1256.063c.614.797 1.197 1.577 1.344 1.968.375 1.001-2.997 11-7 12-4.004 1.001-14.029-1.87-17.156-7.5l-.126.156c.99 5.744 7.716 10.48 14.532 10.594 7.506.125 10.375-12.123 10.25-14.625-.043-.855-.777-1.736-1.844-2.594zM1941.531 1258.344c-.025.105-.057.208-.062.312-.125 2.502 2.744 14.75 10.25 14.625 6.816-.113 13.541-4.85 14.531-10.593-.416-.54-.842-1.071-1.28-1.594.256 1.08.266 2.012-.095 2.687-2.001 3.753-10.873 7.75-13.125 7.5-2.175-.241-8.545-2.95-10.219-12.937z",display:"inline",enableBackground:"accumulate",overflow:"visible",transform:"matrix(6.6784 0 0 6.6784 -12165.303 -10182.407)"})),h().createElement("g",{fillOpacity:"1",fillRule:"nonzero",stroke:"none",strokeWidth:"30",color:"#000",visibility:"visible"},h().createElement("path",{fill:"#0f0f0f",d:"M1876.875 1422.656c-7.54.53-14.659 3.709-19.943 9.124-6.476 5.739-10.948 13.472-15.33 20.908-1.527 3.572-4.726 7.47-3.508 11.5 2.972 3.33 7.551 6.4 12.219 6 3.443-1.296 2.779-6.05 3.604-8.995 1.071-8.326 3.951-16.459 8.401-23.578 3.643-5.579 11.543-5.176 15.526-10.146.962-1.496.445-4.096-.969-4.813z",display:"inline",enableBackground:"accumulate",overflow:"visible",transform:"matrix(6.6784 0 0 6.6784 -12161.242 -10612.894)",style:{marker:"none"}}),h().createElement("path",{fill:"#292929",style:{marker:"none"},d:"M1876.74 1424.295c-23.066 2.382-34.76 37.704-34.716 38.281.043.562 3.565 3.566 6.192 3.566 2.627 0 2.39-10.357 4.504-15.2 2.994-6.863 5.067-14.637 11.447-19.329 6.38-4.691 9.007-2.815 11.447-3.94 2.44-1.126 1.126-3.378 1.126-3.378z",display:"inline",enableBackground:"accumulate",overflow:"visible",transform:"matrix(6.6784 0 0 6.6784 -12161.242 -10612.894)"}),h().createElement("path",{fill:"#fcfcfc",style:{marker:"none"},d:"M1856.469 1442c-1.531 2.048-3.033 4.256-4.125 6.313-3.19 6.004-4.688 15.187-4.688 15.187s-2.624-1.5-3.375-1.875c-.363-.182.086-4.028 1.907-9.281-2.757 5.679-4.172 10.02-4.157 10.219.043.56 3.56 3.593 6.188 3.593 2.627 0 2.387-10.375 4.5-15.219 1.276-2.925 2.404-5.99 3.75-8.937z",display:"inline",enableBackground:"accumulate",opacity:"0.075",overflow:"visible",transform:"matrix(6.6784 0 0 6.6784 -12161.242 -10612.894)"})),h().createElement("path",{fill:"#292929",fillOpacity:"1",fillRule:"nonzero",stroke:"none",strokeWidth:"30",d:"M715.762-1550.797c-362.185-8.773-363.438 137.856-363.438 137.856-206.784 685.52 298.27 778.26 355.919 774.5 66.42 3.76 553.93-97.753 389.756-756.955 0 0-23.81-177.96-382.237-155.4z",color:"#000",display:"inline",enableBackground:"accumulate",style:{marker:"none"},overflow:"visible",visibility:"visible"}),h().createElement("g",{fillOpacity:"1",fillRule:"nonzero",stroke:"none",strokeWidth:"30",color:"#000",visibility:"visible"},h().createElement("path",{fill:"#2b0000",d:"M1888.844 1033.469c-15.894.039-33.288 1.677-45.781 12.112-9.589 8.25-10.314 21.858-12.223 33.616-3.863 25.116-.976 52.7 15.004 73.178 12.657 16.051 32.422 27.576 53.344 27.719 2.559-3.492-.018-8.32.913-12.406.24-43.61 1.847-87.282-.976-130.844-1.985-3.669-6.678-3.485-10.281-3.375z",display:"inline",enableBackground:"accumulate",overflow:"visible",transform:"matrix(6.6784 0 0 6.6784 -11941.298 -8471.975)",style:{marker:"none"}}),h().createElement("path",{fill:"#9d0000",style:{marker:"none"},d:"M1884.938 1037.969c-14.265.382-30.181 2.312-40.376 13.344-7.21 8.649-6.495 21.727-8.625 32.296-3.202 22.643.211 46.482 14.534 64.811 10.73 13.394 26.625 22.993 43.842 24.924 1.425-.742-.383-3.151.28-4.469-.076-43.56 1.436-127.945-.719-130.719-3.207-.01-5.694-.274-8.937-.187z",display:"inline",enableBackground:"accumulate",overflow:"visible",transform:"matrix(6.6784 0 0 6.6784 -11941.298 -8471.975)"}),h().createElement("path",{fill:"#b00",style:{marker:"none"},d:"M1884.938 1037.969c-14.265.382-30.181 2.312-40.376 13.344-.258.31-.51.616-.75.937-.177.239-.333.506-.5.75a23.121 23.121 0 00-1.093 1.75c-.303.542-.58 1.093-.844 1.656v.031c-.063.135-.127.27-.188.406-.246.552-.504 1.119-.718 1.688a33.56 33.56 0 00-.531 1.563c-.046.139-.114.266-.157.406-.162.526-.296 1.057-.437 1.593-.261.99-.485 2.016-.688 3.032a70.05 70.05 0 00-.406 2.25c-.045.273-.114.538-.156.812-.036.23-.06.457-.094.688-.025.165-.04.334-.062.5-.08.55-.178 1.105-.25 1.656-.15 1.13-.27 2.249-.406 3.375 5.277-10.897 13.058-23.594 24.312-27.125 21.533-6.756 26.594-.813 26.594-.813l6.375 78.157c.072-.532.166-1.063.25-1.594.285-40.255.585-82.915-.938-84.875-3.207-.01-5.695-.275-8.937-.188z",display:"inline",enableBackground:"accumulate",overflow:"visible",transform:"matrix(6.6784 0 0 6.6784 -11941.298 -8471.975)"}),h().createElement("path",{fill:"#000",style:{marker:"none"},d:"M1834.938 1103.375c.697 16.191 5.348 32 15.53 45.031 10.73 13.394 26.628 23.007 43.845 24.938 1.425-.743-.383-3.151.28-4.469-.015-8.787-.022-17.582-.03-26.375a6.553 6.553 0 00-2.156-.625c-10.2-1.055-45.294-5.92-57.47-38.5z",display:"inline",enableBackground:"accumulate",opacity:"0.119",overflow:"visible",transform:"matrix(6.6784 0 0 6.6784 -11941.298 -8471.975)"}),h().createElement("path",{fill:"#000",style:{marker:"none"},d:"M1837.25 1120.375c2.394 10.077 6.65 19.625 13.219 28.031 10.73 13.394 26.627 23.007 43.844 24.938 1.425-.743-.383-3.151.28-4.469v-4.75c-1.196-.214-2.349-.435-3.437-.719-7.903-2.061-40.13-11.409-53.906-43.031z",display:"inline",enableBackground:"accumulate",opacity:"0.243",overflow:"visible",transform:"matrix(6.6784 0 0 6.6784 -11941.298 -8471.975)"}),h().createElement("path",{fill:"red",style:{marker:"none"},d:"M1879.5 1038.188c-12.733.778-26.025 3.48-34.938 13.124-7.21 8.65-6.495 21.713-8.624 32.282-.227 1.6-.404 3.233-.563 4.844 2.334.437 4.758.656 7.219.656 21.453 0 38.844-17.39 38.844-38.844 0-4.208-.669-8.267-1.907-12.063h-.03z",display:"inline",enableBackground:"accumulate",opacity:"0.119",overflow:"visible",transform:"matrix(6.6784 0 0 6.6784 -11941.298 -8471.975)"}),h().createElement("path",{fill:"#2b0000",style:{marker:"none"},d:"M1849.342 1072.348c-6.474 3.94-7.319 7.6-8.444 12.666-1.126 5.067 4.222 13.23 10.133 14.074 5.911.845 9.007-12.103 9.007-15.481s-.844-8.445-4.222-10.697c-3.378-2.251-6.474-.563-6.474-.563zM1865.95 1141.31c-5.63 3.66-4.786 10.134.28 13.512 5.068 3.378 7.038 6.474 12.668 3.94 5.63-2.533 7.318-8.162 4.503-12.666-2.814-4.504-4.222-7.319-9.57-7.037-5.348.281-7.881 2.252-7.881 2.252zM1870.453 1096.274c-6.192 4.222-6.192 14.918-3.096 18.014 3.096 3.097 5.63 7.6 10.133 6.756 4.504-.845 10.134-11.54 8.163-16.608-1.97-5.066-1.97-7.881-7.6-8.444-5.63-.563-7.6.281-7.6.281zM1891.438 1038.125c2.311 6.061-11.728 12.108-13.657 17.344-1.97 5.348 5.059 13.217 9.563 14.625 2.485.777 5.45 0 7.687-1.031 3.132-19.027.738-30.415-1.156-30.907-.859 0-1.653 0-2.438-.03z",display:"inline",enableBackground:"accumulate",overflow:"visible",transform:"matrix(6.6784 0 0 6.6784 -11941.298 -8471.975)"}),h().createElement("path",{fill:"#ffb0b0",style:{marker:"none"},d:"M1884.938 1037.969c-1.083.029-2.184.075-3.282.125-5.664 4.922-4.167 10.906.063 10.906 4.504 0 8.999-1.716 10.969-5.094.835-1.431.738-3.643.375-5.75-2.816-.046-5.171-.266-8.125-.187z",display:"inline",enableBackground:"accumulate",overflow:"visible",transform:"matrix(6.6784 0 0 6.6784 -11941.298 -8471.975)"})),h().createElement("g",{fillOpacity:"1",fillRule:"nonzero",stroke:"none",strokeWidth:"30",color:"#000",visibility:"visible"},h().createElement("path",{fill:"#2b0000",d:"M1888.844 1033.469c-15.894.039-33.288 1.677-45.781 12.112-9.589 8.25-10.314 21.858-12.223 33.616-3.863 25.116-.976 52.7 15.004 73.178 12.657 16.051 32.422 27.576 53.344 27.719 2.559-3.492-.018-8.32.913-12.406.24-43.61 1.847-87.282-.976-130.844-1.985-3.669-6.678-3.485-10.281-3.375z",display:"inline",enableBackground:"accumulate",overflow:"visible",transform:"matrix(-6.6784 0 0 6.6784 13406.301 -8471.975)",style:{marker:"none"}}),h().createElement("path",{fill:"#9d0000",d:"M1884.938 1037.969c-14.265.382-30.181 2.312-40.376 13.344-7.21 8.649-6.495 21.727-8.625 32.296-3.202 22.643.211 46.482 14.534 64.811 10.73 13.394 26.625 22.993 43.842 24.924 1.425-.742-.383-3.151.28-4.469-.076-43.56 1.436-127.945-.719-130.719-3.207-.01-5.694-.274-8.937-.187z",display:"inline",enableBackground:"accumulate",overflow:"visible",transform:"matrix(-6.6784 0 0 6.6784 13406.301 -8471.975)",style:{marker:"none"}}),h().createElement("path",{fill:"#b00",d:"M1884.938 1037.969c-14.265.382-30.181 2.312-40.376 13.344-.258.31-.51.616-.75.937-.177.239-.333.506-.5.75a23.121 23.121 0 00-1.093 1.75c-.303.542-.58 1.093-.844 1.656v.031c-.063.135-.127.27-.188.406-.246.552-.504 1.119-.718 1.688a33.56 33.56 0 00-.531 1.563c-.046.139-.114.266-.157.406-.162.526-.296 1.057-.437 1.593-.261.99-.485 2.016-.688 3.032a70.05 70.05 0 00-.406 2.25c-.045.273-.114.538-.156.812-.036.23-.06.457-.094.688-.025.165-.04.334-.062.5-.08.55-.178 1.105-.25 1.656-.15 1.13-.27 2.249-.406 3.375 5.277-10.897 13.058-23.594 24.312-27.125 21.533-6.756 26.594-.813 26.594-.813l6.375 78.157c.072-.532.166-1.063.25-1.594.285-40.255.585-82.915-.938-84.875-3.207-.01-5.695-.275-8.937-.188z",display:"inline",enableBackground:"accumulate",overflow:"visible",transform:"matrix(-6.6784 0 0 6.6784 13406.301 -8471.975)",style:{marker:"none"}}),h().createElement("path",{fill:"#000",d:"M1834.938 1103.375c.697 16.191 5.348 32 15.53 45.031 10.73 13.394 26.628 23.007 43.845 24.938 1.425-.743-.383-3.151.28-4.469-.015-8.787-.022-17.582-.03-26.375a6.553 6.553 0 00-2.156-.625c-10.2-1.055-45.294-5.92-57.47-38.5z",display:"inline",enableBackground:"accumulate",opacity:"0.119",overflow:"visible",transform:"matrix(-6.6784 0 0 6.6784 13406.301 -8471.975)",style:{marker:"none"}}),h().createElement("path",{fill:"#000",d:"M1837.25 1120.375c2.394 10.077 6.65 19.625 13.219 28.031 10.73 13.394 26.627 23.007 43.844 24.938 1.425-.743-.383-3.151.28-4.469v-4.75c-1.196-.214-2.349-.435-3.437-.719-7.903-2.061-40.13-11.409-53.906-43.031z",display:"inline",enableBackground:"accumulate",opacity:"0.243",overflow:"visible",transform:"matrix(-6.6784 0 0 6.6784 13406.301 -8471.975)",style:{marker:"none"}}),h().createElement("path",{fill:"red",d:"M1879.5 1038.188c-12.733.778-26.025 3.48-34.938 13.124-7.21 8.65-6.495 21.713-8.624 32.282-.227 1.6-.404 3.233-.563 4.844 2.334.437 4.758.656 7.219.656 21.453 0 38.844-17.39 38.844-38.844 0-4.208-.669-8.267-1.907-12.063h-.03z",display:"inline",enableBackground:"accumulate",opacity:"0.119",overflow:"visible",transform:"matrix(-6.6784 0 0 6.6784 13406.301 -8471.975)",style:{marker:"none"}}),h().createElement("path",{fill:"#2b0000",d:"M1849.342 1072.348c-6.474 3.94-7.319 7.6-8.444 12.666-1.126 5.067 4.222 13.23 10.133 14.074 5.911.845 9.007-12.103 9.007-15.481s-.844-8.445-4.222-10.697c-3.378-2.251-6.474-.563-6.474-.563zM1865.95 1141.31c-5.63 3.66-4.786 10.134.28 13.512 5.068 3.378 7.038 6.474 12.668 3.94 5.63-2.533 7.318-8.162 4.503-12.666-2.814-4.504-4.222-7.319-9.57-7.037-5.348.281-7.881 2.252-7.881 2.252zM1870.453 1096.274c-6.192 4.222-6.192 14.918-3.096 18.014 3.096 3.097 5.63 7.6 10.133 6.756 4.504-.845 10.134-11.54 8.163-16.608-1.97-5.066-1.97-7.881-7.6-8.444-5.63-.563-7.6.281-7.6.281zM1891.438 1038.125c2.311 6.061-11.728 12.108-13.657 17.344-1.97 5.348 5.059 13.217 9.563 14.625 2.485.777 5.45 0 7.687-1.031 4.413-15.647.222-29.641-1.156-30.907-.859 0-1.653 0-2.438-.03z",display:"inline",enableBackground:"accumulate",overflow:"visible",transform:"matrix(-6.6784 0 0 6.6784 13406.301 -8471.975)",style:{marker:"none"}}),h().createElement("path",{fill:"#ffb0b0",d:"M1884.938 1037.969c-1.083.029-2.184.075-3.282.125-5.664 4.922-4.167 10.906.063 10.906 4.504 0 8.999-1.716 10.969-5.094.835-1.431.738-3.643.375-5.75-2.816-.046-5.171-.266-8.125-.187z",display:"inline",enableBackground:"accumulate",overflow:"visible",transform:"matrix(-6.6784 0 0 6.6784 13406.301 -8471.975)",style:{marker:"none"}})))};var AG={displayName:"Development Commands",items:[{displayName:"Add mock image stickers to the current scene",creator:function(e,t){var n=t().storyBoard,r=n.selectedSceneId,o=n.orientation,a=function(t){var n=t.rect,o=t.sourceFootageRect,a=t.zindex,i=void 0===a?1e3:a;return e({type:Rh,sceneId:r,payload:{ce:{id:"".concat(_s,"_").concat(Po()),type:_s,subtype:"image",zindex:i,rotatable:!0,draggable:!0,resizeable:!0,width:1,height:1,sourceHash:"",selectable:!0,rotate:0,flip:{horizontal:!0,vertical:!0},mediaPath:"https://medialib.cdn.magisto.com/4/3/LlMDZV4aET1vDgFpfA_/cover_ar_hd.jpg",bgAlpha:80,bgColor:"#ff0000",rectFromLayout:!0,sourceFootageRect:o,rect:n,style:"fade",ready:!0}}})},i=1280/853,c={square:1,landscape:16/9,portrait:9/16}[o],l=Math.min(.7,i/c*.7),s=l/(i/c);(0,T.dC)((function(){a({sourceFootageRect:{x:0,y:0,width:.5,height:.5},rect:{x:.1,y:.1,width:l/2,height:s/2},zindex:1e3}),a({sourceFootageRect:{x:.5,y:0,width:.5,height:.5},rect:{x:.2+l/2,y:.1,width:l/2,height:s/2},zindex:1001}),a({sourceFootageRect:{x:0,y:.5,width:.5,height:.5},rect:{x:.1,y:.2+s/2,width:l/2,height:s/2},zindex:1002}),a({sourceFootageRect:{x:.5,y:.5,width:.5,height:.5},rect:{x:.2+l/2,y:.2+s/2,width:l/2,height:s/2},zindex:1003})}))}}]},CG=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"LadyBugContainer ".concat(e["data-component-name"]):"LadyBugContainer"}})).withConfig({displayName:"lady-bugstyle__LadyBugContainer",componentId:"sc-1vbs81a-0"})([""," width:45px;height:45px;position:fixed;z-index:",";filter:drop-shadow(3px 3px 2px rgba(0,0,0,0.7));"],(function(e){var t=e.isDragging;return(0,Ge.css)(["cursor:",";"],t?"grabbing":"pointer")}),sL.LadyBug),SG=Ge.default.ul.attrs((function(e){return{"data-component-name":e["data-component-name"]?"LadyBugMenu ".concat(e["data-component-name"]):"LadyBugMenu"}})).withConfig({displayName:"lady-bugstyle__LadyBugMenu",componentId:"sc-1vbs81a-1"})(["cursor:default;padding:13px 0;margin:0;position:absolute;top:30%;left:30%;border:3px solid ",";border-radius:6px;box-shadow:0 0 6px 0 rgba(0,0,0,0.3);background-color:white;"],(function(e){return e.theme.colors?e.theme.colors.primary:"red"})),_G=Ge.default.li.attrs((function(e){return{"data-component-name":e["data-component-name"]?"LadyBugMenuGroup ".concat(e["data-component-name"]):"LadyBugMenuGroup"}})).withConfig({displayName:"lady-bugstyle__LadyBugMenuGroup",componentId:"sc-1vbs81a-2"})(["white-space:nowrap;text-align:left;padding:0 15px;list-style:none;"]),xG=Ge.default.ul.attrs((function(e){return{"data-component-name":e["data-component-name"]?"LadyBugSubMenu ".concat(e["data-component-name"]):"LadyBugSubMenu"}})).withConfig({displayName:"lady-bugstyle__LadyBugSubMenu",componentId:"sc-1vbs81a-3"})(["padding:0;"]),IG=(0,Ge.css)(["cursor:pointer;white-space:nowrap;text-align:left;&:hover{background-color:lightgrey;}"]),TG=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"LadyBugAdminMenuItem ".concat(e["data-component-name"]):"LadyBugAdminMenuItem"}})).withConfig({displayName:"lady-bugstyle__LadyBugAdminMenuItem",componentId:"sc-1vbs81a-4"})(["",""],IG),OG=Ge.default.li.attrs((function(e){return{"data-component-name":e["data-component-name"]?"LadyBugMenuItem ".concat(e["data-component-name"]):"LadyBugMenuItem"}})).withConfig({displayName:"lady-bugstyle__LadyBugMenuItem",componentId:"sc-1vbs81a-5"})([""," padding:0 15px;",""],IG,(function(e){var t=e.enabled;return(0,Ge.css)(["list-style:"," inside;"],t?"disc":"circle")})),kG=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"CloseButton ".concat(e["data-component-name"]):"CloseButton"}})).withConfig({displayName:"lady-bugstyle__CloseButton",componentId:"sc-1vbs81a-6"})(["position:absolute;right:10px;top:10px;font-weight:bolder;padding:0 3px;cursor:pointer;"]);function MG(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return BG(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BG(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function BG(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var jG=function(){var e="Vimeo::Editor::LadyBugSettings",t=JSON.parse(sessionStorage.getItem(e)||"{}");return{setPosition:function(n){Object.assign(t,n),sessionStorage.setItem(e,JSON.stringify(t))},getPosition:function(){var e=t.top,n=void 0===e?9:e,r=t.left;return{top:n,left:void 0===r?124:r}}}}(),LG=function(e){return oG("video/videosession/?pk__exact=".concat(e))},PG=function(e){return oG("process/debug_session/".concat(e))};function NG(e){var t=e.vsid;return t&&-1!==t?h().createElement("div",{"data-component-name":"AdminLink"},"Admin:"," ",h().createElement("a",{"data-test-admin-url":!0,href:LG(t),target:"_blank",rel:"noopener noreferrer"},t)):null}function DG(e){var t=e.vsid;return t&&-1!==t?h().createElement("div",{"data-component-name":"DebugSessionLink"},"Debug Session:"," ",h().createElement("a",{href:PG(t),target:"_blank",rel:"noopener noreferrer"},t)):null}var RG=function(){var e=(0,T.v9)((function(e){return e.featureToggles})),t=e.values,n=e.menu,r=(0,T.v9)((function(e){return e.storyBoard})).vsid,o=MG((0,f.useState)(!1),2),a=o[0],i=o[1],c=MG((0,f.useState)(!1),2),l=c[0],s=c[1],u=(0,T.I0)(),d=function(e,t){var n=e.name,r=e.reload;void 0!==r&&r?window.confirm("\nChanging this feature requires reload.\nAll unsaved changes (if any) will be lost.\nDo you want to continue?\n")&&(u(al(n,t)),window.location.reload()):u(al(n,t))},m=function(e){return Math.max(0,Math.min(e,window.innerHeight-70))},p=function(e){return Math.max(0,Math.min(e,window.innerWidth-70))},g=MG((0,f.useState)((function(){var e=jG.getPosition(),t=e.top,n=e.left;return{top:m(t),left:p(n)}})),2),y=g[0],b=g[1],v=MG((0,f.useState)(!1),2),E=v[0],w=v[1],A=(0,f.useCallback)((function(e){if(0===e.button){var t=e.clientX,n=e.clientY,r=y.top,o=y.left,a=!1,i=function(e){e.stopImmediatePropagation();var i=e.clientX,c=e.clientY;if(!(!a&&Math.abs(i-t)<5&&Math.abs(c-n)<5)){a=!0,document.body.style.cursor="grabbing";var l=m(r+c-n),s=p(o+i-t);b({top:l,left:s}),w(!0)}};document.addEventListener("mousemove",i),document.addEventListener("mouseup",(function e(c){if(a){var l=c.clientX,s=c.clientY,u={top:m(r+s-n),left:p(o+l-t)};b(u),jG.setPosition(u),w(!1),a=!1,document.body.style.cursor="auto"}document.removeEventListener("mousemove",i),document.removeEventListener("mouseup",e)}))}}),[y]),C=function(){i(!a)};return h().createElement(CG,{style:y,isDragging:E,onMouseDown:function(e){return A(e)},onDoubleClick:function(){return s((function(e){return!e}))},"data-component-name":"LadyBug"},h().createElement(wG,null),l&&h().createElement(SG,null,h().createElement(_G,null,h().createElement(NG,{vsid:r}),h().createElement(DG,{vsid:r})),h().createElement(_G,{onClick:C},h().createElement(TG,{key:"bug-report",enabled:!0,onClick:C,className:"feature-toggles-item"},"Report a Bug"),a&&h().createElement(EG,{toggleBugReport:C})),n.map((function(e){var n;return h().createElement(_G,{key:n=e.displayName,"data-key":n},e.displayName,h().createElement(xG,null,e.items.map((function(e){var n,r;return"options"in e?h().createElement(_G,{key:n=e.name,"data-key":n},"Choose ",e.displayName,h().createElement(xG,null,e.options.map((function(n){var r;return h().createElement(OG,{key:r=n.value,"data-key":r,enabled:n.value===t[e.name],onClick:function(){return function(e,t){return d(e,t.value)}(e,n)}},n.displayName)})))):h().createElement(OG,{key:r=e.name,"data-key":r,enabled:t[e.name],onClick:function(){return function(e){return d(e,!t[e.name])}(e)}},t[e.name]?"Disable ":"Enable ",e.displayName)}))))})),h().createElement(_G,null,AG.displayName,h().createElement(xG,null,AG.items.map((function(e){var t;return h().createElement(OG,{key:t=e.displayName,"data-key":t,onClick:function(){return u(e.creator)}},e.displayName)})))),h().createElement(kG,{onClick:function(){return s(!1)}},"X")))},zG=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"UploadLogoContainer ".concat(e["data-component-name"]):"UploadLogoContainer"}})).withConfig({displayName:"upload-logocomponent__UploadLogoContainer",componentId:"rdm5ct-0"})(["position:absolute;top:",";left:",";display:flex;justify-content:center;align-content:center;cursor:pointer;background-color:rgba(0,0,0,0.4);&:hover{background-color:rgba(0,0,0,0.6);}width:",";height:",";border-radius:",";"],(0,We.rem)(8),(0,We.rem)(8),(0,We.rem)(64),(0,We.rem)(64),(0,We.rem)(4)),UG=(0,Ge.default)(YB).attrs((function(e){return{"data-component-name":e["data-component-name"]?"Logo ".concat(e["data-component-name"]):"Logo"}})).withConfig({displayName:"upload-logocomponent__Logo",componentId:"rdm5ct-1"})(["padding:",";width:100%;height:100%;"],(0,We.rem)(20));const FG=function(e){var t=e.onLogoClick;return h().createElement(zG,{onClick:function(){t()},"data-component-name":"UploadLogoPlaceholder"},h().createElement(wL,{text:oe.BrandingAddLogo,flex:"1 1"},h().createElement(UG,{color:"white"})))};function HG(e){return function(e){if(Array.isArray(e))return GG(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||WG(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function VG(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||WG(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function WG(e,t){if(e){if("string"==typeof e)return GG(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?GG(e,t):void 0}}function GG(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var YG={x:0,y:0,width:1,height:1},qG=function(e,t,n){var r=n/180*Math.PI,o=Math.cos(r),a=Math.sin(r);return[e*o+t*a,-e*a+t*o]},ZG=function(e,t){var n=e.top,r=e.left,o=e.width,a=e.height,i=r+o/2,c=n+a/2,l=o/2,s=a/2,u=l,d=-s,m=VG(qG(l,s,t),2),p=m[0],f=m[1],h=VG(qG(u,d,t),2),g=h[0],y=h[1],b=Math.max(Math.abs(p),Math.abs(g)),v=Math.max(Math.abs(f),Math.abs(y));return{top:c-v,left:i-b,height:2*v,width:2*b}},XG=function(e,t,n){var r={top:e.y*n.height,left:e.x*n.width,height:e.height*n.height,width:e.width*n.width};return 0===t?r:ZG(r,t)},KG=function(e){var t=e.top,n=e.left,r=e.width,o=e.height;return{left:n,top:t,right:n+r,bottom:t+o,xMiddle:n+r/2,yMiddle:t+o/2}},QG=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.rect,n=e.rotationAngle,r=void 0===n?0:n,o=e.stageSize,a=e.timing,i=e.padding,c=void 0===i?0:i,l=e.ceId,s=void 0===l?null:l,u=XG(t,r,o),d=KG(u),m=Math.min(c*o.width,c*o.height),p={ceId:s,bounds:d,cord:d.top+m,isHorizontal:!0,isEdge:!0,isMiddle:!1,timing:a},f={ceId:s,bounds:d,cord:d.yMiddle,isHorizontal:!0,isEdge:!1,isMiddle:!0,timing:a},h={ceId:s,bounds:d,cord:d.bottom-m,isHorizontal:!0,isEdge:!0,isMiddle:!1,timing:a},g={ceId:s,bounds:d,cord:d.left+m,isVertical:!0,isEdge:!0,isMiddle:!1,timing:a},y={ceId:s,bounds:d,cord:d.xMiddle,isVertical:!0,isEdge:!1,isMiddle:!0,timing:a},b={ceId:s,bounds:d,cord:d.right-m,isVertical:!0,isEdge:!0,isMiddle:!1,timing:a};return[p,f,h,g,y,b]},$G=(0,il.P1)([hs,function(e){return e.stageSize},function(e){return e.layouts},function(e){return e.storyBoard.orientation},function(e){return e.staticParameters},function(e){return e.textStickerAssets}],(function(e,t,n,r,o,a){return function(e){var t,n=e.selectedScene,r=e.stageSize,o=e.layouts,a=e.orientation,i=e.staticParameters,c=e.textStickerAssets;if(!n||!n.ready)return[];var l=Object.values(n.composition).filter((function(e){return function(e){return e.draggable}(e)})).map((function(e){var t=e.rect;if(e.type===Ts){var n,o=null===(n=c[e.textStyleId])||void 0===n?void 0:n.metaData;if(!o)return[];t=im(e.rect,o,{whUnitsRatio:a,isCircle:e.textStyleId===es})}return QG({ceId:e.id,rect:t,rotationAngle:e.rotatable?e.rotate:0,timing:e.timing,stageSize:r})})).flat(),s=i.STAGE_PADDING,u=null===(t=n.getMediaElement())||void 0===t?void 0:t.rect,d=!!u,m=d?QG({rect:u,stageSize:r,padding:s}):[],p=d?[]:QG({rect:YG,stageSize:r,padding:s}),f=n.getLayout(o,a).defaultTextPosition,h=f?QG({rect:f,stageSize:r,padding:s}):[];return[].concat(HG(l),HG(m),HG(p),HG(h))}({selectedScene:e,stageSize:t,layouts:n,orientation:r,staticParameters:o,textStickerAssets:a})})),JG=(0,il.P1)($G,(function(e){return e.filter((function(e){return e.isVertical&&e.isEdge})).sort((function(e,t){return e.cord-t.cord}))})),eY=(0,il.P1)($G,(function(e){return e.filter((function(e){return e.isHorizontal&&e.isEdge})).sort((function(e,t){return e.cord-t.cord}))})),tY=(0,il.P1)($G,(function(e){return e.filter((function(e){return e.isVertical&&e.isMiddle})).sort((function(e,t){return e.cord-t.cord}))})),nY=(0,il.P1)($G,(function(e){return e.filter((function(e){return e.isHorizontal&&e.isMiddle})).sort((function(e,t){return e.cord-t.cord}))})),rY=(0,il.P1)([hs,gs,function(e){return e.overrides},function(e){return e.stageSize}],(function(e,t,n,r){var o,a=n["".concat(null==t?void 0:t.id,"@").concat(null==e?void 0:e.id)];if(!a)return null;if(!("userRect"in a||"rect"in a||"rotate"in a))return null;var i=a.userRect||a.rect||t.rect,c=t.rotatable?null!==(o=null==a?void 0:a.rotate)&&void 0!==o?o:t.rotate:0,l=ZG({top:i.y*r.height,left:i.x*r.width,width:i.width*r.width,height:i.height*r.height},c);return KG(l)})),oY=function(e,t){return Math.abs(e-t)<.5},aY=(0,il.P1)([hs,bs,$G,gs,rY],(function(e,t,n,r,o){if(!o)return[];var a=t.currentTime,i=o.left,c=o.top,l=o.right,s=o.bottom,u=o.xMiddle,d=o.yMiddle;return n.filter((function(e){return n=(t=e).ceId,o=t.cord,m=t.isVertical,p=t.isHorizontal,f=t.isEdge,h=t.isMiddle,g=t.timing,n!==r.id&&(g&&g.start<=a&&a<=g.end||!g)&&(m&&f&&(oY(o,i)||oY(o,l))||p&&f&&(oY(o,c)||oY(o,s))||m&&h&&oY(o,u)||p&&h&&oY(o,d));var t,n,o,m,p,f,h,g}))})),iY=(0,il.P1)(aY,(function(e){return new Set(e.map((function(e){return e.ceId})))}));function cY(e,t,n,r){var o=t.width*r.width,a=t.height*r.height,i=t.x*r.width,c=t.y*r.height,l=n.width*e.width/o,s=n.height*e.height/a,u=Math.max(l,s);return{scaleFactor:u,scaleX:i*u,scaleY:c*u}}function lY(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return sY(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sY(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sY(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var uY=S("DebugInfoLabel");const dY=function(e){var t=e.type,n=e.debugInfo,r=e.relativePosition,o=e.fontSize,a=e.footageRect,i=e.sourceSize,c=e.scale,l=e.videoDuration;function s(e){return Number.isInteger(e)?e:Number(e).toFixed(3)}var u=(0,T.v9)((function(e){return e.storyBoard.orientation})),d=(0,T.v9)((function(e){return e.stageSize})),m=lY("landscape"===u?[1920,1080]:"portrait"===u?[1080,1920]:[1080,1080],2),p=m[0],f=m[1];return h().createElement(h().Fragment,null,function(){switch(n){case"ce-rect":return h().createElement("div",{className:"debug-info",style:{top:"70%"},"data-component-name":"getDebugInfoElement"},h().createElement("div",null,"Type: ",t),h().createElement("div",null,"x: ",s(r.x)," (",s(r.x*p),"px)"),h().createElement("div",null,"y: ",s(r.y)," (",s(r.y*f),"px)"),h().createElement("div",null,"w: ",s(r.width)," (",s(r.width*p),"px)"),h().createElement("div",null,"h: ",s(r.height)," (",s(r.height*f),"px)"),o&&h().createElement("div",null,"fontSize: ",s(o)," (",s(o*f),"px)"));case"media-rect":return h().createElement("div",{className:"debug-info",style:{top:"30%"},"data-component-name":"getDebugInfoElement"},h().createElement("div",null,h().createElement("u",null,"Footage rect: ")," X:",s(a.x),", Y:",s(a.y),", W:",s(a.width),", H:",s(a.height)),i&&h().createElement("div",null,h().createElement("u",null,"Source size: ")," W:",s(i.width),"px H:",s(i.height),"px"),h().createElement("div",null,h().createElement("u",null,"Scale: ")," ",s(c)),d&&h().createElement("div",null,h().createElement("u",null,"Scene size: "),"w:",s(d.width),"px h:",s(d.height),"px"),l&&h().createElement("div",null,h().createElement("u",null,"Duration: "),"start:",s(l.start)," end:",s(l.end)));default:uY.log("Unknown debug-info",n)}return h().createElement("div",{"data-component-name":"getDebugInfoElement"})}())};var mY=n(346345502423854),pY=function(e){var t=e.onClick;return h().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",onClick:t,"data-component-name":"EditIcon"},h().createElement("g",{fill:"none",fillRule:"evenodd",stroke:"#1A2E3B",strokeWidth:"2"},h().createElement("path",{strokeLinecap:"square",d:"M13.414 7.596l2.829 2.829"}),h().createElement("path",{strokeLinejoin:"round",d:"M18.718 4.414l1.414 1.414a2 2 0 0 1 0 2.829L9.525 19.263l-4.95.708.707-4.95L15.89 4.414a2 2 0 0 1 2.829 0z"})))};const fY=function(){return h().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","data-component-name":"EllipsisIconSVG"},h().createElement("g",{fill:"#FFF",fillRule:"evenodd",transform:"translate(3 10)"},h().createElement("circle",{cx:"2",cy:"2",r:"2"}),h().createElement("circle",{cx:"9",cy:"2",r:"2"}),h().createElement("circle",{cx:"16",cy:"2",r:"2"})))};var hY=(0,f.forwardRef)((function(e,t){return h().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",ref:t,"data-component-name":"EllipsisIconSVGBlack","data-key":e["data-key"]},h().createElement("g",{fill:"#000",fillRule:"evenodd",transform:"translate(3 10)"},h().createElement("circle",{cx:"2",cy:"2",r:"2"}),h().createElement("circle",{cx:"9",cy:"2",r:"2"}),h().createElement("circle",{cx:"16",cy:"2",r:"2"})))}));const gY=h().createContext({setListVisibility:function(){},isListVisible:!1,onBeforeOpen:function(){},onOpen:function(){},onClose:function(){},position:{left:0,top:0},listPortal:null});var yY=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"ListItemWrapper ".concat(e["data-component-name"]):"ListItemWrapper"}})).withConfig({displayName:"list-itemcomponent__ListItemWrapper",componentId:"sc-190k59v-0"})(["display:flex;cursor:pointer;align-items:center;height:",";padding:0 "," 0;position:relative;&.disabled{opacity:0.5;pointer-events:none;}svg{display:block;}&:hover{background-color:#f7f8f9;}"],(0,We.rem)(40),(0,We.rem)(20)),bY=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"ListItemIcon ".concat(e["data-component-name"]):"ListItemIcon"}})).withConfig({displayName:"list-itemcomponent__ListItemIcon",componentId:"sc-190k59v-1"})(["margin-right:",";"],(0,We.rem)(6)),vY=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"ListItemText ".concat(e["data-component-name"]):"ListItemText"}})).withConfig({displayName:"list-itemcomponent__ListItemText",componentId:"sc-190k59v-2"})(["font-family:HelveticaNeue;font-size:",";font-weight:normal;font-stretch:normal;font-style:normal;line-height:1.43;letter-spacing:normal;margin-right:0;"],(0,We.rem)(14));const EY=function(e){var t=e.onListItemClick,n=e.icon,r=e.text,o=e.className,a=e.children,i=(0,f.useContext)(gY).setListVisibility,c=(0,f.useCallback)((function(e){e.stopPropagation(),t&&t(),i(!1)}),[t,i]);return h().createElement(yY,{onClick:c,role:"option",tabIndex:"0","aria-selected":"true",onKeyDown:c,className:o,"data-component-name":"ListItem"},n&&h().createElement(bY,null,n),r&&h().createElement(vY,null,r),a)};function wY(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function AY(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wY(Object(n),!0).forEach((function(t){CY(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wY(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function CY(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SY(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _Y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _Y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var xY={left:"translateX(-100%)",center:"translateX(-50%)",right:"translateX(0)"},IY={top:"translateY(calc(-100% - ".concat((0,We.rem)(18),"))"),center:"translateY(-50%)",bottom:"translateY(".concat((0,We.rem)(18),")")},TY=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"ListWrapper ".concat(e["data-component-name"]):"ListWrapper"}})).withConfig({displayName:"listcomponent__ListWrapper",componentId:"sc-1p9s9ip-0"})(["border-radius:",";box-shadow:0 "," "," 0 rgba(0,0,0,0.15),0 0 "," 0 rgba(0,0,0,0.15);background-color:#ffffff;position:fixed;left:",";top:",";padding:"," 0;z-index:",";transform:",";opacity:0;transition:opacity 0.2s ease-out;",";"],(0,We.rem)(3),(0,We.rem)(4),(0,We.rem)(8),(0,We.rem)(1),(function(e){return(0,We.rem)(e.position.left)}),(function(e){return(0,We.rem)(e.position.top)}),(0,We.rem)(12),sL.DropDownList,(function(e){return"".concat(xY[e.openDirectionHorizontal]," \n    ").concat(IY[e.openDirectionVertical],"\n    translateX(").concat(e.horizontalShift,"px)\n    translateY(").concat(e.verticalShift,"px)")}),(function(e){return e.customStyles})),OY={openDirectionVertical:null,horizontalShift:null};const kY=function(e){var t,n,r=e.children,o=e.customStyles,a=(0,f.useContext)(gY),i=a.isListVisible,c=a.position,l=a.openDirectionVertical,s=a.openDirectionHorizontal,u=a.verticalShift,d=void 0===u?0:u,m=a.horizontalShift,p=void 0===m?0:m,g=a.listPortal,y=(0,f.useRef)(null),b=SY((0,f.useState)(OY),2),v=b[0],E=b[1];if(i||(y.current=null,v!==OY&&E(OY)),(0,f.useLayoutEffect)((function(){var e=y.current;if(e){var t=e.getBoundingClientRect(),n=document.documentElement.clientWidth,r=document.documentElement.clientHeight,o=OY,a=r-16;t.top<0&&(o=AY(AY({},o),{},{openDirectionVertical:"bottom"})),t.bottom>a&&(o=AY(AY({},o),{},{openDirectionVertical:"top"}));var i=n-16;t.left<16&&(o=AY(AY({},o),{},{horizontalShift:16-t.left})),t.right>i&&(o=AY(AY({},o),{},{horizontalShift:-(t.right-i)})),o!==OY&&E(o)}}),[i,c]),(0,f.useEffect)((function(){var e=y.current;e&&(e.style.opacity=1)}),[i]),!i)return null;var w=h().createElement(TY,{"data-popover":!0,ref:y,position:c,openDirectionVertical:null!==(t=v.openDirectionVertical)&&void 0!==t?t:l,openDirectionHorizontal:s,verticalShift:d,horizontalShift:null!==(n=v.horizontalShift)&&void 0!==n?n:p,customStyles:o},r);return g?$().createPortal(w,g):w};function MY(e,t,n,r,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,o)}const BY=function(e){var t=e.children,n=(0,f.useContext)(gY),r=n.isListVisible,o=n.setListVisibility,a=n.onBeforeOpen,i=n.onOpen,c=n.onClose,l=(0,f.useCallback)(function(){var e,t=(e=regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.stopPropagation(),!a){e.next=4;break}return e.next=4,a();case 4:return e.next=6,o(!0);case 6:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){MY(a,r,o,i,c,"next",e)}function c(e){MY(a,r,o,i,c,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}(),[a,o]);return(0,f.useEffect)((function(){r?i&&i():c&&c()}),[r,c,i]),h().createElement("div",{"data-popover-selector":!0,tabIndex:"0",role:"button",onClick:l,"data-component-name":"Selector"},t)};function jY(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return LY(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LY(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function LY(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var PY=S("Dropdown"),NY=function(e){var t=e.children,n=e.onOpen,r=e.onClose,o=e.onBeforeOpen,a=void 0===o?y():o,i=e.closeListOnParentScroll,c=e.scrollableParent,l=e.openDirectionVertical,s=void 0===l?"top":l,u=e.openDirectionHorizontal,d=void 0===u?"center":u,m=e.listPortal,p=e.selector,g=e.as,b=void 0===g?"span":g,v=e.anchorRef,E=e.className,w=jY((0,f.useState)({left:0,top:0}),2),A=w[0],C=w[1],S=(0,f.useCallback)((function(){var e=v.current;if(e){var t=e.getBoundingClientRect();C({left:t.left+t.width/2||0,top:t.top||0})}else PY.error("Anchor doesn't exist");return a()}),[a,v]),_=jY((0,f.useState)(!1),2),x=_[0],I=_[1],O=(0,T.I0)(),k=(0,f.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e;e&&x&&(n=!1),I(n),t||O(Ul(n?function(){I(!1)}:null))}),[O,x]);return(0,f.useEffect)((function(){if(i&&x&&c){var e=function(){return k(!1)};return c.addEventListener("scroll",e),function(){return c.removeEventListener("scroll",e)}}return y()}),[i,x,c,k]),h().createElement(gY.Provider,{value:{setListVisibility:k,isListVisible:x,onBeforeOpen:S,onOpen:n,onClose:r,position:A,openDirectionVertical:s,openDirectionHorizontal:d,listPortal:m},"data-component-name":"Dropdown"},h().createElement("span",{as:b,className:E},p,t))};NY.Selector=BY,NY.List=kY,NY.ListItem=EY;const DY=NY;var RY=100001,zY=200002,UY=200003,FY={COMPOSITION_CONTENT_BASE:0,COMPOSITION_FRAME_BASE:RY,SNAP_GUIDELINES:zY,CONTROLS_BAR:UY,ACTIVE_COMPOSITION_RESIZE_HANDLERS:200004},HY=(0,Ge.default)(Tv).attrs((function(e){return{"data-component-name":e["data-component-name"]?"ButtonIconControl ".concat(e["data-component-name"]):"ButtonIconControl"}})).withConfig({displayName:"button-icon__ButtonIconControl",componentId:"mna0c3-0"})(["border:none;min-width:initial;min-height:initial;padding:0;width:",";height:",";margin:0 ",";padding:0 12px;span{align-items:center;width:100%;justify-content:space-between;}"],(function(e){return"sm"===e.size?(0,We.rem)(32):(0,We.rem)(40)}),(function(e){return"sm"===e.size?(0,We.rem)(32):(0,We.rem)(40)}),(0,We.rem)(1)),VY=Ge.default.p.attrs((function(e){return{"data-component-name":e["data-component-name"]?"KeyboardShortcutLabel ".concat(e["data-component-name"]):"KeyboardShortcutLabel"}})).withConfig({displayName:"button-icon__KeyboardShortcutLabel",componentId:"mna0c3-1"})(["font-size:12px;color:#b3bfc8;margin:0;"]),WY=function(e){var t=e.show,n=void 0===t||t,r=e.onClick,o=e.iconReactComponent,a=e.format,i=e.size,c=e.className,l=e.text,s=e.keyboardShortcutLabel;return n?h().createElement(HY,{onClick:r,title:"",format:a,size:i,className:c,"data-component-name":"ButtonIcon"},o,l,s&&h().createElement(VY,null,s)):null},GY=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"ControlsBarWrapper ".concat(e["data-component-name"]):"ControlsBarWrapper"}})).withConfig({displayName:"composition-elementstyle__ControlsBarWrapper",componentId:"sc-16x81q5-0"})(["position:fixed;border-radius:5px;box-shadow:0 0 5px 0 rgba(0,0,0,0.5);background-color:rgba(255,255,255);display:inline-flex;align-items:center;padding:4px;z-index:",";div{border:0 !important;}"],FY.CONTROLS_BAR),YY=(0,Ge.default)(WY).attrs((function(e){return{"data-component-name":e["data-component-name"]?"CollapsedOptionsButton ".concat(e["data-component-name"]):"CollapsedOptionsButton"}})).withConfig({displayName:"composition-elementstyle__CollapsedOptionsButton",componentId:"sc-16x81q5-1"})(["width:100%;height:100%;font-weight:normal;letter-spacing:normal;"," button{margin:0;}div{border:0 !important;border-radius:0 !important;transition:none;transform:none;}"],(function(e){return e.disabled&&"pointer-events:none;color: #b3bfc8;"})),qY=(0,Ge.default)(DY.ListItem).attrs((function(e){return{"data-component-name":e["data-component-name"]?"Option ".concat(e["data-component-name"]):"Option"}})).withConfig({displayName:"composition-elementstyle__Option",componentId:"sc-16x81q5-2"})([""," width:",";height:",";margin:"," 0;padding:0;"],(function(e){return e.disabled&&"pointer-events:none;"}),(0,We.rem)(180),(0,We.rem)(28),(0,We.rem)(1)),ZY=(0,Ge.default)(eN).attrs((function(e){return{"data-component-name":e["data-component-name"]?"FullSeparator ".concat(e["data-component-name"]):"FullSeparator"}})).withConfig({displayName:"composition-elementstyle__FullSeparator",componentId:"sc-16x81q5-3"})(["margin:"," 0;width:100%;"],(0,We.rem)(9)),XY=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"VerticalSeparator ".concat(e["data-component-name"]):"VerticalSeparator"}})).withConfig({displayName:"composition-elementstyle__VerticalSeparator",componentId:"sc-16x81q5-4"})(["width:1px;height:32px;background-color:#e3e8e9;margin:0 4px;"]),KY=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"SelectedMediaBorder ".concat(e["data-component-name"]):"SelectedMediaBorder"}})).withConfig({displayName:"composition-elementstyle__SelectedMediaBorder",componentId:"sc-16x81q5-5"})(["position:absolute;width:100%;height:100%;z-index:99999;border:solid 2px ",";pointer-events:none;"],(function(e){return e.theme.colors.primary})),QY=(0,Ge.default)(WY).attrs((function(e){return{"data-component-name":e["data-component-name"]?"EditTextIconBtn ".concat(e["data-component-name"]):"EditTextIconBtn"}})).withConfig({displayName:"composition-elementstyle__EditTextIconBtn",componentId:"sc-16x81q5-6"})(["width:",";"],(0,We.rem)(79)),$Y=(0,Ge.default)(WY).attrs((function(e){return{"data-component-name":e["data-component-name"]?"ReplaceIconBtn ".concat(e["data-component-name"]):"ReplaceIconBtn"}})).withConfig({displayName:"composition-elementstyle__ReplaceIconBtn",componentId:"sc-16x81q5-7"})(["width:",";"],(0,We.rem)(107)),JY=function(e){var t=e.selector;return(0,Ge.css)(["","::after{content:'';width:calc(100% - 2px);height:calc(100% - 2px);border:2px solid ",";border-radius:3px;position:absolute;left:-1px;top:-1px;pointer-events:none;box-sizing:content-box;}"],t,$x.WarningYellow)},eq=(0,Ge.default)(mY._).attrs((function(e){return{"data-component-name":e["data-component-name"]?"StyledDraggable ".concat(e["data-component-name"]):"StyledDraggable"}})).withConfig({displayName:"sticker-composition-elementstyle__StyledDraggable",componentId:"sc-119ro80-0"})(["z-index:",";",""],(function(e){var t=e.ceZIndex;return FY.COMPOSITION_FRAME_BASE+t}),(function(e){var t=e.showFrame,n=e.hoverable;return t?JY({selector:"&"}):n?JY({selector:"&:hover"}):null})),tq=(0,Ge.default)(mY.L).attrs((function(e){return{"data-component-name":e["data-component-name"]?"StyledResizableRotatable ".concat(e["data-component-name"]):"StyledResizableRotatable"}})).withConfig({displayName:"sticker-composition-elementstyle__StyledResizableRotatable",componentId:"sc-119ro80-1"})(["z-index:",";&&{border:none;}.square.square{width:8px;height:8px;border-radius:45px;border:solid 2px ",";margin:-7px;box-sizing:content-box;&.t{top:0;}&.l{left:0;}&.r{right:0;}&.b{bottom:0;}&.tl{top:0;left:0;}&.tr{top:0;right:0;}&.bl{bottom:0;left:0;}&.br{bottom:0;right:0;}}.rotate.rotate{"," svg{display:none;}&::after{content:'';color:",";position:absolute;left:50%;top:100%;transform:translateX(-50%);border-radius:45px;background-color:#fff;width:8px;height:8px;border:2px solid ",";box-sizing:content-box;margin-left:-1px;}i{background-image:none;}position:absolute;left:50%;top:100%;margin-top:3px;height:20px;width:0px;border-left:2px solid ",";margin-left:-2px;}"],FY.ACTIVE_COMPOSITION_RESIZE_HANDLERS,$x.WarningYellow,(function(e){return e.isResizing&&(0,Ge.css)(["display:none;"])}),$x.WarningYellow,$x.WarningYellow,$x.WarningYellow),nq=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"Sticker ".concat(e["data-component-name"]):"Sticker"}})).withConfig({displayName:"sticker-composition-elementstyle__Sticker",componentId:"sc-119ro80-2"})([""," .ce-wrapper .ce{transform:rotate(","deg);}",""],(function(e){return e.isAnimated&&(0,Ge.css)(["","{opacity:0;}"],GY)}),(function(e){return e.rotation}),(function(e){return e.isLogo&&(0,Ge.css)(["cursor:pointer;"])}));function rq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rq(Object(n),!0).forEach((function(t){aq(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rq(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function aq(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iq(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return cq(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cq(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cq(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var lq=function(){},sq=function(e){var t=e.replacedSticker,n=iq(pL(t),2),r=n[0],o=n[1];return h().createElement(h().Fragment,null,r,h().createElement($Y,{size:"sm",format:"transparent",onClick:function(){$i({open_type:ya}),o()},iconReactComponent:h().createElement(iH,null),text:oe.Replace}))},uq=(0,f.forwardRef)((function(e,t){var n=e.ce,r=e.onZIndexChange,o=e.onEdit,a=e.onDuplicate,i=e.onCopy,c=e.onPaste,l=e.onDelete,s=e.showTimeline,u=e.replaceable,d=e.pasteable,m=e.shortcutMetaKey,p=e.timelineVisible,g=e.canChangeZIndexUp,y=e.canChangeZIndexDown,b=e.compositionControlsMenuElem,v=(0,f.useMemo)((function(){return[{id:"copy",text:oe.Copy,onClick:function(){i()},keyboardShortcutLabel:"".concat(m," + C")},{id:"duplicate",text:oe.Duplicate,onClick:a,keyboardShortcutLabel:"".concat(m," + D")},{id:"paste",onClick:c,text:oe.Paste,keyboardShortcutLabel:"".concat(m," + V"),disabled:!d},{id:"delete",onClick:l,text:oe.Delete,keyboardShortcutLabel:"Del"},{id:"separator"},{id:"forward",disabled:!g,text:oe.Forward,onClick:function(){return r(!0)},keyboardShortcutLabel:"".concat(m," + ")},{id:"backward",disabled:!y,text:oe.Backward,onClick:function(){return r(!1)},keyboardShortcutLabel:"".concat(m," + ")}]}),[m,a,c,d,l,s,g,y,p,i,r]),E=(0,f.useMemo)((function(){return v.map((function(e){var t,n;return"separator"===e.id?h().createElement(ZY,{key:t=e.id,"data-key":t}):h().createElement(qY,{disabled:e.disabled,key:n=e.id,"data-key":n,onListItemClick:e.onClick},h().createElement(YY,{size:"sm",format:"transparent",text:e.text,keyboardShortcutLabel:e.keyboardShortcutLabel,flex:"1 1",disabled:e.disabled}))}))}),[v]),w=(0,f.useRef)(null),A=(0,f.useMemo)((function(){return h().createElement(DY.Selector,{"data-component-name":"dropdownSelector"},h().createElement(JL,{size:"sm","data-popover-selector":!0,format:"transparent",tooltipText:oe.More,iconReactComponent:h().createElement(hY,{ref:w})}))}),[]);return h().createElement(GY,{onDoubleClick:function(e){return e.stopPropagation()},ref:t,"data-component-name":"ControlsBar"},h().createElement(QY,{size:"sm",format:"transparent",onClick:o,iconReactComponent:h().createElement(pY,null),show:o!==lq,text:oe.Edit}),u&&h().createElement(sq,{replacedSticker:n}),h().createElement(XY,null),h().createElement(JL,{size:"sm",format:"transparent",tooltipText:oe.MediaInspectorTimeline,onClick:s,iconReactComponent:h().createElement(AN,{disabled:p}),disabled:p}),h().createElement(DY,{closeListOnParentScroll:!0,listPortal:b,selector:A,anchorRef:w,openDirectionHorizontal:"right",openDirectionVertical:"bottom"},h().createElement(DY.List,{customStyles:"min-width : ".concat((0,We.rem)(180),";\n            padding: ").concat((0,We.rem)(8)," 0;\n            margin: ").concat((0,We.rem)(2)," 0 0 ").concat((0,We.rem)(-10),";")},E)))})),dq=function(){},mq=function(e){var t=e.ce,n=e.scene,r=e.userRect,o=void 0===r?t.rect:r,a=e.stageSize,i=e.selectedCompositionId,c=e.hideControls,l=e.markSelected,s=e.deleteComposition,u=e.showTimeline,d=e.timelineVisible,m=e.onChangeZIndex,p=e.duplicateComposition,g=e.copyComposition,y=e.onEditComposition,b=e.children,v=e.afterContent,E=e.isPasteable,w=e.onPaste,A=e.disableHover,C=e.rectDebugInfoFT,S=e.overrides,_=e.canChangeZIndexUp,x=e.canChangeZIndexDown,I=e.compositionControlsMenuElem,T=e.onMouseEnter,O=void 0===T?dq:T,k=e.onMouseLeave,M=void 0===k?dq:k,B=e.showToastNotification,j=(0,f.useMemo)((function(){var e=S&&(S.userRect||S.rect)||o;return{width:e.width*a.width,height:e.height*a.height,top:e.y*a.height,left:e.x*a.width}}),[S,o,a]),L=t.isMaster(),P=i===t.id||L&&null==i,N=iq((0,f.useState)(!1),2),D=N[0],R=N[1],z=(0,f.useRef)(null);(0,f.useEffect)((function(){return function(){if(document){var e=z.current,n=document.querySelector(".scene_preview");if(e&&n){var r=n.getClientRects()[0],o=e.closest(nq.toString()),a=o.querySelector(eq.toString());if(a){var i,c=a.getBoundingClientRect(),l=t.rotatable&&t.rotate>=160&&t.rotate<=200;l&&(i=o.querySelector(".rotate").getBoundingClientRect()),e.style.top="".concat((l?Math.min(i.top-6,c.top):c.top)-46,"px"),e.style.left="".concat(c.left+(c.width-e.getBoundingClientRect().width)/2,"px");var s=e.getClientRects()[0];if(s){var u=!1,d=!1;s.top<r.top&&(e.style.top="".concat(c.height+c.top+(t.rotatable?40:10),"px"),s=iq(e.getClientRects(),1)[0],u=!0),s.top+s.height>r.top+r.height&&(e.style.top="".concat(r.height+r.top-e.previousSibling.offsetHeight-46,"px"),d=!0),d&&u&&(e.style.top="".concat(r.height+r.top-s.height,"px")),s.left<r.left&&(e.style.left="".concat(r.left,"px")),s.left+s.width>r.left+r.width&&(e.style.left="".concat(r.width+r.left-s.width,"px"))}}}}}()}));var U=L&&(D&&!A||P),F=iq(XL(n),2),H=F[0],V=F[1],W=(0,f.useCallback)((function(){t.selectable&&R(!0),O()}),[t.selectable,O]),G=(0,f.useCallback)((function(){t.selectable&&R(!1),M()}),[t.selectable,M]);return h().createElement(h().Fragment,null,U&&h().createElement(KY,null),h().createElement("div",{tabIndex:"0",className:"ce-wrapper",onFocus:function(){c||t.id===i||"logo_watermark"===t.id||l(t)},id:t.id,style:oq({position:"absolute"},j),onMouseEnter:W,onMouseLeave:G},C&&t.rectFromLayout&&h().createElement(dY,{position:j,relativePosition:t.rect,fontSize:t.fontSize,type:t.type,debugInfo:"ce-rect"}),C&&!t.rectFromLayout&&h().createElement("h1",null,"No Layout"),h().createElement("div",{className:"ce",style:{zIndex:FY.COMPOSITION_CONTENT_BASE+t.zindex}},b),v),P&&!c&&!L&&h().createElement(uq,{compositionControlsMenuElem:I,shortcutMetaKey:fw.modifierKey("cmd"),pasteable:E,ce:t,ref:z,onEdit:y,onDuplicate:function(){H(t.type)?V(t.type):p(t)},onCopy:function(){g(t),B({text:oe.SceneCopyNotification,context:_d})},onPaste:w,onDelete:function(){return s(t)},showTimeline:u,timelineVisible:d,canChangeZIndexUp:_,canChangeZIndexDown:x,onZIndexChange:function(e){return m(e)},replaceable:t&&t.type===_s}))};mq.defaultProps={onEditComposition:lq},mq.propTypes={ce:_H.isRequired,onEditComposition:Sw.func};var pq={markSelected:gh,deleteComposition:ig,duplicateComposition:sg,copyComposition:Ch,showToastNotification:Id,showTimeline:sd};const fq=(0,T.$j)((function(e,t){var n=t.ce,r=e.storyBoard,o=r.selectedSceneId,a=r.selectedCompositionId,i=e.overrides["".concat(n.id,"@").concat(o)],c=hs(e),l=c.composition,s=!1,u=!1;if(l&&(n.type===_s&&"logo_watermark"!==n.id||n.type===Ts)){var d=Object.values(l).filter((function(e){return e.type===_s&&"logo_watermark"!==e.id||e.type===Ts})).filter((function(e){return p(e.timing,n.timing)})).sort((function(e,t){return e.zindex-t.zindex}));d.length>1&&(u=n.zindex>d[0].zindex,s=n.zindex<d[d.length-1].zindex)}var m=n.timing,f=bs(e).currentTime,h=i&&"timing"in i||m.start<=f&&f<=m.end;return{scene:c,canChangeZIndexUp:s,canChangeZIndexDown:u,selectedSceneId:o,selectedCompositionId:a,overrides:i,hideControls:i&&("userRect"in i||"rect"in i||"rotate"in i)||!h,stageSize:e.stageSize,rectDebugInfoFT:e.featureToggles.values.rectDebugInfo,timelineVisible:e.timeline.show}}),pq)(mq);function hq(){return(hq=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function gq(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return yq(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yq(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yq(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var bq=(0,Ge.default)(mY._).attrs((function(e){return{"data-component-name":e["data-component-name"]?"PanningHandler ".concat(e["data-component-name"]):"PanningHandler"}})).withConfig({displayName:"media-composition-elementcomponent__PanningHandler",componentId:"sc-13ufk1m-0"})(["z-index:",";",";"],(function(e){var t=e.ceZIndex;return FY.COMPOSITION_FRAME_BASE+t}),(function(e){return!e.panning&&(0,Ge.css)(["&:hover{cursor:grab;}"])})),vq=(0,f.forwardRef)((function(e,t){var n=e.ce,r=e.overrides,o=e.setOverrides,a=e.removeOverrides,i=e.sceneId,c=e.stageSize,l=e.updateMediaSourceFootageRect,s=e.children,u=e.afterContent,d=gq((0,f.useState)(!1),2),m=d[0],p=d[1],g=(0,f.useRef)(null),y=(0,f.useCallback)((function(e,t){var r=-e/c.width*(n.sourceFootageRect.width/n.rect.width),a=-t/c.height*(n.sourceFootageRect.height/n.rect.height),l=n.sourceFootageRect,s=l.x,u=l.y,d=l.width,m=l.height;o(i,n.id,{sourceFootageRect:{x:Math.max(0,Math.min(1-d,s+r)),y:Math.max(0,Math.min(1-m,u+a)),width:d,height:m}})}),[n.sourceFootageRect,n.rect.width,n.rect.height,n.id,c.width,c.height,o,i]),b=n.type===xs||n.type===Is;return h().createElement(fq,hq({},e,{onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,afterContent:h().createElement(h().Fragment,null,u,b&&h().createElement(bq,{showFrame:!1,hoverable:!1,ceZIndex:n.zindex,left:0,top:0,width:n.rect.width*c.width,height:n.rect.height*c.height,panning:m,onDragStart:function(){p(!0),g.current=document.body.style.cursor,document.body.style.cursor="grabbing"},onDrag:y,onDragEnd:function(){if(p(!1),document.body.style.cursor=g.current,r){t={item_type:n.type===xs?"image":"video"},o={name:"move_media_item_on_scene",product:Si,location:ba,vsid:fa.vsid,flow:fa.flow,via:t.via},Li(o=sa(sa({},t),o));var e=r.sourceFootageRect;l(i,n.id,e),a()}var t,o}})),"data-component-name":"MediaCompositionElementView","data-key":e["data-key"]}),h().createElement("div",{className:"media-composition",ref:t},s))}));var Eq={updateMediaSourceFootageRect:ey,setOverrides:ds,removeOverrides:ms},wq=(0,T.$j)((function(e,t){var n=t.ce,r=t.sceneId;return{sceneId:r,overrides:e.overrides["".concat(n.id,"@").concat(r)],stageSize:e.stageSize}}),Eq,null,{forwardRef:!0})(vq);wq.propTypes={ce:IH.isRequired};const Aq=wq;function Cq(){return(Cq=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Sq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sq(Object(n),!0).forEach((function(t){xq(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sq(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xq(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Iq(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Tq(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Tq(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tq(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Oq=function(e){var t,n,r=Iq((0,f.useState)(!1),2),o=r[0],a=r[1],i=e.sceneId,c=e.ce,l=e.overrides,s=null!==(t=null==l?void 0:l.sourceFootageRect)&&void 0!==t?t:c.sourceFootageRect,u=cY(e.stageSize,s,e.ce.rect,{width:e.mediaSource.width,height:e.mediaSource.height}),d={transform:"scale(".concat((n=u).scaleFactor,")"),top:"".concat(-n.scaleY,"px"),left:"".concat(-n.scaleX,"px")},m=o&&LH({source:e.mediaSource,fit:"cover"}),p={width:e.mediaSource.width,height:e.mediaSource.height},g=c.timing;return uE(i,g.start,g.end),h().createElement(Aq,Cq({},e,{"data-component-name":"ImageCompositionElement","data-key":e["data-key"]}),e.rectDebugInfoFT&&h().createElement(dY,{footageRect:s,sourceSize:e.mediaSource,scale:u.scaleFactor,debugInfo:"media-rect"}),h().createElement("div",{className:"scaled",style:p},h().createElement(oC,{src:e.mediaSource.previewURL,style:_q(_q({},d),m),onLoad:function(){return a(!0)}})))};Oq.propTypes={ce:bH.isRequired};const kq=(0,T.$j)((function(e,t){return{overrides:e.overrides["".concat(t.ce.id,"@").concat(t.sceneId)],stageSize:e.stageSize,mediaSource:t.mediaSource,rectDebugInfoFT:e.featureToggles.values.rectDebugInfo}}))(Oq);const Mq=function(e){var t=e.sceneId,n=e.ce.timing;return uE(t,n.start,n.end),null};function Bq(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return jq(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jq(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jq(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Lq=S("VideoPlayerComponent"),Pq=Ge.default.video.attrs((function(e){var t=e.volume;return{draggable:!1,crossOrigin:"anonymous",volume:e.muted?0:null!=t?t:.75}})).attrs((function(e){return{"data-component-name":e["data-component-name"]?"Video ".concat(e["data-component-name"]):"Video"}})).withConfig({displayName:"video-playercomponent__Video",componentId:"sc-1c93s6z-0"})(["width:100%;height:100%;top:0;object-fit:cover;position:static;"]),Nq=(0,Ge.default)(Xe).attrs((function(e){return{"data-component-name":e["data-component-name"]?"LoaderWrapper ".concat(e["data-component-name"]):"LoaderWrapper"}})).withConfig({displayName:"video-playercomponent__LoaderWrapper",componentId:"sc-1c93s6z-1"})(["height:100%;width:100%;position:absolute;background-color:",";max-width:initial;position:absolute;transform-origin:left top;"],$b);const Dq=(0,f.forwardRef)((function(e,t){var n=e.src,r=e.muted,o=e.volume,a=e.timing,i=(a=void 0===a?{start:0,end:Infinity}:a).start,c=a.end,l=e.goToStartOnVideoEnd,s=void 0!==l&&l,u=e.loop,m=void 0!==u&&u,p=e.preload,g=void 0===p?"auto":p,b=e.poster,v=void 0===b?"":b,E=e.hideLoader,w=void 0!==E&&E,A=e.style,C=e.className,S=void 0===C?"":C,_=e.onPlay,x=void 0===_?y():_,I=e.onPause,T=void 0===I?y():I,O=e.onBufferingToggle,k=void 0===O?y():O,M=e.onTimeUpdateHighResolution,B=void 0===M?y():M,j=e.onVideoChange,L=void 0===j?y():j,P=e.onError,N=void 0===P?y():P,D=(0,f.useRef)(null),R=Bq((0,f.useState)(!0),2),z=R[0],U=R[1],F=Z_(),H=(0,f.useCallback)((function(e){U(e),k(e)}),[k]),V=(0,f.useCallback)((function(e){e.stopPropagation();var t=D.current.error;Lq.error("Video Error",t),N(t)}),[N]),W=(0,f.useCallback)((function(){return H(!0)}),[H]),G=(0,f.useCallback)((function(){return H(!1)}),[H]),Y=(0,f.useRef)(i),q=(0,f.useMemo)((function(){H(!0),L();var e=Y.current;return F.isSafari&&0===n.indexOf("blob:")?n:"".concat(n,"#t=").concat(e)}),[H,L,F.isSafari,n]),Z=(0,f.useRef)(c),X=(0,f.useRef)(s);(0,f.useImperativeHandle)(t,(function(){return{play:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.from,n=e.to,r=e.goToStartOnEnd,o=D.current,a=function(){var e=D.current.play();e&&e.catch((function(e){Lq.error("cannot play video",e)}))},l=function(e){o.currentTime===e?a():(o.currentTime=e,o.addEventListener("timeupdate",a,{once:!0}))},u=o.currentTime,m=o.duration,p=u===m||u>c||d(u,c);Z.current=null!=n?n:c,X.current=null!=r?r:s,"number"==typeof t?l(t):p?l(i):a()},pause:function(){var e;null===(e=D.current)||void 0===e||e.pause()},seek:function(e){D.current&&(D.current.currentTime=e)},get currentTime(){var e,t;return null!==(e=null===(t=D.current)||void 0===t?void 0:t.currentTime)&&void 0!==e?e:i},get paused(){var e,t;return null===(e=null===(t=D.current)||void 0===t?void 0:t.paused)||void 0===e||e}}}),[i,c,s]);var K=x,Q=T;return(0,f.useEffect)((function(){var e,n,r=D.current,o=r.paused;return function a(){var l=r.currentTime,s=r.paused;if(l!==e){e=l;var u=!s;u&&(o=!1);var p=l===r.duration||l>=c||d(l,c),f=Math.min(Z.current,c),h=X.current;(p||l>=f||d(l,f))&&(u||!u&&!o)?(r.pause(),m?t.current.play():h?(r.currentTime=i,B(i)):(r.currentTime=f,B(f)),o=!0):B(l)}else s&&(o=!0);n=window.requestAnimationFrame(a)}(),function(){return window.cancelAnimationFrame(n)}}),[i,c,m,t,B]),h().createElement(h().Fragment,null,z&&!w&&h().createElement(Nq,{style:A,align:"center",justify:"center"},h().createElement(NE,{size:"xl"})),h().createElement(Pq,{ref:D,src:q,loop:m,muted:r,volume:o,preload:g,poster:v,style:A,className:S,onContextMenu:function(e){e.preventDefault()},onWaiting:W,onPlaying:G,onPlay:K,onPause:Q,onError:V}))}));var Rq=function(e){var t,n,r=e.mediaSource,o=e.ce,a=e.sceneId,i=e.overrides,c=e.stageSize,l=null!==(t=null==i?void 0:i.sourceFootageRect)&&void 0!==t?t:o.sourceFootageRect,s=cY(c,l,o.rect,{width:r.width,height:r.height}),u={transform:"scale(".concat((n=s).scaleFactor,")"),top:"".concat(-n.scaleY,"px"),left:"".concat(-n.scaleX,"px")},d={width:r.width,height:r.height},m=function(e){var t=(0,f.useContext)(U).registerMaster,n=(0,f.useRef)({play:I.noop,pause:I.noop,timeUpdate:I.noop}),r=(0,f.useCallback)((function(){n.current.play()}),[]),o=(0,f.useCallback)((function(){n.current.pause()}),[]),a=(0,f.useCallback)((function(e){n.current.timeUpdate(e)}),[]),i=(0,f.useRef)(null);return(0,f.useEffect)((function(){var r=t(e,{play:function(e){var t;null===(t=i.current)||void 0===t||t.play(e)},pause:function(){var e;null===(e=i.current)||void 0===e||e.pause()},seek:function(e){var t;null===(t=i.current)||void 0===t||t.seek(e)},get currentTime(){var e,t;return null!==(e=null===(t=i.current)||void 0===t?void 0:t.currentTime)&&void 0!==e?e:L},get paused(){var e,t;return null===(e=null===(t=i.current)||void 0===t?void 0:t.paused)||void 0===e||e},set onPlay(e){n.current.play=null!=e?e:I.noop},set onPause(e){n.current.pause=null!=e?e:I.noop},set onTimeUpdate(e){n.current.timeUpdate=null!=e?e:I.noop}});return function(){var e;null===(e=i.current)||void 0===e||e.pause(),r()}}),[e,t]),{playerRef:i,handlePlay:r,handlePause:o,handleTimeUpdateHighResolution:a}}(a),p=m.playerRef,g=m.handlePlay,y=m.handlePause,b=m.handleTimeUpdateHighResolution;return h().createElement(h().Fragment,null,h().createElement(Aq,e,e.rectDebugInfoFT&&h().createElement(dY,{footageRect:l,sourceSize:e.mediaSource,scale:s.scaleFactor,debugInfo:"media-rect",videoDuration:o.timing}),h().createElement("div",{className:"scaled",style:d},h().createElement(Dq,{ref:p,src:r.previewURL,muted:o.muted,timing:o.timing,goToStartOnVideoEnd:!0,hideLoader:!0,style:u,onPlay:g,onPause:y,onTimeUpdateHighResolution:b}))))};Rq.propType={ce:vH.isRequired};const zq=(0,T.$j)((function(e,t){return{overrides:e.overrides["".concat(t.ce.id,"@").concat(t.sceneId)],stageSize:e.stageSize,mediaSource:t.mediaSource,rectDebugInfoFT:e.featureToggles.values.rectDebugInfo}}))(Rq);function Uq(){return h().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"14",viewBox:"0 0 12 14","data-component-name":"PlayerPauseIconSVG"},h().createElement("path",{fill:"#FFF",fillRule:"evenodd",d:"M8 .333h4v13.334H8V.333zm-8 0h4v13.334H0V.333z"}))}function Fq(){return h().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 12 12","data-component-name":"PlayerPlayIconSVG"},h().createElement("path",{fill:"#FFF",fillRule:"evenodd",d:"M0 12V0l12 6z"}))}var Hq=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"PlaybackControlsContainer ".concat(e["data-component-name"]):"PlaybackControlsContainer"}})).withConfig({displayName:"playback-controlsstyle__PlaybackControlsContainer",componentId:"sc-1hl7x90-0"})(["min-width:",";width:","px;display:flex;flex-direction:row;align-items:center;opacity:",";pointer-events:",";position:relative;"],(0,We.rem)(286),(function(e){return e.width}),(function(e){return e.enable?1:.4}),(function(e){return e.enable?"auto":"none"})),Vq=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"PlayPauseBox ".concat(e["data-component-name"]):"PlayPauseBox"}})).withConfig({displayName:"playback-controlsstyle__PlayPauseBox",componentId:"sc-1hl7x90-1"})(["flex:0 0 auto;height:",";width:",";border-radius:",";background-color:#23313b;display:flex;align-items:center;justify-content:center;cursor:pointer;&:hover{background-color:",";}"],(0,We.rem)(26),(0,We.rem)(42),(0,We.rem)(5),(function(e){var t,n,r=e.theme;return null!==(t=null==r||null===(n=r.colors)||void 0===n?void 0:n.primary)&&void 0!==t?t:Kb})),Wq=(0,Ge.css)(["height:",";width:",";background-color:#ffffff;box-shadow:0 0 "," 0 rgba(0,0,0,0.5);border-radius:100%;"],(0,We.rem)(16),(0,We.rem)(16),(0,We.rem)(4)),Gq=Ge.default.input.attrs({type:"range",step:.01}).attrs((function(e){return{"data-component-name":e["data-component-name"]?"Scrubber ".concat(e["data-component-name"]):"Scrubber"}})).withConfig({displayName:"playback-controlsstyle__Scrubber",componentId:"sc-1hl7x90-2"})(["min-width:0;flex:1 1 auto;margin:0 ",";height:",";border-radius:",";outline:none;appearance:none;&::-webkit-slider-thumb{-webkit-appearance:none;","}&::-moz-range-thumb{","}&::-ms-thumb{","}"],(0,We.rem)(8),(0,We.rem)(4),(0,We.rem)(27),Wq,Wq,Wq),Yq=(0,Ge.css)(["font-family:Helvetica Neue;font-style:normal;font-weight:500;font-size:",";line-height:",";"],(0,We.rem)(16),(0,We.rem)(20)),qq=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"TimePlaceholder ".concat(e["data-component-name"]):"TimePlaceholder"}})).withConfig({displayName:"playback-controlsstyle__TimePlaceholder",componentId:"sc-1hl7x90-3"})(["flex:0 0 content;visibility:hidden;",""],Yq),Zq=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"Time ".concat(e["data-component-name"]):"Time"}})).withConfig({displayName:"playback-controlsstyle__Time",componentId:"sc-1hl7x90-4"})(["position:absolute;right:0;"," *{","}color:#23313b;"],Yq,Yq),Xq=Ge.default.span.attrs((function(e){return{"data-component-name":e["data-component-name"]?"TotalTime ".concat(e["data-component-name"]):"TotalTime"}})).withConfig({displayName:"playback-controlsstyle__TotalTime",componentId:"sc-1hl7x90-5"})(["color:#bdcad3;"]);function Kq(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Qq(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qq(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qq(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var $q=function(e){var t=e.scene,n=e.width,r=e.isStagePaused,o=(0,f.useMemo)((function(){var e,n;return null!==(e=null==t||null===(n=t.getMasterTiming)||void 0===n?void 0:n.call(t))&&void 0!==e?e:{start:0,end:0}}),[t]),a=o.start,i=o.end,c=sE(t.id),l=c.onTimeUpdate,d=c.player,m=Kq((0,f.useState)(!1),2),p=m[0],g=m[1],y=(0,f.useCallback)((function(){d.paused||g(!0)}),[d]),b=(0,f.useCallback)((function(){p&&(d.play(),g(!1))}),[p,d]),v=(0,f.useCallback)((function(){d.paused&&setTimeout((function(){return d.play()}),100)}),[d]),E=(0,f.useCallback)((function(e){var t=parseFloat(e.target.value),n=u(t);d.seek(n)}),[d]),w=t.ready,A=(0,T.v9)((function(e){if(!w)return!1;var n=e.overrides,r=t.getMasterTimingElement(),o=n["".concat(r.id,"@").concat(t.id)];return!!o&&"timing"in o})),C=(0,f.useRef)(null),S=(0,f.useRef)(null);(0,f.useLayoutEffect)((function(){var e=C.current,t=function(){var t,n,r,o=d.currentTime;w&&!A&&o!==L?(r=o<a?a:o,e.disabled=!1):(r=a,e.disabled=!0),e.value=r;var c=(r-a)/(i-a)*100;e.style.background="linear-gradient(\n        90deg,\n        ".concat(null!==(t=null==Yc||null===(n=Yc.colors)||void 0===n?void 0:n.primary)&&void 0!==t?t:Kb," 0% ").concat(c,"%,\n        #bdcad3 ").concat(c,"% 100%\n      )");var l=s(r-a,.01);S.current.innerText=l};t(d.currentTime);var n=l(t);return function(){return n()}}),[w,A,a,i,d,l]);var _=r,x=s(i-a),I="".concat(x.replace(/\d/g,"0"),".00 / ").concat(x);return h().createElement(Hq,{enable:t.ready,width:n,"data-component-name":"PlaybackControls"},h().createElement(Vq,{onMouseDown:v},_?h().createElement(Fq,null):h().createElement(Uq,null)),h().createElement(Gq,{ref:C,min:a,max:i,onChange:E,onMouseDown:y,onMouseUp:b}),h().createElement(qq,null,I),h().createElement(Zq,null,h().createElement("span",{ref:S}),h().createElement(Xq,null," / ",x)))};function Jq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function eZ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jq(Object(n),!0).forEach((function(t){tZ(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jq(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tZ(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}$q.HEIGHT=26;var nZ=(0,Ge.keyframes)(["from{transform:rotate(0deg);}to{transform:rotate(360deg);}"]),rZ=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"ImageStickerLoader ".concat(e["data-component-name"]):"ImageStickerLoader"}})).withConfig({displayName:"upload-image-sticker-placeholdercomponent__ImageStickerLoader",componentId:"dz13nd-0"})(["border-width:0.125rem;border-style:solid;border-radius:2.5rem;animation:"," 800ms linear 0s infinite normal none running;top:50%;left:50%;position:absolute;color:#fff;width:24px !important;height:24px !important;border-color:"," "," #5acffb transparent !important;margin:-12px !important;"],nZ,(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.primary})),oZ=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"ImageStickerLoaderWrapper ".concat(e["data-component-name"]):"ImageStickerLoaderWrapper"}})).withConfig({displayName:"upload-image-sticker-placeholdercomponent__ImageStickerLoaderWrapper",componentId:"dz13nd-1"})(["width:",";height:",";border-radius:3px;background-color:rgba(26,46,59,0.8);position:absolute;z-index:",";"],(0,We.rem)(160),(0,We.rem)(160),(function(e){var t=e.ceZIndex;return FY.COMPOSITION_CONTENT_BASE+t}));const aZ=(0,T.$j)((function(e){var t=e.storyBoard,n=e.stageSize;return{scene:hs(e),stageSize:n,vsid:t.vsid,orientation:t.orientation}}))((function(e){var t=e.scene,n=e.ce,r=e.vsid,o=e.orientation,a=e.stageSize,i=(0,T.I0)(),c=function(e,t){return{top:e.y*t.height,left:e.x*t.width}}(n.rect,a),l=t.id,s=sE(l).player,u=t.getMasterTiming(),d=(0,f.useCallback)((function(){t.isOverlayTimingEqMasterTiming&&s.seek(u.start)}),[u.start,s,t.isOverlayTimingEqMasterTiming]);return(0,f.useEffect)((function(){(function(e){var t=e.vsid,n=e.file,r=e.sourceHash,o=e.order,a=e.mandatory;return new Promise((function(e,i){var c=new FormData;c.append("vsid",t),r&&""!==r?c.append("sticker_hash",r):c.append("file",new File([n],n.name,{type:n.type})),c.append("order",o),c.append("mandatory",a),Ht.post("/api/video/upload/sticker",c,{timeout:6e4}).then((function(t){t.data&&"OK"===t.data.status?e(t.data):i()})).catch((function(){return i()}))}))})({vsid:r,file:n.file,sourceHash:n.sourceHash,order:0,mandatory:!0,orientation:o}).then((function(e){var t=Fm(e);e.job_id?Hm({source:t,jobId:e.job_id,vsid:r,resolve:function(e,t){Qi({status:"success"}),d(),i(og({sceneId:l,ceId:n.id,ceData:e,stickerRectsByOrientation:t}))},reject:function(){i(lg({sceneId:l,placeholderId:n.id,stickerName:n.name}))},isSticker:!0,orientation:o}):e.sticker&&(d(),i(og({sceneId:l,ceId:n.id,ceData:eZ(eZ({},e.sticker),{},{type:_s}),stickerRectsByOrientation:e.sticker_rect})))})).catch((function(){i(lg({sceneId:l,placeholderId:n.id,stickerName:n.name}))}))}),[l,n.file,n.id,n.name,n.sourceHash,i,o,r]),h().createElement(oZ,{ceZIndex:n.zindex,style:eZ({},c),"data-component-name":"UploadImageStickerPlaceholder"},h().createElement(rZ,null))}));function iZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cZ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iZ(Object(n),!0).forEach((function(t){lZ(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iZ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function lZ(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sZ(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return uZ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uZ(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function uZ(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var dZ=function(){},mZ=function(e){var t=e.ceId,n=e.edgeGuidelines,r=e.middleGuidelines,o=e.nextStart,a=e.nextMiddle,i=e.nextEnd,c=0,l=8;return n.forEach((function(e){e.ceId!==t&&(Math.abs(e.cord-o)<l&&(c=e.cord-o,l=Math.abs(c)),Math.abs(e.cord-i)<l&&(c=e.cord-i,l=Math.abs(c)))})),r.forEach((function(e){e.ceId!==t&&Math.abs(e.cord-a)<l&&(c=e.cord-a,l=Math.abs(c))})),c},pZ=function(e){var t,n=e.ce,r=e.userRect,o=void 0===r?n.rect:r,a=e.isAnimatedByJS,i=void 0!==a&&a,c=e.stageSize,l=e.onUserRectChange,s=void 0===l?dZ:l,u=e.updateSticker,d=e.children,m=e.setOverrides,p=e.removeOverrides,g=e.sceneId,y=e.isVisibleAtCurrentTime,b=e.isAnimatingAtCurrentTime,v=e.overrides,E=e.markSelected,w=e.minUserRect,A=e.active,C=e.highlight,S=e.disableHover,_=e.isLogo,x=e.verticalEdgeGuidelines,I=e.horizontalEdgeGuidelines,O=e.verticalMiddleGuidelines,k=e.horizontalMiddleGuidelines,M=e.onStickerClick,B=e.onEditComposition,j=e.STICKER_MIN_POSITION_ON_STAGE,L=e.IMAGE_STICKER_SCALE_MIN,P=Math.min(c.width*j,c.height*j),N=(0,f.useRef)(),D=sZ((0,f.useState)(!1),2),R=D[0],z=D[1],U=R||i;(0,f.useEffect)((function(){var e=N.current;if(!e)return function(){};var t=0,n=function(){z(!0),t++},r=function(){0===(t=Math.max(0,t-1))&&z(!1)};return e.addEventListener("animationstart",n),e.addEventListener("animationend",r),function(){e.removeEventListener("animationstart",n),e.removeEventListener("animationend",r)}}),[n.style]);var F=(0,f.useMemo)((function(){var e=v&&(v.userRect||v.rect);return e?{width:e.width*c.width,height:e.height*c.height,top:e.y*c.height,left:e.x*c.width}:null}),[v,c]),H=(0,f.useMemo)((function(){var e=n.rect.width/n.rect.height,t=Math.sqrt(L/100*e),r=t/e;return{width:w&&w.width?w.width:t,height:w&&w.height?w.height:r}}),[L,n.rect.height,n.rect.width,w]),V=sZ((0,f.useState)({isMoving:!1,isResizing:!1}),2),W=V[0],G=W.isMoving,Y=W.isResizing,q=V[1],Z=(0,f.useRef)(null),X=(0,f.useCallback)((function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=r.debounce,a=void 0!==o&&o;Z.current&&(clearTimeout(Z.current),Z.current=null);var i=function(){return(0,T.dC)((function(){if(Z.current=null,e){var r=e.width/c.width,o=e.height/c.height;m(g,n.id,{userRect:{x:e.left/c.width,y:e.top/c.height,width:r,height:o}})}else p();q(cZ({isMoving:!1,isResizing:!1},t))}))};a?Z.current=setTimeout(i,1e3):i()}),[g,n.id,c,m,p]),K=(0,f.useMemo)((function(){return{width:o.width*c.width,height:o.height*c.height,top:o.y*c.height,left:o.x*c.width}}),[o,c]),Q=(0,f.useMemo)((function(){return F||K}),[F,K]),$=(0,f.useCallback)((function(e){s!==dZ?s(e):u(g,n.id,{rect:e})}),[n.id,g,s,u]),J=n.rotatable?null!==(t=null==v?void 0:v.rotate)&&void 0!==t?t:n.rotate:0,ee=(0,f.useMemo)((function(){var e=K.left,t=K.top,n=ZG(K,J),r=n.top,o=n.left,a=n.width,i=n.height;return{leftMost:P-a-(o-e),rightMost:c.width-P-(o-e),topMost:P-i-(r-t),bottomMost:c.height-P-(r-t)}}),[P,K,J,c]),te=ee.leftMost,ne=ee.rightMost,re=ee.topMost,ae=ee.bottomMost,ie=(0,f.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.debounceReset,o=void 0!==r&&r,a=e.left,i=e.top,l=e.width,u=e.height,d=c.width,m=c.height,p={x:+Number(a/d).toFixed(4),y:+Number(i/m).toFixed(4),width:+Number(l/d).toFixed(4),height:+Number(u/m).toFixed(4)};n.draggable||(p.x=Math.max(p.x,0),p.y=Math.max(p.y,0),p.width=Math.min(p.width,1),p.height=Math.min(p.height,1),p.x+p.width>1&&(p.x=1-p.width),p.y+p.height>1&&(p.y=1-p.height)),(0,T.dC)((function(){s!==dZ?s(p):$(p),X(null,null,{debounce:o})}))}),[n.draggable,$,s,c,X]),ce=function(){ie(F||Q)};Wv({onKeydown:(0,f.useMemo)((function(){if(!A||!n.draggable)return function(){};var e=function(e){var t=cZ(cZ({},Q),e);X(t,{isMoving:!0}),ie(t,{debounceReset:!0})},t=function(t){return e({left:t})},r=function(t){return e({top:t})};return function(e){if(!("ArrowLeft"!==e.code&&"ArrowRight"!==e.code&&"ArrowUp"!==e.code&&"ArrowDown"!==e.code||e.altKey||e.ctrlKey||e.metaKey)){e.preventDefault();var n=e.shiftKey?10:1;switch(e.code){case"ArrowLeft":Q.left>te&&t(Math.max(te,Q.left-n));break;case"ArrowRight":Q.left<ne&&t(Math.min(ne,Q.left+n));break;case"ArrowUp":Q.top>re&&r(Math.max(re,Q.top-n));break;case"ArrowDown":Q.top<ae&&r(Math.min(ae,Q.top+n))}}}}),[A,n.draggable,X,ie,Q,te,ne,re,ae])});var le=(0,f.useCallback)((function(){(0,T.dC)((function(){p(),u(g,n.id,{rotate:J})}))}),[n.id,g,J,p,u]),se=(0,f.useCallback)((function(e){m(g,n.id,{rotate:e})}),[g,n.id,m]);return h().createElement(nq,{ref:N,isAnimated:U,className:"sticker",onDoubleClick:function(){return y&&n.selectable&&B()},onKeyUp:function(e){y&&"Enter"===e.key&&n.selectable&&B()},rotation:J,tabIndex:"0",onFocus:function(e){!y||A||_||E(n)},isLogo:_,onClick:M,type:n.type,"data-component-name":"StickerCompositionElement"},d,y&&h().createElement(h().Fragment,null,h().createElement(wL,{attachLocation:"bottom",absolutePosition:Q,text:oe.StickerAnimationTimingExplanatoryTooltip,showTooltip:b,multiLine:!0,maxWidth:237},h().createElement(eq,{showFrame:(A||C)&&!U,hoverable:!S&&!U,ceZIndex:n.zindex,left:Q.left,top:Q.top,width:Q.width,height:Q.height,rotateAngle:J,onDragStart:function(){n.draggable&&X(Q,{isMoving:!0})},onDrag:function(e,t){if(n.draggable){var r=K.left,o=K.top,a=K.width,i=K.height,c=Math.max(te,Math.min(ne,r+e)),l=Math.max(re,Math.min(ae,o+t)),s=c+a/2,u=l+i/2,d=ZG({top:l,left:c,width:a,height:i},J),m=d.top,p=d.left,f=d.width,h=d.height,g=mZ({ceId:n.id,edgeGuidelines:x,middleGuidelines:O,nextStart:p,nextMiddle:s,nextEnd:p+f}),y=mZ({ceId:n.id,edgeGuidelines:I,middleGuidelines:k,nextStart:m,nextMiddle:u,nextEnd:m+h});X({left:c+g,top:l+y,width:a,height:i},{isMoving:!0})}},onDragEnd:ce})),A&&!G&&!U&&h().createElement(tq,{isResizing:Y,left:Q.left,top:Q.top,width:Q.width,height:Q.height,aspectRatio:Q.width/Q.height,minWidth:H.width*c.width,minHeight:H.height*c.height,zoomable:n.resizeable?"n, ne, e, se, s, sw, w, nw":"",onResizeStart:function(){n.draggable&&X(Q,{isResizing:!0})},onResize:function(e){var t=e.top,n=e.left,r=e.width,o=e.height,a=P-r,i=c.width-P,l=P-o,s=c.height-P;n<a||n>i||t<l||t>s||X({left:n,top:t,width:r,height:o},{isResizing:!0})},onResizeEnd:ce,rotatable:!!n.rotatable,rotateAngle:J,onRotate:se,onRotateEnd:le})))};pZ.propTypes={ce:xH.isRequired,onEditComposition:Sw.func},pZ.defaultProps={onEditComposition:dZ};var fZ={updateSticker:cy,setOverrides:ds,removeOverrides:ms,markSelected:gh};const hZ=(0,T.$j)((function(e,t){var n=t.ce,r=t.sceneId,o=e.staticParameters,a=o.STICKER_MIN_POSITION_ON_STAGE,i=o.IMAGE_STICKER_SCALE_MIN,c=e.overrides["".concat(n.id,"@").concat(r)],l=n.timing,s=bs(e).currentTime,u=c&&"timing"in c||l.start<=s&&s<=l.end;return{isVisibleAtCurrentTime:u,isAnimatingAtCurrentTime:u&&function(e,t){var n=!1,r=0;return t.type===Xl.IMAGE_STICKER_ELEMENT?(n=t.style!==Kl,r=.5):(n=t.textStyleId!==ts,r=1),n&&e>=t.timing.start&&e<t.timing.start+r}(s,n),overrides:c,stageSize:e.stageSize,verticalEdgeGuidelines:JG(e),horizontalEdgeGuidelines:eY(e),verticalMiddleGuidelines:tY(e),horizontalMiddleGuidelines:nY(e),STICKER_MIN_POSITION_ON_STAGE:a,IMAGE_STICKER_SCALE_MIN:i}}),fZ)(pZ);var gZ=n(506930339859002),yZ=n.n(gZ),bZ={};function vZ(e,t,n,r){var o="bez_".concat(e,"_").concat(t,"_").concat(n,"_").concat(r).replace(/\./g,"p");if(bZ[o])return bZ[o];var a=new(yZ())(e,t,n,r);return bZ[o]=a,a}function EZ(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||AZ(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wZ(e){return function(e){if(Array.isArray(e))return CZ(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||AZ(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function AZ(e,t){if(e){if("string"==typeof e)return CZ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?CZ(e,t):void 0}}function CZ(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var SZ={linear:function(e){return e},ease:vZ(.25,.1,.25,1),"ease-in":vZ(.42,0,1,1),"ease-in-out":vZ(.42,0,.58,1),"ease-out":vZ(0,0,.58,1)},_Z=function(e){return 1e3*e/30};function xZ(e){var t=e.ref,n=e.attribute,r=e.transform,o=void 0===r?null:r,a=e.transformOrigin,i=void 0===a?null:a,c=e.css,l=void 0===c?null:c,s=e.cssTransform,u=void 0===s?null:s,d=e.easing,m=e.bezier,p=e.startValue,f=e.endValue,h=e.inPercentage,g=void 0!==h&&h,y=e.startTime,b=e.endTime,v=e.timeInFrames,E=void 0!==v&&v,w=e.fillMode,A=void 0===w?"both":w,C=d&&SZ[d]||vZ.apply(void 0,wZ(m)),S=E?_Z(y):y,_=E?_Z(b):b,x=_-S,I=f-p;return function(e){var r,a=!1;if(!t.current)return a;var c=!1;if(e<S&&("backwards"===A||"both"===A))r=p,c=!0;else if(e>_&&("forwards"===A||"both"===A))r=f,c=!0;else if(S<=e&&e<=_){r=p+C((e-S)/x)*I,c=!0}if(c)if(l)t.current.style[l]=r;else if(o){var s=EZ(i?["translate(".concat(i.join(" "),")"),"translate(".concat(i.map((function(e){return-e})).join(" "),")")]:["",""],2),d=s[0],m=s[1];t.current.setAttribute("transform","".concat(d," ").concat(o,"(").concat(r,") ").concat(m))}else u?t.current.style.transform="".concat(u,"(").concat(r,")"):t.current.setAttribute(n,g?"".concat(r,"%"):r);return a=e>=_}}var IZ=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];(0,f.useImperativeHandle)(e,(function(){return{animate:function(e){return n.reduce((function(t,n){return n(e)&&t}),!0)}}}),n)};function TZ(e){return function(t){return!e.current||(e.current.style.visibility=-1===t?"hidden":"visible",true)}}function OZ(e){return function(e){if(Array.isArray(e))return kZ(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return kZ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kZ(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kZ(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var MZ=(0,f.forwardRef)((function(e,t){var n=e.children,r=(0,f.useRef)(null),o=(0,f.useMemo)((function(){return[xZ({ref:r,easing:"linear",startTime:0,endTime:460,css:"opacity",startValue:0,endValue:1}),TZ(r)]}),[]);IZ.apply(void 0,[t].concat(OZ(o)));var a=f.Children.only(n);return(0,f.cloneElement)(a,{ref:r})}));function BZ(e){return function(e){if(Array.isArray(e))return jZ(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return jZ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jZ(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jZ(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var LZ=(0,f.forwardRef)((function(e,t){var n=e.children,r=(0,f.useRef)(null),o=(0,f.useMemo)((function(){return[xZ({ref:r,bezier:[.5,1,.89,1],startTime:0,endTime:200,cssTransform:"scale",startValue:0,endValue:1.3,fillMode:"backwards"}),xZ({ref:r,bezier:[.11,0,.5,0],startTime:200,endTime:400,cssTransform:"scale",startValue:1.3,endValue:1,fillMode:"forwards"}),TZ(r)]}),[]);IZ.apply(void 0,[t].concat(BZ(o)));var a=f.Children.only(n);return(0,f.cloneElement)(a,{ref:r})}));function PZ(e){return function(e){if(Array.isArray(e))return NZ(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return NZ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return NZ(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function NZ(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var DZ,RZ=(0,f.forwardRef)((function(e,t){var n=e.children,r=(0,f.useRef)(null),o=(0,f.useMemo)((function(){return[xZ({ref:r,easing:"ease-in",startTime:0,endTime:330,cssTransform:"scale",startValue:4,endValue:1}),xZ({ref:r,easing:"linear",startTime:0,endTime:100,css:"opacity",startValue:0,endValue:1}),TZ(r)]}),[]);IZ.apply(void 0,[t].concat(PZ(o)));var a=f.Children.only(n);return(0,f.cloneElement)(a,{ref:r})})),zZ=(0,f.forwardRef)((function(e,t){var n=e.children,r=(0,f.useRef)(null);(0,f.useImperativeHandle)(t,(function(){return{animate:TZ(r)}}),[]);var o=f.Children.only(n);return(0,f.cloneElement)(o,{ref:r})}));function UZ(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var FZ=(UZ(DZ={},Ql,MZ),UZ(DZ,$l,LZ),UZ(DZ,Jl,RZ),DZ),HZ=(0,f.forwardRef)((function(e,t){var n,r=e.style,o=e.onReady,a=e.children,i=(0,f.useRef)("");(0,f.useLayoutEffect)((function(){i.current!==r&&(o(),i.current=r)}),[o,r]);var c=null!==(n=FZ[r])&&void 0!==n?n:zZ;return h().createElement(c,{ref:t,"data-component-name":"AnimationLoader"},a)})),VZ=function(e){var t=e.sceneId,n=e.ceId,r=e.style,o=e.timing,a=e.children,i=r!==Kl,c=o.start,l=o.end,s=(0,f.useRef)(null),u=(0,f.useCallback)((function(e){var t=c<=e&&e<=l?1e3*(e-c):-1,n=s.current;n&&n.animate(t)}),[c,l]),d=sE(t),m=d.onTimeUpdate,p=d.player;(0,f.useLayoutEffect)((function(){u(p.currentTime);var e=m(u);return function(){return e()}}),[u,m,p]);var g=(0,f.useCallback)((function(){i?window.requestAnimationFrame((function(){return p.play({from:c,to:l,goToStartOnEnd:!1})})):(p.pause(),p.seek(c))}),[i,c,l,p]),y=(0,f.useRef)(!1),b=(0,f.useCallback)((function(){y.current=!0}),[]),v=(0,f.useCallback)((function(){y.current?(y.current=!1,g()):u(p.currentTime)}),[g,u,p]);return(0,f.useEffect)((function(){var e=Cp.subscribe(wp,(function(e){e.sceneId===t&&e.ceId===n&&(e.style!==r?b():g())}));return function(){return e()}}),[t,n,r,b,g]),h().createElement(HZ,{ref:s,style:r,onReady:v,"data-component-name":"ImageStickerAnimation"},a)};function WZ(){return(WZ=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function GZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function YZ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?GZ(Object(n),!0).forEach((function(t){qZ(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GZ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qZ(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ZZ=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"ImageStickerWrapper ".concat(e["data-component-name"]):"ImageStickerWrapper"}})).withConfig({displayName:"image-sticker-composition-elementcomponent__ImageStickerWrapper",componentId:"sc-12yq1nj-0"})([".ce .media-composition > div{transform:"," ",";}"],(function(e){return e.hFlip&&"scaleX(-1)"}),(function(e){return e.vFlip&&"scaleY(-1)"})),XZ=function(e){var t,n,r=e.sceneId,o=e.ce,a=e.overrides,i=e.stageSize,c=e.isLogo,l=e.openBranding,s=e.rectDebugInfoFT,u=function(e,t,n){var r=n.width/t.width*e.width,o=n.height/t.height*e.height,a=-r*t.x,i=-o*t.y;return{position:"absolute",width:"".concat(r,"px"),top:"".concat(i,"px"),left:"".concat(a,"px")}}(i,o.sourceFootageRect,a&&a.userRect||o.rect),d=!o.ready,m=(0,f.useCallback)((function(){c&&l("logo",jC)}),[c,l]),p=null!==(t=null==a?void 0:a.bgAlpha)&&void 0!==t?t:o.bgAlpha,g=null!==(n=null==a?void 0:a.timing)&&void 0!==n?n:o.timing;return h().createElement(h().Fragment,null,d?h().createElement(aZ,{sceneId:r,ce:o}):h().createElement(hZ,WZ({},e,{onStickerClick:m}),h().createElement(ZZ,{hFlip:o.flip.horizontal,vFlip:o.flip.vertical},h().createElement(VZ,{sceneId:r,ceId:o.id,style:o.style,timing:g},h().createElement(Aq,e,s&&h().createElement(dY,{footageRect:o.sourceFootageRect,scale:0,debugInfo:"media-rect"}),h().createElement(oC,{fallbackStyle:{backgroundColor:"transparent"},src:o.mediaPath,style:YZ(YZ({},u),{},{opacity:p/100})}))))))};XZ.propTypes={ce:AH.isRequired};const KZ=(0,T.$j)((function(e,t){var n=e.featureToggles,r=e.overrides,o=e.stageSize,a=t.sceneId,i=t.ce;return{stageSize:o,rectDebugInfoFT:n.values.rectDebugInfo,overrides:r["".concat(i.id,"@").concat(a)],isLogo:i.id===ws}}))(XZ);function QZ(){return(QZ=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function $Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function JZ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$Z(Object(n),!0).forEach((function(t){eX(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function eX(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tX(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return nX(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nX(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nX(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var rX=function(e){var t,n,r=e.sceneId,o=e.ce,a=e.params,i=e.displayName,c=e.orientation,l=e.stageSize,s=e.animationSpeed,u=e.staticParameters,d=e.updateText,m=e.updateRect,p=e.ceOverrides,g=e.dropShadowFT,y=o.id,b=o.rect,v=o.textStyleId,E=o.fontSize,w=o.text,A=tX(ZL((function(e){var t=e.value;return d(r,o,{text:t})}),[r,o,d],{initialValue:w}),2),C=A[0],S=A[1],_=null!==(t=null==p?void 0:p.timing)&&void 0!==t?t:o.timing,x=_.start,I=_.end,T=null!==(n=a.timings)&&void 0!==n?n:{in:1/0,out:1/0},O=I-x>=T.in,k=(0,f.useRef)(null),M=(0,f.useCallback)((function(e){var t=x<=e&&e<=I?O?Math.min(1e3*(e-x),1500):1500:-1,n=k.current;n&&n.setCurrentTime(t)}),[O,x,I]),B=sE(r),j=B.onTimeUpdate,L=B.player;(0,f.useLayoutEffect)((function(){M(L.currentTime);var e=j(M);return function(){return e()}}),[M,j,L]);var P=(0,f.useCallback)((function(){O?window.requestAnimationFrame((function(){return L.play({from:x,to:I,goToStartOnEnd:!1})})):(L.pause(),L.seek(x))}),[O,x,I,L]),N=(0,f.useRef)(!1),D=(0,f.useCallback)((function(){N.current=!0}),[]),R=(0,f.useCallback)((function(){N.current?(N.current=!1,P()):M(L.currentTime)}),[P,M,L]);(0,f.useEffect)((function(){var e=Cp.subscribe(wp,(function(e){e.sceneId===r&&e.ceId===y&&(e.textStyleId!==v?D():P())}));return function(){return e()}}),[r,y,v,D,P]);var z=v===es,U=c,F=(0,f.useMemo)((function(){return im(b,a,{whUnitsRatio:U,isCircle:z})}),[b,a,U,z]),H=20/(E*("portrait"===c?1920:1080)),V={height:F.height*H,width:F.width*H},W=(0,f.useCallback)((function(e){var t=e.height/F.height,n=cm(b,F,e,t,t);m(r,y,n,E*t)}),[r,y,b,F,E,m]),G=null==p?void 0:p.bgAlpha,Y=(0,f.useMemo)((function(){return JZ(JZ({},o),{},{bgAlpha:null!=G?G:o.bgAlpha,dropShadow:g?o.dropShadow:Zs})}),[o,G,g]);return h().createElement(hZ,QZ({},e,{userRect:F,onUserRectChange:W,minUserRect:V,onEditComposition:S,"data-component-name":"TextStyleCompositionElementView","data-key":e["data-key"]}),h().createElement(fq,QZ({onEditComposition:S},e,{userRect:F}),h().createElement(xl,{ref:k,ce:Y,params:a,displayName:i,stageSize:l,orientation:c,autoplay:!1,animationSpeed:s,staticParameters:u,onReady:R}),C))};rX.propTypes={ce:wH.isRequired};var oX,aX={updateText:Ef,updateRect:wf};const iX=(0,T.$j)((function(e,t){var n=t.ce,r=n.textStyleId,o=n.id,a=e.textStickerAssets,i=e.staticParameters,c=e.featureToggles,l=e.stageSize,s=e.overrides,u=hs(e),d=a[r],m=s&&s["".concat(o,"@").concat(null==u?void 0:u.id)];return{stageSize:l,params:d&&d.metaData,displayName:d&&d.displayName||r,animationSpeed:c.values.slowStickerAnimations?.2:1,staticParameters:i,ceOverrides:m,dropShadowFT:c.values.textStickerDropShadow}}),aX)((oX=rX,function(e){var t=e.ce.language;return!!e.params&&!!t&&h().createElement(oX,QZ({},e,{"data-key":e["data-key"]}))}));function cX(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return lX(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lX(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lX(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function sX(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(0===e)return"0 Bytes";var n=1024,r=t<0?0:t,o=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],a=Math.floor(Math.log(e)/Math.log(n));return"".concat(parseFloat((e/Math.pow(n,a)).toFixed(r))," ").concat(o[a])}var uX=(0,Ge.default)(Xe).attrs((function(e){return{"data-component-name":e["data-component-name"]?"UploadIndicatorWrapper ".concat(e["data-component-name"]):"UploadIndicatorWrapper"}})).withConfig({displayName:"file-uploading-progresscomponent__UploadIndicatorWrapper",componentId:"sc-1tc6hud-0"})(["width:100%;height:100%;"]),dX=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"IndicatorInfo ".concat(e["data-component-name"]):"IndicatorInfo"}})).withConfig({displayName:"file-uploading-progresscomponent__IndicatorInfo",componentId:"sc-1tc6hud-1"})(["height:",";color:#fff;font-size:",";padding:"," ",";align-self:",";flex:1 0 auto;@media screen and (max-height:800px){opacity:0;}"],(0,We.rem)(14),(0,We.rem)(12),(0,We.rem)(4),(0,We.rem)(8),(function(e){return e.align}));const mX=function(e){var t=e.progressData,n=e.align,r=e.showFileSizeProgress,o=t.loaded,a=t.total,i=cX((0,f.useState)(0),2),c=i[0],l=i[1],s=cX((0,f.useState)(""),2),u=s[0],d=s[1];return(0,f.useEffect)((function(){var e=a?Math.min(o/a*100,100):0;a>0&&r&&d("".concat(sX(o),"/").concat(sX(a))),o&&a&&l(e)}),[r,o,a]),h().createElement(uX,{align:"center","data-component-name":"FileUploadingProgress"},r&&h().createElement(dX,{align:n},u),h().createElement(SS,{progress:c,bgBarColor:"#fff",bgProgressColor:"#00adef"}))};var pX=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"UploadingScene ".concat(e["data-component-name"]):"UploadingScene"}})).withConfig({displayName:"scene-during-uploadingcomponent__UploadingScene",componentId:"fq0w6x-0"})(["width:100%;height:100%;position:absolute;background-color:#1a2e3b;display:flex;justify-content:center;align-items:center;color:white;top:0;"]),fX=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"ProgressWrapper ".concat(e["data-component-name"]):"ProgressWrapper"}})).withConfig({displayName:"scene-during-uploadingcomponent__ProgressWrapper",componentId:"fq0w6x-1"})(["width:",";height:",";"],(0,We.rem)(158),(0,We.rem)(27));const hX=function(e){var t=e.scene,n=e.showFileSizeProgress;return h().createElement(pX,{"data-component-name":"SceneDuringUploading"},h().createElement(fX,null,h().createElement(mX,{progressData:t.uploadProgress,align:"center",showFileSizeProgress:n})))};var gX=(0,Ge.keyframes)(["0%{transform:translateY(0);opacity:0;display:none;}100%{transform:translateY(-100%);opacity:1;display:block;}"]),yX=(0,Ge.keyframes)(["0%{transform:translateY(-100%);opacity:1;display:block;}100%{transform:translateY(0);opacity:0;display:none;}"]),bX=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"ToastWrapper ".concat(e["data-component-name"]):"ToastWrapper"}})).withConfig({displayName:"toast-notificationstyle__ToastWrapper",componentId:"ihi5h0-0"})(["position:absolute;bottom:0;left:50%;z-index:100;transform:translateX(-50%);"]),vX=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"ToastNotificationWrapper ".concat(e["data-component-name"]):"ToastNotificationWrapper"}})).withConfig({displayName:"toast-notificationstyle__ToastNotificationWrapper",componentId:"ihi5h0-1"})(["background:#000000;border-radius:",";padding:"," "," ","};box-shadow:rgba(0,0,0,0.12) 0px "," "," 0px;font-size:",";color:",";",""],(0,We.rem)(3),(0,We.rem)(7),(0,We.rem)(13),(0,We.rem)(11),(0,We.rem)(6),(0,We.rem)(10),(0,We.rem)(14),Jb,(function(e){var t=e.toastVisible;return(0,Ge.css)(["animation:"," 0.5s linear both;"],t?gX:yX)})),EX=function(e){var t=e.toastContext,n=(0,T.v9)((function(e){return e.toastNotification})),r=n.show,o=n.text,a=n.context,i=n.autoClose,c=n.waitTimeToHide,l=(0,T.I0)(),s=(0,f.useRef)(null);return(0,f.useEffect)((function(){return i&&r&&(clearTimeout(s.current),s.current=setTimeout((function(){l(xd())}),c)),function(){clearTimeout(s.current)}}),[r,i,o,l,c]),t===a&&""!==o&&h().createElement(bX,{"data-component-name":"ToastNotification"},h().createElement(vX,{toastVisible:r},o))};function wX(){return(wX=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var AX,CX=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"SnapGuideline ".concat(e["data-component-name"]):"SnapGuideline"}})).withConfig({displayName:"stage-snap-guidelinescomponent__SnapGuideline",componentId:"stm9e9-0"})(["position:absolute;z-index:",";box-sizing:content-box;"," &::after{content:'';position:absolute;top:-1px;left:-1px;bottom:-1px;right:-1px;box-sizing:content-box;border:1px solid ",";}"],FY.SNAP_GUIDELINES,(function(e){var t=e.cord,n=e.bounds,r=e.isVertical,o=e.isHorizontal,a=e.changingCEBounds,i=e.stageSize;return r&&(0,Ge.css)(["width:0;left:","px;top:","px;bottom:","px;"],t,Math.min(n.top,a.top),i.height-Math.max(n.bottom,a.bottom))||o&&(0,Ge.css)(["height:0;top:","px;left:","px;right:","px;"],t,Math.min(n.left,a.left),i.width-Math.max(n.right,a.right))}),(function(e){var t,n=e.theme;return(null===(t=n.guideline)||void 0===t?void 0:t.color)||n.colors.primary})),SX=(0,T.$j)((function(e){return{stageSize:e.stageSize,activeGuidelines:aY(e),changingCEBounds:rY(e)}}),null)((function(e){var t=e.stageSize,n=e.activeGuidelines,r=e.changingCEBounds;return h().createElement(h().Fragment,null,n.map((function(e){return h().createElement(CX,wX({},e,{changingCEBounds:r,stageSize:t}))})))})),_X=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"StagePlaceholder ".concat(e["data-component-name"]):"StagePlaceholder"}})).withConfig({displayName:"stagestyle__StagePlaceholder",componentId:"sc-37nkht-0"})(["flex:1 1 auto;margin-right:",";position:relative;min-height:",";"],(0,We.rem)(10),(0,We.rem)(317)),xX=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"StageContainer ".concat(e["data-component-name"]):"StageContainer"}})).withConfig({displayName:"stagestyle__StageContainer",componentId:"sc-37nkht-1"})(["position:absolute;top:0;right:0;bottom:0;left:0;display:flex;flex-direction:column;align-items:center;justify-content:center;"]),IX=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"StageScene ".concat(e["data-component-name"]):"StageScene"}})).withConfig({displayName:"stagestyle__StageScene",componentId:"sc-37nkht-2"})(["flex:0 0 auto;z-index:",";width:","px;height:","px;margin-bottom:",";position:relative;overflow:hidden;text-align:center;background:#ebebef;background-color:",";background-image:",";background-position:50% 50%;background-repeat:no-repeat;background-size:cover;"],sL.Stage,(function(e){return e.stageSize.width}),(function(e){return e.stageSize.height}),(0,We.rem)(16),(function(e){return e.bgColor}),(function(e){var t=e.slideThumb;return t?'url("'.concat(t,'")'):"none"})),TX=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"ScenePreview ".concat(e["data-component-name"]):"ScenePreview"}})).withConfig({displayName:"stagestyle__ScenePreview",componentId:"sc-37nkht-3"})(["position:relative;width:100%;height:100%;z-index:0;"]);function OX(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return kX(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kX(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kX(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function MX(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var BX=S("SceneComponent"),jX=function(e){var t="landscape"===e?16/9:"portrait"===e?9/16:1,n=(0,T.I0)(),r=(0,f.useRef)(null),o=(0,f.useCallback)((function(){var e,o,a,i=r.current,c=i.offsetHeight-16-$q.HEIGHT,l=i.offsetWidth,s=c,u=t*s;u>l&&(s=(u=l)/t),n((o=(e={width:u,height:s}).width,a=e.height,function(e,t){var n=t(),r=n.featureToggles.values.forceStageSizeToHD,i=n.storyBoard.orientation;e(r?{type:ky,payload:{width:"landscape"===i?1920:1080,height:"portrait"===i?1920:1080}}:{type:ky,payload:{width:o,height:a}})}))}),[t,n]);(0,f.useEffect)((function(){var e=Cp.subscribe(vp,o);return function(){return e()}}),[o]),(0,f.useLayoutEffect)((function(){return o(),window.addEventListener("resize",o),function(){window.removeEventListener("resize",o)}}),[o,t]);var a=(0,T.v9)((function(e){return e.stageSize}));return[r,a]},LX=(MX(AX={},xs,kq),MX(AX,Is,zq),MX(AX,_s,KZ),MX(AX,Ts,iX),MX(AX,Os,Mq),AX),PX=function(e){var t=e.scene,n=e.sources,r=e.orientation,o=e.bgColor,a=e.markSelected,i=e.pasteCompositionElement,c=e.copyComposition,l=e.deleteComposition,s=e.textRectFT,u=e.copiedCompositionElement,d=e.selectedComposition,m=e.alignedCompositionIds,p=e.openBranding,g=e.slideThumb,y=e.changeZIndex,b=e.duplicateCompositionElement,v=e.compositionControlsMenuElem,E=e.isStagePaused,w=((0,T.v9)((function(e){return e.userCapabilities.capabilities.canBrandVideo})).tier||{}).text,A=OX(jX(r),2),C=A[0],S=A[1],_=(0,T.v9)((function(e){return e.userCapabilities.capabilities.canAddLogo})).isVisible,x=OX(XL(t),2),I=x[0],O=x[1],k=(0,f.useCallback)((function(){u&&(I(u.type)?O(u.type):i(t))}),[u,I,i,t,O]),M=(0,f.useCallback)((function(e){I(e.type)?O(e.type):b(e)}),[I,b,O]);!function(e,t,n,r,o,a,i){var c=sE(e.id).player,l=(0,T.I0)();Wv({onKeydown:(0,f.useCallback)((function(s){if(s.ctrlKey||s.metaKey)if(s.which===Bv){if(!(d=a)||d.subtype&&(!d.subtype||"image_logobrandcard"===d.subtype))return;t()}else if(s.which===jv)s.preventDefault(),n(a);else if(s.which===Lv){var u=s.target.tagName.toUpperCase();if("INPUT"===u||"TEXTAREA"===u)return;if(!e.ready)return void l(Id({text:oe.SceneActionNotAllowedNotification,context:_d}));s.preventDefault(),r(e)}else s.which===Pv?(s.preventDefault(),o(a,!0)):s.which===Nv&&(s.preventDefault(),o(a,!1));else s.which===Dv?c.paused?c.play():c.pause():(s.which===zv||s.which===Rv)&&a&&a.isSticker()&&i(a);var d}),[a,t,n,i,e,r,l,o,c])})}(t,c,M,k,y,d,l);var B=OX((0,f.useState)(!1),2),j=B[0],L=B[1];(0,f.useEffect)((function(){var e=function(e){e.which===Rv&&(!/INPUT|SELECT|TEXTAREA/i.test(e.target.tagName)||e.target.disabled||e.target.readOnly)&&e.preventDefault()},t=function(){L(!1)};return document.addEventListener("keydown",e,!1),window.addEventListener("mouseup",t,!1),function(){document.removeEventListener("keydown",e,!1),window.removeEventListener("mouseup",t,!1)}}),[t,d,l]);var P=sE(t.id).player,N=(0,f.useCallback)((function(){!P.paused&&P.pause()}),[P]);(0,f.useEffect)((function(){return window.addEventListener("mousedown",N),function(){window.removeEventListener("mousedown",N)}}),[N]);var D=!1,R=(0,f.useMemo)((function(){return t.ready&&!t.composition.logo_watermark&&!t.isBCard()}),[t]);return h().createElement(_X,{ref:C,"data-component-name":"StageView"},h().createElement(xX,null,h().createElement(IX,{onMouseDown:function(e){D="scene_preview"===e.target.className,L(!0)},onMouseUp:function(e){"scene_preview"===e.target.className&&D&&(BX.info("scene clicked_preview markedSelected to null"),a(null)),L(!1)},className:"scene_preview",stageSize:S,bgColor:o,slideThumb:g},h().createElement(TX,null,Object.values(t.composition).map((function(e){var o,a,i=LX[e.type];return i?h().createElement(h().Fragment,{key:e.id},h().createElement(i,{key:o="".concat(e.id,"@").concat(t.id),"data-key":o,compositionControlsMenuElem:v,active:e.id===(null==d?void 0:d.id),highlight:m.has(e.id),disableHover:j,sceneId:t.id,ce:e,mediaSource:e.sourceHash&&n[e.sourceHash],orientation:r,onPaste:k,isPasteable:Boolean(u),onChangeZIndex:function(t){y(e,t)},openBranding:p}),s&&h().createElement("div",{key:a="".concat(e.id,"-frame"),"data-key":a,style:{boxShadow:"0 0 0 3px blue",width:e.rect.width*S.width,height:e.rect.height*S.height,top:e.rect.y*S.height,left:e.rect.x*S.width,pointerEvents:"none",position:"absolute",zIndex:1e3}})):(BX.error("Unknown COMPOSITION ELEMENT type",e.type),null)})),h().createElement(SX,null)),!t.ready&&h().createElement(hX,{scene:t,showFileSizeProgress:!0}),R&&_&&h().createElement(FG,{onLogoClick:function(){return p("logo",jC,oe.brandingLogoUpsellTitle(w))}})),h().createElement($q,{scene:t,width:S.width,isStagePaused:E}),h().createElement(EX,{toastContext:_d})))};PX.propTypes={scene:(0,Sw.oneOfType)([OH,kH]).isRequired,orientation:(0,Sw.oneOf)(["landscape","portrait","square"]).isRequired};var NX={markSelected:gh,pasteCompositionElement:function(e){return function(t,n){var r=n(),o=r.storyBoard.copiedCompositionElement,a=r.staticParameters,i=a.TEXT_STICKER_DEFAULT_DURATION,c=a.IMAGE_STICKER_DEFAULT_DURATION,l=bs(r).currentTime;if(o&&e){var s=r.storyBoard.scenes.find((function(e){return!!e.composition[o.id]})),u=o.isTextSticker()?i:c,d=e.getMasterTiming(),m={},p=o.timing.end-o.timing.start;m.start=l,e.isOverlayTimingEqMasterTiming||s.isOverlayTimingEqMasterTiming?e.isOverlayTimingEqMasterTiming?(m.start=d.start,m.end=d.end):s.isOverlayTimingEqMasterTiming&&!e.isOverlayTimingEqMasterTiming&&(m.end=Math.min(m.start+u,d.end)):m.end=Math.min(l+p,d.end);var f=0,h=0;Object.values(e.composition).forEach((function(e){JSON.stringify(e.rect)===JSON.stringify(Xf(Xf({},o.rect),{},{x:o.rect.x+f,y:o.rect.y+h}))&&(f+=.01,h+=.01)}));var g=Ku(e.composition)+1;as(o.type)&&g<400&&(g+=400);var y=Xf(Xf({},o),{},{id:"new_ce_".concat(o.type,"_").concat(Lo()),rect:Xf(Xf({},o.rect),{},{x:o.rect.x+f,y:o.rect.y+h}),timing:m,zindex:g}),b=Xf(Xf({},e),{},{composition:Xf(Xf({},e.composition),{},Kf({},y.id,y))});(0,T.dC)((function(){t({type:fd.PASTE_COMPOSITION_ELEMENT,payload:{updatedScene:b}}),t(Jh(b.id,y.id,!0))}))}}},changeCompositionZIndex:ug,copyComposition:Ch,changeZIndex:ug,deleteComposition:ig,duplicateCompositionElement:sg};const DX=(0,T.$j)((function(e){var t=hs(e)||{id:"DUMMY_SCENE_ID",hidden:!0,sceneDuration:{start_time:0,end_time:0},thumbs:[],composition:{},layoutId:"FULL_FRAME_LAYOUT",templateHint:"",ready:!0},n=gs(e),r=bs(e).paused,o=iY(e);return{scene:t,sources:e.storyBoard.sources,selectedComposition:n,alignedCompositionIds:o,orientation:e.storyBoard.orientation,bgColor:e.storyBoard.videoBranding.colors.primary,textRectFT:e.featureToggles.values.textRect,copiedCompositionElement:e.storyBoard.copiedCompositionElement,slideThumb:e.storyBoard.theme.slide_thumb,isStagePaused:r}}),NX)(PX);var RX=n(0x89e0e606468a),zX=224,UX=function(e){var t=e.fillColor;return h().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","data-component-name":"PlusSvg"},h().createElement("defs",null),h().createElement("g",{fill:"none",fillRule:"evenodd"},h().createElement("path",{fill:t,fillRule:"nonzero",d:"M12 2c5.523 0 10 4.477 10 10s-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2z"}),h().createElement("path",{stroke:"#FFF",strokeLinecap:"square",strokeWidth:"2",d:"M12 9v6m-3-3h6"})))};const FX=h().memo(UX);var HX=(0,f.memo)((function(e){var t=e.openMediaModal,n=e.openAddTextModal,r=(0,f.useMemo)((function(){return[{id:"mediaScene",text:oe.GlobalBarAddNewItemMediaScene,icon:h().createElement(KB,null),onClick:function(){t()}},{id:"titleScene",text:oe.GlobalBarAddNewItemTitleScene,icon:h().createElement(QB,null),onClick:function(){n()}}]}),[t,n]);return h().createElement(DY.List,{customStyles:"min-width : 180px","data-component-name":"AddSceneDropdownList"},r.map((function(e){var t;return h().createElement(DY.ListItem,{id:e.id,key:t=e.id,"data-key":t,onListItemClick:e.onClick,icon:e.icon,text:e.text})})))})),VX=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"AddSceneOuter ".concat(e["data-component-name"]):"AddSceneOuter"}})).withConfig({displayName:"add-scenecomponent__AddSceneOuter",componentId:"sc-1eaa271-0"})(["flex:0 0;cursor:pointer;display:flex;align-items:center;font-size:14px;svg{width:24px;height:24px;margin-right:4px;}path{fill:",";}&:hover path{fill:",";}"],(function(e){return qe(e,"theme.colors.primary",Kb)}),(function(e){return qe(e,"theme.colors.hoverDark",av)})),WX=function(e){var t=e.openMenuTo,n=e.openMediaModal,r=e.openAddTextModal,o=e.setInsertAtIndex,a=e.scrollableParent,i=e.addScenePlaceholderElem,c=(0,f.useRef)(null),l=(0,f.useCallback)((function(){o({insertAtIndex:void 0})}),[o]),s=(0,f.useMemo)((function(){return h().createElement(DY.Selector,{"data-component-name":"dropdownSelector"},h().createElement(VX,{"data-popover-selector":!0,ref:c},h().createElement(FX,null),oe.AddSceneText))}),[]);return h().createElement(DY,{onOpen:l,closeListOnParentScroll:!0,scrollableParent:a,anchorRef:c,listPortal:i,selector:s,openDirectionVertical:t,as:"div","data-component-name":"AddScene"},h().createElement(HX,{openMediaModal:n,openAddTextModal:r}))},GX={setInsertAtIndex:cb};const YX=(0,T.$j)(null,GX)(h().memo(WX));var qX=40,ZX=1e3/60;var XX=n(349386107861830),KX=n.n(XX),QX=n(369545652968276),$X=n(0xf77c377abc3a),JX=n(908090643795669);function eK(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return tK(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tK(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tK(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var nK=S("AddSceneStrip"),rK=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"AddSceneOuter ".concat(e["data-component-name"]):"AddSceneOuter"}})).withConfig({displayName:"add-scene-stripcomponent__AddSceneOuter",componentId:"sc-1w26cgg-0"})(["position:absolute;top:0;left:50%;transform:translateX(-50%);z-index:4;height:100%;padding:0 ",";cursor:pointer;opacity:",";&:hover{opacity:1;}"],(0,We.rem)(7),(function(e){return e.isActive?1:0})),oK=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"AddSceneInner ".concat(e["data-component-name"]):"AddSceneInner"}})).withConfig({displayName:"add-scene-stripcomponent__AddSceneInner",componentId:"sc-1w26cgg-1"})(["position:relative;background-color:",";width:",";border-radius:",";height:100%;svg{pointer-events:none;width:100%;height:100%;stroke:",";stroke-width:2;}path{fill:",";}"],(function(e){return qe(e,"theme.colors.primary",Kb)}),(0,We.rem)(2),(0,We.rem)(1),Jb,(function(e){return qe(e,"theme.colors.primary",Kb)})),aK=(0,Ge.default)(Qe).attrs((function(e){return{"data-component-name":e["data-component-name"]?"CenterAbsoluteChildStyled ".concat(e["data-component-name"]):"CenterAbsoluteChildStyled"}})).withConfig({displayName:"add-scene-stripcomponent__CenterAbsoluteChildStyled",componentId:"sc-1w26cgg-2"})(["width:",";height:",";"],(0,We.rem)(24),(0,We.rem)(24)),iK=function(e){var t=e.openMediaModal,n=e.openAddTextModal,r=e.sceneIndex,o=e.scrollableParent,a=e.scrollToViewRequired,i=e.addScenePlaceholderElem,c=e.setCurrentSceneMenuData,l=e.id,s=e.isLastAddSceneStripeOfGroup,u=eK((0,f.useState)(!1),2),d=u[0],m=u[1],p=(0,f.useRef)(null),g=(0,f.useCallback)((function(){var e=p.current;e?e&&o&&o.getBoundingClientRect().top>e.getBoundingClientRect().top&&e.parentNode.scrollIntoView(!0):nK.error("plusButtonEl doesn't exist")}),[o]),y=(0,f.useCallback)((function(){m(!0),c({insertAtIndex:r,sceneId:l,menuOpenedFromLastAddSceneStripeOfGroup:s})}),[l,s,r,c]),b=(0,f.useCallback)((function(){m(!1)}),[]),v=(0,f.useMemo)((function(){return h().createElement(DY.Selector,{"data-component-name":"dropdownSelector"},h().createElement(rK,{"data-popover-selector":!0,isActive:d},h().createElement(oK,null,h().createElement(aK,{ref:p},h().createElement(FX,null)))))}),[d]);return h().createElement(DY,{onBeforeOpen:a?g:function(){},onOpen:y,onClose:b,closeListOnParentScroll:!0,scrollableParent:o,anchorRef:p,listPortal:i,selector:v,"data-component-name":"AddSceneStrip"},h().createElement(HX,{openMediaModal:t,openAddTextModal:n}))},cK={setCurrentSceneMenuData:cb};const lK=(0,T.$j)(null,cK)(h().memo(iK));var sK=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"DropZoneWrapper ".concat(e["data-component-name"]):"DropZoneWrapper"}})).withConfig({displayName:"dropzone-between-storyboard-itemsstyle__DropZoneWrapper",componentId:"sc-5xflhl-0"})(["position:relative;z-index:4;width:",";height:100%;text-align:center;",";"],(0,We.rem)(16),(function(e){return e.hasTopMargin&&(0,Ge.css)(["margin-top:",";"],(0,We.rem)(3))})),uK=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"DropZoneInner ".concat(e["data-component-name"]):"DropZoneInner"}})).withConfig({displayName:"dropzone-between-storyboard-itemsstyle__DropZoneInner",componentId:"sc-5xflhl-1"})(["width:",";position:relative;"],(0,We.rem)(16)),dK=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"DropZoneHoverArea ".concat(e["data-component-name"]):"DropZoneHoverArea"}})).withConfig({displayName:"dropzone-between-storyboard-itemsstyle__DropZoneHoverArea",componentId:"sc-5xflhl-2"})(["width:",";position:absolute;top:0;height:100%;left:50%;transform:translateX(-50%);display:flex;justify-content:center;",";"],(function(e){return e.widerArea?(0,We.rem)(124):(0,We.rem)(16)}),(function(e){return e.isBRoll&&(0,Ge.css)(["height:",";margin-top:",";top:50%;transform:translate(-50%,-50%);padding:"," 0 ",";"],(0,We.rem)(150),(0,We.rem)(15),(0,We.rem)(16),(0,We.rem)(46))})),mK=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"DropZoneActive ".concat(e["data-component-name"]):"DropZoneActive"}})).withConfig({displayName:"dropzone-between-storyboard-itemsstyle__DropZoneActive",componentId:"sc-5xflhl-3"})(["display:inline-block;height:100%;width:",";border-radius:",";zindex:1;background-color:",";"],(0,We.rem)(4),(0,We.rem)(3.5),(function(e){return qe(e,"theme.colors.primary",Kb)})),pK=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"DropZoneOuterBorder ".concat(e["data-component-name"]):"DropZoneOuterBorder"}})).withConfig({displayName:"dropzone-between-storyboard-itemsstyle__DropZoneOuterBorder",componentId:"sc-5xflhl-4"})(["",";",""],(function(e){var t=e.isBRoll,n=e.isLastSceneInGroup;return t&&!n&&(0,Ge.css)(["border-top:"," solid transparent;"],(0,We.rem)(3))}),(function(e){return e.isHoveredOrActive&&e.isBRoll&&!e.isFirstInRow&&(0,Ge.css)(["border-color:",";"],rv)})),fK=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"DropZoneBackground ".concat(e["data-component-name"]):"DropZoneBackground"}})).withConfig({displayName:"dropzone-between-storyboard-itemsstyle__DropZoneBackground",componentId:"sc-5xflhl-5"})(["",";"],(function(e){var t=e.isBRoll,n=e.isFirstInRow,r=e.isLastSceneInGroup;return t&&(0,Ge.css)(["background:",";",""],n||r?"transparent":rv,!r&&"padding: ".concat((0,We.rem)(16)," 0;"))})),hK=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"DropZone ".concat(e["data-component-name"]):"DropZone"}})).withConfig({displayName:"dropzone-between-storyboard-itemsstyle__DropZone",componentId:"sc-5xflhl-6"})(["",";"],(function(e){var t=e.isBRoll,n=e.isFirstSceneInGroup,r=e.isFirstInRow;return t&&(0,Ge.css)(["height:",";position:relative;"," ",""],(0,We.rem)(88),n&&"\n        transform: translateX(50%);\n      ",r&&"transform: translateX(100%);")})),gK=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"BottomSection ".concat(e["data-component-name"]):"BottomSection"}})).withConfig({displayName:"dropzone-between-storyboard-itemsstyle__BottomSection",componentId:"sc-5xflhl-7"})(["height:",";border-bottom:"," solid ",";",";",""],(0,We.rem)(30),(0,We.rem)(1),rv,(function(e){return e.groupDragged&&(0,Ge.css)(["background:",";"],rv)}),(function(e){return e.isHoveredOrActive&&(0,Ge.css)(["background-color:",";border-color:",";height:33px;border-bottom:"," solid ",";"],qe(e,"theme.colors.primary",Kb),qe(e,"theme.colors.primary",Kb),(0,We.rem)(3),qe(e,"theme.colors.primary",Kb))}));function yK(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return bK(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bK(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bK(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var vK={addNewBRoll:Sh,reorderScenesWithinGroup:function(e){var t=e.oldIndex,n=e.newIndex;return function(e,r){var o=Gf(r().storyBoard.scenes),a=n>t?n-1:n,i=o.splice(t,1)[0];o.splice(a,0,i),e({type:fd.REORDER_SCENES_WITHIN_GROUP,payload:{newScenes:o}})}},dragBRollOutOfGroup:function(e){var t=e.aRollSceneId,n=e.oldIndex,r=e.newIndex;return function(e,o){var a=Gf(o().storyBoard.scenes),i=r>n?r-1:r,c=Xf({},a.splice(n,1)[0]),l=(c.isBRoll,c.aRollId,c.aRollDuration,Wf(c,["isBRoll","aRollId","aRollDuration"]));a.splice(i,0,l);var s=a.map((function(e){if(e.id===t){var n=-1!==a.findIndex((function(e){return e.aRollId===t}));return Xf(Xf({},e),{},{hasBRolls:n})}return e}));e({type:fd.CHANGE_BROLL_TO_REGULAR_SCENE,payload:{newScenes:s}})}},moveBRollBetweenGroups:_h,updateScenePosition:function(e,t,n){return function(r,o){var a=Gf(o().storyBoard.scenes),i=1;if(n){var c=a[e].id;i=a.filter((function(e){return e.aRollId===c})).length+1}var l=a.splice(e,i),s=t<e?t:t-i;a.splice.apply(a,[s,0].concat(Gf(l))),r({type:fd.UPDATE_SCENE_POSITION_BY_USERT,payload:{newScenes:a}})}},selectScene:hh,showToastNotification:Id};const EK=(0,T.$j)((function(e){return{selectedSceneId:e.storyBoard.selectedSceneId}}),vK)((function(e){var t=e.id,n=e.sceneIndex,r=e.onDragEnd,o=e.sceneContainerNode,a=e.expanded,i=e.openMediaModal,c=e.openAddTextModal,l=e.addScenePlaceholderElem,s=e.indexInSceneGroup,u=e.targetGroupARollId,d=e.addNewBRoll,m=e.muteVideo,p=e.reorderScenesWithinGroup,g=e.dragBRollOutOfGroup,y=e.moveBRollBetweenGroups,b=e.updateScenePosition,v=e.isBRoll,E=e.isHoveredOrActive,w=e.isLastSceneInGroup,A=e.isFirstInRow,C=e.widerDropArea,S=e.groupDragged,_=e.checkAvailableDuration,x=e.setCurrentOffset,I=e.hidden,T=e.isLastAddSceneStripeOfGroup,O=e.showToastNotification,k=yK((0,JX.useDrop)({accept:"scene",drop:function(e){var t=e.dragIndex,o=n;if(void 0!==s){if(e.draggedScene.hasBRolls||e.draggedScene.isBCard())return;if(u&&e.draggedScene.aRollId&&e.draggedScene.aRollId!==u){if(_({aRollId:u,bRollPotentialScene:e.draggedScene})){var a=s;y({sourceGroupARollId:e.draggedScene.aRollId,targetGroupARollId:u,bRollCurrentIndex:e.dragIndex,bRollIndexInTargetGroup:a})}return}e.draggedScene.aRollId&&e.draggedScene.aRollId===u?p({oldIndex:t,newIndex:o}):_({aRollId:u,bRollPotentialScene:e.draggedScene})&&(d({aRollSceneId:u,draggedSceneId:e.draggedScene.id,draggedSceneIndex:e.dragIndex,insertionIndexInGroup:s}),e.draggedScene.isMutable()&&!e.draggedScene.isMuted()&&(m(e.mutableComposition.id,!0,e.draggedScene.id),O({text:oe.ThisSceneIsNowMuted,context:Sd})))}else if(e.draggedScene.isBRoll)g({aRollSceneId:e.draggedScene.aRollId,oldIndex:t,newIndex:o});else if(t!==o){var i=e.draggedScene.hasBRolls;b(t,o,i),r()}},collect:function(e){return{showDropZone:!(!e.isOver()||I&&v||e.getItem().draggedScene.id===u||e.getItem().draggedScene.hasBRolls&&u)}},hover:function(e,t){x&&x(t.getSourceClientOffset())}}),2),M=k[0].showDropZone,B=k[1],j=(0,f.useMemo)((function(){return null==o?void 0:o.querySelector(".os-viewport")}),[o]);return h().createElement(sK,{align:"center",justify:"center",hasTopMargin:!v||A,"data-component-name":"DropZoneBetweenStoryboardItems"},h().createElement(pK,{isBRoll:v,isHoveredOrActive:E,isFirstInRow:A,isLastSceneInGroup:w},h().createElement(fK,{isBRoll:v,isFirstInRow:A,isLastSceneInGroup:w},h().createElement(hK,{isBRoll:v,isFirstInRow:A,isFirstSceneInGroup:0===s},h().createElement(dK,{ref:B,widerArea:C,isBRoll:v},h().createElement(uK,null,M?h().createElement(mK,null):h().createElement(h().Fragment,null,!(I&&v)&&h().createElement(lK,{sceneIndex:n-1,id:t,scrollableParent:j,scrollToViewRequired:a,openMediaModal:i,openAddTextModal:c,addScenePlaceholderElem:l,isLastAddSceneStripeOfGroup:T}))))))),v&&!A&&!w&&h().createElement(gK,{isHoveredOrActive:E,groupDragged:S}))}));var wK=n(959925046817246),AK=n(0x8ecd9ace0ea2),CK=n.n(AK),SK=(0,Ge.css)(["position:relative;margin:0 0 "," 0;width:",";height:",";box-shadow:0 0 0 "," transparent;border-radius:",";flex:0 0 auto;z-index:3;"],(0,We.rem)(10),(0,We.rem)(120),(0,We.rem)(150),(0,We.rem)(4),(0,We.rem)(5)),_K=BH(CK()),xK=(0,Ge.default)(wK.fl).attrs((function(e){return{"data-component-name":e["data-component-name"]?"AddOutroCard ".concat(e["data-component-name"]):"AddOutroCard"}})).withConfig({displayName:"add-bcard-scenestyle__AddOutroCard",componentId:"sc-1p4crws-0"})(["",";div a:focus div{border-color:","!important;}&:active,&:focus{div a div{border-color:","!important;}}min-height:initial;border-style:solid !important;background-color:#fff;border-color:",";margin-left:0;z-index:1;&:after{content:unset;}span{svg{display:none;height:1.4rem;width:initial;}:after{content:url(",");width:24px;height:24px;display:block;}}:hover{span:after{content:url(",");}p{color:","!important;}}p{margin-top:0.5rem;font-size:",";color:#1a2e3b;}"],SK,(function(e){return qe(e,"theme.colors.primary",Kb)}),(function(e){return qe(e,"theme.colors.primary",Kb)}),rv,_K,(function(e){return function(e){var t,n;return BH(CK().replace(/#1A2E3B/g,null!==(t=null==e||null===(n=e.colors)||void 0===n?void 0:n.primary)&&void 0!==t?t:Kb))}(e.theme)}),(function(e){return qe(e,"theme.colors.primary",Kb)}),(0,We.rem)(12)),IK=(0,Ge.default)(Ze).attrs((function(e){return{"data-component-name":e["data-component-name"]?"AddOutroAddSceneWrapper ".concat(e["data-component-name"]):"AddOutroAddSceneWrapper"}})).withConfig({displayName:"add-bcard-scenestyle__AddOutroAddSceneWrapper",componentId:"sc-1p4crws-1"})(["position:relative;margin-right:",";height:",";border-top:"," solid transparent;border-bottom:"," solid transparent;"],(function(e){return e.hasRightMargin?(0,We.rem)(16):0}),(0,We.rem)(150),(0,We.rem)(3),(0,We.rem)(3));const TK=(0,T.$j)((function(e){return{hasBrandScene:!!e.storyBoard.scenes.find((function(e){return e.isBCard()}))}}))((function(e){var t=e.expanded,n=e.sceneIndex,r=e.hasBrandScene,o=e.openBranding,a=e.openMediaModal,i=e.openAddTextModal,c=e.addScenePlaceholderElem,l=e.sceneContainerNode,s=e.onDragEnd,u=((0,T.v9)((function(e){return e.userCapabilities.capabilities.canBrandVideo})).tier||{}).text;return h().createElement(IK,{hasRightMargin:!t,"data-component-name":"AddOutroScene"},h().createElement(EK,{sceneIndex:n,onDragEnd:s,sceneContainerNode:l,expanded:t,openMediaModal:a,openAddTextModal:i,addScenePlaceholderElem:c}),!r&&h().createElement(xK,{tabIndex:"0",text:oe.AddBrandCard,className:"add-outro-card-button storyboard-item-wrapper",anchorProps:{onClick:function(){var e,t;t={name:"click_on_outro_card_scene",product:Si,location:ba},Li(t=sa(sa({},e),t)),o("business_info_scene",NC,oe.brandingUpsellTitle(u))}}}))}));const OK=function(e){var t=$L(e);return h().createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-component-name":"InfoSVG","data-key":e["data-key"]},h().createElement("path",{d:"M9.54583 12.6842C11.3541 12.6842 12.8187 11.2711 12.8187 9.52632C12.8187 7.78158 11.3541 6.36842 9.54583 6.36842C7.73754 6.36842 6.27291 7.78158 6.27291 9.52632C6.27291 11.2711 7.73754 12.6842 9.54583 12.6842ZM9.54583 7.94737C10.4459 7.94737 11.1823 8.65789 11.1823 9.52632C11.1823 10.3947 10.4459 11.1053 9.54583 11.1053C8.64578 11.1053 7.90937 10.3947 7.90937 9.52632C7.90937 8.65789 8.64578 7.94737 9.54583 7.94737ZM9.54583 14.2632C7.36116 14.2632 3 15.3211 3 17.4211V19H16.0917V17.4211C16.0917 15.3211 11.7305 14.2632 9.54583 14.2632ZM4.63646 17.4211C4.81647 16.8526 7.34479 15.8421 9.54583 15.8421C11.755 15.8421 14.2916 16.8605 14.4552 17.4211H4.63646ZM14.5207 7.98684C15.208 8.91842 15.208 10.1263 14.5207 11.0579L15.8953 12.3921C17.5481 10.7974 17.5481 8.38947 15.8953 6.65263L14.5207 7.98684ZM18.6036 4L17.2699 5.28684C19.5364 7.67105 19.5364 11.2553 17.2699 13.7658L18.6036 15.0526C21.7947 11.9816 21.8029 7.19737 18.6036 4Z",fill:t}))};const kK=function(e){var t=$L(e);return h().createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:t,xmlns:"http://www.w3.org/2000/svg","data-component-name":"MuteIconSVG","data-key":e["data-key"]},h().createElement("rect",{opacity:"0.01",x:"2.18176",y:"2.18176",width:"19.6364",height:"19.6364",fill:"white"}),h().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.75194 8.72719H5.45448C4.55074 8.72719 3.81812 9.45982 3.81812 10.3636V13.6363C3.81812 14.54 4.55074 15.2726 5.45448 15.2726H6.75194L10.6032 19.1239C11.1186 19.6393 11.9999 19.2743 11.9999 18.5454V5.45447C11.9999 4.72554 11.1186 4.3605 10.6032 4.87592L6.75194 8.72719ZM7.90902 9.88431L10.3636 7.42977V16.5701L7.90902 14.1156C7.60215 13.8087 7.18593 13.6363 6.75194 13.6363H5.45448V10.3636H6.75194C7.18593 10.3636 7.60215 10.1912 7.90902 9.88431Z",fill:t}),h().createElement("path",{d:"M17.6795 18.548C19.2806 16.7603 20.1818 14.4492 20.1818 11.9999C20.1818 9.56439 19.2906 7.26517 17.7056 5.48118C17.4055 5.14338 16.8884 5.11284 16.5506 5.41297C16.2127 5.71309 16.1822 6.23024 16.4823 6.56804C17.8037 8.05533 18.5455 9.96892 18.5455 11.9999C18.5455 14.0423 17.7954 15.9659 16.4605 17.4563C16.1591 17.7929 16.1876 18.3101 16.5242 18.6116C16.8608 18.9131 17.378 18.8846 17.6795 18.548Z",fill:t}),h().createElement("path",{d:"M14.9973 16.2713C16.2048 15.192 16.909 13.6518 16.909 12C16.909 10.3456 16.2026 8.80328 14.9918 7.72384C14.6545 7.42313 14.1373 7.45278 13.8366 7.79007C13.5359 8.12736 13.5656 8.64455 13.9029 8.94526C14.7689 9.71739 15.2726 10.8171 15.2726 12C15.2726 13.181 14.7705 14.2792 13.9068 15.0512C13.5699 15.3524 13.5409 15.8696 13.842 16.2065C14.1431 16.5434 14.6604 16.5724 14.9973 16.2713Z",fill:t}))};const MK=function(e){var t=$L(e);return h().createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:t,xmlns:"http://www.w3.org/2000/svg","data-component-name":"UnmuteIconSVG","data-key":e["data-key"]},h().createElement("rect",{opacity:"0.01",x:"2.18176",y:"2.18176",width:"19.6364",height:"19.6364",fill:"white"}),h().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.75194 8.72719H5.45448C4.55074 8.72719 3.81812 9.45982 3.81812 10.3636V13.6363C3.81812 14.54 4.55074 15.2726 5.45448 15.2726H6.75194L10.6032 19.1239C11.1186 19.6393 11.9999 19.2743 11.9999 18.5454V5.45447C11.9999 4.72554 11.1186 4.3605 10.6032 4.87592L6.75194 8.72719ZM7.90902 9.88431L10.3636 7.42977V16.5701L7.90902 14.1156C7.60215 13.8087 7.18593 13.6363 6.75194 13.6363H5.45448V10.3636H6.75194C7.18593 10.3636 7.60215 10.1912 7.90902 9.88431Z",fill:t}),h().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.0578 8.96681C13.3773 8.64729 13.8954 8.64729 14.2149 8.96681L16.529 11.281L18.8432 8.96681C19.1627 8.64729 19.6807 8.64729 20.0003 8.96681C20.3198 9.28633 20.3198 9.80438 20.0003 10.1239L17.6861 12.438L20.0003 14.7522C20.3198 15.0718 20.3198 15.5898 20.0003 15.9093C19.6808 16.2288 19.1627 16.2288 18.8432 15.9093L16.529 13.5951L14.2148 15.9093C13.8953 16.2288 13.3773 16.2288 13.0578 15.9093C12.7382 15.5898 12.7382 15.0718 13.0578 14.7522L15.3719 12.438L13.0578 10.1239C12.7383 9.80438 12.7383 9.28633 13.0578 8.96681Z",fill:t}))};var BK=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"Time ".concat(e["data-component-name"]):"Time"}})).withConfig({displayName:"scene-footerstyle__Time",componentId:"sc-1y9sjah-0"})(["font-size:",";",";letter-spacing:",";flex:1;text-align:right;"],(0,We.rem)(12),(function(e){var t=e.format;return"color : ".concat("active"===t?Jb:$b)}),(0,We.rem)(.17)),jK=(0,Ge.default)(Ze).attrs((function(e){return{"data-component-name":e["data-component-name"]?"FooterContainer ".concat(e["data-component-name"]):"FooterContainer"}})).withConfig({displayName:"scene-footerstyle__FooterContainer",componentId:"sc-1y9sjah-1"})(["position:relative;border:1px solid ",";border-top:none;padding:"," "," "," ",";border-radius:",";height:",";border-left:",";border-right:",";",";",""],rv,(0,We.rem)(2),(0,We.rem)(4),(0,We.rem)(3),(0,We.rem)(3),(function(e){return e.borderRadius||"0 0 ".concat((0,We.rem)(3)," ").concat((0,We.rem)(3))}),(0,We.rem)(30),(function(e){return!e.borders.leftBorder&&(0,Ge.css)(["none"])}),(function(e){return!e.borders.rightBorder&&(0,Ge.css)(["none"])}),(function(e){return"disabled"===e.format&&(0,Ge.css)(["background:",";","{opacity:0;}"],rv,BK)}),(function(e){return"active"===e.format&&(0,Ge.css)(["background:",";border-color:",";"],qe(e,"theme.colors.primary",Kb),qe(e,"theme.colors.primary",Kb))}));function LK(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return PK(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PK(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function PK(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var NK=(0,Ge.default)(JL).attrs((function(e){return{"data-component-name":e["data-component-name"]?"CutawayInfo ".concat(e["data-component-name"]):"CutawayInfo"}})).withConfig({displayName:"scene-footercomponent__CutawayInfo",componentId:"u7ggc5-0"})(["margin-right:",";"],(0,We.rem)(2));const DK=function(e){var t=e.duration,n=e.mediaElem,r=e.hideDuration,o=e.state,a=e.borders,i=void 0===a?{leftBorder:!0,rightBorder:!0}:a,c=e.borderRadius,l=e.toggleHighlightSceneGroup,s=void 0===l?function(){}:l,u=e.aRollId,d=e.isARollScene,m=e.hasBRolls,p=e.sceneId,f=(0,T.I0)(),g=!!n&&n.type===Is,y=LK([Math.floor(t/60),Math.round(t%60)].map((function(e){return(e+100).toString(10).substr(-2)})),2),b=y[0],v=y[1],E=!0;return h().createElement(jK,{flex:"1",align:"center",format:o,borders:i,borderRadius:c,onMouseOver:function(){return s({sceneId:u,isBRollFooter:E})},onMouseOut:function(){return s({sceneId:null,isBRollFooter:E})},onFocus:function(){return s({sceneId:u,isBRollFooter:E})},onBlur:function(){return s({sceneId:null,isBRollFooter:E})},"data-component-name":"SceneFooter"},h().createElement(JL,{show:g&&n.hasAudio&&!n.muted,size:"xs",active:"active"===o,format:"transparent",tooltipText:oe.SceneMenuMute,onClick:function(e){e.stopPropagation(),f(ny(n.id,!0,p))},iconReactComponent:h().createElement(kK,{active:"active"===o,disabled:!!d&&!!m,format:"transparent"}),disabled:!!d&&!!m}),h().createElement(JL,{show:g&&n.hasAudio&&n.muted,size:"xs",format:"transparent",tooltipText:oe.SceneMenuUnmute,onClick:function(e){e.stopPropagation(),f(ny(n.id,!1,p))},iconReactComponent:h().createElement(MK,{active:"active"===o,disabled:!!d&&!!m,format:"transparent"})}),h().createElement(NK,{show:!!d,size:"xs",format:"transparent",tooltipText:oe.CutawayExplanatoryTooltip,onClick:function(e){e.stopPropagation(),f(Ml(Pl,"icon_click"))},iconReactComponent:h().createElement(OK,{active:"active"===o,format:"transparent"}),customFormat:"active"===o&&{defaultBackgroundColor:"transparent",hoverBackgroundColor:"#0097D7"}}),!r&&t>0?h().createElement(BK,{format:o},"".concat(b,":").concat(v)):null)};var RK={REGULAR:3,B_ROLL:4,A_ROLL_WITH_BROLLS:5,B_ROLL_WHILE_DRAGGING:6,POTENTIAL_AROLL:7,ANIMATING_DRAGGED_SCENE:8};const zK=function(){return h().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","data-component-name":"DeleteIconSVG"},h().createElement("g",{fill:"none",fillRule:"evenodd",stroke:"#1A2E3B",strokeWidth:"2"},h().createElement("path",{strokeLinecap:"round",d:"M4 6h16M10.5 11.5v4M13.5 11.5v4"}),h().createElement("path",{d:"M6 6v14a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V6H6zM9 6V4a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v2H9z"})))};const UK=function(){return h().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","data-component-name":"HideIconSVG"},h().createElement("defs",null,h().createElement("path",{id:"a",d:"M2.408 15.359L18.054 1.452l-3.107-1.1L6.863 0 2.271 2.784 0 8.365l.819 6.146z"})),h().createElement("g",{fill:"none",fillRule:"evenodd"},h().createElement("g",{transform:"translate(1 3)"},h().createElement("mask",{id:"b",fill:"#fff"},h().createElement("use",{xlinkHref:"#a"})),h().createElement("g",{mask:"url(#b)"},h().createElement("g",{transform:"translate(2 3)"},h().createElement("path",{stroke:"#1A2E3B",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12c3.314 0 6.314-2 9-6-2.686-4-5.686-6-9-6S2.686 2 0 6c2.686 4 5.686 6 9 6z"}),h().createElement("circle",{cx:"9",cy:"6",r:"3",fill:"#1A2E3B"})))),h().createElement("path",{stroke:"#1A2E3B",strokeLinecap:"round",strokeWidth:"2",d:"M21 4L3 20"}),h().createElement("g",{transform:"translate(3 6)"},h().createElement("path",{stroke:"#1A2E3B",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12c3.314 0 6.314-2 9-6-2.686-4-5.686-6-9-6S2.686 2 0 6c2.686 4 5.686 6 9 6z"}),h().createElement("circle",{cx:"9",cy:"6",r:"3",fill:"#1A2E3B"}))))};const FK=function(){return h().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","data-component-name":"MuteIconSVG"},h().createElement("g",{fill:"none",fillRule:"evenodd"},h().createElement("path",{fill:"#1A2E3B",fillRule:"nonzero",d:"M4 8h1.586l4.707-4.707C10.923 2.663 12 3.109 12 4v16c0 .89-1.077 1.337-1.707.707L5.586 16H4a2 2 0 0 1-2-2v-4a2 2 0 0 1 2-2zm6-1.586l-3 3A2 2 0 0 1 5.586 10H4v4h1.586A2 2 0 0 1 7 14.586l3 3V6.414z"}),h().createElement("path",{fill:"#1A2E3B",d:"M18.95 12.536l2.828 2.828a1 1 0 0 1-1.414 1.414l-2.828-2.828-2.829 2.828a1 1 0 0 1-1.414-1.414l2.828-2.828-2.828-2.829a1 1 0 1 1 1.414-1.414l2.829 2.828 2.828-2.828a1 1 0 0 1 1.414 1.414l-2.828 2.829z"})))};const HK=function(){return h().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","data-component-name":"ShowIconSVG"},h().createElement("g",{fill:"none",fillRule:"evenodd",transform:"translate(3 6)"},h().createElement("path",{stroke:"#1A2E3B",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12c3.314 0 6.314-2 9-6-2.686-4-5.686-6-9-6S2.686 2 0 6c2.686 4 5.686 6 9 6z"}),h().createElement("circle",{cx:"9",cy:"6",r:"3",fill:"#1A2E3B"})))};const VK=function(){return h().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","data-component-name":"SplitToScenesSVG"},h().createElement("path",{fill:"#1A2E3B",d:"M19.586 11.999l-3.293 3.294 1.415 1.414 4-4.002c.39-.39.39-1.024 0-1.414l-4-3.998-1.415 1.414L19.586 12z"}),h().createElement("path",{fill:"#1A2E3B",d:"M20 11v2H7v-2h13z"}),h().createElement("path",{fill:"#1A2E3B",d:"M14 8.625h-2V7c0-.552-.448-1-1-1H5c-.552 0-1 .448-1 1v10c0 .552.448 1 1 1h6c.552 0 1-.448 1-1v-1.625h2V17c0 1.657-1.343 3-3 3H5c-1.657 0-3-1.343-3-3V7c0-1.657 1.343-3 3-3h6c1.657 0 3 1.343 3 3v1.625z"}))};const WK=function(){return h().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","data-component-name":"UnMuteIconSVG"},h().createElement("g",{fill:"#1A2E3B",fillRule:"nonzero"},h().createElement("path",{d:"M4 8h1.586l4.707-4.707C10.923 2.663 12 3.109 12 4v16c0 .89-1.077 1.337-1.707.707L5.586 16H4a2 2 0 0 1-2-2v-4a2 2 0 0 1 2-2zm6-1.586l-3 3A2 2 0 0 1 5.586 10H4v4h1.586A2 2 0 0 1 7 14.586l3 3V6.414zM18.942 20.003A11.957 11.957 0 0 0 22 12c0-2.977-1.09-5.787-3.026-7.967a1 1 0 1 0-1.496 1.328A9.957 9.957 0 0 1 20 12a9.957 9.957 0 0 1-2.548 6.669 1 1 0 0 0 1.49 1.334z"}),h().createElement("path",{d:"M15.663 17.22A6.984 6.984 0 0 0 18 12a6.984 6.984 0 0 0-2.343-5.226 1 1 0 1 0-1.331 1.492A4.984 4.984 0 0 1 16 12a4.984 4.984 0 0 1-1.67 3.73 1 1 0 1 0 1.333 1.49z"})))};var GK=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"SceneMenuBtn ".concat(e["data-component-name"]):"SceneMenuBtn"}})).withConfig({displayName:"scene-menucomponent__SceneMenuBtn",componentId:"wspyz6-0"})(["top:",";right:",";position:absolute;color:white;background:none;border:none;cursor:pointer;opacity:0;svg{pointer-events:none;}"],(0,We.rem)(8),(0,We.rem)(8));var YK={toggleMute:ny,toggleHide:function(e){return function(t,n){var r,o=n(),a=o.storyBoard.scenes,i=o.selectedSceneId,c=e||i,l=Xf({},a.find((function(e){return e.id===c}))),s=a.findIndex((function(e){return e.id===c}));l.hidden=!l.hidden,r=[].concat(Gf(a.slice(0,s)),[l],Gf(a.slice(s+1))),t({type:fd.TOGGLE_HIDE,payload:{scenes:r}})}},deleteScene:function(e){return function(t){t(Zd({actionDescription:oe.ActionDescriptionDeleteScene})),t(Eh(e))}},splitSceneGroup:function(e){return function(t,n){var r=n().storyBoard.scenes.map((function(t){if(t.id===e)return Xf(Xf({},t),{},{hasBRolls:!1});if(t.aRollId===e){t.aRollId,t.isBRoll,t.aRollDuration;return Wf(t,["aRollId","isBRoll","aRollDuration"])}return t}));Li({name:"click_to_break_sequence",product:Si,flow:fa.location,location:ba,version:1}),t({type:fd.SPLIT_SCENES_GROUP,payload:{newScenes:r}})}},showConfirmDialog:td};const qK=(0,T.$j)((function(e){var t=e.storyBoard,n=e.featureToggles;return{scenes:t.scenes,templateHintsFT:n.values.templateHints}}),YK)((function(e){var t=e.scene,n=e.sceneContainerNode,r=e.addScenePlaceholderElem,o=e.setSceneMenuState,a=e.toggleMute,i=e.toggleHide,c=e.deleteScene,l=e.splitSceneGroup,s=e.showConfirmDialog,u=e.deleteable,d=e.hideable,m=(0,f.useRef)(null),p=(0,f.useMemo)((function(){return t.isMutable()}),[t]),g=(0,f.useCallback)((function(){o({scene:t})}),[t,o]),y=(0,f.useCallback)((function(){p&&a(p.id,!p.muted,t.id)}),[p,t,a]),b=(0,f.useCallback)((function(){c(t.id),Gi({flow:"editor"})}),[c,t.id]),v=(0,f.useMemo)((function(){return[{id:"split-overlays",text:oe.SceneMenuSplitToScenes,icon:h().createElement(VK,null),show:t.hasBRolls,onClick:function(){return l(t.id)}},{id:"mute",text:null!=p&&p.muted?oe.SceneMenuUnmute:oe.SceneMenuMute,icon:null!=p&&p.muted?h().createElement(WK,null):h().createElement(FK,null),show:p&&!t.hasBRolls&&!t.isBRoll,onClick:function(){return y()}},{id:"hide",text:t&&t.hidden?oe.SceneMenuShow:oe.SceneMenuHide,icon:t&&t.hidden?h().createElement(HK,null):h().createElement(UK,null),show:d,onClick:function(){var e,n;!t.hidden&&(n={name:"click_to_hide_scene",product:Si,location:ba,version:2,flow:(e={flow:"editor"}).flow},Li(n=sa(sa({},e),n),!0,["third_party_integration"])),i(t.id)}},{id:"delete",text:oe.SceneMenuDelete,icon:h().createElement(zK,null),show:u,onClick:function(){t.hasBRolls?s({title:oe.RemoveSequence,content:oe.WouldYouLikeToRemoveSequence,primaryBtnConfig:{caption:oe.Remove,callback:function(){return b()},format:"warning"},secondaryBtnConfig:{caption:oe.Cancel,format:"primary",callback:function(){}}}):(Gi({flow:"editor"}),c(t.id))}}]}),[t,d,u,l,p,y,i,s,b,c]),E=(0,f.useMemo)((function(){return v.filter((function(e){return e.show})).length>0&&h().createElement(DY.Selector,{"data-component-name":"dropdownSelector"},h().createElement(GK,{"data-popover-selector":!0,ref:m},h().createElement(fY,null)," "))}),[v]),w=(0,f.useMemo)((function(){return null==n?void 0:n.querySelector(".os-viewport")}),[n]);return h().createElement(DY,{closeListOnParentScroll:!0,scrollableParent:w,anchorRef:m,listPortal:r,selector:E,onBeforeOpen:g,"data-component-name":"SceneMenu"},h().createElement(DY.List,{customStyles:"min-width : 180px"},v.map((function(e){var t;return e.show&&h().createElement(DY.ListItem,{id:e.id,key:t=e.id,"data-key":t,onListItemClick:e.onClick,icon:e.icon,text:e.text})}))))}));var ZK=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"InfoHolder ".concat(e["data-component-name"]):"InfoHolder"}})).withConfig({displayName:"storyboard-scene-itemstyle__InfoHolder",componentId:"sc-9i6y46-0"})(["position:absolute;top:0;bottom:0;left:0;right:0;background-color:rgba(0,0,0,0.2);z-index:1;&:hover{background-color:rgba(0,0,0,0);background-image:linear-gradient( to top,rgba(0,0,0,0),rgba(0,0,0,0.2) );}"]),XK=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"UpperLayer ".concat(e["data-component-name"]):"UpperLayer"}})).withConfig({displayName:"storyboard-scene-itemstyle__UpperLayer",componentId:"sc-9i6y46-1"})(["position:absolute;top:0;bottom:0;left:0;right:0;z-index:10;&.hidden{background-color:rgba(129,149,161,0.92);}&:hover{&.hidden{background-color:rgba(132,152,164,0.5);}}"]),KK=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"HiddenNotification ".concat(e["data-component-name"]):"HiddenNotification"}})).withConfig({displayName:"storyboard-scene-itemstyle__HiddenNotification",componentId:"sc-9i6y46-2"})(["position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);"]),QK=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"TextContainer ".concat(e["data-component-name"]):"TextContainer"}})).withConfig({displayName:"storyboard-scene-itemstyle__TextContainer",componentId:"sc-9i6y46-3"})(["position:absolute;z-index:1;top:0;bottom:0;left:0;right:0;pointer-events:none;padding:0 12px;display:flex;flex-direction:column;justify-content:center;align-items:flex-start;color:white;text-shadow:0 1px 0px rgba(0,0,0,0.5);font-size:14px;& > div{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;text-align:center;width:100%;}",""],dE()),$K=Ge.default.img.attrs({draggable:!1}).attrs((function(e){return{"data-component-name":e["data-component-name"]?"LogoPreview ".concat(e["data-component-name"]):"LogoPreview"}})).withConfig({displayName:"storyboard-scene-itemstyle__LogoPreview",componentId:"sc-9i6y46-4"})(["width:30%;height:30%;margin:0 auto;margin-bottom:5%;object-fit:contain;"]),JK=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"SceneIdLabel ".concat(e["data-component-name"]):"SceneIdLabel"}})).withConfig({displayName:"storyboard-scene-itemstyle__SceneIdLabel",componentId:"sc-9i6y46-5"})(["pointer-events:none;position:absolute;top:10px;left:10px;padding:5px;color:white;background-color:rgba(0,0,0,0.5);"]),eQ=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"StackedScenesWrapper ".concat(e["data-component-name"]):"StackedScenesWrapper"}})).withConfig({displayName:"storyboard-scene-itemstyle__StackedScenesWrapper",componentId:"sc-9i6y46-6"})(["position:relative;top:",";left:",";"],(0,We.rem)(-10),(0,We.rem)(-10)),tQ=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"StoryBoardSceneItemOuter ".concat(e["data-component-name"]):"StoryBoardSceneItemOuter"}})).withConfig({displayName:"storyboard-scene-itemstyle__StoryBoardSceneItemOuter",componentId:"sc-9i6y46-7"})(["position:relative;opacity:",";"," margin:auto;"," "," ",";&:hover{","{opacity:1;z-index:2;}}"],(function(e){return e.isDragging?0:1}),(function(e){var t=e.highlightDroppableScene,n=e.theme;return t&&(0,Ge.css)(["box-shadow:0 0 0 3px ",";border-radius:",";"],n.colors.primary,(0,We.rem)(3))}),(function(e){return e.isBrollScene?"\n          width: ".concat((0,We.rem)(88),";\n          height: ").concat((0,We.rem)(88),";\n        "):"flex: 1;"}),(function(e){return e.hasBRolls&&(0,Ge.css)(["border-radius:"," 0 0 ",";",";"],(0,We.rem)(4),(0,We.rem)(4),e.isLastInRow&&(0,Ge.css)(["border-radius:",";"],(0,We.rem)(4)))}),(function(e){return e.isDragging&&(0,Ge.css)(["background:",";"],rv)}),GK),nQ=(0,Ge.css)(["height:100%;border-radius:",";&:hover{box-shadow:0 0 0 "," ",";}"],(0,We.rem)(3),(0,We.rem)(3),(function(e){return e.theme.colors.primary})),rQ=(0,Ge.css)(["height:",";border-radius:"," "," 0 0;"],(0,We.rem)(120),(0,We.rem)(3),(0,We.rem)(3)),oQ=(0,Ge.css)(["border-radius:",";"],(function(e){return e.isLastInRow?"".concat((0,We.rem)(3)," ").concat((0,We.rem)(3)," 0 0"):"".concat((0,We.rem)(3)," 0 0 0")})),aQ=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"ThumbnailAndInfoWrapper ".concat(e["data-component-name"]):"ThumbnailAndInfoWrapper"}})).withConfig({displayName:"storyboard-scene-itemstyle__ThumbnailAndInfoWrapper",componentId:"sc-9i6y46-8"})(["position:relative;overflow:hidden;",";background-color:",";background-image:",";background-size:cover;",";",";"],(function(e){return e.isHoveredOrActive?(0,Ge.css)(["border-bottom:none;border-color:",";"],e.theme.colors.primary):"border-color: ".concat(rv)}),(function(e){return e.sceneBgColor}),(function(e){var t=e.slideThumb;return t?'url("'.concat(t,'")'):"none"}),(function(e){return e.isBrollScene?nQ:rQ}),(function(e){return e.hasBRolls&&oQ})),iQ=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"DraggedSceneCount ".concat(e["data-component-name"]):"DraggedSceneCount"}})).withConfig({displayName:"storyboard-scene-itemstyle__DraggedSceneCount",componentId:"sc-9i6y46-9"})(["opacity:0;position:absolute;left:0;top:0;z-index:100;border-radius:100%;min-width:",";height:",";line-height:",";font-size:",";text-align:center;color:",";background-color:",";"],(0,We.rem)(20),(0,We.rem)(20),(0,We.rem)(20),(0,We.rem)(12),Jb,(function(e){return qe(e,"theme.colors.primary",Kb)})),cQ=(0,Ge.default)(Ze).attrs((function(e){return{"data-component-name":e["data-component-name"]?"BrollWrapper ".concat(e["data-component-name"]):"BrollWrapper"}})).withConfig({displayName:"storyboard-itemstyle__BrollWrapper",componentId:"sc-1ilkpwy-0"})(["",";",""],(function(e){return e.isBRoll&&(0,Ge.css)(["height:",";padding:"," 0;position:relative;background-color:",";"],(0,We.rem)(120),(0,We.rem)(16),rv)}),(function(e){var t=e.borderRadius;return t&&"border-radius : ".concat(t)})),lQ=(0,Ge.default)(Ze).attrs((function(e){return{"data-component-name":e["data-component-name"]?"StoryboardItemWrapper ".concat(e["data-component-name"]):"StoryboardItemWrapper"}})).withConfig({displayName:"storyboard-itemstyle__StoryboardItemWrapper",componentId:"sc-1ilkpwy-1"})(["position:relative;flex:0 0 auto;z-index:",";border-radius:",";width:",";",";"," ","}",";"," ",";",";&.storyboard-item-placeholder{margin-left:0;display:none;}&:focus{outline:none;}&.add-scene-button{min-height:initial;background-color:#f6f7f8;margin-left:0;z-index:1;&:after{content:unset;}svg{height:1.4rem;width:initial;}p{margin-top:0.5rem;}}.storyboard-item-outer{&:hover .menu-toggle{opacity:1;}.storyboard-item{text-align:center;width:100%;height:100%;.media-thumbnail{width:100%;height:100%;object-fit:cover;text-indent:-9999px;}}}"],RK.REGULAR,(0,We.rem)(6),(0,We.rem)(120),(function(e){return e.isBRoll?"width: ".concat((0,We.rem)(120),";height: ").concat((0,We.rem)(88)):"border-top: 3px solid transparent;border-bottom: 3px solid transparent;padding: 0; height: ".concat((0,We.rem)(156))}),(function(e){return!e.hasBRolls&&!e.isBRoll&&"\n        &:hover {\n          ".concat(tQ," {\n            box-shadow: 0 0 0 3px ").concat(e.theme.colors.primary,";\n            border-radius: ").concat((0,We.rem)(3),";\n          }\n        }\n      ")}),(function(e){var t=e.isActive,n=e.theme;return t&&(0,Ge.css)(["","{box-shadow:0 0 0 3px ",";border-radius:",";}"],tQ,n.colors.primary,(0,We.rem)(3))}),(function(e){return e.hasBRolls&&(0,Ge.css)(["border-radius:"," 0 0 ",";border-right:none;"],(0,We.rem)(3),(0,We.rem)(3))}),(function(e){var t=e.hasBRolls,n=e.isHoveredOrActive,r=e.theme;return t&&n&&"  ".concat(tQ," {\n        box-shadow: 0 0 0 3px ").concat(r.colors.primary,";\n        border-radius: ").concat((0,We.rem)(3)," 0 0 ").concat((0,We.rem)(3),";\n      }\n  ")}),(function(e){return e.isDragging&&"\n      background: ".concat(rv,";\n      margin-top: ").concat((0,We.rem)(3),";\n      max-height: ").concat((0,We.rem)(150),";\n    ")}),(function(e){return e.isBRoll&&(0,Ge.css)(["background:transparent;"])})),sQ=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"StoryboardItemContainer ".concat(e["data-component-name"]):"StoryboardItemContainer"}})).withConfig({displayName:"storyboard-itemstyle__StoryboardItemContainer",componentId:"sc-1ilkpwy-2"})(["margin-bottom:",";width:",";position:relative;z-index:",";&:hover{","}",";",";",";",";display:flex;",";",";"," ",";",";"],(0,We.rem)(10),(0,We.rem)(136),RK.REGULAR,(function(e){return e.hasBRolls&&(0,Ge.css)(["z-index:",";"],RK.A_ROLL_WITH_BROLLS)}),(function(e){var t=e.isDragging,n=e.isBRoll;return t&&n&&(0,Ge.css)(["z-index:",";"],RK.B_ROLL_WHILE_DRAGGING)}),(function(e){var t=e.isARoll,n=e.isHoveredOrActive;return t&&n&&(0,Ge.css)(["z-index:",";"],RK.A_ROLL_WITH_BROLLS)}),(function(e){return!e.expanded&&e.isDragging&&e.isFirstBRoll&&e.isHoveredOrActive&&(0,Ge.css)(["&:before{content:'';width:",";position:absolute;left:0;top:0;background:",";height:",";}"],(0,We.rem)(3),qe(e,"theme.colors.primary",Kb),(0,We.rem)(123))}),(function(e){return e.isDragging&&e.isLastSceneInGroup&&(0,Ge.css)(["overflow:hidden;"])}),(function(e){var t=e.isLastSceneInGroup,n=e.isHoveredOrActive;return t&&n&&(0,Ge.css)(["border-radius:0 "," "," 0}"],(0,We.rem)(3),(0,We.rem)(3))}),(function(e){var t=e.isAnimating,n=e.isBRoll;return t&&(0,Ge.css)(["","{background:transparent;}","{background:transparent;}",""],cQ,lQ,n&&(0,Ge.css)(["",",","{opacity:0;}"],jK,sK))}),(function(e){return e.isDragging&&(0,Ge.css)(["","{&:hover{box-shadow:none;}}"],aQ)}),(function(e){var t=e.isItemDragged,n=e.isBRoll;return t&&!n&&(0,Ge.css)(["","{opacity:0;}","{&:hover{","{box-shadow:none;}}}"],jK,lQ,tQ)}),(function(e){var t=e.isARoll,n=e.hasBRolls,r=e.isDragging;return t&&!n&&r&&(0,Ge.css)(["position:relative;z-index:",";"],RK.POTENTIAL_AROLL)})),uQ=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"ItemDroppable ".concat(e["data-component-name"]):"ItemDroppable"}})).withConfig({displayName:"storyboard-itemstyle__ItemDroppable",componentId:"sc-1ilkpwy-3"})(["position:relative;",""],(function(e){return e.isLastSceneInGroup&&(0,Ge.css)(["z-index:1;"])})),dQ=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"DropZoneAndAddSceneWrapper ".concat(e["data-component-name"]):"DropZoneAndAddSceneWrapper"}})).withConfig({displayName:"storyboard-itemstyle__DropZoneAndAddSceneWrapper",componentId:"sc-1ilkpwy-4"})(["width:",";position:relative;",";",";"],(0,We.rem)(16),(function(e){return e.isLastSceneInGroup&&(0,Ge.css)(["margin-left:",";z-index:2;"],(0,We.rem)(-16))}),(function(e){return"sm"===e.size?"\n    height: 100%;\n  ":"height: ".concat((0,We.rem)(150))})),mQ=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"BRollBorder ".concat(e["data-component-name"]):"BRollBorder"}})).withConfig({displayName:"storyboard-itemstyle__BRollBorder",componentId:"sc-1ilkpwy-5"})(["",""],(function(e){return e.isBRoll&&(0,Ge.css)(["border-top:"," solid transparent;border-bottom:"," solid transparent;",""],(0,We.rem)(3),(0,We.rem)(3),e.isHoveredOrActive&&(0,Ge.css)(["border-top-color:",";border-bottom-color:",";",";",";",";"],rv,qe(e,"theme.colors.primary",Kb),e.isLastInRow&&(0,Ge.css)(["border-radius:0 "," "," 0;"],(0,We.rem)(3),(0,We.rem)(3)),e.isLastSceneInGroup&&(e.isFirstInRow?(0,Ge.css)(["border-radius:",";"],(0,We.rem)(3)):(0,Ge.css)(["border-radius:0 "," "," 0;"],(0,We.rem)(3),(0,We.rem)(3))),e.isFirstInRow&&!e.isLastSceneInGroup&&(0,Ge.css)(["border-radius:"," 0 0 ",";"],(0,We.rem)(3),(0,We.rem)(3))))}));const pQ=function(){return h().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","data-component-name":"HideWhiteIconSVG"},h().createElement("defs",null,h().createElement("path",{id:"a",d:"M2.408 15.359L18.054 1.452l-3.107-1.1L6.863 0 2.271 2.784 0 8.365l.819 6.146z"})),h().createElement("g",{fill:"none",fillRule:"evenodd"},h().createElement("g",{transform:"translate(1 2)"},h().createElement("mask",{id:"b",fill:"#fff"},h().createElement("use",{xlinkHref:"#a"})),h().createElement("g",{mask:"url(#b)"},h().createElement("g",{transform:"translate(2 3)"},h().createElement("path",{stroke:"#FFF",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12c3.314 0 6.314-2 9-6-2.686-4-5.686-6-9-6S2.686 2 0 6c2.686 4 5.686 6 9 6z"}),h().createElement("circle",{cx:"9",cy:"6",r:"3",fill:"#FFF"})))),h().createElement("path",{stroke:"#FFF",strokeLinecap:"round",strokeWidth:"2",d:"M21 3L3 19"}),h().createElement("g",{transform:"translate(7 7)"},h().createElement("path",{stroke:"#FFF",strokeLinejoin:"round",strokeWidth:"2",d:"M5 10c3.314 0 6.314-2 9-6-2.686-4-5.686-6-9-6s-6.314 2-9 6c2.686 4 5.686 6 9 6z"}),h().createElement("circle",{cx:"5",cy:"4",r:"3",fill:"#FFF"}))))};var fQ=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"TextContainer ".concat(e["data-component-name"]):"TextContainer"}})).withConfig({displayName:"scene-thumbnailstyle__TextContainer",componentId:"sc-1neqq5a-0"})(["position:absolute;z-index:1;top:0;bottom:0;left:0;right:0;pointer-events:none;padding:0 12px;display:flex;flex-direction:column;justify-content:center;align-items:flex-start;color:white;text-shadow:0 1px 0px rgba(0,0,0,0.5);font-size:14px;& > div{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;text-align:center;width:100%;}"]),hQ=Ge.default.img.attrs({draggable:!1}).attrs((function(e){return{"data-component-name":e["data-component-name"]?"LogoPreview ".concat(e["data-component-name"]):"LogoPreview"}})).withConfig({displayName:"scene-thumbnailstyle__LogoPreview",componentId:"sc-1neqq5a-1"})(["width:30%;height:30%;margin:0 auto;margin-bottom:5%;object-fit:contain;"]),gQ=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"InfoHolder ".concat(e["data-component-name"]):"InfoHolder"}})).withConfig({displayName:"scene-thumbnailstyle__InfoHolder",componentId:"sc-1neqq5a-2"})(["position:absolute;top:0;bottom:0;left:0;right:0;background-color:rgba(0,0,0,0.2);z-index:1;&:hover{background-color:rgba(0,0,0,0);background-image:linear-gradient( to top,rgba(0,0,0,0),rgba(0,0,0,0.2) );}"]),yQ=(0,Ge.css)(["",";"],(function(e){return e.showSmallThumbnail?(0,Ge.css)(["width:",";height:",";"],(0,We.rem)(88),(0,We.rem)(88)):(0,Ge.css)(["width:",";height:",";"],(0,We.rem)(120),(0,We.rem)(120))})),bQ=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"ThumbnailWrapper ".concat(e["data-component-name"]):"ThumbnailWrapper"}})).withConfig({displayName:"scene-thumbnailstyle__ThumbnailWrapper",componentId:"sc-1neqq5a-3"})(["position:relative;",";background-color:",";background-image:",";background-size:cover;height:",";width:",";border-radius:"," "," 0 0;",";.storyboard-item{width:100%;height:100%;}.media-thumbnail{width:100%;height:100%;border-radius:",";object-fit:cover;text-indent:-9999px;}"],(function(e){var t=e.zIndex;return t&&(0,Ge.css)(["z-index:",";"],t)}),(function(e){var t=e.sceneBgColor;return e.showSmallThumbnail?"transparent":t}),(function(e){var t=e.slideThumb;return t?'url("'.concat(t,'")'):"none"}),(0,We.rem)(120),(0,We.rem)(120),(0,We.rem)(3),(0,We.rem)(3),yQ,(0,We.rem)(3)),vQ=function(e){var t=e.brandScene,n=!!t.composition.logo,r=n?t.composition.logo.mediaPath:"";return n?h().createElement(hQ,{src:r,"data-component-name":"LogoPreviewOnThumbnail"}):null},EQ=function(e){var t=e.scene,n=t.isBCard(),r=Object.values(t.composition).find((function(e){return e.type===Ts&&e.text.length>0})),o=r?su(r.text.slice(0,3)):[];return r&&r.text.length>o.length&&(o[2]+="..."),h().createElement(fQ,{"data-component-name":"StickersPreview"},n&&h().createElement(vQ,{brandScene:t}),o.map((function(e,t){var n;return h().createElement("div",{key:n=t,"data-key":n},e)})))};const wQ=(0,T.$j)((function(e){return{sceneBgColor:e.storyBoard.videoBranding.colors.primary,showScenesId:e.featureToggles.values.showScenesId,slideThumb:e.storyBoard.theme.slide_thumb}}),null)((function(e){var t=e.scene,n=e.sceneBgColor,r=e.slideThumb,o=e.zIndex,a=e.showSmallThumbnail,i=(0,f.useMemo)((function(){return Object.values(t.composition).filter((function(e){return e.type===xs||e.type===Is}))[0]}),[t.composition]);return h().createElement(bQ,{sceneBgColor:n,slideThumb:r,zIndex:o,showSmallThumbnail:a,"data-component-name":"SceneThumbnail"},h().createElement(ZH,{scene:t,mediaElem:i}),h().createElement(gQ,null,h().createElement(EQ,{scene:t})))}));var AQ=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"StackedSceneThumbnailWrapper ".concat(e["data-component-name"]):"StackedSceneThumbnailWrapper"}})).withConfig({displayName:"aroll-stacked-scenes-drag-preview__StackedSceneThumbnailWrapper",componentId:"sc-1qe924h-0"})(["opacity:0;"]);const CQ=(0,T.$j)((function(e){return{scenes:e.storyBoard.scenes}}),null)((function(e){var t=e.aRollId,n=e.scenes,r=e.id,o=n.filter((function(e){return e.aRollId===t}));return h().createElement(AQ,{id:"".concat(r,"-stacked-scenes"),"data-component-name":"ARollStackedScenesDragPreview"},o.length&&o.slice(0,2).map((function(e,t){var n;return h().createElement("div",{key:n=e.id,"data-key":n,style:{position:"absolute",left:(0,We.rem)(5*(t+1)),top:(0,We.rem)(5*(t+1)),zIndex:-1}},h().createElement(wQ,{scene:e}))})))}));function SQ(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _Q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _Q(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var xQ=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"BRollDuration ".concat(e["data-component-name"]):"BRollDuration"}})).withConfig({displayName:"b-roll-scene-footercomponent__BRollDuration",componentId:"sc-1ov36qc-0"})(["position:absolute;bottom:",";right:",";font-size:",";letter-spacing:",";color:",";text-align:right;width:100%;"],(0,We.rem)(5),(0,We.rem)(5),(0,We.rem)(11),(0,We.rem)(.06),Jb);const IQ=function(e){var t=e.duration,n=(0,f.useCallback)((function(e){return(e+100).toString(10).substr(-2)}),[]),r=SQ([Math.floor(t/60),Math.round(t%60)].map(n),2),o=r[0],a=r[1];return h().createElement(h().Fragment,null,t>0?h().createElement(xQ,null,"".concat(o,":").concat(a)):null)};function TQ(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return OQ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OQ(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function OQ(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var kQ=function(e){var t=e.brandScene,n=!!t.composition.logo,r=n?t.composition.logo.mediaPath:"";return n?h().createElement($K,{src:r,"data-component-name":"LogoPreviewOnThumbnail"}):null},MQ=function(e){var t=e.scene,n=t.isBCard(),r=Object.values(t.composition).find((function(e){return e.type===Ts&&e.text.length>0})),o=r?su(r.text.slice(0,3)):[];return r&&r.text.length>o.length&&(o[2]+="..."),h().createElement(QK,{"data-component-name":"StickersPreview"},n&&h().createElement(kQ,{brandScene:t}),o.map((function(e,t){var n;return h().createElement("div",{key:n=t,"data-key":n},e)})))};const BQ=(0,T.$j)((function(e,t){return{sceneBgColor:e.storyBoard.videoBranding.colors.primary,showScenesId:e.featureToggles.values.showScenesId,slideThumb:e.storyBoard.theme.slide_thumb,deleteable:e.storyBoard.isSceneDeleteable(t.scene),hideable:e.storyBoard.isSceneHideable(t.scene)}}),null)((function(e){var t=e.scene,n=e.isHoveredOrActive,r=e.setSceneMenuState,o=e.sceneBgColor,a=e.showScenesId,i=e.slideThumb,c=e.isDragging,l=e.highlightDroppableScene,s=e.footerFormat,u=e.sceneContainerNode,d=e.addScenePlaceholderElem,m=e.deleteable,p=e.hideable,g=e.isLastInRow,y=t.isARoll,b=t.isBRoll,v=t.hasBRolls,E=t.hidden,w=TQ((0,f.useState)(!1),2),A=w[0],C=w[1],S=(0,f.useCallback)((function(){C(!0)}),[]),_=(0,f.useCallback)((function(){C(!1)}),[]),x=Object.values(t.composition).filter((function(e){return e.type===xs||e.type===Is}))[0],I=(0,f.useCallback)((function(){return t.hasBRolls?g?"0 0 ".concat((0,We.rem)(3)," ").concat((0,We.rem)(3)):n?"0":"0 0 0 ".concat((0,We.rem)(3)):"0 0 ".concat((0,We.rem)(3)," ").concat((0,We.rem)(3))}),[t.hasBRolls,g,n]),T=(0,f.useCallback)((function(e){return(e+100).toString(10).substr(-2)}),[]),O=t.getDuration(),k=TQ([Math.floor(O/60),Math.round(O%60)].map(T),2),M=k[0],B=k[1];return h().createElement(tQ,{className:"storyboard-item-outer",isDragging:c,hasBRolls:t.hasBRolls,isBrollScene:b,highlightDroppableScene:l,isLastInRow:g,"data-component-name":"StoryboardSceneItem"},t.bRollsCount>0&&h().createElement(eQ,null,h().createElement(iQ,{isDragging:c,id:"".concat(t.id,"-dragged-count")},t.bRollsCount+1),h().createElement(CQ,{aRollId:t.id,id:t.id})),h().createElement(qK,{scene:t,sceneContainerNode:u,addScenePlaceholderElem:d,setSceneMenuState:r,deleteable:m,hideable:p}),h().createElement(aQ,{onMouseOver:S,onFocus:S,onMouseOut:_,onBlur:_,sceneBgColor:o,slideThumb:i,isBrollScene:b,isHoveredOrActive:n,hasBRolls:t.hasBRolls,isLastInRow:g,isDragging:c,"data-isbroll":b,"data-hasbrolls":t.hasBRolls,"data-isLastInRow":g},h().createElement(ZH,{scene:t,mediaElem:x,play:A&&!c}),b&&h().createElement(IQ,{duration:O},"".concat(M,":").concat(B)),h().createElement(ZK,null,h().createElement(XK,{className:"".concat(E?" hidden":"")},E&&h().createElement(KK,null,h().createElement(pQ,null))),h().createElement(MQ,{scene:t}),a&&h().createElement(JK,null,t.id))),!b&&h().createElement(DK,{duration:O,mediaElem:x,hideDuration:t.hasBRolls||t.hidden,state:s,borders:{leftBorder:!0,rightBorder:t.hasBRolls&&g&&!n||!t.hasBRolls},borderRadius:I(),isARollScene:y,hasBRolls:v,sceneId:t.id}))}));function jQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function LQ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jQ(Object(n),!0).forEach((function(t){PQ(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jQ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function PQ(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NQ(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return DQ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DQ(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function DQ(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var RQ=S("UploadComponent"),zQ=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"UploadWrapper ".concat(e["data-component-name"]):"UploadWrapper"}})).withConfig({displayName:"upload-scene-placeholdercomponent__UploadWrapper",componentId:"sc-5zil3p-0"})(["position:relative;margin:auto;width:100%;height:",";","}",";"],(0,We.rem)(150),(function(e){var t=e.isActive,n=e.theme;return t&&(0,Ge.css)(["box-shadow:0 0 0 3px ",";border-radius:",";"],n.colors.primary,(0,We.rem)(3))}),(function(e){return e.isBRoll&&(0,Ge.css)(["background-color:",";height:",";width:",";"],rv,(0,We.rem)(88),(0,We.rem)(88))})),UQ=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"UploadBackground ".concat(e["data-component-name"]):"UploadBackground"}})).withConfig({displayName:"upload-scene-placeholdercomponent__UploadBackground",componentId:"sc-5zil3p-1"})(["position:relative;height:",";",";"],(0,We.rem)(120),(function(e){return e.isBRoll&&(0,Ge.css)(["height:",";width:",";margin:0 auto ",";"],(0,We.rem)(88),(0,We.rem)(88),(0,We.rem)(16))})),FQ=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"UploadFooter ".concat(e["data-component-name"]):"UploadFooter"}})).withConfig({displayName:"upload-scene-placeholdercomponent__UploadFooter",componentId:"sc-5zil3p-2"})(["height:",";border:1px solid ",";background-color:",";border-radius:0 0 "," ",";border-bottom:1px solid ",";"],(0,We.rem)(30),rv,Jb,(0,We.rem)(3),(0,We.rem)(3),rv),HQ=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"UploadOverlayBackground ".concat(e["data-component-name"]):"UploadOverlayBackground"}})).withConfig({displayName:"upload-scene-placeholdercomponent__UploadOverlayBackground",componentId:"sc-5zil3p-3"})(["background-color:rgba(26,46,59,0.8);position:absolute;top:0;left:0;width:100%;height:100%;z-index:1;"]),VQ=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"ProgressWrapeer ".concat(e["data-component-name"]):"ProgressWrapeer"}})).withConfig({displayName:"upload-scene-placeholdercomponent__ProgressWrapeer",componentId:"sc-5zil3p-4"})(["position:absolute;height:",";width:100%;bottom:",";z-index:2;"],(0,We.rem)(27),(0,We.rem)(11)),WQ=(0,Ge.default)(gE).attrs((function(e){return{"data-component-name":e["data-component-name"]?"CancelBtn ".concat(e["data-component-name"]):"CancelBtn"}})).withConfig({displayName:"upload-scene-placeholdercomponent__CancelBtn",componentId:"sc-5zil3p-5"})(["width:32px;height:32px;border-radius:2px;background-color:#404040;"]);function GQ(e){var t=e.isActive,n=e.className,r=e.uploadScene,o=e.onErrorDuringUploadFile,a=e.onSuccessUploadFile,i=e.onProgressUpdateDuringUploadFile,c=e.showRemoveButton,l=e.orientation,s=e.hasLogoWatermark,u=e.vsid,d=(0,f.useContext)(Cc).files,m=r.id,p=r.fileId,g=r.aRollId,y=r.isBRoll,b=d.getFileByUploadId,v=NQ((0,f.useState)(""),2),E=v[0],w=v[1],A=NQ((0,f.useState)({loaded:0,total:0}),2),C=A[0],S=A[1],_=NQ((0,f.useState)(!1),2),x=_[0],I=_[1],O=(0,T.I0)(),k=(0,f.useCallback)((function(e){O(td({title:oe.UploadMediaFailedTitle,content:oe.UploadMediaFailedDescriptionMsg(e),primaryBtnConfig:{callback:function(){return o(m)}}}))}),[O,o,m]),M=(0,f.useCallback)((function(e){Vm(Fm(e.srcFile),"preview",u).then((function(e){(function(e,t){var n=t.vsid,r=t.orientation,o=t.hasLogoWatermark;return new Promise((function(t,a){var i="/api/storyboard/prepare/scene/".concat(e.hash,"?vsid=").concat(n,"&orientation=").concat(r,"&has_logo_watermark=").concat(o);Ht.get(i).then((function(e){return e.data&&"OK"===e.data.status?t({newScene:Zu(e.data.scene),layouts:Vu(e.data.layouts),scenesGroups:e.data.scenes_groups?km(e.data.scenes_groups):[]}):a()})).catch((function(){return a()}))}))})(e,{vsid:u,orientation:l,hasLogoWatermark:s}).then((function(t){var n=t.newScene,r=t.layouts,o=t.scenesGroups;a({source:e,newScene:LQ(LQ({},n),{},{aRollId:g,isBRoll:y}),layouts:r,uploadSceneId:m,scenesGroups:o})})).catch((function(e){RQ.error("Could not prepare scene after upload",e),k()}))})).catch((function(){RQ.error("Failed during scene ensure of source"),k()}))}),[u,l,s,a,m,g,y,k]),B=(0,f.useCallback)((function(){var e=Object.keys(b).find((function(e){return b[e].srcFile.id===p}));return e?b[e]:null}),[b,p]),j=(0,f.useCallback)((function(e,t){var n={loaded:e<t?e:t,total:t};S(n),i(m,n)}),[i,m]),L=(0,f.useMemo)((function(){var e=B();return null===e?null:e.srcFile.status!==ta.STATUS.SUCCESS?e:null}),[B]),P=(0,f.useMemo)((function(){var e=B();return null===e?null:e.srcFile.status===ta.STATUS.SUCCESS?e:null}),[B]);return(0,f.useEffect)((function(){if(L){var e=L.srcFile,t=L.error,n=e.name,r=e.upl_bytes,o=e.size,a=e.file;t?(RQ.error("Could not upload file".concat(n),t),k(n.replace(/(.{20})..+/,"$1"))):(j(r,o),w(a.thumbnail_url))}}),[j,k,L]),(0,f.useEffect)((function(){if(P&&!x){var e=P.srcFile.size;j(e,e),M(P),I(!0)}}),[M,j,x,P,L]),h().createElement(zQ,{className:n,isBRoll:y,isActive:t,"data-component-name":"UploadScenePlaceholder"},h().createElement(UQ,{className:"upload-background",isBRoll:y},c?h().createElement($e,{relativity:"absolute",top:"8px",right:"8px",zIndex:"2"},h().createElement(WQ,{onClick:function(e){o(m),e.stopPropagation()}})):null,h().createElement(HQ,null),E&&h().createElement(oC,{src:E,mode:"stretch",fallbackStyle:{backgroundColor:"#1a2e3b"}}),h().createElement(VQ,null,h().createElement(mX,{progressData:C,align:"flex-end"}))),!y&&h().createElement(FQ,null))}function YQ(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return qQ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qQ(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qQ(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ZQ=function(){},XQ=(0,f.forwardRef)((function(e,t){var n,r=e.sceneIndex,o=e.scene,a=e.orientation,i=e.hasLogoWatermark,c=e.vsid,l=e.selectedSceneId,s=e.onSceneClick,u=e.setSceneMenuState,d=e.expanded,m=e.updateUploadingSceneProgress,p=e.sceneContainerNode,g=e.openMediaModal,y=e.openAddTextModal,b=e.addScenePlaceholderElem,v=e.onDragEnd,E=e.onBeginDrag,w=e.onARollHover,A=e.addNewBRoll,C=e.isHoveredOrActive,S=e.mediaUploadSucceeded,_=e.mediaUploadFailed,x=e.muteVideo,I=e.moveBRollBetweenGroups,T=e.checkAvailableDuration,O=e.setCurrentOffset,k=e.animatingIds,M=e.widerDropArea,B=e.showToastNotification,j=e.onDraggedItemPositionChanged,L=void 0===j?ZQ:j,P=YQ((0,f.useState)(null),2),N=P[0],D=P[1],R=YQ((0,f.useState)(!1),2),z=R[0],U=R[1],F=YQ((0,f.useState)(!1),2),H=F[0],V=F[1],W=o.id,G=o.isARoll,Y=o.hasBRolls,q=o.isBRoll,Z=o.aRollId,X=o.indexInSceneGroup,K=o.aRollDuration,Q=o.isLastSceneInGroup,$=o.ready,J=o.hidden,ee=(0,f.useMemo)((function(){return o&&o.composition&&o.composition[Object.keys(o.composition).find((function(e){return Object.prototype.hasOwnProperty.call(o.composition[e],"muted")&&o.composition[e].hasAudio}))]}),[o]),te=(0,f.useCallback)((function(){if(N)if(d){U(!1),V(!1);var e=p.getBoundingClientRect(),t=N.getBoundingClientRect(),n=e.left,r=e.right,o=N.offsetWidth,a=t.left,i=t.right;a-o<=n?U(!0):i+o>r&&V(!0)}else U(!1),V(!1)}),[N,d,p]);(0,f.useLayoutEffect)((function(){te()}),[r,te]);var ne=YQ((0,JX.useDrag)({item:{type:"scene",dragIndex:r,draggedScene:o,mutableComposition:ee},collect:function(e){var t,n,r=!!e.isDragging();return r&&L(e.getClientOffset()),{isDragging:r,draggedId:null===(t=e.getItem())||void 0===t||null===(n=t.draggedScene)||void 0===n?void 0:n.id,offset:e.getSourceClientOffset()}},begin:function(){var e=document.getElementById("".concat(o.id,"-dragged-count")),t=document.getElementById("".concat(o.id,"-stacked-scenes"));e&&t&&(t.style.opacity="1",e.style.opacity="1"),E(o,ce)},end:function(){var e=document.getElementById("".concat(o.id,"-dragged-count")),t=document.getElementById("".concat(o.id,"-stacked-scenes"));e&&t&&(e.style.opacity="0",t.style.opacity="0"),v(o)}}),2),re=ne[0],ae=re.isDragging,ie=re.draggedId,ce=re.offset,le=ne[1],se=YQ((0,JX.useDrop)({accept:"scene",drop:function(e){e.draggedScene.hasBRolls||Y||J||G&&e.draggedScene.id!==W&&!e.draggedScene.isBCard()&&(e.draggedScene.isBRoll?I({sourceGroupARollId:e.draggedScene.aRollId,targetGroupARollId:W,bRollCurrentIndex:e.dragIndex,bRollIndexInTargetGroup:0}):T({aRollId:o.id,bRollPotentialScene:e.draggedScene})&&(A({aRollSceneId:W,draggedSceneId:e.draggedScene.id,draggedSceneIndex:e.dragIndex,insertionIndexInGroup:0}),e.draggedScene.isMutable()&&!e.draggedScene.isMuted()&&(x(e.mutableComposition.id,!0,e.draggedScene.id),B({text:oe.ThisSceneIsNowMuted,context:Sd})),o.isARoll&&ee&&x(ee.id,!1,o.id)))},collect:function(e){return{highlightDroppableScene:!!e.isOver()&&e.getItem().dragIndex!==r&&G&&!J&&!Y&&!e.getItem().draggedScene.hasBRolls}}}),2),ue=se[0].highlightDroppableScene,de=se[1],me=(0,f.useCallback)((function(e){var t=e.sceneId,n=e.isBRollFooter;(Y||n)&&w(t)}),[Y,w]),pe=(0,f.useCallback)((function(e,t){m(e,{uploadProgress:t})}),[m]),fe=(0,f.useCallback)((function(){return C?"active":ie&&ie===Z?"disabled":"primary"}),[C,ie,Z]),he=(0,f.useCallback)((function(){return!ie||ie&&ie!==Z}),[ie,Z]),ge=(0,f.useCallback)((function(e){e&&D(e)}),[]),ye=(0,f.useCallback)((function(){if(C)return"0";if(q){if(H)return"0 0 ".concat((0,We.rem)(3)," 0");if(Q)return z?"0 0 ".concat((0,We.rem)(3)," ").concat((0,We.rem)(3)):"0 0 ".concat((0,We.rem)(3)," 0");if(z)return"0 0 0 ".concat((0,We.rem)(3))}return"0"}),[q,Q,C,z,H]);(0,f.useLayoutEffect)((function(){return te(),window.addEventListener("resize",te),function(){window.removeEventListener("resize",te)}}),[te]);var be=(0,f.useCallback)((function(){return q?C?"0":z&&Q?"3px 3px 0 0":H||Q?"0 3px 0 0":z?"3px 0 0 0":void 0:"0"}),[C,q,z,Q,H]);return h().createElement("div",{ref:ge,"data-component-name":"StoryboardItem"},h().createElement(sQ,{ref:t,id:W,isBRoll:q,isFirstBRoll:0===X,hasBRolls:Y,isHoveredOrActive:C,isLastSceneInGroup:Q,isDragging:!!ie,isItemDragged:ie===W,isAnimating:k.sceneId===W,isARoll:G,isFirstInRow:z,expanded:d},h().createElement(dQ,{size:q?"sm":"lg","justify-content":"center"},h().createElement(EK,{id:W,sceneIndex:r,onDragEnd:v,sceneContainerNode:p,expanded:d,targetGroupARollId:Z,isBRoll:q,indexInSceneGroup:X,muteVideo:x,openMediaModal:g,openAddTextModal:y,addScenePlaceholderElem:b,isHoveredOrActive:C,isFirstInRow:z,widerDropArea:M,groupDragged:ie&&ie===Z,checkAvailableDuration:T,setCurrentOffset:O,hidden:J})),h().createElement(mQ,{isBRoll:q,isHoveredOrActive:C,isLastSceneInGroup:Q,isFirstInRow:z,isLastInRow:H,higherZIndex:G&&!Y},h().createElement(cQ,{isBRoll:q,isFirstBRoll:0===X,isHoveredOrActive:C,isLastSceneInGroup:Q,isFirstInRow:z,isLastInRow:H,borderRadius:be()},h().createElement(uQ,{ref:de,isLastSceneInGroup:Q},h().createElement(lQ,{key:n=W,"data-key":n,role:"gridcell",className:KX()("storyboard-item-wrapper",{selected:W===l&&!d}),tabIndex:0,onClick:function(){return s(W,!0)},ref:le,isDragging:ae,onMouseOver:function(){return me({sceneId:o.id})},onMouseOut:function(){return me({sceneId:null})},onFocus:function(){return me({sceneId:o.id})},onBlur:function(){return me({sceneId:null})},isBRoll:q,hasBRolls:Y,isHoveredOrActive:C,isActive:W===l&&!d},$?h().createElement(BQ,{id:W,scene:o,isActive:W===l&&!d,isHoveredOrActive:C,setSceneMenuState:u,isDragging:ae||ie&&ie===Z,highlightDroppableScene:ue,footerFormat:Y&&C||ue?"active":"primary",sceneContainerNode:p,addScenePlaceholderElem:b,isFirstInRow:z,isLastInRow:H}):h().createElement(GQ,{uploadScene:o,isActive:W===l&&!d,onSuccessUploadFile:S,onErrorDuringUploadFile:_,onProgressUpdateDuringUploadFile:pe,showRemoveButton:!0,orientation:a,hasLogoWatermark:i,vsid:c}))),Q&&h().createElement(h().Fragment,null,h().createElement(dQ,{size:q?"sm":"lg","justify-content":"center",isLastSceneInGroup:!0,opacity:he()?1:0},h().createElement(EK,{id:W,sceneIndex:r+1,onDragEnd:v,sceneContainerNode:p,expanded:d,targetGroupARollId:Z,isBRoll:q,indexInSceneGroup:X+1,muteVideo:x,openMediaModal:g,openAddTextModal:y,addScenePlaceholderElem:b,isLastSceneInGroup:!0,widerDropArea:M,checkAvailableDuration:T,setCurrentOffset:O,hidden:J,isLastAddSceneStripeOfGroup:!0})))),q&&h().createElement(DK,{duration:K,toggleHighlightSceneGroup:me,aRollId:o.aRollId,hideDuration:!o.isLastSceneInGroup||k.groupId===o.aRollId,state:fe(),borders:{leftBorder:z,rightBorder:!k.isLastSceneInGroupDragged&&o.isLastSceneInGroup||H},borderRadius:ye()}))))}));var KQ={addNewBRoll:Sh,mediaUploadSucceeded:function(e){var t=e.source,n=e.newScene,r=e.layouts,o=e.uploadSceneId,a=e.scenesGroups;return function(e,i){var c,l=i(),s=l.storyBoard.scenes,u=l.staticParameters.AROLL_PART_DURATION,d=n,m=!1,p=s.find((function(e){return e.id===o}));if(p){if(p.isBRoll){var f=null,h=0,g=0,y=0,b=1;if(s.forEach((function(e,t){e.id===p.aRollId?(g=e.getDuration(),f=e,h=t):e.aRollId===p.aRollId&&e.id!==o&&(y+=e.ready?e.getDuration():0,b++)})),g-y-u<d.getDuration()){m=!0;var v=s.findIndex((function(e){return e.id===o})),E=Gf(s);1===b&&(f=Xf(Xf({},f),{},{hasBRolls:!1}),E=[].concat(Gf(s.slice(0,h)),[f],Gf(s.slice(h+1)))),c=h+b;var w=Xf(Xf({},E[v]),{},{isBRoll:!1,aRollId:void 0});E.splice(v,1),E.splice(c,0,w),e({type:fd.UPDATE_SCENE_POSITION,payload:{newScenes:E}})}}m&&(d=Xf(Xf({},d),{},{isBRoll:!1,aRollId:void 0})),(0,T.dC)((function(){e(function(e){return{type:fd.ADD_NEW_SOURCE,payload:{source:e}}}(t)),e(Ed(d,r)),p.replacedScene?(e(function(e,t,n){return{type:fd.UPDATE_REPLACED_SCENE_TO_READY,payload:{newScene:e,uploadSceneId:t,layouts:n}}}(d,o,r)),e(Kh(n.id,p.replacedScene))):e(function(e,t){return function(n,r){var o=r().storyBoard,a=o.scenes,i=o.selectedSceneId,c=a.map((function(n){return n.id===t?e:n})),l=i===t?e.id:i;n({type:fd.UPDATE_UPLOADED_SCENE_TO_READY,payload:{scenes:c,selectedSceneId:l}})}}(d,o)),a&&a.length&&(e(function(e){return function(t,n){var r=n().storyBoard.scenes,o=[];r.forEach((function(t){e.forEach((function(e){t.id===e.arollSceneId?o.push(Xf(Xf({},t),{},{isARoll:!0,hasBRolls:!!e.scenesIds.length,sceneGroupId:e.id})):o.push(t)}))})),t({type:fd.ADD_NEW_SCENES_GROUPS,payload:{newScenes:o}})}}(a)),e(Ml(Pl,"upload",!0)));var c=i().storyBoard.scenes.find((function(e){return e.id===n.id}));e(Xd(jd,{id:o},{scene:c,source:t,layout:r,shouldExtractUploadedSceneFromARoll:m}))}))}}},mediaUploadFailed:function(e){return function(t,n){var r=n().storyBoard.scenes.find((function(t){return t.id===e}));r&&r.replacedScene?(t(Xd(jd,{id:e},{scene:r.replacedScene})),t(wh(e))):(t(Xd(jd,{id:e})),t(Eh(e)))}},updateUploadingSceneProgress:function(e,t){return{type:Dh,sceneId:e,payload:kh({},t)}},revertReplaceScene:wh,muteVideo:ty,moveBRollBetweenGroups:_h,selectScene:hh,showToastNotification:Id};const QQ=(0,T.$j)((function(e){return{selectedSceneId:e.storyBoard.selectedSceneId}}),KQ,null,{forwardRef:!0})(XQ);function $Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function JQ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$Q(Object(n),!0).forEach((function(t){e$(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$Q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function e$(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t$(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return n$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return n$(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n$(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var r$=function(e){var t=e.children,n=e.draggedItem,r=e.getDraggedItemOffsetPosition,o=e.transitionTime,a=void 0===o?500:o,i=e.onAnimationStart,c=e.onAnimationComplete,l=e.sceneContainerNode,s=e.draggedBRollPlaceholder,u=e.droppedBRollPlaceholder,d=t$((0,f.useState)({}),2),m=d[0],p=d[1],g=vT(t),y=(0,f.useCallback)((function(e){return Object.fromEntries(Object.entries(e).map((function(e){var t=t$(e,2),n=t[0],r=t[1],o=r.domNode,a=o.getBoundingClientRect();return[n,JQ(JQ({},r),{},{left:a.left,top:a.top,offsetLeft:o.offsetLeft,offsetTop:o.offsetTop})]})))}),[]),b=(0,f.useCallback)((function(e){var t={};return h().Children.forEach(e,(function(e){if(e&&e.ref&&e.ref.current){var n=e.ref.current;t[e.key]={domNode:n,sceneIndex:e.props.sceneIndex,isBRoll:e.props.scene.isBRoll,isLastSceneInGroup:e.props.scene.isLastSceneInGroup}}})),t}),[]);(0,f.useLayoutEffect)((function(){var e=b(g);p(y(e))}),[y,b,g]);var v=(0,f.useCallback)((function(e,t){return Object.keys(e).length!==Object.keys(t).length||Object.keys(e).some((function(n){return!(!t[n]||!e[n])&&e[n].sceneIndex!==t[n].sceneIndex}))}),[]),E=n.id;return(0,f.useEffect)((function(){var e=null,n=b(t);if(v(m,n)){var o=y(n),l=Object.keys(m).length,d=Object.keys(o).length;l&&d&&h().Children.forEach(t,(function(t){if(t){var n=t.ref.current,l=0,d=0,p=m[t.key],f=o[t.key],h=t.props.id===E,g=t.props.aRollId===E,y=h||g;t.props.shouldSceneAnimate&&p&&f&&(l=y?r().left-f.left:p.left-f.left,d=y?r().top-f.top:p.top-f.top),(l||d)&&window.requestAnimationFrame((function(){y&&(i&&i({sceneId:h?t.props.id:void 0,groupId:t.props.aRollId,isLastSceneInGroupDragged:h&&p.isLastSceneInGroup}),n.style.zIndex=RK.ANIMATING_DRAGGED_SCENE,h&&(p.isBRoll&&s&&(s.style.left="".concat(p.offsetLeft,"px"),s.style.top="".concat(p.offsetTop,"px"),s.style.display="block",p.isLastSceneInGroup?s.classList.add("last-in-group"):s.classList.remove("last-in-group")),f.isBRoll&&u&&(u.style.left="".concat(f.offsetLeft,"px"),u.style.top="".concat(f.offsetTop,"px"),u.style.display="block",f.isLastSceneInGroup?u.classList.add("last-in-group"):u.classList.remove("last-in-group")))),n.style.transform="translate3d(".concat(l,"px, ").concat(d,"px, 0)"),n.style.transition="transform 0s",window.requestAnimationFrame((function(){n.style.transform="",n.style.transition="transform ".concat(a,"ms")})),y&&(e=setTimeout((function(){n.style.zIndex="",u.style.display="none",s.style.display="none",c&&c()}),a))}))}}))}return function(){e&&clearTimeout(e)}}),[t,m,E,r,a,i,c,l,s,u,v,b,y]),t};const o$=h().memo(r$);var a$=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"ScrollableStyles ".concat(e["data-component-name"]):"ScrollableStyles"}})).withConfig({displayName:"scene-list-scrollablestyle__ScrollableStyles",componentId:"sc-1oa0g3s-0"})(["display:flex;flex-direction:row;align-content:flex-start;",""],(function(e){return e.expanded&&(0,Ge.css)(["flex-wrap:wrap;align-content:flex-start;"])}));const i$=function(e){var t=e.children,n=e.expanded;return h().createElement(lP,{scrollX:!n,scrollY:n,style:{flex:"1 1",padding:"8px 0 0 4px",height:"100%"},"data-component-name":"SceneListScrollable"},h().createElement(a$,{expanded:n},t))};var c$=(0,Ge.default)(RX.q.div).attrs((function(e){return{"data-component-name":e["data-component-name"]?"StoryboardAnimatedWrapper ".concat(e["data-component-name"]):"StoryboardAnimatedWrapper"}})).withConfig({displayName:"storyboardstyle__StoryboardAnimatedWrapper",componentId:"sc-1xvutmr-0"})(["display:flex;position:absolute;flex-direction:column;background-color:#fff;flex:0 0 auto;border-top:"," solid rgba(0,0,0,0.1);width:100%;bottom:",";left:0;z-index:",";overscroll-behavior-x:contain;"," "," *{user-select:none;}.upload-icon{margin-left:",";}"],(0,We.rem)(1),(0,We.rem)(2),sL.Storyboard,dE(),(function(e){return e.expanded&&(0,Ge.css)(["border-radius:",";border-top-left-radius:0;"],(0,We.rem)(5))}),(0,We.rem)(-2)),l$=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"StoryboardPanel ".concat(e["data-component-name"]):"StoryboardPanel"}})).withConfig({displayName:"storyboardstyle__StoryboardPanel",componentId:"sc-1xvutmr-1"})(["display:flex;flex:0 0 auto;padding:"," "," ",";","{margin:"," 0;svg{width:",";height:",";}}"],(0,We.rem)(16),(0,We.rem)(16),(0,We.rem)(8),Tv,(0,We.rem)(-4),(0,We.rem)(24),(0,We.rem)(24)),s$=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"StoryboardPanelCenter ".concat(e["data-component-name"]):"StoryboardPanelCenter"}})).withConfig({displayName:"storyboardstyle__StoryboardPanelCenter",componentId:"sc-1xvutmr-2"})(["flex:1 1 auto;text-align:right;align-self:center;font-size:",";"],(0,We.rem)(14)),u$=(0,Ge.default)(JL).attrs((function(e){return{"data-component-name":e["data-component-name"]?"ChangeModeButton ".concat(e["data-component-name"]):"ChangeModeButton"}})).withConfig({displayName:"storyboardstyle__ChangeModeButton",componentId:"sc-1xvutmr-3"})(["svg{transform:",";}"],(function(e){return e.isExpandMode?"":"rotate(180deg)"})),d$=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"Separator ".concat(e["data-component-name"]):"Separator"}})).withConfig({displayName:"storyboardstyle__Separator",componentId:"sc-1xvutmr-4"})(["width:",";background-color:#e3e8e9;margin:0 ",";"],(0,We.rem)(1),(0,We.rem)(16)),m$=((0,We.rem)(16),Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"ScenesContainer ".concat(e["data-component-name"]):"ScenesContainer"}})).withConfig({displayName:"scene-liststyle__ScenesContainer",componentId:"ymdhs7-0"})(["display:flex;height:calc(100% - ",");flex:0 0 auto;overflow:hidden;position:relative;width:100%;&::after{content:'.';width:1px;display:inline-block;height:1px;visibility:hidden;}&.expanded{&::after{content:initial;}.storyboard-item-placeholder{display:initial;}}& > .os-host > .os-scrollbar{z-index:5;}"],(0,We.rem)(48))),p$=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"DraggedDroppedBRollPlaceholder ".concat(e["data-component-name"]):"DraggedDroppedBRollPlaceholder"}})).withConfig({displayName:"scene-liststyle__DraggedDroppedBRollPlaceholder",componentId:"ymdhs7-1"})(["width:",";height:",";display:none;position:absolute;transform:translate(0,",");&::before{content:'';position:absolute;top:0;left:0;width:100%;height:",";background-color:",";}&.last-in-group::before{border-top-right-radius:",";}&::after{content:'';width:100%;box-sizing:border-box;height:",";border:"," solid transparent;border-top-color:",";border-bottom-color:",";bottom:0;left:0;position:absolute;}&.last-in-group::after{border-right-color:",";border-bottom-right-radius:",";}"],(0,We.rem)(136),(0,We.rem)(150),(0,We.rem)(3),(0,We.rem)(120),rv,(0,We.rem)(3),(0,We.rem)(32),(0,We.rem)(1),rv,rv,rv,(0,We.rem)(3));function f$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f$(Object(n),!0).forEach((function(t){g$(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g$(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y$(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b$(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b$(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var v$={selectScene:hh,showToastNotification:Id};const E$=(0,T.$j)((function(e){var t=e.storyBoard,n=e.staticParameters.AROLL_PART_DURATION,r=t.vsid,o=t.selectedSceneId;return{vsid:r,scenes:t.scenes,orientation:t.orientation,selectedSceneId:o,AROLL_PART_DURATION:n}}),v$)((function(e){var t=e.scenes,n=e.expanded,r=e.selectedSceneId,o=e.orientation,a=e.vsid,i=e.openBranding,c=e.openMediaModal,l=e.openAddTextModal,s=e.addScenePlaceholderElem,u=e.changeStoryboardMode,d=e.selectScene,m=e.AROLL_PART_DURATION,p=e.showToastNotification,g=y$((0,f.useState)({}),2),y=(g[0],g[1]),b=y$((0,f.useState)(null),2),v=b[0],E=b[1],w=y$((0,f.useState)(null),2),A=w[0],C=w[1],S=y$((0,f.useState)({}),2),_=S[0],x=S[1],I=(0,f.useRef)({x:0,y:0}),O=y$((0,f.useState)(!1),2),k=O[0],M=O[1],B=y$((0,f.useState)({sceneId:null,groupId:null}),2),j=B[0],L=B[1],P=y$((0,f.useState)(null),2),N=P[0],D=P[1],R=y$((0,f.useState)(null),2),z=R[0],U=R[1],F=(0,f.useRef)(),H=(0,f.useMemo)((function(){return t.findIndex((function(e){return e.id===r}))}),[t,r]);(0,f.useEffect)((function(){var e=document.getElementsByClassName("storyboard-item-wrapper selected")[0];e&&e.scrollIntoView({behavior:"auto",block:"center",inline:"center"})}),[H]);var V=(0,T.v9)((function(e){return e.userCapabilities.capabilities.canBrandVideo})).isVisible,W=(0,f.useCallback)((function(e){null!==e&&E(e)}),[]),G=(0,f.useCallback)((function(e,t){t&&n&&u(),e!==r&&d({id:e})}),[u,n,d,r]),Y=(0,f.useCallback)((function(){var e,t;e={flow:"editor"},t={name:Oi,product:Si,flow:fa.location,location:va,version:3},Li(t=sa(sa({},e),t)),vi(oa,Oi,sa({type:xi,flow:fa.flow,location:va},e)),M(!1),F.current&&clearTimeout(F.current)}),[]),q=(0,f.useCallback)((function(e){e.id&&C(null),x(e),F.current=setTimeout((function(){M(!0)}),100),function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).useOverlayScrollbars,n=void 0===t||t?null==e?void 0:e.querySelector(".os-viewport"):e;if(n){var r=-1,o=-1,a=i();document.addEventListener("dragover",c),document.addEventListener("dragend",l)}function i(){var e=0,t=-1;return e=window.requestAnimationFrame((function a(i){var c=Math.min(100,-1===t?ZX:i-t);t=i;var l=n.getBoundingClientRect(),s=l.top,u=l.left,d=l.bottom,m=l.right,p=s+qX,f=d-qX,h=u+qX,g=m-qX,y=n.scrollTop,b=n.scrollLeft,v=n.scrollWidth,E=n.scrollHeight,w=n.clientWidth,A=n.clientHeight;if(-1!==o)if(y>0&&o<p){var C=y-(p-o)/ZX*c;n.scrollTop=Math.max(0,C)}else if(y+A<E&&o>f){var S=y+(o-f)/ZX*c,_=E-A;n.scrollTop=Math.min(_,S)}if(-1!==r)if(b>0&&r<h){var x=b-(h-r)/ZX*c;n.scrollLeft=Math.max(0,x)}else if(b+w<v&&r>g){var I=b+(r-g)/ZX*c,T=v-w;n.scrollLeft=Math.min(T,I)}e=window.requestAnimationFrame(a)})),function(){return window.cancelAnimationFrame(e)}}function c(e){var t=e.clientX,n=e.clientY;0===n&&0===t||(r=t,o=n)}function l(){a(),document.removeEventListener("dragover",c),document.removeEventListener("dragend",l)}}(v)}),[v]),Z=(0,f.useCallback)((function(e){var t=e.x,n=e.y;I.current={left:t,top:n}}),[]),X=(0,f.useCallback)((function(){return I.current}),[]),K=(0,f.useMemo)((function(){var e=t.find((function(e){return!e.isBCard()}));return!(null==e||!e.composition.logo_watermark)}),[t]),Q=(0,f.useCallback)((function(e){C(e)}),[]),$=(0,f.useCallback)((function(e){return A===e.aRollId||e.id===A||!n&&(r===e.aRollId||e.hasBRolls&&r===e.id)||e.aRollId===A}),[A,r,n]),J=(0,f.useMemo)((function(){var e,n=new Map;return t.forEach((function(e){if(e.aRollId){var t=n.get(e.aRollId);n.set(e.aRollId,void 0!==t?t+1:1)}})),t.map((function(t){if(t.hasBRolls)return e=void 0,h$(h$({},t),{},{bRollsCount:n.get(t.id)});if(t.aRollId){var r=n.get(t.aRollId);return e=void 0===e?0:e+1,h$(h$({},t),{},{indexInSceneGroup:e,isLastSceneInGroup:r===e+1,onlySceneInGroup:1===r})}return e=void 0,t}))}),[t]),ee=(0,f.useCallback)((function(e){var t=function(e){var t=e.aRollId,n=e.bRollPotentialScene,r=e.scenes,o=e.minARollPartDuration,a=0,i=0;return r.forEach((function(e){var r=e.getDuration();e.id===t?a=r:e.aRollId===t&&e.id!==n.id&&(i+=r)})),a-i-o>=n.getDuration()}({aRollId:e.aRollId,bRollPotentialScene:e.bRollPotentialScene,scenes:J,minARollPartDuration:m});return t||p({text:oe.SceneIsTooShort,context:Sd}),t}),[m,J,p]),te=(0,f.useCallback)((function(e){var t=e.sceneId,n=e.groupId,r=e.isLastSceneInGroupDragged;L({sceneId:t,groupId:n,isLastSceneInGroupDragged:r})}),[]),ne=(0,f.useCallback)((function(){L({isLastSceneInGroupDragged:!1})}),[]);return(0,f.useEffect)((function(){return function(){F.current&&clearTimeout(F.current)}}),[]),h().createElement(h().Fragment,null,h().createElement(QX.W,{backend:$X.PD},h().createElement(m$,{className:KX()({expanded:n}),ref:W},h().createElement(i$,{expanded:n},h().createElement(p$,{ref:D}),h().createElement(p$,{ref:U}),h().createElement(o$,{draggedItem:_,getDraggedItemOffsetPosition:X,onAnimationStart:te,onAnimationComplete:ne,sceneContainerNode:v,draggedBRollPlaceholder:N,droppedBRollPlaceholder:z},J.map((function(e,t){var r;return h().createElement(QQ,{id:e.id,key:r=e.id,"data-key":r,ref:(0,f.createRef)(),sceneIndex:t,scene:e,orientation:o,hasLogoWatermark:K,vsid:a,setSceneMenuState:y,expanded:n,sceneContainerNode:v,openMediaModal:c,openAddTextModal:l,addScenePlaceholderElem:s,onDragEnd:Y,onSceneClick:G,shouldSceneAnimate:!0,onBeginDrag:q,onARollHover:Q,isHoveredOrActive:$(e),aRollId:e.aRollId,itemDefaultZIndex:e.hasBRolls?4:3,checkAvailableDuration:ee,setCurrentOffset:Z,animatingIds:j,widerDropArea:k})}))),V&&h().createElement(TK,{expanded:n,sceneIndex:t.length,openBranding:i,openMediaModal:c,openAddTextModal:l,addScenePlaceholderElem:s,sceneContainerNode:v,onDragEnd:Y})))))}));function w$(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return A$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A$(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A$(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var C$={duplicateScene:function(e){return{type:fd.DUPLICATE_SCENE,sceneId:e}},addNewUploadScene:function(e){return e.allow_dup=!0,Jo.add_file(e),Jo.start_upload(),function(t,n){var r=Vf(bh(n()),2),o=r[0],a=r[1];t(Zd({addedPlaceholderId:e.id})),t({type:fd.ADD_NEW_UPLOAD_SCENE,payload:{fileId:e.id,insertionIndex:a,aRollId:o.aRollId,isBRoll:o.isBRoll,aRollDuration:o.aRollDuration}})}},selectFirstUploadScene:function(){return function(e,t){e(hh({id:t().storyBoard.scenes.find((function(e){return!e.ready})).id}))}},addNewTextSlide:vh,setIsExpandMode:function(e){var t,n;return e?(n={name:"click_to_expand_storyboard",product:Si,location:ba},Li(n=sa(sa({},t),n),!1)):function(e){var t={name:"click_to_minimize_storyboard",product:Si,location:ba};Li(t=sa(sa({},e),t),!1)}(),{type:fd.SET_EXPAND_MODE,payload:{isExpandMode:e}}},showTimeline:sd};const S$=(0,T.$j)((function(e){var t=e.storyBoard,n=e.featureToggles,r=t.vsid,o=t.isExpandMode;return{scene:hs(e),vsid:r,isExpandMode:o,templateHintsFT:n.values.templateHints}}),C$)((function(e){e.scene;var t=e.vsid,n=e.openBranding,r=e.addNewUploadScene,o=e.selectFirstUploadScene,a=e.addNewTextSlide,i=e.addScenePlaceholderElem,c=e.isExpandMode,l=e.setIsExpandMode,s=e.showTimeline,u=w$((0,f.useState)(!1),2),d=u[0],m=u[1],p=w$((0,f.useState)(!1),2),g=p[0],y=p[1],b=w$((0,f.useState)(),2),v=b[0],E=b[1],w=w$((0,f.useState)(c),2),A=w[0],C=w[1];(0,f.useEffect)((function(){C(c)}),[c]);var S=w$(ZL((function(e){var t=e.value;a({text:t})}),[a]),2),_=S[0],x=S[1];(0,f.useEffect)((function(){return function(){document.querySelectorAll("html, body").forEach((function(e){e.style.removeProperty("overflow-y")}))}}),[]);var I=(0,f.useCallback)((function(){var e,t;e={is_first:!1},t={name:qa,product:Si,location:fa.location,flow:fa.flow,version:5},Li(t=sa(sa({},e),t)),vi(oa,qa,sa({type:xi,location:fa.location,flow:fa.flow},e)),y(!0)}),[y]);(0,f.useEffect)((function(){v&&g&&(v.reverse(),y(!1),(0,T.dC)((function(){v.forEach((function(e){r(e)})),o(),E(void 0)})))}),[r,o,v,g]);var O=(0,f.useRef)(null),k=(0,f.useCallback)((function(){if(document.querySelectorAll("html, body").forEach((function(e){e.style.overflowY="auto"})),d&&!c){var e=document.getElementsByClassName("storyboard-item-wrapper selected")[0];e&&e.scrollIntoView({behavior:"auto",block:"center",inline:"center"})}m(!1)}),[d,c]),M=function(){m(!0),l(!c),C(!c)},B=(0,RX.q_)({height:A?"calc(100% + ".concat((0,We.rem)(-1),")"):"calc(0% + ".concat((0,We.rem)(zX),")"),onRest:k});return h().createElement(h().Fragment,null,g&&h().createElement(aH,{vsid:t,closeModal:function(){y(!1)},onAddMedia:function(e){E(e)}}),_,h().createElement(c$,{expanded:c,style:B,ref:O},h().createElement(l$,null,h().createElement(YX,{openMenuTo:c?"bottom":"top",openMediaModal:I,openAddTextModal:x,addScenePlaceholderElem:i}),h().createElement(s$,null),!c&&h().createElement(Tv,{icon:h().createElement(AN,null),size:"sm",format:"secondary",onClick:function(){Li({name:"vimeo.click_on_timeline_cta",product:Si,location:ba,version:1},!1,["lang"]),s()},title:""},oe.Timeline),h().createElement(d$,null),h().createElement(u$,{size:"sm",format:"transparent",tooltipText:c?oe.StoryboardContainerMinimize:oe.StoryboardContainerExpand,iconReactComponent:h().createElement(GC,null),isExpandMode:c,onClick:M})),h().createElement(E$,{expanded:c,openBranding:n,openMediaModal:I,openAddTextModal:x,addScenePlaceholderElem:i,changeStoryboardMode:M})))}));function _$(e){return function(e){if(Array.isArray(e))return x$(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return x$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x$(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x$(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var I$=12;const T$=function(e){var t=e.active,n=void 0!==t&&t?"#00ADEF":"#23313B";return h().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","data-component-name":"TrimIconSVG"},h().createElement("g",{fill:"none",fillRule:"evenodd"},h().createElement("circle",{cx:"4",cy:"4",r:"3",stroke:n,strokeWidth:"2",transform:"translate(3 13)"}),h().createElement("circle",{cx:"4",cy:"4",r:"3",stroke:n,strokeWidth:"2",transform:"translate(13 13)"}),h().createElement("g",{fill:n,transform:"rotate(45 7.393 24.676)"},h().createElement("path",{d:"M1 0h2v16H1z"}),h().createElement("rect",{width:"3",height:"8",rx:"1"})),h().createElement("g",{fill:n,transform:"rotate(-45 6.125 -.716)"},h().createElement("path",{d:"M0 0h2v16H0z"}),h().createElement("rect",{width:"3",height:"8",rx:"1"}))))};const O$=function(){return h().createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 1 24 24","data-component-name":"AutodurationOff"},h().createElement("path",{fill:"#23313B",fillRule:"evenodd",d:"M12 3C6.477 3 2 7.477 2 13s4.477 10 10 10c4.478 0 8.268-2.943 9.542-7H19.42A8.003 8.003 0 014 13a8 8 0 018-8V3z",clipRule:"evenodd"}),h().createElement("path",{fill:"#23313B",fillRule:"evenodd",d:"M12 7a1 1 0 011 1v5a1 1 0 11-2 0V8a1 1 0 011-1z",clipRule:"evenodd"}),h().createElement("path",{fill:"#23313B",fillRule:"evenodd",d:"M11.2 12.4a1 1 0 011.4-.2l4 3a1 1 0 01-1.2 1.6l-4-3a1 1 0 01-.2-1.4zm8.193-7.8c-.84.292-1.5.953-1.793 1.792l-.545 1.569a.057.057 0 01-.073.036.056.056 0 01-.038-.036L16.4 6.392A2.911 2.911 0 0014.607 4.6l-1.568-.543a.06.06 0 01-.036-.075c.006-.018.018-.031.036-.035l1.568-.545A2.908 2.908 0 0016.4 1.608l.544-1.569a.058.058 0 01.073-.036.06.06 0 01.038.036l.545 1.569c.292.84.952 1.5 1.793 1.793l1.567.545c.032.01.048.043.036.073a.056.056 0 01-.036.037l-1.567.543zm3.401 6.85a2.183 2.183 0 00-1.344 1.344l-.409 1.177a.043.043 0 01-.055.027.042.042 0 01-.028-.027l-.408-1.177a2.183 2.183 0 00-1.345-1.345l-1.176-.407a.045.045 0 01-.027-.056.038.038 0 01.027-.027l1.176-.409a2.18 2.18 0 001.345-1.344l.408-1.177a.043.043 0 01.055-.027.044.044 0 01.028.027l.409 1.177c.22.63.714 1.125 1.345 1.345l1.175.408a.042.042 0 01.027.055.042.042 0 01-.027.028l-1.175.408z",clipRule:"evenodd"}),h().createElement("path",{fill:"#fff",d:"M3 4.414L4.414 3l17.678 17.677-1.414 1.415z"}),h().createElement("path",{fill:"#23313B",d:"M2 5.414L3.414 4l17.678 17.677-1.414 1.415z"}))};function k$(){return(k$=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function M$(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}const B$=function(e){var t=e.active,n=void 0!==t&&t,r=M$(e,["active"]),o=n?"#00ADEF":"#23313B";return h().createElement("svg",k$({width:"24",height:"24",fill:"none",viewBox:"0 1 24 24"},r,{"data-component-name":"Autoduration"}),h().createElement("path",{fill:o,fillRule:"evenodd",d:"M12 3C6.477 3 2 7.477 2 13s4.477 10 10 10c4.478 0 8.268-2.943 9.542-7H19.42A8.003 8.003 0 014 13a8 8 0 018-8V3z",clipRule:"evenodd"}),h().createElement("path",{fill:o,fillRule:"evenodd",d:"M12 7a1 1 0 011 1v5a1 1 0 11-2 0V8a1 1 0 011-1z",clipRule:"evenodd"}),h().createElement("path",{fill:o,fillRule:"evenodd",d:"M11.2 12.4a1 1 0 011.4-.2l4 3a1 1 0 01-1.2 1.6l-4-3a1 1 0 01-.2-1.4zm8.193-7.8c-.84.292-1.5.953-1.793 1.792l-.545 1.569a.057.057 0 01-.073.036.056.056 0 01-.038-.036L16.4 6.392A2.911 2.911 0 0014.607 4.6l-1.568-.543a.06.06 0 01-.036-.075c.006-.018.018-.031.036-.035l1.568-.545A2.908 2.908 0 0016.4 1.608l.544-1.569a.058.058 0 01.073-.036.06.06 0 01.038.036l.545 1.569c.292.84.952 1.5 1.793 1.793l1.567.545c.032.01.048.043.036.073a.056.056 0 01-.036.037l-1.567.543zm3.401 6.85a2.183 2.183 0 00-1.344 1.344l-.409 1.177a.043.043 0 01-.055.027.042.042 0 01-.028-.027l-.408-1.177a2.183 2.183 0 00-1.345-1.345l-1.176-.407a.045.045 0 01-.027-.056.038.038 0 01.027-.027l1.176-.409a2.18 2.18 0 001.345-1.344l.408-1.177a.043.043 0 01.055-.027.044.044 0 01.028.027l.409 1.177c.22.63.714 1.125 1.345 1.345l1.175.408a.042.042 0 01.027.055.042.042 0 01-.027.028l-1.175.408z",clipRule:"evenodd"}))};var j$=function(e){var t=(0,f.useRef)(null);return t.current||(t.current=function(e){return(e?"".concat(e,"-"):"")+Math.random().toString().substr(-10)}(e)),t.current};function L$(){return(L$=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}const P$=(0,f.forwardRef)((function(e,t){var n=j$();return h().createElement("svg",L$({ref:t,viewBox:"0 0 12 132",fill:"none"},e,{"data-component-name":"PlayheadNeedleSVG","data-key":e["data-key"]}),h().createElement("mask",{id:n,width:"12",height:"132",x:"0",y:"0",fill:"#000",maskUnits:"userSpaceOnUse"},h().createElement("path",{fill:"#fff",d:"M0 0h12v132H0z"}),h().createElement("path",{fillRule:"evenodd",d:"M6 1H1v6.765a2 2 0 00.692 1.513l3.808 3.29V130.5a.5.5 0 001 0V12.568l3.808-3.29A2 2 0 0011 7.765V1H6z",clipRule:"evenodd"})),h().createElement("path",{fill:"#23313B",fillRule:"evenodd",d:"M6 1H1v6.765a2 2 0 00.692 1.513l3.808 3.29V130.5a.5.5 0 001 0V12.568l3.808-3.29A2 2 0 0011 7.765V1H6z",clipRule:"evenodd"}),h().createElement("path",{fill:"#fff",d:"M1 1V0H0v1h1zm.692 8.278l-.653.757.653-.757zm3.808 3.29h1v-.458l-.346-.299-.654.757zm1 0l-.654-.757-.346.3v.457h1zm3.808-3.29l.653.757-.653-.757zM11 1h1V0h-1v1zM1 2h5V0H1v2zm1 5.765V1H0v6.765h2zm.346.757A1 1 0 012 7.765H0a3 3 0 001.039 2.27l1.307-1.513zm3.808 3.29l-3.808-3.29-1.307 1.513 3.807 3.29 1.308-1.514zm-1.654.756V130.5h2V12.568h-2zm0 117.932A1.5 1.5 0 006 132v-2a.5.5 0 01.5.5h-2zM6 132a1.5 1.5 0 001.5-1.5h-2a.5.5 0 01.5-.5v2zm1.5-1.5V12.568h-2V130.5h2zM9.654 8.522l-3.808 3.29 1.308 1.513 3.807-3.29-1.307-1.513zM10 7.765a1 1 0 01-.346.757l1.307 1.513A3 3 0 0012 7.765h-2zM10 1v6.765h2V1h-2zM6 2h5V0H6v2z",mask:"url(#".concat(n,")")}))}));var N$;!function(e){e[e.NotInitialized=-1]="NotInitialized",e[e.FullSource=0]="FullSource",e[e.MaxZoom=1]="MaxZoom"}(N$||(N$={}));var D$,R$={levels:[],current:N$.NotInitialized};!function(e){e[e.Background=-1]="Background",e[e.Bubbles=1]="Bubbles",e[e.Playhead=2]="Playhead"}(D$||(D$={}));var z$=32,U$=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"TimelineBackground ".concat(e["data-component-name"]):"TimelineBackground"}})).withConfig({displayName:"timelinestyle__TimelineBackground",componentId:"vyeno8-0"})(["position:absolute;top:0;bottom:0;left:",";right:calc( "," - ","px );z-index:",";::before{content:'';position:absolute;top:",";height:",";left:0;right:0;background-color:#eef1f4;}"],(0,We.rem)(-32),(0,We.rem)(-32),(function(e){return 15*e.secWidthInPx}),D$.Background,(0,We.rem)(47),(0,We.rem)(52)),F$=(0,Ge.default)(P$).attrs((function(e){return{"data-component-name":e["data-component-name"]?"Playhead ".concat(e["data-component-name"]):"Playhead"}})).withConfig({displayName:"timelinestyle__Playhead",componentId:"vyeno8-1"})(["position:absolute;left:0;margin-top:",";margin-left:",";height:",";width:",";z-index:",";"],(0,We.rem)(13),(0,We.rem)(-6),(0,We.rem)(132),(0,We.rem)(12),D$.Playhead),H$=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"TimelineContainer ".concat(e["data-component-name"]):"TimelineContainer"}})).withConfig({displayName:"timelinestyle__TimelineContainer",componentId:"vyeno8-2"})(["flex:1 1 auto;height:100%;padding:0;user-select:none;position:relative;display:flex;flex-direction:column;align-items:flex-start;.os-scrollbar-horizontal{width:calc(100% - ",");}"],(0,We.rem)(0)),V$=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"TimelineOverlay ".concat(e["data-component-name"]):"TimelineOverlay"}})).withConfig({displayName:"timelinestyle__TimelineOverlay",componentId:"vyeno8-3"})(["position:absolute;height:100%;box-sizing:content-box;background-color:",";top:-1px;border-top:1px solid white;border-bottom:1px solid white;"," ",""],(function(e){return e.showSource?"rgba(0, 0, 0, 0.5)":"#eef1f4"}),(function(e){return e.left&&(0,Ge.css)(["left:-1px;border-left:1px solid #eef1f4;"])}),(function(e){return e.right&&(0,Ge.css)(["right:-1px;border-right:1px solid #eef1f4;"])})),W$=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"LoaderWrapper ".concat(e["data-component-name"]):"LoaderWrapper"}})).withConfig({displayName:"timelinestyle__LoaderWrapper",componentId:"vyeno8-4"})(["position:absolute;display:flex;justify-content:center;align-items:center;width:100%;top:",";"],(0,We.rem)(7)),G$=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"BubblesStripContainer ".concat(e["data-component-name"]):"BubblesStripContainer"}})).withConfig({displayName:"bubblesstyle__BubblesStripContainer",componentId:"sc-1ch7hd6-0"})(["height:",";position:relative;z-index:",";"],(0,We.rem)(47),D$.Bubbles),Y$=Ge.default.div.attrs((function(e){var t=e.start,n=e.secWidthInPx;return{tabIndex:0,style:{transform:"translateX(".concat(t*n,"px)")}}})).attrs((function(e){return{"data-component-name":e["data-component-name"]?"BubbleContainer ".concat(e["data-component-name"]):"BubbleContainer"}})).withConfig({displayName:"bubblesstyle__BubbleContainer",componentId:"sc-1ch7hd6-1"})(["position:absolute;pointer-events:none;left:",";width:",";bottom:",";height:",";z-index:",";cursor:",";"],(0,We.rem)(-12),(0,We.rem)(43),(0,We.rem)(2),(0,We.rem)(31),(function(e){return e.zindex}),(function(e){var t=e.selected;return e.isDragging?"grabbing":t?"grab":"pointer"})),q$=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"BubbleContentContainer ".concat(e["data-component-name"]):"BubbleContentContainer"}})).withConfig({displayName:"bubblesstyle__BubbleContentContainer",componentId:"sc-1ch7hd6-2"})(["position:absolute;height:",";left:0;top:0;background:",";pointer-events:auto;border:"," solid #ffffff;border-radius:",";display:flex;justify-content:center;align-items:center;width:100%;"," ",""],(0,We.rem)(28),(function(e){return e.selected?$x.WarningYellow:cv}),(0,We.rem)(1),(0,We.rem)(21),(function(e){return e.multiple&&(0,Ge.css)(["filter:drop-shadow(0 "," 0 white) drop-shadow(0 "," 0 ",");"],(0,We.rem)(-1),(0,We.rem)(-3),cv)}),(function(e){return e.isTextSticker?(0,Ge.css)(["padding:"," ",";"],(0,We.rem)(0),(0,We.rem)(8)):(0,Ge.css)(["width:",";"],(0,We.rem)(28))})),Z$=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"BubbleText ".concat(e["data-component-name"]):"BubbleText"}})).withConfig({displayName:"bubblesstyle__BubbleText",componentId:"sc-1ch7hd6-3"})(["color:",";font-style:normal;font-weight:500;font-size:",";line-height:",";"],(function(e){return e.selected?"#FFFFFF":"#23313B"}),(0,We.rem)(11),(0,We.rem)(16)),X$=Ge.default.img.attrs({draggable:!1}).attrs((function(e){return{"data-component-name":e["data-component-name"]?"BubbleImage ".concat(e["data-component-name"]):"BubbleImage"}})).withConfig({displayName:"bubblesstyle__BubbleImage",componentId:"sc-1ch7hd6-4"})(["pointer-events:none;width:",";height:",";"],(0,We.rem)(18),(0,We.rem)(18)),K$=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"BubbleTriangle ".concat(e["data-component-name"]):"BubbleTriangle"}})).withConfig({displayName:"bubblesstyle__BubbleTriangle",componentId:"sc-1ch7hd6-5"})(["position:absolute;width:",";height:",";left:",";top:",";background:",";transform:rotate(135deg);"],(0,We.rem)(7),(0,We.rem)(7),(0,We.rem)(10),(0,We.rem)(22),(function(e){return e.selected?$x.WarningYellow:cv}));function Q$(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return $$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $$(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $$(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var J$=Math.pow(2,31)-1;var eJ={selectSticker:gh,overrideStickerTiming:ps,removeOverrides:ms,setStickerTiming:Ih,updateText:Ef};const tJ=(0,T.$j)((function(e,t){var n=gs(e),r=t.sticker,o=e.overrides;return{selected:n&&n.id===r.id,overrides:o}}),eJ)((function(e){var t,n,r=e.scene,o=e.sticker,a=e.secWidthInPx,i=e.selected,c=e.multiple,l=e.overrides,s=e.getScrollableContainer,d=e.onDragStart,m=e.onDragEnd,p=e.selectSticker,g=e.overrideStickerTiming,y=e.removeOverrides,b=e.setStickerTiming,v=e.updateText,E=e.snapSelectionTo,w=sE(r.id).player,A=l&&l["".concat(o.id,"@").concat(null==r?void 0:r.id)],C=null!==(t=null==A?void 0:A.timing)&&void 0!==t?t:o.timing,S=(0,f.useCallback)((function(e,t,n){w.seek(t),n?(0,T.dC)((function(){y(),b(r.id,o.id,e)})):g(r,o.id,e,!0)}),[w,y,r,o.id,b,g]),_=(0,f.useCallback)((function(){return g(r,o.id,o.timing,!0)}),[g,r,o.id,o.timing]),x=r.getMasterTiming(),O=Q$((0,f.useState)(!1),2),k=O[0],M=O[1],B=Q$(ZL((function(e){var t=e.value;v(r.id,o,{text:t})}),[r.id,o,v],{initialValue:o.text}),2),j=B[0],L=B[1],P=Q$(pL(o),2),N=P[0],D=P[1],R=(0,f.useCallback)((function(){o.type===Xl.TEXT_STYLE_ELEMENT?L():o.type===Xl.IMAGE_STICKER_ELEMENT&&D()}),[D,L,o]),z=(0,f.useMemo)((function(){return i?J$:Math.round(3e6*o.timing.start)+o.zindex}),[i,o.timing.start,o.zindex]);return h().createElement(Y$,{selected:i,isDragging:k,start:C.start,secWidthInPx:a,zindex:z,onMouseDown:function(e){if(0===e.button){e.stopPropagation(),p(o);var t,n,r=e.clientX,i=r,c=C.end-C.start,l=C.start,f=x.start,h=x.end-c,g=1e3/60,y=s(),b=y.getBoundingClientRect(),v=y.scrollLeft,w=0,A=-1,T=I.noop,O=!1,k=function(){O=!0,document.body.style.cursor="grabbing",t=Math.min(r,b.left+32),n=Math.max(r,b.right-32),T=function(){var e=0,r=-1,o=y.scrollLeft,i=y.scrollWidth,l=y.clientWidth,s=Math.max(0,Math.min(o,f*a)),u=Math.min(i-l,Math.max(o,(h+c)*a+z$-(l-z$)));function d(o){var a=Math.min(100,-1===r?g:o-r);if(r=o,-1!==A){var c=y.scrollLeft,m=c;if(c>0&&A<t){var p=-((t-A)/g)*a;m=Math.max(s,c+p)}else if(c+l<i&&A>n){var f=(A-n)/g*a;m=Math.min(u,c+f)}m!==c&&(y.scrollLeft=m,w=m-v,j(A,!1))}e=window.requestAnimationFrame(d)}return e=window.requestAnimationFrame(d),function(){return window.cancelAnimationFrame(e)}}(),d(),M(!0),_()},B=setTimeout((function(){r=i,k()}),1500),j=function(e,t){i=e;var n=e-r;if(!O){if(Math.abs(n)<3)return;k(),clearTimeout(B)}var o=Math.max(f,Math.min(h,u(l+(n+w)/a))),s=E({start:o,end:o+c});S({start:s.start,end:s.end},s.start,t)},L=function(e){A=e.clientX,e.stopImmediatePropagation(),j(e.clientX,!1)};document.addEventListener("mousemove",L),document.addEventListener("mouseup",(function e(t){clearTimeout(B),j(t.clientX,!0),O&&(T(),m(),M(!1)),document.body.style.cursor="",document.removeEventListener("mousemove",L),document.removeEventListener("mouseup",e)}))}},onDoubleClick:R,onClick:function(e){return e.stopPropagation()},"data-component-name":"Bubble"},h().createElement(q$,{selected:i,multiple:c,isTextSticker:o.type===Xl.TEXT_STYLE_ELEMENT},o.type===Xl.TEXT_STYLE_ELEMENT?h().createElement(Z$,{selected:i},(n=su(o.text[0])).charAt(0).toUpperCase()+n.slice(1,3)):h().createElement(X$,{src:o.mediaPath})),h().createElement(K$,{selected:i}),N,o.type===Xl.TEXT_STYLE_ELEMENT&&j)}));const nJ=(0,T.$j)((function(e){var t=e.overrides,n=hs(e),r=gs(e),o=n.getStickerElements();return{selectedScene:n,stickers:o,overrides:t,selectedStickerId:null!=r&&r.isSticker()?r.id:null}}))((function(e){var t=e.stickers,n=e.selectedStickerId,r=e.secWidthInPx,o=e.selectedScene,a=e.overrides,i=e.getScrollableContainer,c=e.onDragStart,l=e.onDragEnd,s=e.snapSelectionTo,u=new Map;return t.forEach((function(e){var t,r=a&&a["".concat(e.id,"@").concat(null==o?void 0:o.id)],i=(null!==(t=null==r?void 0:r.timing)&&void 0!==t?t:e.timing).start,c=u.get(i);c?c.sticker.id===n||c.sticker.zindex>=e.zindex?u.set(i,{sticker:c.sticker,multipleStickers:!0}):u.set(i,{sticker:e,multipleStickers:!0}):u.set(i,{sticker:e,multipleStickers:!1})})),h().createElement(G$,{"data-component-name":"BubblesStrip"},Array.from(u.values()).map((function(e){return h().createElement(tJ,{sticker:e.sticker,secWidthInPx:r,scene:o,multiple:e.multipleStickers,getScrollableContainer:i,onDragStart:c,onDragEnd:function(){return l(!1)},snapSelectionTo:s})})))}));var rJ,oJ=Ge.default.div.attrs((function(e){var t=e.x;return{style:{transform:"translateX(".concat(t,"px)")}}})).attrs((function(e){return{"data-component-name":e["data-component-name"]?"ScaleMarkingsContainer ".concat(e["data-component-name"]):"ScaleMarkingsContainer"}})).withConfig({displayName:"scale-markingsstyle__ScaleMarkingsContainer",componentId:"vy8227-0"})(["height:",";position:relative;user-select:none;"],(0,We.rem)(43)),aJ=Ge.default.span.attrs((function(e){var t=e.x;return{style:{transform:"translateX(".concat(t,"px)")}}})).attrs((function(e){return{"data-component-name":e["data-component-name"]?"ScalePoint ".concat(e["data-component-name"]):"ScalePoint"}})).withConfig({displayName:"scale-markingsstyle__ScalePoint",componentId:"vy8227-1"})(["position:absolute;height:",";font-size:",";text-align:left;letter-spacing:",";color:",";left:0;bottom:0;"],(0,We.rem)(12),(0,We.rem)(10),(0,We.rem)(1),iv),iJ=3600,cJ=[.1,.2,.5,1,2,5,10,15,20,30,60,120,300,600,900,1200,1800,3600],lJ=(0,f.memo)((function(e){var t=e.secWidthInPx,n=e.maxTime,r=(0,f.useMemo)((function(){return function(e){var t;return null!==(t=cJ.find((function(t){return t*e>=60})))&&void 0!==t?t:iJ}(t)}),[t]),o=(0,f.useMemo)((function(){var e=Math.floor(n/r)+1;return new Array(e).fill(0).map((function(e,t){return r*t}))}),[r,n]);return h().createElement(h().Fragment,null,o.map((function(e){var n;return h().createElement(aJ,{key:n=e,"data-key":n,x:e*t},s(e,r))})))})),sJ=(0,f.memo)((function(e){var t=e.start,n=e.secWidthInPx,r=e.masterMaxDuration;return h().createElement(oJ,{x:t*n,"data-component-name":"ScaleMarkingsStrip"},h().createElement(lJ,{secWidthInPx:n,maxTime:Math.max(r,30)}))}));!function(e){e.IMAGE="image",e.CLIP="clip"}(rJ||(rJ={}));var uJ=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"ThumbnailsStripContainer ".concat(e["data-component-name"]):"ThumbnailsStripContainer"}})).withConfig({displayName:"thumbnailsstyle__ThumbnailsStripContainer",componentId:"sc-4rzx8g-0"})(["position:relative;width:","px;height:",";background-color:#eef1f2;"],(function(e){return e.width}),(0,We.rem)(52)),dJ=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"UploadStrip ".concat(e["data-component-name"]):"UploadStrip"}})).withConfig({displayName:"thumbnailsstyle__UploadStrip",componentId:"sc-4rzx8g-1"})(["position:relative;height:",";top:",";background-color:#1a2e3b;margin-left:",";width:calc(100% - 2 * ",");border-radius:",";"],(0,We.rem)(52),(0,We.rem)(47),(0,We.rem)(z$),(0,We.rem)(z$),(0,We.rem)(4)),mJ=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"ThumbnailsWrapper ".concat(e["data-component-name"]):"ThumbnailsWrapper"}})).withConfig({displayName:"thumbnailsstyle__ThumbnailsWrapper",componentId:"sc-4rzx8g-2"})(["cursor:pointer;position:absolute;width:",";height:100%;overflow:hidden;"," background-color:",";text-align:left;"],(function(e){var t=e.width;return"".concat(t,"px")}),(function(e){var t=e.backgroundImage;return t&&(0,Ge.css)(["background-image:url(",");"],t)}),(function(e){var t=e.backgroundColor;return null!=t?t:rv})),pJ=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"ThumbnailsHolder ".concat(e["data-component-name"]):"ThumbnailsHolder"}})).withConfig({displayName:"thumbnailsstyle__ThumbnailsHolder",componentId:"sc-4rzx8g-3"})(["position:relative;"]);function fJ(e,t,n,r,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,o)}function hJ(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return gJ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gJ(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gJ(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var yJ=S("TimelineImageThubnails"),bJ=function(e){var t=e.imageURL,n=e.backgroundColor,r=e.width,o=e.onMouseDown,a=(0,f.useRef)(null),i=(0,f.useRef)(null),c=hJ((0,f.useState)(null),2),l=c[0],s=c[1];return(0,f.useEffect)((function(){if(!t)return function(){};var e=i.current,n=a.current;if(!e||!n)return yJ.error("Trim thumbnails are not initializaed properly: holderEl=".concat(e," wrapperEl=").concat(n)),function(){};var r,o=function(e,t){var n=document.createElement("canvas");n.height=t,n.width=e;var r=n.getContext("2d");return{canvasEl:n,canvasContext:r}},c=function(e){var t,r=e.width,o=e.height,a=n.clientHeight;if(r===o)t=a;else if(r>o){t=r*(a/o)*Es}else{t=r*(a/Es/o)}return{width:t,height:a}},l=function(e){var t=e.width,n=e.height,r=t>n,o=t<n;return{rectX:r?t*vs:0,rectY:o?n*vs:0,rectWidth:r?t*Es:t,rectHeight:o?n*Es:n}},u=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n,r,a,i,u,d,m,p,f,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=c(t),r=n.width,a=n.height,i=l(t),u=i.rectX,d=i.rectY,m=i.rectWidth,p=i.rectHeight,(f=o(r,a)).canvasContext.drawImage(t,u,d,m,p,0,0,r,a),h=f.canvasEl.toDataURL(),s(h);case 6:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){fJ(a,r,o,i,c,"next",e)}function c(e){fJ(a,r,o,i,c,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}();return(r=function(e,t,n){!function(e,t,n){var r=document.createElement("img");r.setAttribute("src",e),r.setAttribute("crossorigin","anonymous"),r.setAttribute("draggable","false"),r.onload=function(){return t(r)},r.onerror=function(e){n("<img> error: ".concat(e.toString()))}}(e,(function(e){var r=function(e){var t=o(e.width,e.height);t.canvasContext.drawImage(e,0,0);try{return t.canvasEl.toDataURL(),!0}catch(e){return e}}(e);!0===r?t(e):n(r)}),(function(e){return n(new Error(e))}))},new Promise((function(e,n){r(t,(function(t){return e(t)}),(function(){var o="".concat(t,"?magisto_bc=").concat(Math.floor(1e6*Math.random()));r(o,(function(t){return e(t)}),(function(e){yJ.error("Cannot load video for trim thumbnails: ".concat(e.message),e),n(e)}))}))}))).then(u),function(){s(null)}}),[t]),h().createElement(mJ,{ref:a,backgroundImage:l,backgroundColor:n,width:r,onMouseDown:o,"data-component-name":"ImageThumbnails"},h().createElement(pJ,{ref:i}))};function vJ(e){return function(e){if(Array.isArray(e))return EJ(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return EJ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return EJ(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function EJ(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wJ(e,t,n,r,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,o)}var AJ=S("TimelineVideoThumbnails"),CJ=function(e){var t=e.videoURL,n=e.startLoadingFromTime,r=e.width,o=e.onMouseDown,a=(0,f.useRef)(null),i=(0,f.useRef)(null),c=(0,f.useRef)(null);return(0,f.useEffect)((function(){var e=i.current,r=a.current;if(!e||!r)return AJ.error("Trim thumbnails are not initializaed properly: holderEl=".concat(e," wrapperEl=").concat(r)),function(){};var o=function(e,t){var n=document.createElement("canvas");n.height=t,n.width=e;var r=n.getContext("2d");return{canvasEl:n,canvasContext:r}},l=function(e){var t,n=e.videoWidth,o=e.videoHeight,a=r.clientHeight;if(n===o)t=a;else if(n>o){var i=a/o;t=Math.round(n*i*Es)}else{var c=a/Es/o;t=Math.round(n*c)}return{width:t,height:a}},s=function(e,t,n){var r=e.videoWidth,o=e.videoHeight,a=t/n<r/o?o/n:r/t;return{rectX:(r-t*a)/2,rectY:(o-n*a)/2,rectWidth:t*a,rectHeight:n*a}},u=!1,d=function(){var t,a=(t=regeneratorRuntime.mark((function t(a){var i,c,d,m,p,f,h,g,y,b,v,E,w,A,C,S,_;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=l(a),c=i.width,d=i.height,m=s(a,c,d),p=m.rectX,f=m.rectY,h=m.rectWidth,g=m.rectHeight,y=o(c,d),b=function(){return y.canvasContext.drawImage(a,p,f,h,g,0,0,c,d),y.canvasEl.toDataURL()},v=function(t,n){var o=document.createElement("img");o.setAttribute("src",t),o.setAttribute("width",c.toString()),o.setAttribute("draggable","false"),o.style.position="absolute";var i=r.clientWidth*(n/a.duration);o.style.transform="translateX(".concat(i,"px)"),o.style.top="0",o.style.left="0",e.appendChild(o)},E=function(e){return new Promise((function(t){a.addEventListener("timeupdate",(function e(){a.removeEventListener("timeupdate",e),t()})),a.currentTime=e}))},w=function(){var e,t=Math.ceil(r.clientWidth/c),o=new Array(t).fill(0).map((function(e,t){return a.duration*(t*c/r.clientWidth)})),i=(null!==(e=o.findIndex((function(e){return e>n})))&&void 0!==e?e:o.length)-1;return[].concat(vJ(o.slice(i)),vJ(o.slice(0,i).reverse()))},A=w(),C=0;case 9:if(!(C<A.length)){t.next=20;break}return S=A[C],t.next=13,E(S);case 13:if(!u){t.next=15;break}return t.abrupt("break",20);case 15:_=b(),v(_,S);case 17:++C,t.next=9;break;case 20:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(e){wJ(a,r,o,i,c,"next",e)}function c(e){wJ(a,r,o,i,c,"throw",e)}i(void 0)}))});return function(e){return a.apply(this,arguments)}}();return function(){var e;if((null===(e=c.current)||void 0===e?void 0:e.url)===t)return Promise.resolve(c.current.videoEl);var n=function(e,t,n){!function(e,t,n){var r=document.createElement("video");r.setAttribute("src",e),r.setAttribute("crossorigin","anonymous"),r.onloadedmetadata=function(){return t(r)},r.onerror=function(){var e=r.error;n("<video> error ".concat(null==e?void 0:e.code,"; details: ").concat(null==e?void 0:e.message))}}(e,(function(e){var r=function(e){var t=o(e.videoWidth,e.videoHeight);t.canvasContext.drawImage(e,0,0);try{return t.canvasEl.toDataURL(),!0}catch(e){return e}}(e);!0===r?t(e):n(r)}),(function(e){return n(new Error(e))}))};return new Promise((function(e,r){n(t,(function(t){return e(t)}),(function(){var o="".concat(t,"?magisto_bc=").concat(Math.floor(1e6*Math.random()));n(o,(function(t){return e(t)}),(function(e){AJ.error("Cannot load video for trim thumbnails: ".concat(e.message),e),r(e)}))}))})).then((function(e){return c.current={videoEl:e,url:t},e}))}().then(d),function(){u=!0,e.innerHTML=""}}),[t,r]),h().createElement(mJ,{ref:a,width:r,onMouseDown:o,"data-component-name":"VideoThumbnails"},h().createElement(pJ,{ref:i}))},SJ=function(e){var t=e.source,n=e.width,r=e.startLoadingFromTime,o=e.onMouseDown,a=(0,T.v9)((function(e){return e.storyBoard.videoBranding.colors.primary})),i=(0,T.v9)((function(e){return e.storyBoard.theme.slide_thumb}));switch(null==t?void 0:t.type){case rJ.CLIP:return f.createElement(CJ,{videoURL:t.previewURL,startLoadingFromTime:r,width:n,onMouseDown:o,"data-component-name":"Thumbnails"});case rJ.IMAGE:return f.createElement(bJ,{imageURL:t.previewURL,width:n,onMouseDown:o,"data-component-name":"Thumbnails"});default:return f.createElement(bJ,{imageURL:i,backgroundColor:a,width:n,onMouseDown:o,"data-component-name":"Thumbnails"})}},_J=(0,f.forwardRef)((function(e,t){var n=e.secWidthInPx,r=e.source,o=e.start,a=e.end,i=e.totalDuration,c=e.showSource,l=e.onMouseDown,s=e.children,u="".concat(100*o/i,"%"),d="".concat(100-100*a/i,"%");return h().createElement(uJ,{ref:t,width:n*i,"data-component-name":"ThumbnailsStrip"},h().createElement(SJ,{source:r,width:n*i,startLoadingFromTime:o,onMouseDown:l}),h().createElement(V$,{showSource:c,left:!0,style:{width:u}}),h().createElement(V$,{showSource:c,right:!0,style:{width:d}}),s)})),xJ=15,IJ=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"TimingBarsStripContainer ".concat(e["data-component-name"]):"TimingBarsStripContainer"}})).withConfig({displayName:"timing-barsstyle__TimingBarsStripContainer",componentId:"sc-1dowpo4-0"})(["height:",";width:","px;position:relative;z-index:",";"],(function(e){var t=e.levels;return(0,We.rem)(xJ*(t+1))}),(function(e){return e.width}),D$.Bubbles),TJ=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"TimingBarsNeedle ".concat(e["data-component-name"]):"TimingBarsNeedle"}})).withConfig({displayName:"timing-barsstyle__TimingBarsNeedle",componentId:"sc-1dowpo4-1"})(["position:absolute;height:100%;width:",";background-color:black;z-index:",";"],(0,We.rem)(1),D$.Playhead),OJ=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"StickerBar ".concat(e["data-component-name"]):"StickerBar"}})).withConfig({displayName:"timing-barsstyle__StickerBar",componentId:"sc-1dowpo4-2"})(["position:absolute;left:0;bottom:",";height:",";width:","px;padding:",";border-radius:",";line-height:",";font-size:",";background-color:",";"," background-image:url(",");background-size:auto ",";"],(function(e){var t=e.level;return(0,We.rem)(t*xJ)}),(0,We.rem)(xJ),(function(e){return e.width}),(0,We.rem)(0),(0,We.rem)(2),(0,We.rem)(xJ),(0,We.rem)(14),(function(e){return e.color}),(function(e){var t=e.left;return(0,Ge.css)(["transform:translateX(","px);"],t)}),(function(e){return e.image}),(0,We.rem)(xJ));function kJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function MJ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kJ(Object(n),!0).forEach((function(t){BJ(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kJ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function BJ(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var jJ,LJ=["yellow","coral","aqua","burlywood","aquamarine","hold","greenyellow","hotpink","orange","blue","powderblue","salmon"],PJ=(0,f.memo)((function(e){var t=e.scene,n=e.secWidthInPx,r=e.duration,o=new Array(20).fill("");o[0]="scene";var a=0,i=(0,T.v9)((function(e){return e.overrides})),c=Object.values(t.composition).filter((function(e){return!!e.timing})).map((function(e){var n,r=e.id,o=e.text,a=e.mediaPath,c=e.timing;return[{id:r,text:o,mediaPath:a,timing:c,time:c.start,start:!0,override:null===(n=i["".concat(r,"@").concat(t.id)])||void 0===n?void 0:n.timing},{id:r,text:o,mediaPath:a,timing:c,time:c.end,start:!1}]})).flat().sort((function(e,t){return e.time-t.time})).map((function(e){if(e.start){var t=o.indexOf("");return o[t]=e.id,a=Math.max(a,t+1),MJ(MJ({},e),{},{level:t})}var n=o.indexOf(e.id);return o[n]="",e})).filter((function(e){return e.start})),l=sE(t.id),s=l.onTimeUpdate,u=l.player,d=(0,f.useRef)(null);return(0,f.useLayoutEffect)((function(){var e=d.current,t=function(t){var r=Math.round(t*n);e.style.transform="translateX(".concat(r,"px)")};t(u.currentTime);var r=s(t);return function(){return r()}}),[u,n,s]),h().createElement(IJ,{width:n*r,levels:a,"data-component-name":"TimingBarsStrip"},h().createElement(TJ,{ref:d}),c.map((function(e,t){var r,o,a,i=e.id,c=e.level,l=e.text,s=e.mediaPath,u=e.timing,d=e.override;return d?h().createElement(h().Fragment,null,h().createElement(OJ,{key:r=i,"data-key":r,left:n*u.start,width:n*(u.end-u.start),level:c,color:"gray"}),h().createElement(OJ,{key:o=i,"data-key":o,left:n*d.start,width:n*(d.end-d.start),level:c,image:s,color:LJ[t%LJ.length]},h().createElement(sv,null,null==l?void 0:l[0]))):h().createElement(OJ,{key:a=i,"data-key":a,left:n*u.start,width:n*(u.end-u.start),level:c,image:s,color:LJ[t%LJ.length]},h().createElement(sv,null,null==l?void 0:l[0]))})))}));!function(e){e[e.Master=1]="Master",e[e.Sticker=2]="Sticker"}(jJ||(jJ={}));var NJ=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"TimelineSelection ".concat(e["data-component-name"]):"TimelineSelection"}})).withConfig({displayName:"timing-selectionstyle__TimelineSelection",componentId:"sc-167qwtl-0"})([""," position:absolute;height:100%;box-sizing:border-box;top:0;border:solid "," ",";border-left:",";border-right:",";"],(function(e){var t=e.isDraggable,n=e.isDragging;return t&&(0,Ge.css)(["cursor:",";"],n?"grabbing":"grab")}),(0,We.rem)(2),(function(e){return e.format===jJ.Sticker?$x.WarningYellow:Kb}),(function(e){return!e.isDragging&&"none"}),(function(e){return!e.isDragging&&"none"})),DJ=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"HighlightSelectionLayer ".concat(e["data-component-name"]):"HighlightSelectionLayer"}})).withConfig({displayName:"timing-selectionstyle__HighlightSelectionLayer",componentId:"sc-167qwtl-1"})(["height:100%;background:",";"],(function(e){var t=e.format,n=e.isDragging;return t===jJ.Sticker?n?"rgba(255, 178, 30, 0.6)":"rgba(255, 178, 30, 0.8)":Kb})),RJ=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"SelectionDuration ".concat(e["data-component-name"]):"SelectionDuration"}})).withConfig({displayName:"timing-selectionstyle__SelectionDuration",componentId:"sc-167qwtl-2"})(["position:absolute;width:",";height:",";right:",";top:",";background:",";opacity:0.9;border-radius:",";display:flex;flex-direction:row;justify-content:center;align-items:center;padding:0px ",";color:#ffffff;",""],(0,We.rem)(32),(0,We.rem)(14),(0,We.rem)(2),(0,We.rem)(4),(function(e){return e.format===jJ.Sticker?$x.WarningYellow:Kb}),(0,We.rem)(2),(0,We.rem)(4),(function(e){return!e.visible&&(0,Ge.css)(["visibility:hidden;"])})),zJ=Ge.default.div.attrs({tabIndex:0}).attrs((function(e){return{"data-component-name":e["data-component-name"]?"SelectionHandle ".concat(e["data-component-name"]):"SelectionHandle"}})).withConfig({displayName:"timing-selectionstyle__SelectionHandle",componentId:"sc-167qwtl-3"})(["cursor:col-resize;position:absolute;height:",";width:",";top:0;border:"," solid ",";border-left:0;border-right:0;box-sizing:content-box;outline:0;background-color:",";border-top-left-radius:",";border-bottom-left-radius:",";border-top-right-radius:",";border-bottom-right-radius:",";display:flex;justify-content:center;align-content:center;align-items:center;&:before{content:' ';display:block;width:",";height:",";border-radius:",";background-color:#fff;position:absolute;}"],(0,We.rem)(48),(0,We.rem)(16),(0,We.rem)(2),(function(e){return e.format===jJ.Sticker?$x.WarningYellow:Kb}),(function(e){return e.format===jJ.Sticker?$x.WarningYellow:Kb}),(function(e){return e.left?(0,We.rem)(4):0}),(function(e){return e.left?(0,We.rem)(4):0}),(function(e){return e.right?(0,We.rem)(4):0}),(function(e){return e.right?(0,We.rem)(4):0}),(0,We.rem)(2),(0,We.rem)(8),(0,We.rem)(2));function UJ(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return FJ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FJ(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function FJ(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var HJ=function(e){var t=e.format,n=e.timing,r=e.allowSelectionDrag,o=e.constraints,a=e.minSelection,i=e.maxSelection,c=e.totalDuration,l=e.secWidthInPx,d=e.getScrollableContainer,m=e.setTiming,p=e.isDraggingSelection,g=e.onDragStart,b=e.onDragEnd,v=e.onElementClick,E=e.getNearestElementSnapTime,w=e.getNearestElementSnapTimeForSelection,A=n.start,C=n.end,S=o.start,_=o.end,x=C-A,I=x<1?x.toFixed(1):s(C-A),T="".concat(100*A/c,"%"),O="".concat(100-100*A/c,"%"),k="".concat(100*C/c,"%"),M="".concat(100-100*C/c,"%"),B=t===jJ.Sticker,j=(0,f.useRef)(null),L=(0,f.useRef)(null),P=UJ((0,f.useState)(!0),2),N=P[0],D=P[1];(0,f.useLayoutEffect)((function(){var e,t,n,r,o=null!==(e=null==j||null===(t=j.current)||void 0===t?void 0:t.clientWidth)&&void 0!==e?e:1,a=null!==(n=null==L||null===(r=L.current)||void 0===r?void 0:r.clientWidth)&&void 0!==n?n:0;D(o>a)}),[A,C,l]);var R=1e3/60,z=r?function(e){if(0===e.button){e.stopPropagation();var t,n,r=e.clientX,o=r,a=C-A,i=_-a,c=d(),s=c.getBoundingClientRect(),p=c.scrollLeft,f=0,h=-1,E=y(),x=!1,I=function(){x=!0,document.body.style.cursor="grabbing",t=Math.min(r,s.left+32),n=Math.max(r,s.right-32),E=function(){var e=0,r=-1,o=c.scrollLeft,s=c.scrollWidth,u=c.clientWidth,d=Math.max(0,Math.min(o,S*l)),m=Math.min(s-u,Math.max(o,(i+a)*l+z$-(u-z$)));function g(o){var a=Math.min(100,-1===r?R:o-r);if(r=o,-1!==h){var i=c.scrollLeft,l=i;if(i>0&&h<t){var y=-((t-h)/R)*a;l=Math.max(d,i+y)}else if(i+u<s&&h>n){var b=(h-n)/R*a;l=Math.min(m,i+b)}l!==i&&(c.scrollLeft=l,f=l-p,O(h,!1))}e=window.requestAnimationFrame(g)}return e=window.requestAnimationFrame(g),function(){return window.cancelAnimationFrame(e)}}(),g(!0)},T=setTimeout((function(){r=o,I()}),1500),O=function(e,t){o=e;var n=e-r;if(!x){if(Math.abs(n)<3)return;I(),clearTimeout(T)}var c=Math.max(S,Math.min(i,u(A+(n+f)/l))),s=w({start:c,end:c+a});m({start:s.start,end:s.end},s.start,t,!0)},k=function(e){h=e.clientX,e.stopImmediatePropagation(),O(e.clientX,!1)};document.addEventListener("mousemove",k),document.addEventListener("mouseup",(function e(t){clearTimeout(T),O(t.clientX,!0),document.body.style.cursor="",document.removeEventListener("mousemove",k),document.removeEventListener("mouseup",e),x?(E(),b()):v(t)}))}}:y(),U=function(e,t){if(0===e.button){e.stopPropagation(),g(!1);var n,r,o,c,s,p,f,h=e.clientX,y=d(),v=y.getBoundingClientRect(),w=Math.min(h,v.left+32),x=Math.max(h,v.right-32),I=y.scrollLeft,T=0,O=-1,k=UJ(t===fs.LEFT?[A,function(e,t){return m({start:e,end:C},e,t,!1)},Math.max(S,C-i),Math.max(S,C-a)]:[C,function(e,t){return m({start:A,end:e},e,t,!1)},Math.min(_,A+a),Math.min(_,A+i)],4),M=k[0],B=k[1],j=k[2],L=k[3],P=function(e,n){var r=M+(e-h+T)/l,o=Math.max(j,Math.min(L,u(r)));o=E(o,t),B(o,n)},N=(n=0,r=-1,o=y.scrollLeft,c=y.scrollWidth,s=y.clientWidth,p=Math.max(0,Math.min(o,j*l)),f=Math.min(c-s,Math.max(o,L*l+z$-(s-z$))),n=window.requestAnimationFrame((function e(t){var o=Math.min(100,-1===r?R:t-r);if(r=t,-1!==O){var a=y.scrollLeft,i=a;if(a>0&&O<w){var l=-(w-O)/R*o;i=Math.max(p,a+l)}else if(a+s<c&&O>x){var u=(O-x)/R*o;i=Math.min(f,a+u)}i!==a&&(y.scrollLeft=i,T=i-I,P(O,!1))}n=window.requestAnimationFrame(e)})),function(){return window.cancelAnimationFrame(n)}),D=function(e){O=e.clientX,e.stopImmediatePropagation(),P(e.clientX,!1)};document.body.style.cursor="col-resize",document.addEventListener("mousemove",D),document.addEventListener("mouseup",(function e(t){N(),P(t.clientX,!0),b(),document.body.style.cursor="",document.removeEventListener("mousemove",D),document.removeEventListener("mouseup",e)}))}};return h().createElement(h().Fragment,null,h().createElement(NJ,{format:t,style:{left:T,right:M},ref:j,onMouseDown:z,isDraggable:r,isDragging:p},B&&h().createElement(DJ,{format:t,isDragging:p}),h().createElement(RJ,{ref:L,format:t,visible:N},I)),!p&&h().createElement(h().Fragment,null,h().createElement(zJ,{format:t,left:!0,style:{right:O},onMouseDown:function(e){return U(e,fs.LEFT)},onClick:function(e){return e.stopPropagation()}}),h().createElement(zJ,{format:t,right:!0,style:{left:k},onMouseDown:function(e){return U(e,fs.RIGHT)},onClick:function(e){return e.stopPropagation()}})))};function VJ(){return(VJ=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var WJ=S("Timeline / ElementTiming");var GJ={overrideTrim:ps,removeOverrides:ms,setTrim:Ih};const YJ=(0,T.$j)((function(e){var t,n=e.overrides,r=hs(e),o=null!==(t=gs(e))&&void 0!==t?t:r.getMasterTimingElement();return{scene:r,selectedComposition:o,overrides:n,masterTiming:r.getMasterTiming()}}),GJ)(function(e){return function(t){return t.scene.ready&&h().createElement(e,VJ({},t,{"data-key":t["data-key"]}))}}((function(e){var t,n,r,o,a,i=e.scene,c=e.overrides,l=e.maxElementDuration,s=e.masterMaxDuration,u=e.selectedComposition,d=e.allowMasterTimingSelectionDrag,m=e.secWidthInPx,p=e.getScrollableContainer,g=e.getScrollableMasterContainer,y=e.toggleSource,b=e.onDragStart,v=e.onDragEnd,E=e.overrideTrim,w=e.removeOverrides,A=e.setTrim,C=e.staticParameters,S=e.currentPlayheadTime,_=e.masterTiming,x=e.siblingOverlays,I=e.onElementClick,O=e.snapSelectionTo,k=C.MIN_STICKER_DURATION,M=C.MIN_SCENE_DURATION,B=C.MAX_SCENE_DURATION,j=sE(i.id).player,L=(0,f.useCallback)((function(e,t,n,r){j.seek(t),n?(0,T.dC)((function(){w(),A(i.id,u.id,e)})):E(i,u.id,e,r)}),[j,w,A,u.id,E,i]),P=u.isMaster(),N=!i.getMediaElement(),D=c&&c["".concat(u.id,"@").concat(null==i?void 0:i.id)],R=null!==(t=null==D?void 0:D.isSegmentDragging)&&void 0!==t&&t,z=null!==(n=null==D?void 0:D.timing)&&void 0!==n?n:u.timing;P?(r={start:0,end:s},o=M,a=null!=l?l:B):(r=i.getMasterTiming(),o=k,a=null!=l?l:r.end-r.start);var U=null;P?U=jJ.Master:u.isSticker()?U=jJ.Sticker:WJ.error("Unexpected kind of composition element",u);var F=(0,f.useCallback)((function(e){j.pause(),b(),P&&!N&&y(!0),e&&E(i,u.id,z,!0)}),[j,b,P,N,y,E,i,u.id,z]),H=(0,f.useCallback)((function(){v(P),P&&!N&&y(!1)}),[P,N,v,y]);return U&&h().createElement(HJ,{format:U,timing:z,allowSelectionDrag:!P||d,constraints:r,maxSelection:a,minSelection:o,totalDuration:s,secWidthInPx:m,isDraggingSelection:R,setTiming:L,getNearestElementSnapTime:function(e,t){return u.isMaster()?e:function(e){var t=e.targetValue,n=e.playheadTime,r=e.secWidthInPx,o=e.selectedHandle,a=e.siblingOverlays,i=e.masterTiming,c=t,l=(c*r-I$)/r,s=(c*r+I$)/r;if(n<s&&n>l)return n;var u=o===fs.RIGHT?"end":"start";return[].concat(_$(a),[{timing:i,isMaster:function(){return!0}}]).every((function(e){if(e.isMaster()&&"end"===u){if(e.timing.end<s&&e.timing.end>l)return c=e.timing.end,!1}else if(e.timing.start<s&&e.timing.start>l)return c=e.timing.start,!1;return!0})),c}({targetValue:e,playheadTime:S.current,secWidthInPx:m,selectedHandle:t,siblingOverlays:x,masterTiming:_})},getNearestElementSnapTimeForSelection:O,onDragStart:F,onDragEnd:H,getScrollableContainer:P?g:p,onElementClick:I,"data-component-name":"ElementTiming"})})));function qJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ZJ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qJ(Object(n),!0).forEach((function(t){XJ(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qJ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function XJ(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KJ(){return(KJ=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function QJ(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return $J(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $J(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $J(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var JJ;!function(e){e[e.FOLLOW_PLAYER=0]="FOLLOW_PLAYER",e[e.FOLLOW_MASTER_START=1]="FOLLOW_MASTER_START",e[e.FOLLOW_MASTER_END=2]="FOLLOW_MASTER_END",e[e.FROZEN=3]="FROZEN"}(JJ||(JJ={}));var e0={selectMaster:yh},t0=(0,T.$j)((function(e,t){var n,r=t.scene,o=e.overrides,a=e.featureToggles,i=e.staticParameters,c=r.getMasterTimingElement(),l=null===(n=o["".concat(c.id,"@").concat(r.id)])||void 0===n?void 0:n.timing,s=gs(e),u=ys(e);return{isTimelineVisible:e.timeline.show,masterTimingOverrides:l,showTimelineTimingBarsFT:a.values.showTimelineTimingBars,staticParameters:i,selectedComposition:s,siblingOverlays:u}}),e0)(function(e){return function(t){return t.scene.ready&&h().createElement(e,KJ({},t,{"data-key":t["data-key"]}))}}((function(e){var t=e.scene,n=e.masterTimingOverrides,r=e.source,o=e.secWidthInPx,a=e.sceneMaxDuration,i=e.masterMaxDuration,c=e.showSource,l=e.fullSourceZoomLevel,s=e.toggleSource,d=e.scrollableContainerRef,m=e.showTimelineTimingBarsFT,p=e.staticParameters,g=e.selectedComposition,b=e.selectMaster,v=e.isTimelineVisible,E=e.siblingOverlays,w=t.getMasterTiming(),A=null!=n?n:w,C=QJ(function(e){var t=e.scrollableContainerRef,n=e.masterTiming,r=e.masterTimingOverrides,o=e.masterMaxDuration,a=e.secWidthInPx,i=e.fullSourceZoomLevel,c=(0,f.useRef)(null),l=(0,f.useRef)(a);return[function(e){if(e){var s=c.current,u=function(n,r){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(s.currentScroll=n,s.fullSource=o,e.style.transition=r?"transform .5s ease-out":"",e.style.transform="translateX(-".concat(n,"px)"),r){var a,i=null===(a=t.current)||void 0===a?void 0:a.querySelector(".os-viewport");i&&i.scrollLeft>0&&(i.scrollLeft=i.scrollWidth-i.clientWidth)}};if(!s){var d=function(){return t.current.querySelector(".os-viewport")};s={currentScroll:0,fullSource:i,masterTiming:{start:-1},getScrollable:function(){return{getBoundingClientRect:function(){return d().getBoundingClientRect()},get scrollLeft(){return s.currentScroll+d().scrollLeft},set scrollLeft(e){var t=d();e<s.currentScroll?(t.scrollLeft=0,u(e,!1)):e>s.currentScroll+t.scrollWidth-t.clientWidth?(t.scrollLeft=t.scrollWidth-t.clientWidth,u(e-t.scrollLeft,!1)):t.scrollLeft=e-s.currentScroll},get scrollWidth(){return o*l.current+64},get clientWidth(){return d().clientWidth}}}},c.current=s}var m=s.fullSource&&!i;if(r);else if(i)s.masterTiming=n,u(0,!1,!0);else if(m){var p=n.start*a;u(p,!1)}else if(n.start!==s.masterTiming.start||n.end!==s.masterTiming.end){var f=n.start!==s.masterTiming.start;s.masterTiming=n;var h=n.start*a;u(h,f)}else if(l.current!==a){var g=l.current;l.current=a;var y=Math.max(0,s.currentScroll);u(y/g*a,!1)}}},function(){return c.current.getScrollable()}]}({scrollableContainerRef:d,masterTiming:w,masterTimingOverrides:n,masterMaxDuration:i,secWidthInPx:o,fullSourceZoomLevel:l}),2),S=C[0],_=C[1],x=A.start,I=A.end,T=sE(t.id),O=T.onTimeUpdate,k=T.player,M=(0,f.useCallback)((function(e){if(0===e.button){k.pause();var t=e.clientX,n=k.currentTime,r=function(e){var r=e-t,a=Math.max(x,Math.min(I,u(n+r/o)));k.seek(a)},a=function(e){e.stopImmediatePropagation(),r(e.clientX)};document.body.style.cursor="grabbing",document.addEventListener("mousemove",a),document.addEventListener("mouseup",(function e(t){r(t.clientX),document.body.style.cursor="",document.removeEventListener("mousemove",a),document.removeEventListener("mouseup",e)}))}}),[k,o,x,I]),B=(0,f.useRef)(null),j=(0,f.useRef)(0),L=(0,f.useRef)(0),P=QJ((0,f.useState)(JJ.FOLLOW_PLAYER),2),N=P[0],D=P[1],R=(0,f.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.stickToCenter,r=void 0!==n&&n,a=t.scrollIntoViewIfNotVisible,i=void 0!==a&&a,c=t.paginatedScroll,l=void 0!==c&&c;function s(e){var t,n=null===(t=d.current)||void 0===t?void 0:t.querySelector(".os-viewport");if(n){var a=n.scrollLeft,c=n.scrollWidth,s=n.clientWidth,u=function(e){var t;t="left"in e?e.left-32:"center"in e?e.center-s/2:e.right-(s-32),n.scrollLeft=Math.min(c-s,Math.max(0,t))},m=e+-w.start*o+32;if(r)u({center:m});else if(i){(m<a||m>a+s)&&u(l?{left:m}:{center:m})}}}var u=B.current;j.current=e;var m=Math.round(e*o),p=L.current!==m;if(p){u.style.transform="translateX(".concat(m,"px)"),L.current=m;var f=r||i;f&&s(m)}}),[d,w.start,o]);(0,f.useLayoutEffect)((function(){if(N!==JJ.FOLLOW_PLAYER)return y();var e=function(e){return R(e,{scrollIntoViewIfNotVisible:v,stickToCenter:!v,paginatedScroll:!k.paused})};e(k.currentTime);var t=O(e);return function(){return t()}}),[k,O,R,N,v]),(0,f.useLayoutEffect)((function(){var e=j.current;N===JJ.FROZEN?e>I?(R(I),D(JJ.FOLLOW_MASTER_END)):e<x&&(R(x),D(JJ.FOLLOW_MASTER_START)):N===JJ.FOLLOW_MASTER_END?R(I):N===JJ.FOLLOW_MASTER_START&&R(x)}),[x,I,N,R,j]);var z=function(){var e;null!=g&&g.isSticker()?(e={name:Ti,product:Si,location:ba,version:2,flow:fa.flow,clip_id:-1!==Jo.vsid?"".concat(Jo.vsid):null,test_layout:null},gi(Ti,e)):function(){var e={name:Ii,product:Si,location:Ea,version:2,flow:fa.flow,clip_id:-1!==Jo.vsid?"".concat(Jo.vsid):null,test_layout:null};gi(Ii,e)}(),D(JJ.FROZEN)},U=(0,f.useCallback)((function(e){e||k.seek(j.current),D(JJ.FOLLOW_PLAYER)}),[k]),F=(0,f.useRef)(null),H=function(e){var t=e.clientX,n=F.current.getBoundingClientRect().left,r=Math.min(I,Math.max(x,u((t-n)/o)));k.pause(),k.seek(r)},V=function(){return d.current.querySelector(".os-viewport")},W=function(e){return function(e){var t=e.targetTiming,n=e.playheadTime,r=e.secWidthInPx,o=e.siblingOverlays,a=e.masterTiming,i=t.end-t.start,c=(t.start*r-I$)/r,l=(t.start*r+I$)/r,s=(t.end*r-I$)/r,u=(t.end*r+I$)/r;if(n<l&&n>c)return{start:n,end:n+i};if(n<u&&n>s)return{end:n,start:n-i};var d=[].concat(_$(o),[{timing:a,isMaster:function(){return!0}}]),m=t;return d.every((function(e){if(e.isMaster()){if(e.timing.start<l&&e.timing.start>c)return m={start:e.timing.start,end:e.timing.start+i},!1;if(e.timing.end<u&&e.timing.end>s)return m={start:e.timing.end-i,end:e.timing.end},!1}else{if(e.timing.start<l&&e.timing.start>c)return m={start:e.timing.start,end:e.timing.start+i},!1;if(e.timing.start<u&&e.timing.start>s)return m={start:e.timing.start-i,end:e.timing.start},!1}return!0})),m}({targetTiming:e,playheadTime:j.current,secWidthInPx:o,siblingOverlays:E,masterTiming:w})};return h().createElement("div",{ref:S,onMouseDown:H,"data-component-name":"TimelineStripImpl"},h().createElement(U$,{secWidthInPx:o}),m&&h().createElement(PJ,{scene:t,secWidthInPx:o,duration:i}),h().createElement(F$,{ref:B,onMouseDown:M}),h().createElement(nJ,{secWidthInPx:o,getScrollableContainer:V,onDragStart:z,onDragEnd:U,snapSelectionTo:W}),h().createElement(_J,{ref:F,secWidthInPx:o,source:r,start:x,end:I,totalDuration:i,showSource:c,onMouseDown:function(){b(t.id)}},h().createElement(YJ,{allowMasterTimingSelectionDrag:l,masterMaxDuration:i,maxElementDuration:a,secWidthInPx:o,onDragStart:z,onDragEnd:U,toggleSource:s,getScrollableContainer:V,getScrollableMasterContainer:_,staticParameters:p,currentPlayheadTime:j,snapSelectionTo:W,siblingOverlays:E,onElementClick:H})),h().createElement(sJ,{start:l?0:x,masterMaxDuration:i,secWidthInPx:o}))}))),n0=(0,f.forwardRef)((function(e,t){var n=e.scene,r=e.source,o=e.masterMaxDuration,a=e.sceneMaxDuration,i=e.setZoom,c=e.zoom,l=(0,T.I0)(),s=n.getMasterTiming(),u=s.end-s.start,d=(0,f.useRef)(null),m=c.levels[c.current],p=(0,f.useRef)(m),g=(null!=m?m:{}).secWidthInPx,b=void 0===g?-1:g,v=(0,f.useRef)(0),E=(0,f.useCallback)((function(e){return i((function(t){var r,o=d.current.querySelector(".os-viewport");v.current=null!==(r=null==o?void 0:o.scrollLeft)&&void 0!==r?r:0,p.current=m;var a="function"==typeof e?e(t):e,i=a.levels[a.current];return null!=i&&i.fullSource&&l(yh(n.id)),a}))}),[i,l,n.id,m]);(0,f.useImperativeHandle)(t,(function(){return{setZoom:function(e){E((function(t){return ZJ(ZJ({},t),{},{current:e})}))}}}),[E]);var w=(0,f.useCallback)((function(e){var t=function(e,t){return[{secWidthInPx:e/t,fullSource:!0},{secWidthInPx:e/15,fullSource:!1}]}(d.current.clientWidth-64,o);E({levels:t,current:e})}),[o,E]);(0,f.useEffect)((function(){w(N$.MaxZoom)}),[]),(0,f.useEffect)((function(){if(null==m||!m.fullSource)return y();var e=CA()((function(){return w(N$.FullSource)}));return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[null==m?void 0:m.fullSource,w]);var A=c.current!==N$.NotInitialized,C=sE(n.id).player;(0,f.useLayoutEffect)((function(){var e=p.current,t=v.current;if(e){var n=function(e){return(C.currentTime-(e.fullSource?0:s.start))*e.secWidthInPx},r=n(e),o=n(m),a=Math.max(0,o-(r-t));d.current.querySelector(".os-viewport").scrollLeft=a}}),[m]);var S=QJ((0,f.useState)(!1),2),_=S[0],x=S[1];return h().createElement(H$,{ref:d,"data-component-name":"Timeline"},A&&n.ready&&h().createElement(lP,{scrollY:!1,alwaysShowScrollbars:!0,style:{flex:"1 1",padding:"0",height:"100%",width:"100%"}},h().createElement("div",{style:{boxSizing:"content-box",width:u*b,padding:"0 ".concat((0,We.rem)(z$)),minWidth:"calc(100% - ".concat((0,We.rem)(64),")"),overflow:"hidden"}},h().createElement(t0,{scene:n,source:r,secWidthInPx:b,sceneMaxDuration:a,masterMaxDuration:o,showSource:_||!(null==m||!m.fullSource),fullSourceZoomLevel:!(null==m||!m.fullSource),toggleSource:x,scrollableContainerRef:d}))))})),r0=function(){return h().createElement(H$,{"data-component-name":"UnreadyTimeline"},h().createElement(W$,null,h().createElement(NE,{size:"md"})),h().createElement(dJ,null))},o0=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"PaneViewport ".concat(e["data-component-name"]):"PaneViewport"}})).withConfig({displayName:"timeline-panestyle__PaneViewport",componentId:"jq0i3n-0"})(["position:absolute;bottom:0;z-index:",";height:",";width:100%;padding:0;overflow:hidden;pointer-events:none;> *{pointer-events:auto;}"],sL.Timeline,(0,We.rem)(zX)),a0=(0,Ge.default)(RX.q.div).attrs((function(e){return{"data-component-name":e["data-component-name"]?"AnimatedPaneContent ".concat(e["data-component-name"]):"AnimatedPaneContent"}})).withConfig({displayName:"timeline-panestyle__AnimatedPaneContent",componentId:"jq0i3n-1"})(["height:100%;width:100%;background-color:#fff;padding:0;display:flex;flex-direction:column;"]),i0=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"PaneBar ".concat(e["data-component-name"]):"PaneBar"}})).withConfig({displayName:"timeline-panestyle__PaneBar",componentId:"jq0i3n-2"})(["flex:0 0 auto;height:",";display:flex;flex-direction:row;padding:"," "," ",";"],(0,We.rem)(51),(0,We.rem)(11),(0,We.rem)(16),(0,We.rem)(8)),c0=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"PaneBarLeft ".concat(e["data-component-name"]):"PaneBarLeft"}})).withConfig({displayName:"timeline-panestyle__PaneBarLeft",componentId:"jq0i3n-3"})(["flex:0 1 auto;width:50%;display:flex;flex-direction:row;"]),l0=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"PaneBarRight ".concat(e["data-component-name"]):"PaneBarRight"}})).withConfig({displayName:"timeline-panestyle__PaneBarRight",componentId:"jq0i3n-4"})(["flex:0 1 auto;width:50%;display:flex;flex-direction:row-reverse;"]),s0=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"PaneBarCenter ".concat(e["data-component-name"]):"PaneBarCenter"}})).withConfig({displayName:"timeline-panestyle__PaneBarCenter",componentId:"jq0i3n-5"})(["flex:0 0 0;display:flex;flex-direction:row;align-items:center;"]),u0=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"ActionsContainer ".concat(e["data-component-name"]):"ActionsContainer"}})).withConfig({displayName:"timeline-panestyle__ActionsContainer",componentId:"jq0i3n-6"})(["display:flex;& > div{margin-left:",";}"],(0,We.rem)(6));function d0(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m0(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m0(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m0(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p0={hideTimeline:ud,setSceneAutoDuration:function(e,t){return function(n,r){var o=r().storyBoard.scenes.find((function(t){return t.id===e}));(0,T.dC)((function(){n(Jf(e)),o.isStatic()&&(n(ng({sceneId:e,autoDuration:t})),n(tg({sceneId:e,isOverlayTimingEqMasterTiming:t}))),n(Kh(e))}))}},showAlertNotification:td};const f0=(0,T.$j)((function(e){var t=e.staticParameters,n=e.storyBoard.scenes,r=hs(e),o=r.ready?r.getMediaElement():null,a=o?e.storyBoard.sources[o.sourceHash]:null,i=r.ready?function(e,t,n){return e.isStatic()?n.MAX_SCENE_DURATION:t.duration}(r,a,t):0,c=r.ready?function(e,t,n,r){var o=r.AROLL_PART_DURATION,a=r.MAX_SCENE_DURATION;return e.isBRoll?function(e){var t=e.aRollId,n=e.bRollId,r=e.scenes,o=e.aRollPartDuration,a=0,i=0;return r.forEach((function(e){e.id===t?a=e.getDuration():e.aRollId===t&&e.id!==n&&(i+=e.getDuration())})),a-i-o}({aRollId:e.aRollId,bRollId:e.id,scenes:n,aRollPartDuration:o}):e.isStatic()?a:t.duration}(r,a,n,t):0;return{show:e.timeline.show,selectedScene:r,mediaSource:a,masterMaxDuration:i,sceneMaxDuration:c}}),p0)((function(e){var t,n,r,o=e.show,a=e.selectedScene,i=e.mediaSource,c=e.sceneMaxDuration,l=e.masterMaxDuration,s=e.hideTimeline,u=e.setSceneAutoDuration,d=e.showAlertNotification,m=!!a.ready,p=d0((0,f.useState)(R$),2),g=p[0],y=p[1];(0,f.useEffect)((function(){m||y(R$)}),[m]);var b=(0,f.useRef)(null),v=!a.isStatic(),E=(0,RX.q_)({transform:"translateY(".concat(o?(0,We.rem)(0):(0,We.rem)(zX),")")}),w=a.ready?a.autoDuration:null===(t=null===(n=a.replacedScene)||void 0===n?void 0:n.autoDuration)||void 0===t||t,A=(0,f.useCallback)((function(){d({title:oe.AutoDuration,content:oe.AutoDurationDialogBody,primaryBtnConfig:{caption:a.autoDuration?oe.AutoDurationDialogDisable:oe.AutoDurationDialogEnable,callback:function(){u(a.id,!a.autoDuration)}},secondaryBtnConfig:{caption:oe.Cancel,callback:function(){},closeNotificationOnClick:!0},context:"EDITOR_GLOBAL"})}),[d,u,a.id,a.autoDuration]);return h().createElement(o0,{"data-component-name":"TimelinePane"},h().createElement(a0,{style:E},h().createElement(i0,null,h().createElement(c0,null),h().createElement(s0,null),h().createElement(l0,null,h().createElement(Tv,{onClick:function(){Li({name:"vimeo.click_on_timeline_done",product:Si,location:ba,version:1,test_layout:null},!1,["lang"]),s()},size:"sm",title:""},oe.Done),h().createElement(d$,null),m&&h().createElement(u0,null,v&&h().createElement(JL,{tooltipText:oe.StoryboardTooltipToTrimMode,onClick:function(){b.current.setZoom(g.current===N$.FullSource?N$.MaxZoom:N$.FullSource)},iconReactComponent:h().createElement(T$,{active:g.current===N$.FullSource}),size:"sm",format:"transparent"}),a.isStatic()&&h().createElement(JL,{tooltipText:oe.AutoDuration,onClick:A,iconReactComponent:w?h().createElement(B$,{active:!0}):h().createElement(O$,null),size:"sm",format:"transparent"})))),m?h().createElement(n0,{ref:b,key:r=a.id,"data-key":r,scene:a,setZoom:y,zoom:g,source:i,masterMaxDuration:l,sceneMaxDuration:c}):h().createElement(r0,null)))}));function h0(e){var t=e.disable;return h().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","data-component-name":"Redo"},h().createElement("path",{fill:t?"#B3BFC8":"#1A2E3B",d:"M18.582 10.992l-5.293 5.293 1.414 1.415 7-7c.39-.391.39-1.024 0-1.415l-7-6.995-1.414 1.415 5.292 5.288h-6.585C6.113 8.993 3 12.108 3 17.994v3.001h2v-3c0-4.783 2.218-7.003 6.996-7.003h6.586z"}))}function g0(){return h().createElement("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block","data-component-name":"RenameIconSVG"},h().createElement("path",{d:"M21.414 15.5962L24.2425 18.4246",stroke:"#B3BFC8",strokeWidth:"2",strokeLinecap:"square"}),h().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23.889 12.4142C24.6701 11.6332 25.9364 11.6332 26.7174 12.4142L28.1316 13.8284C28.9127 14.6095 28.9127 15.8758 28.1316 16.6569L17.525 27.2635L12.5753 27.9706L13.2824 23.0208L23.889 12.4142Z",stroke:"#B3BFC8",strokeWidth:"2",strokeLinejoin:"round"}))}function y0(e){var t=e.disable;return h().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","data-component-name":"Undo"},h().createElement("path",{fill:t?"#B3BFC8":"#1A2E3B",d:"M6.414 10.992l5.293 5.293-1.414 1.415-7-7c-.39-.391-.39-1.024 0-1.415l7-6.995 1.414 1.415-5.292 5.288H13c5.883 0 8.996 3.115 8.996 9.001v3.001h-2v-3c0-4.783-2.218-7.003-6.996-7.003H6.414z"}))}var b0=Ge.default.p.attrs((function(e){return{"data-component-name":e["data-component-name"]?"IsTestWarningLabel ".concat(e["data-component-name"]):"IsTestWarningLabel"}})).withConfig({displayName:"main-app-headerstyle__IsTestWarningLabel",componentId:"sc-930bjw-0"})(["color:red;font-weight:bold;position:absolute;top:30px;left:19px;"]),v0=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"ProjectTitleEditWrapper ".concat(e["data-component-name"]):"ProjectTitleEditWrapper"}})).withConfig({displayName:"main-app-headerstyle__ProjectTitleEditWrapper",componentId:"sc-930bjw-1"})(["display:inline-flex;cursor:pointer;margin:0px 8px;float:left;white-space:nowrap;max-width:45%;"]),E0=Ge.default.span.attrs((function(e){return{"data-component-name":e["data-component-name"]?"ProjectTitle ".concat(e["data-component-name"]):"ProjectTitle"}})).withConfig({displayName:"main-app-headerstyle__ProjectTitle",componentId:"sc-930bjw-2"})(["align-self:flex-start;line-height:26px;margin-right:9px;"," font-size:14px;text-overflow:ellipsis;overflow:hidden;padding-left:10px;display:inline-block;align-self:center;"],(function(e){return e.unwrapped&&(0,Ge.css)(["margin-left:8px;"])})),w0=(0,Ge.default)(_k).attrs((function(e){return{"data-component-name":e["data-component-name"]?"DurationThresholdExceededProLabel ".concat(e["data-component-name"]):"DurationThresholdExceededProLabel"}})).withConfig({displayName:"main-app-headerstyle__DurationThresholdExceededProLabel",componentId:"sc-930bjw-3"})(["margin-left:4px;display:flex;align-self:center;cursor:pointer;"]),A0=(0,Ge.default)(JL).attrs((function(e){return{"data-component-name":e["data-component-name"]?"UndoBtn ".concat(e["data-component-name"]):"UndoBtn"}})).withConfig({displayName:"main-app-headerstyle__UndoBtn",componentId:"sc-930bjw-4"})(["margin-right:",";"],(0,We.rem)(14)),C0=(0,Ge.default)(JL).attrs((function(e){return{"data-component-name":e["data-component-name"]?"RedoBtn ".concat(e["data-component-name"]):"RedoBtn"}})).withConfig({displayName:"main-app-headerstyle__RedoBtn",componentId:"sc-930bjw-5"})([""]),S0=(0,Ge.default)(Iv).attrs((function(e){return{"data-component-name":e["data-component-name"]?"PreviewButton ".concat(e["data-component-name"]):"PreviewButton"}})).withConfig({displayName:"main-app-headerstyle__PreviewButton",componentId:"sc-930bjw-6"})(["float:right;margin-left:",";"],(0,We.rem)(20));function _0(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return x0(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x0(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x0(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var I0=function(e){var t=e.value,n=void 0===t?"":t,r=e.sessionId,o=e.onChange,a=_0(TA(!1),2),i=a[0],c=a[1];return h().createElement(h().Fragment,null,h().createElement(v0,{onClick:function(){c(!0),Ei("click",ha,Qa,{clip_id:r,location:"preview"})}},h().createElement(E0,null,n),h().createElement(uV,{tooltipText:oe.Edit,iconReactComponent:h().createElement(g0,null),attachLocation:"bottom"})),i&&h().createElement(Qx,{withCounter:!0,maxChars:70,isOpened:i,setIsOpened:c,header:oe.VideoTitleModalDraft,placeHolder:oe.VideoTitleModalInputPlaceholder,approvalButtonText:oe.OK,onSaveAndClose:function(e){o(e),c(!1)},getModalStyle:JI,existingValue:n}))};var T0={undo:Kd,redo:Qd};const O0=(0,T.$j)((function(e){var t=e.storyBoard,n=t.projectName,r=t.vsid,o=t.movieLength,a=t.scenes,i=e.featureToggles.values,c=i.showVimeoRibbonOnHeader,l=i.useTestAssets,s=i.showDurationThresholdExceededProLabel,u=i.isCoreFlow,d=!!a.find((function(e){return!e.ready||Object.values(e.composition).find((function(e){return e.type===_s&&!e.ready}))}));return{projectName:n,vsid:r,movieLength:o,showVimeoRibbonOnHeader:c,useTestAssets:l,showDurationThresholdExceededProLabel:s,isCoreFlow:u,undoEnabled:cl(e),redoEnabled:ll(e),isUploading:d}}),T0)((function(e){var t=e.showDurationThresholdExceededProLabel,n=e.showVimeoRibbonOnHeader,r=e.useTestAssets,o=e.projectName,a=e.isCoreFlow,i=e.vsid,c=e.movieLength,l=e.durationThreshExceed,u=e.movieDurationAccountThreshold,d=e.trackLocation,m=e.undo,p=e.redo,g=e.player,y=e.undoEnabled,b=e.redoEnabled,v=e.isUploading,E=e.onPreviewClick,w=e.waitForDurationUpdate,A=(0,T.v9)((function(e){return e.partnerConfig})),C=(0,f.useMemo)((function(){return h().createElement(h().Fragment,null,h().createElement(A0,{tooltipText:oe.Undo,iconReactComponent:h().createElement(y0,{disable:!y}),attachLocation:"bottom",onClick:function(){m(g)},format:"transparent",size:"md",disabled:!y}),h().createElement(C0,{tooltipText:oe.Redo,iconReactComponent:h().createElement(h0,{disable:!b}),attachLocation:"bottom",onClick:function(){p(g)},format:"transparent",size:"md",disabled:!b}))}),[y,b,m,p,g]),S=(0,f.useMemo)((function(){return h().createElement(S0,{format:"primary",disabled:v,onClick:E,isLoading:w,"data-component-name":"previewButton"},oe.SaveAndPreview)}),[E,w,v]),_=(0,T.v9)((function(e){return e.userCapabilities.capabilities.hasMaxDuration})),x=_.allowed,I=_.tier||{},O=I.text,k=I.name,M=!x&&t,B=(0,f.useCallback)((function(){wi(),Gc.onLogoClick()}),[]),j=o&&""!==o.trim()?o:"Untitled";return A.iframeMode?h().createElement(sS,{location:ba,"data-component-name":"MainAppHeader"},C,S):h().createElement(ot,{showVimeoRibbonBar:n,"data-component-name":"MainAppHeader"},h().createElement(at,null,A.logo({onClick:B}),r&&h().createElement(b0,null,"test assets enabled"),a?h().createElement(E0,{unwrapped:!0},j):h().createElement(I0,{value:j,onChange:function(e){return Cp.publish(Ep,{newTitle:e})},sessionId:i})),h().createElement(ct,null,"".concat(oe.VideoDuration," ").concat(s(c)),M&&l&&h().createElement(z_.TooltipOverlay,{tooltipText:oe.FreeDurationThresholdExceedLabelTooltip(u),attachment:"left",zIndexOverride:"12"},h().createElement(w0,{labelText:O,tier:k,capabilityName:"duration",onClick:function(){Pi({location:d,pro_feature:"length"})}}))),h().createElement(it,null,C,S))}));var k0=Ge.default.div.attrs({className:"stage-inspector-wrapper"}).attrs((function(e){return{"data-component-name":e["data-component-name"]?"StageInspectorWrapper ".concat(e["data-component-name"]):"StageInspectorWrapper"}})).withConfig({displayName:"main-pagestyle__StageInspectorWrapper",componentId:"vak0y4-0"})(["display:flex;flex:1 1 auto;padding:"," "," "," ",";background-color:#e3e8e9;max-height:calc(100% - ",");overflow:auto;"],(0,We.rem)(16),(0,We.rem)(16),(0,We.rem)(16),(0,We.rem)(20),(0,We.rem)(zX)),M0=((0,We.rem)(16),Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"CompositionControlsWrapper ".concat(e["data-component-name"]):"CompositionControlsWrapper"}})).withConfig({displayName:"main-pagestyle__CompositionControlsWrapper",componentId:"vak0y4-2"})(["width:0;height:0;"])),B0=Ge.default.div.attrs((function(e){return{"data-component-name":e["data-component-name"]?"AddSceneMenuPlaceholder ".concat(e["data-component-name"]):"AddSceneMenuPlaceholder"}})).withConfig({displayName:"main-pagestyle__AddSceneMenuPlaceholder",componentId:"vak0y4-3"})(["width:0;height:0;"]),j0=(0,Ge.css)(["bottom:",";z-index:10;"],(0,We.rem)(11));function L0(e,t,n,r,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,o)}function P0(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){L0(a,r,o,i,c,"next",e)}function c(e){L0(a,r,o,i,c,"throw",e)}i(void 0)}))}}function N0(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return D0(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D0(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D0(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var R0=!1;var z0={markSelected:gh,updateStoryboardProjectName:rh,selectScene:hh,showAlertNotification:td,undo:Kd,redo:Qd,clearUndoRedoHistory:$d,refreshStoryboard:sh};const U0=(0,T.$j)((function(e){var t=e.storyBoard,n=e.featureToggles,r=e.activePopover,o=e.crayons,a=t.movieDurationAccountThreshold,i=t.lastRevision,c=t.storyboardStatus,l=t.durationThreshExceed,s=e.staticParameters,u=s.MIN_MOVIE_DURATION,d=s.MAX_MOVIE_DURATION;return{storyboard:t,selectedScene:hs(e),selectedComposition:gs(e),crayons:o,lastRevision:i,storyboardStatus:c,ladyBugFT:n.values.ladyBug,movieDurationAccountThreshold:a,durationThreshExceed:l,MIN_MOVIE_DURATION:u,MAX_MOVIE_DURATION:d,closePopover:null==r?void 0:r.closeHandler,undoEnabled:cl(e),redoEnabled:ll(e),isCoreFlow:e.featureToggles.values.isCoreFlow}}),z0)((function(e){var t,n=e.storyboard,r=e.selectedScene,o=e.selectedComposition,a=e.durationThreshExceed,i=e.movieDurationAccountThreshold,c=e.lastRevision,l=e.storyboardStatus,s=e.markSelected,u=e.updateStoryboardProjectName,d=e.ladyBugFT,m=e.selectScene,p=e.vimeoSharePrivacies,g=e.locale,y=e.facebookPermissionsCheck,b=e.MIN_MOVIE_DURATION,v=e.MAX_MOVIE_DURATION,E=e.showAlertNotification,w=e.undo,A=e.redo,C=e.clearUndoRedoHistory,_=e.refreshStoryboard,x=e.closePopover,I=e.isCoreFlow,O=e.userId,k=e.isShopifyUser,M=e.teamOwnerId,B=N0((0,f.useState)({showRenderScreen:l===zf,renderAlreadyStarted:l===zf,removingWatermark:!1,renderAttemptKey:Date.now()}),2),j=B[0],L=j.showRenderScreen,P=j.renderAlreadyStarted,N=j.removingWatermark,D=j.renderAttemptKey,R=B[1],z=(0,T.I0)(),U=JE("editor").init,F=function(e){var t=S("useFolderAPI"),n="Vimeo Create",r="vc_last_folder_uri_".concat(e),o=dw((0,f.useState)(!1),2),a=o[0],i=o[1],c=dw((0,f.useState)(!1),2),l=c[0],s=c[1],u=dw(aw(r,null),2),d=u[0],m=u[1],p=dw((0,f.useState)(null),2),h=p[0],g=p[1],y=(0,T.v9)((function(e){return qe(e,"featureToggles.values.isCreateFirstTimeUser",!1)})),b=function(e){m(e),g(e)},v=function(e,t){for(var r=e.length,o=null,a=0;a<r;a++){var i=e[a];if(t&&i.uri===t){o=i.uri;break}i.name===n&&(o=i.uri)}return o},E=function(){var t=uw(regeneratorRuntime.mark((function t(n,r){var o,a,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ew("post",r||e,{name:n});case 2:if(a=t.sent,!(i=null==a||null===(o=a.data)||void 0===o?void 0:o.uri)){t.next=6;break}return t.abrupt("return",i);case 6:throw new Error("error creating folder");case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),w=function(){var t=uw(regeneratorRuntime.mark((function t(r){var o,a,i,c,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ew("get",e);case 2:if(a=t.sent,!(i=null==a||null===(o=a.data)||void 0===o?void 0:o.data)){t.next=12;break}if(c=i.length,!(l=v(i,r))){t.next=9;break}return t.abrupt("return",l);case 9:if(!(y||c<1)){t.next=11;break}return t.abrupt("return",E(n).then((function(e){return b(e),e})));case 11:return t.abrupt("return",null);case 12:throw new Error("error in getting folders from API");case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),A=function(){var t=uw(regeneratorRuntime.mark((function t(r){var o,a,i,c,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ew("get",r);case 2:return a=t.sent,t.next=5,lw().getTeam(e,r);case 5:if(i=t.sent,!(c=null==a||null===(o=a.data)||void 0===o?void 0:o.data)){t.next=17;break}if(0!==c.length){t.next=13;break}if("Admin"!==i.user_role){t.next=12;break}return t.abrupt("return",E(n,r).then((function(e){return e})));case 12:return t.abrupt("return",null);case 13:if(!(l=c.find((function(e){return e.is_private_to_user})))||null==l||!l.uri){t.next=16;break}return t.abrupt("return",l.uri);case 16:return t.abrupt("return",(s=void 0,null==(s=c.reduce((function(e,t){return new Date(e.modified_time)>new Date(t.modified_time)?e:t})))?void 0:s.uri));case 17:throw new Error("error in getting Owner folders from API");case 18:case"end":return t.stop()}var s}),t)})));return function(e){return t.apply(this,arguments)}}(),C=function(){var n=uw(regeneratorRuntime.mark((function n(r,o){var a,i,c,l;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,tw("get",r);case 2:if(c=n.sent,!(l=(null==c||null===(a=c.data)||void 0===a||null===(i=a.parent_project)||void 0===i?void 0:i.uri)||"/users/".concat(o||e))){n.next=7;break}return b(l),n.abrupt("return",l);case 7:throw t.error("Error getting existing folder uri"),new Error("Error getting existing folder uri");case 9:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}();return{folderUri:h,setFolderUri:function(){var e=uw(regeneratorRuntime.mark((function e(r){var o,a,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=new URL(document.location).searchParams,!(a=o.get("vid"))){e.next=8;break}return e.next=5,C(a,r);case 5:e.t0=e.sent,e.next=9;break;case 8:e.t0=null;case 9:if(c=e.t0,i(!1),g(null),a||!r){e.next=14;break}return e.abrupt("return",A(r).then((function(e){return e?(b(e),e):(s(!0),null)})).catch((function(){throw i(!0),t.error("Folders API error - in Teams flow"),new Error("Folders API error - in Teams flow")})));case 14:if(!a||!c){e.next=16;break}return e.abrupt("return",c);case 16:return e.abrupt("return",w(d).then((function(e){return e?(b(e),e):E(n).then((function(e){return b(e),e}))})).catch((function(e){throw i(!0),e})));case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),error:a,showNoSharedFolderModal:l,setShowNoSharedFolderModal:s}}(O),H=F.setFolderUri,V=F.showNoSharedFolderModal,W=F.setShowNoSharedFolderModal,G=sE(null==r?void 0:r.id).player,Y=(0,T.v9)((function(e){return e.userCapabilities.isUpsellBlocker})),q=(0,f.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.removeWatermark,n=void 0!==t&&t;R({showRenderScreen:!0,renderAlreadyStarted:!1,renderAttemptKey:Date.now(),removingWatermark:n})}),[]),Z=(0,f.useCallback)((function(){R({showRenderScreen:!1,renderAlreadyStarted:!1,removingWatermark:!1,renderAttemptKey:Date.now()})}),[]),X=Z,K=!L,Q=N0((0,f.useState)(null),2),$=Q[0],J=Q[1];(0,f.useEffect)((function(){$&&E({title:$.title,content:$.msgText,primaryBtnConfig:{caption:$.actionText,callback:$.callback},context:"EDITOR_GLOBAL"})}),[$,E]);var ee=(0,T.v9)((function(e){return e.partnerConfig})),te=(0,T.v9)((function(e){var t;return null!==(t=e.featureToggles.values.facebookContext)&&void 0!==t&&t})),ne=ee.name||te,re="story_screen",ae=N0((0,f.useState)(null),2),ie=ae[0],ce=ae[1],le=(0,f.useCallback)((function(e){null!==e&&ce(e)}),[]),se=N0((0,f.useState)(null),2),ue=se[0],de=se[1],me=(0,f.useCallback)((function(e){null!==e&&de(e)}),[]);(0,f.useEffect)((function(){var e;e=u,R0||(R0=!0,Cp.subscribe(Ep,(function(t){var n=t.newTitle;e(n)})))}),[u]);var pe=N0(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:UC,t=(0,T.v9)((function(e){return e.storyBoard})),n=t.vsid,r=t.videoBranding,o=(0,T.v9)((function(e){return e.staticParameters})).BRAND_DEFAULT_COLORS,a=(0,T.I0)(),i=(0,f.useCallback)((function(t){a(Ah(t)),e()}),[a,e]),c=RC(DC({loadDataOnStart:!1,checkForConflicts:!1,vsid:n,storyBoardBranding:r,onBrandingSaved:i,defaultValues:{defaultColorPrimary:o.primary,defaultColorSecondary:o.secondary,defaultColorDefault:o.default}}),3),l=c[0],s=c[1],u=c[2];return[h().createElement(h().Fragment,null,l,s),u]}(),2),fe=pe[0],he=pe[1];Wv({onKeydown:(0,f.useCallback)((function(e){(e.ctrlKey||e.metaKey)&&(90===e.which?e.shiftKey?(e.preventDefault(),A(G)):(e.preventDefault(),w(G)):fw.isMac||89!==e.which||(e.preventDefault(),A()))}),[G,A,w])});var ge=N0((0,f.useState)(!1),2),ye=ge[0],be=ge[1],ve=(0,f.useCallback)(P0(regeneratorRuntime.mark((function e(){var t,r,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=function(e){var t;return 1330===(null===(t=e.data)||void 0===t?void 0:t.errcode)?{title:oe.EditorSaveRenderPreviewOnSetErrorRevisionTitle,msgText:oe.EditorSaveRenderPreviewOnSetErrorRevisionBody,actionText:oe.EditorSaveRenderPreviewOnSetErrorRevisionAction,callback:function(){return _(n.videoHash,n.vsid)}}:{title:oe.EditorSaveRenderPreviewOnSetErrorGeneralTitle,msgText:"".concat(oe.EditorSaveRenderPreviewOnSetErrorGeneralBody),actionText:oe.EditorSaveRenderPreviewOnSetErrorGeneralAction,callback:function(){}}},e.prev=1,e.next=4,H(M);case 4:return r=e.sent,e.next=7,U(n,r,k);case 7:if(o=e.sent){e.next=10;break}throw new Error("Error creating a video in Core Flow");case 10:C(),Gc.toVideo({videoId:o}),z(dh()),e.next=22;break;case 15:if(e.prev=15,e.t0=e.catch(1),!(!e.t0||e.t0.message&&"Network Error"===e.t0.message||e.t0.response&&e.t0.response.status>=500)){e.next=19;break}return e.abrupt("return",setTimeout((function(){return ve()}),1e3));case 19:a=t(e.t0),J(a),z($f(Uf));case 22:return e.abrupt("return",(function(){}));case 23:case"end":return e.stop()}}),e,null,[[1,15]])}))),[C,z,k,_,U,H,n,M]),Ee=(0,f.useCallback)(P0(regeneratorRuntime.mark((function e(){var t,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=I&&!ne,r=n.movieLength===b,o=n.movieLength>v,t&&W(!1),!r&&!o){e.next=7;break}return E({title:r?oe.VideoTooShortTitle:oe.VideoTooLongTitle,content:r?oe.VideoTooShortBody:oe.VideoTooLongBody(v/60)}),e.abrupt("return");case 7:return Li({name:"save_preview_from_editor",product:Si,location:ba,flow:fa.flow,template_name:null,preview_id:null,version:5},!0),e.next=10,zc.onSaveAndPreview({durationThreshold:i,durationThresholdExceeded:n.durationThreshExceed});case 10:if(m({id:n.scenes[0].id}),!t){e.next=16;break}z($f(Hf)),ve(),e.next=22;break;case 16:if(!I){e.next=21;break}return n.vimeoVideo=1,e.next=20,H(M);case 20:n.folderUri=e.sent;case 21:q();case 22:case"end":return e.stop()}}),e)}))),[I,ne,n.movieLength,n.durationThreshExceed,n.scenes,n.vimeoVideo,n.folderUri,b,v,i,m,W,E,z,ve,q,H,M]);(0,f.useEffect)((function(){ye&&!n.outdatedMovieLength&&(be(!1),Ee())}),[n.outdatedMovieLength,ye,Ee]);var we=(0,f.useCallback)((function(){n.outdatedMovieLength?be(!0):Ee()}),[Ee,n.outdatedMovieLength]),Ae=N0(ME({withStyle:j0,trackLocation:re,durationThreshold:i,closeToastBtnText:Y?oe.DurationUpsellToastLater:oe.FreemiumToastCloseText(i),isUpsellBlocker:Y}),3),Ce=Ae[0],Se=Ae[1],_e=Ae[2];(0,f.useEffect)((function(){n.durationThreshExceed?Se():_e()}),[n.durationThreshExceed,Se,_e]);var xe=function(e){var t=e.path||e.composedPath&&e.composedPath();return t&&0!==t.length||(t=function(e){for(var t=[],n=e;n;){if(t.push(n),"HTML"===n.tagName)return t.push(document),t.push(window),t;n=n.parentElement}return e}(e.target)),t.find((function(e){return e.classList&&(e.classList.value.search("ce-wrapper")>-1||e.classList.value.search("sticker-composition")>-1)}))},Ie=(0,f.useRef)(null);(0,f.useEffect)((function(){var e=function(e){"escape"===e.key.toLowerCase()&&(x?x():o&&s(null))},t=function(e){Ie.current=e},n=function(e){var t=e.path||e.composedPath&&e.composedPath();!t.find((function(e){return e.dataset&&(e.dataset.popover||e.dataset.popoverSelector)}))&&x&&x(),!x&&o&&(xe(e)||xe(Ie.current)||t.find((function(e){return e.classList&&e.classList.value.search("stage-inspector-wrapper")>-1}))&&!t.find((function(e){return e.classList&&(e.classList.value.search("inspector-container")>-1||e.classList.value.search("modal-style")>-1)}))&&s(null))},r=function(){x&&x()};return document.addEventListener("keyup",e),document.addEventListener("mousedown",t),document.addEventListener("click",n),document.addEventListener("drag",r),function(){document.removeEventListener("keyup",e),document.removeEventListener("mousedown",t),document.removeEventListener("click",n),document.removeEventListener("drag",r)}}),[x,s,o]);return(0,f.useEffect)((function(){K&&n.id&&Li({name:"view_editor_screen",product:Si,location:ba,flow:fa.flow,test_layout:null,version:5},!0)}),[K,n.id]),h().createElement("div",{id:"storyboard-editor",style:{height:"100%",position:"relative"},"data-component-name":"MainPageComponent"},h().createElement(Ge.ThemeProvider,{theme:{}},h().createElement(h().Fragment,null,K&&l!==Ff&&h().createElement(h().Fragment,null,h().createElement(O0,{durationThreshExceed:a,movieDurationAccountThreshold:i,trackLocation:re,player:G,onPreviewClick:we,waitForDurationUpdate:ye}),h().createElement("div",{className:"view-wrapper"},h().createElement(PP,{openBranding:he,selectedScene:r,disableAddStickerButtons:n.isExpandMode||!r.ready}),h().createElement("div",{className:"content-wrapper"},h().createElement(k0,null,h().createElement(DX,{compositionControlsMenuElem:ie,openBranding:he}),h().createElement(rG,{openBranding:he})),h().createElement(S$,{openBranding:he,addScenePlaceholderElem:ue}),h().createElement(f0,null),h().createElement(B0,{ref:me}),h().createElement(M0,{ref:le}))),fe,Ce),h().createElement(lE,null),K&&h().createElement(Aw,{context:"EDITOR_SCREEN"}),h().createElement(EX,{toastContext:Sd}),L&&h().createElement(bT,{key:t=D,"data-key":t,storyboardData:n,lastRevision:c,restartRender:q,onStopRender:Z,onEdit:X,removingWatermark:N,videoTitle:n.projectName,renderAlreadyStarted:P,vimeoSharePrivacies:p,onStoryboardSaved:C,locale:g,facebookPermissionsCheck:y}),d&&h().createElement(RG,null))),K&&(l===Df||l===Rf||l===Hf)&&h().createElement("div",{id:"busy-overlay"},h().createElement(NE,{size:"xl"})),V&&h().createElement(UE,{retry:Ee}))}));function F0(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return H0(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H0(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H0(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var V0={initializeStoryboard:lh,refreshStoryboard:sh,initializeStaticParameters:function(){return function(e){return new Promise((function(e,t){return Ht.get("/api/storyboard/params").then((function(t){var n=function(e){return{IMAGE_STICKER_SCALE_MIN:e.sticker_scale_min,IMAGE_STICKER_SCALE_MAX:e.sticker_scale_max,MEDIA_MAX_SCALE:e.media_max_scale,STICKER_MIN_POSITION_ON_STAGE:e.sticker_position_min,TEXT_STICKER_MAX_NUM_PER_SCENE:e.sticker_text_max_quantity,IMAGE_STICKER_MAX_NUM_PER_SCENE:e.sticker_image_max_quantity,STICKER_STAGE_NUDGE:e.stage_nudge,BRAND_DEFAULT_COLORS:e.brand_kit_default_colors,DEFAULT_TEXT_STYLE:e.stage_defaul_text_style,DEFAULT_HIGHLIGHT_COLOR:e.text_highlight_default_color,MIN_MOVIE_DURATION:e.total_duration_min,MAX_MOVIE_DURATION:e.total_duration_max,AUTO_LAYOUT_SPACE_BTW_STICKERS:e.autolayout_stickers_space,AUTO_LAYOUT_EPS:e.autolayout_eps,AUTO_LAYOUT_MIN_FONT_SIZE:e.autolayout_font_min_size,AUTO_LAYOUT_DEFAULT_TEXT_AREA:e.autolayout_default_text_position,AUTO_LAYOUT_HORIZONTAL_MARGIN:e.autolayout_horisontal_margin,AUTO_LAYOUT_NOT_ENOUGH_SPACE_OFFSET:e.autolayout_many_offset,FONT_FALLBACK:e.font_fallback,TEXT_STICKER_MAX_CHAR_NUM:e.text_char_count_limit,TEXT_STICKER_MAX_LINES:e.text_max_lines_limit,TEXT_STICKER_LAYOUT_ID:e.new_text_sticker_layout_id,STAGE_PADDING:e.stage_padding,AROLL_PART_DURATION:e.aroll_part_duration,MIN_AROLL_MEDIA_DURTION:e.min_aroll_media_duration,TEXT_STICKER_DEFAULT_DURATION:e.text_sticker_default_duration,IMAGE_STICKER_DEFAULT_DURATION:e.image_sticker_default_duration,MAX_SCENE_DURATION:e.max_scene_duration,MIN_SCENE_DURATION:e.min_scene_duration,MIN_STICKER_DURATION:e.min_scene_duration}}(t.data.params);e(n)})).catch((function(e){return t(e)}))})).then((function(t){Object.entries(t).forEach((function(t){var n=jy(t,2),r=n[0],o=n[1];void 0!==o&&e(function(e,t){return{type:Py,payload:{paramName:e,value:t}}}(r,o))}))}))}},updateColorPalettes:function(e){var t,n=(t=e,Object.fromEntries(Object.entries(t).map((function(e){var t=nr(e,2),n=t[0],r=t[1];return[n,ar(r)]}))));return{type:ip,payload:{colorPalettes:n}}},updateCrayons:function(e){var t=Fg(e);return{type:Ug,payload:{crayons:t}}},updateFonts:function(e){return function(t){var n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.fromEntries(e.map((function(e){return[e.name,Gy(e,t)]})))}(e);t({type:Yy,payload:{fonts:n}}),t(Af())}},updateTextStickers:function(e){return function(t){var n=function(e){return Object.fromEntries(e.map((function(e){return[e.name,(t=e,n=t.name,r=t.display_name,o=t.order,a=t.meta_data,i=t.is_test,c=t.libs,l=void 0===c?[]:c,s=t.thumbnails,u=void 0===s?[]:s,d=t.stickers,m=void 0===d?[]:d,p=t.base_sticker,{name:n,displayName:r,order:o,metaData:a,isTest:i,libs:l,thumbnails:[].concat($y(u),$y(m)),isBaseSticker:p})];var t,n,r,o,a,i,c,l,s,u,d,m,p})))}(e);(0,T.dC)((function(){t({type:eb,payload:{textStickerAssets:n}}),t(nh())}))}},updateDuration:fh};const W0=(0,T.$j)((function(e){var t=e.storyBoard,n=e.videoSession,r=e.featureToggles;return{storyboard:t,videoHashSuccessors:n.videoHashSuccessors,showSpecialLayouts:r.values.showSpecialLayouts}}),V0)((function(e){var t=e.storyboard,n=e.videoSessionId,r=e.videoHash,o=e.videoHashSuccessors,a=e.initializeStoryboard,i=e.refreshStoryboard,c=e.initializeStaticParameters,l=e.showSpecialLayouts,s=e.toggleGlobalLoader,u=e.updateDuration,d=e.updateColorPalettes,m=e.updateCrayons,p=e.updateFonts,g=e.updateTextStickers,y=e.children,b=(0,f.useCallback)((function(e){var t=e.color_crayons,n=e.fonts,r=e.color_palettes,o=e.stickers;t&&m(t),n&&p(n),r&&d(r),o&&g(o)}),[d,m,p,g]);(0,f.useEffect)((function(){c()}),[c]),(0,f.useEffect)((function(){tn([Zt,Xt,Kt,"stickers"],{nonLatin:!0}).then(b)}),[b]);var v=t.storyboardStatus;(0,f.useEffect)((function(){var e=v===Pf,c=(v===Df||v===Uf||v===zf)&&r!==t.videoHash,l=c&&r===o[t.videoHash],s=c&&t.videoHash===o[r],u=l;e||c&&!(l||s)?a(r,n):u&&i(r,n)}),[v,r,n,t.videoHash,o,a,i]),(0,f.useEffect)((function(){return t.vsid?(Fc({vsid:t.vsid}),function(){return Fc({vsid:null})}):function(){}}),[t.vsid]),(0,f.useEffect)((function(){var e=Cp.subscribe(bp,(function(){return u()}));return function(){return e()}}),[u]);var E=F0((0,f.useState)(!1),2),w=E[0],A=E[1];return(0,f.useEffect)((function(){v!==Pf&&v!==Nf&&(s(),A(!0))}),[v,s]),l?Dt.axiosConfig.headers["x-vc-show-special-layouts"]="yes":delete Dt.axiosConfig.headers["x-vc-show-special-layouts"],h().createElement(h().Fragment,null,w&&y,h().createElement(Aw,{context:"EDITOR_GLOBAL"}))}));function G0(){return(G0=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Y0=function(e){var t=/iphone|ipod|ipad|android|blackberry|opera mini|opera mobi|skyfire|maemo|windows phone|palm|iemobile|symbian|symbianos|fennec/i.test(navigator.userAgent.toLowerCase())?h().createElement(ww,{title:oe.EditorNonSupportedDeviceWarningTitle,content:oe.EditorNonSupportedDeviceWarningText,showX:!1,"data-component-name":"getUnsupportedMessage"}):navigator.userAgent.toLowerCase().indexOf("rv:11")>-1||navigator.userAgent.toLowerCase().indexOf("edge")>-1?h().createElement(ww,{title:oe.EditorNonSupportedBrowserWarningTitle,content:oe.EditorNonSupportedBrowserWarningText((function(e){return h().createElement(hv,{href:"https://browsehappy.com/",target:"_blank",rel:"noopener noreferrer",as:"a"},e)})),showX:!1,"data-component-name":"getUnsupportedMessage"}):null;return null!==t?(e.toggleGlobalLoader(),t):h().createElement(W0,G0({},e,{"data-component-name":"EditorApp","data-key":e["data-key"]}),h().createElement(U0,e))},q0=n(974505286005272),Z0=S("Editor"),X0=function(e){var t=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||So.qC,n=(0,So.UY)({featureToggles:Qg,storyBoard:kb,overrides:vy,scenesStagePlayer:Oy,timeline:Pb,videoSession:Gb,requiredCapabilities:Sy,layouts:bd,staticParameters:Uy,textStickerAssets:ab,fontsSettings:Qy,videoPlayer:xg,colorPalettes:Ng,upload:Ne,flags:r,crayons:Yg,stageSize:By,alertNotifications:Mg,userCapabilities:_t,partnerConfig:ht,toastNotification:Ub,explanatoryModals:Dl,activePopover:Gl,ui:Co,sceneMenu:sb,history:fy}),o=[_o.Z,qb,sy].concat(Zb([]));return(0,So.MT)(n,e,t(So.md.apply(void 0,Zb(o))))}(),K0=function(){return function(e){var t=null;e.subscribe((function(){var n=e.getState().fontsSettings;if(n!==t){t=n;var r=n.fonts;Qc(r)}}))}(X0)},Q0=function(){return function(e){return wl(e)}(X0)},$0=function(e){var t=e.isStaff;return X0.dispatch(function(e){var t=el({ladyBug:e},JSON.parse(sessionStorage.getItem(ol)||"{}"));return{type:nl,payload:el({},t)}}(t))},J0=function(e){return function(e){e&&(Dt.axiosConfig.headers.Authorization=e)}(e.vmosessionid)},e1=function(){},t1=function(){var e=X0.getState(),t=cl(e),n=ll(e);return t||n};window.Editor=function(e){var t=e.app,n=e.store,r=e.appName,o=e.fallbackTranslations,a=!1,i=null,c=null;return ae(void 0===o?{}:o),{create:function(e,t){var o=e.flags,c=e.settings;if(rc(n,e),oc(n,e),a)return this.mount(e);try{return Ot.init(c),function(e,t){var n=t||{};if(Ot.get("isDev")){var r=(new URLSearchParams(window.location.search).get("flags")||"").split(",").reduce((function(e,t){return t?(e[t]=!0,e):e}),{});n=Object.assign({},n,r)}e.dispatch(K(n))}(n,o),yi(r,e),i=t,a=!0,this.mount(e)}catch(e){return nc.error(e),null}},mount:function(e){try{if(!a)return nc.warn("Application not been created yet please create micro environemnt with create method."),this;if(c=null===c?h().createElement(t,e):h().cloneElement(c,e),!i)return c;$().render(c,i,(function(){nc.debug("".concat(r," been updated"),e)}))}catch(e){nc.error("ERR!",e)}return this},unmount:function(){try{if(!a)return nc.warn("Application not been created yet please create micro environemnt with create method."),this;$().unmountComponentAtNode(i)}catch(e){nc.error("ERR!",e)}return this}}}({app:function(e){var t,r,o,a,i,c,l,s;Z0.info("[BOOT]",e),t=e.bundlesPath,n.p=t,ae(e.translations),Uc(e),function(e){var t=e.Pubsub,n=void 0===t?{}:t;Object.assign(yp,n)}(e),function(e){var t=e.navigate,n=void 0===t?{}:t;Object.assign(Wc,n)}(e),function(e){var t=e.getABTests,n=void 0===t?{}:t;Object.assign(_c,n)}(e),function(e){var t=e.theme,n=void 0===t?{}:t;Object.assign(Yc,n)}(e),$0(e.flags),K0(),Q0(),en(X0),J0(e),o=(r=e).trackClick,a=r.trackEvent,i=r.trackImpression,c=r.trackPageView,window.FA={trackClick:o||e1,trackEvent:a||e1,trackImpression:i||e1,trackPageView:c||e1},yi(ma,e),e.isFbContext&&(ji="Facebook"),function(e){var t=e.flags||{};if(Ot.get("isDev")){var n=(new URLSearchParams(window.location.search).get("flags")||"").split(",").reduce((function(e,t){return t?(e[t]=!0,e):e}),{});t=Object.assign({},t,n)}X0.dispatch(K(t))}(e),l=e.settings,Ot.init(l),X0.dispatch($c({})),function(e){X0.dispatch(lc(e))}(e.teamOwnerId),s=e.authResponse,Object.assign(Zc,null==s?void 0:s.user),(0,f.useEffect)((function(){return function(){Object.keys(Wc).forEach((function(e){return delete Wc[e]}))}}),[]);var u=e.vsid,d=e.hash,m=e.toggleGlobalLoader,p=void 0===m?e1:m,g=e.setShouldWarnOnLeave,y=void 0===g?e1:g,b=e.authResponse,v=e.locale,E=e.facebookPermissionsCheck,w=e.userId,A=e.isShopifyUser,C=e.teamOwnerId,S=b&&b.vimeo&&b.vimeo.sharePrivacies||[];return y(t1),h().createElement(T.zt,{store:X0,"data-component-name":"EditorEntry","data-key":e["data-key"]},h().createElement(Ge.ThemeProvider,{theme:Yc},h().createElement(Sc,null,h().createElement(V,null,h().createElement(Y0,{videoSessionId:u,videoHash:d,toggleGlobalLoader:p,vimeoSharePrivacies:S,locale:v,facebookPermissionsCheck:E,userId:w,isShopifyUser:A,teamOwnerId:C})))))},store:X0,appName:ma,fallbackTranslations:q0.x})},974505286005272:(e,t,n)=>{"use strict";n.d(t,{x:()=>c});var r=n(842407539419038),o=n(961794091228847),a=n(625235537144886),i={OK:(0,a.Iu)("OK"),Close:(0,a.Iu)("Close"),Text:(0,a.Iu)("text"),AddMessage:(0,a.Iu)("Add Message"),AddToLibrary:(0,a.Iu)("Finalize"),SaveAndPreview:(0,a.Iu)("Save & preview"),VideoDuration:(0,a.Iu)("Video duration"),Styles:(0,a.Iu)("Styles"),Music:(0,a.Iu)("Music"),Format:(0,a.Iu)("Format"),Colors:(0,a.Iu)("Palette"),Fonts:(0,a.Iu)("Fonts"),Brand:(0,a.Iu)("Brand"),Cancel:(0,a.Iu)("Cancel"),Add:(0,a.Iu)("Add"),Reset:(0,a.Iu)("Reset"),Copy:(0,a.Iu)("Copy"),Duplicate:(0,a.Iu)("Duplicate"),Paste:(0,a.Iu)("Paste"),Save:(0,a.Iu)("Save"),Forward:(0,a.Iu)("Forward"),Backward:(0,a.Iu)("Back"),Delete:(0,a.Iu)("Delete"),More:(0,a.Iu)("More"),Remove:(0,a.Iu)("Remove"),Replace:(0,a.Iu)("Replace"),Done:(0,a.Iu)("Done"),SecondsShortcut:(0,a.Iu)("s"),Skip:(0,a.Iu)("Skip"),Apply:(0,a.Iu)("Apply"),ProLabel:(0,a.Iu)("PRO"),Upgrade:(0,a.Iu)("Upgrade"),CustomDurationKeepIt:function(e){return(0,a.Iu)("Keep it ".concat(e," Sec"))},FlipH:(0,a.Iu)("Flip horizontal"),FlipV:(0,a.Iu)("Flip vertical"),RotateL:(0,a.Iu)("Rotate left"),RotateR:(0,a.Iu)("Rotate right"),KeepIt30Sec:(0,a.Iu)("Keep it 30 sec"),SceneMenuShow:(0,a.Iu)("Show"),SceneMenuHide:(0,a.Iu)("Hide"),SceneMenuMute:(0,a.Iu)("Mute"),SceneMenuUnmute:(0,a.Iu)("Unmute"),SceneMenuExtendAudio:(0,a.Iu)("Extend audio"),SceneMenuCancelExtendAudio:(0,a.Iu)("Cancel Extend audio"),SceneMenuTrim:(0,a.Iu)("Trim"),SceneMenuMakeACopy:(0,a.Iu)("Make a copy"),SceneMenuDelete:(0,a.Iu)("Delete"),SceneMenuLengthen:(0,a.Iu)("Lengthen (~6s)"),SceneMenuShorten:(0,a.Iu)("Shorten (~3s)"),SceneMenuAddHint:(0,a.Iu)("Add Hint"),SceneMenuSplitToScenes:(0,a.Iu)("Split to scenes"),SceneCopyNotification:(0,a.Iu)("Copied! Use CTRL+V to paste"),SceneActionNotAllowedNotification:(0,a.Iu)("Action not allowed."),StoryboardContainerExpand:(0,a.Iu)("Expand"),StoryboardContainerMinimize:(0,a.Iu)("Minimize"),StoryboardContainerEstimatedDuration:(0,a.Iu)("Duration"),StoryboardTooltipToTrimMode:(0,a.Iu)("Trim mode"),AddSceneText:(0,a.Iu)("Add Scene"),AddSceneMenuUpload:(0,a.Iu)("Upload"),AddSceneMenuMedia:(0,a.Iu)("Add Media"),AddSceneMenuText:(0,a.Iu)("Add Text"),AddBrandCard:(0,a.Iu)("Add brand"),GlobalBarRatioLandscape:(0,a.Iu)("Landscape"),GlobalBarRatioSquare:(0,a.Iu)("Square"),GlobalBarRatioPortrait:(0,a.Iu)("Portrait"),GlobalBarAddNewItemMediaScene:(0,a.Iu)("Media scene"),GlobalBarAddNewItemTitleScene:(0,a.Iu)("Title scene"),GlobalBarAddNewItemText:(0,a.Iu)("Text"),GlobalBarAddNewItemSticker:(0,a.Iu)("Sticker"),InspectorAddText:(0,a.Iu)("Add Text"),InspectorUploadSticker:(0,a.Iu)("Upload Sticker"),MediaInspectorHeaderVideo:(0,a.Iu)("Video"),MediaInspectorHeaderImage:(0,a.Iu)("Image"),MediaInspectorMedia:(0,a.Iu)("Media"),MediaInspectorReplace:(0,a.Iu)("Replace"),MediaInspectorAudio:(0,a.Iu)("Audio"),MediaInspectorMute:(0,a.Iu)("Mute"),MediaInspectorOn:(0,a.Iu)("on"),MediaInspectorOff:(0,a.Iu)("off"),MediaInspectorTimeline:(0,a.Iu)("Timeline"),ImageStickerInspectorReplace:(0,a.Iu)("Replace"),LayoutInspectorHeader:(0,a.Iu)("Layout"),VideoSceneInspectorHeader:(0,a.Iu)("Video scene"),TextSceneInspectorHeader:(0,a.Iu)("Text scene"),ImageSceneInspectorHeader:(0,a.Iu)("Photo scene"),ImageStickerInspectorHeader:(0,a.Iu)("Image Sticker"),NonReadySceneInspectorHeader:(0,a.Iu)("Scene"),TextInspectorHeader:(0,a.Iu)("Text"),TextInspectorStyleLabel:(0,a.Iu)("Animation"),TextInspectorStyleHeader:(0,a.Iu)("Style"),TextInspectorPropertiesHeader:(0,a.Iu)("Properties"),TextInspectorPropertiesScale:(0,a.Iu)("Scale"),TextInspectorPropertiesTextColor:(0,a.Iu)("Text color"),TextInspectorPropertiesBackgroundColor:(0,a.Iu)("Background color"),TextInspectorPropertiesBackgroundOpacity:(0,a.Iu)("Background opacity"),TextInspectorPropertiesHighlightColor:(0,a.Iu)("Highlight"),TextInspectorPropertiesLineHeight:(0,a.Iu)("Line height"),TextInspectorFontsBrandFont:(0,a.Iu)("Brand font"),TextInspectorPropertiesDropShadow:(0,a.Iu)("Drop shadow"),SceneInspectorLayoutsLabel:(0,a.Iu)("Layouts"),SceneInspectorAutoDurationLabel:(0,a.Iu)("Auto"),MediaStickerInspectorHeader:(0,a.Iu)("Sticker"),MediaStickerInspectorPropertiesScale:(0,a.Iu)("Scale"),MediaStickerInspectorPropertiesBackgroundColor:(0,a.Iu)("Background color"),MediaStickerInspectorPropertiesOpacity:(0,a.Iu)("Opacity"),MediaStickerInspectorPropertiesRotate:(0,a.Iu)("Rotate"),MediaStickerInspectorPropertiesHighlightBackground:(0,a.Iu)("Background highlight color"),MediaInspectorTransformLabel:(0,a.Iu)("Transform"),MediaStickerInspectorPropertiesTransform:(0,a.Iu)("Transform"),MediaStickerInspectorPropertiesAnimation:(0,a.Iu)("Animation"),MediaStickerInspectorPropertiesAnimationNone:(0,a.Iu)("None"),MediaStickerInspectorPropertiesAnimationFade:(0,a.Iu)("Fade"),MediaStickerInspectorPropertiesAnimationStamp:(0,a.Iu)("Stamp"),MediaStickerInspectorPropertiesAnimationPop:(0,a.Iu)("Pop"),ColorPaletteHeader:(0,a.Iu)("Color palette"),StepsDrafts:(0,a.Iu)("Drafts"),EditorSaveRenderPreviewMagistoRemoveWatermark:(0,a.Iu)("Remove Magisto watermark"),RenderScreenRenderScreenErrorModalTitle:(0,a.Iu)("Render failed"),EditorSaveRenderPreviewNoWatermarkDismiss:(0,a.Iu)("Got it"),EditorSaveRenderPreviewNoWatermarkMessage:(0,a.Iu)("Were now rendering your preview video without a watermark."),EditorNonSupportedDeviceWarningTitle:(0,a.Iu)("Device is not supported"),EditorNonSupportedDeviceWarningText:(0,a.Iu)("To continue, open the Vimeo Create app, or go to vimeo.com/create on your computer."),EditorNonSupportedBrowserWarningTitle:(0,a.Iu)("Browser not supported"),EditorNonSupportedBrowserWarningText:function(e){return(0,a.Iu)({singular:"Sorry, this browser isnt supported. Please try again with {LINK}Chrome, Firefox, or Safari{/LINK}.",replacements:{LINK:e}})},EditorSaveRenderPreviewPreviewLoadingFixedWarning:(0,a.Iu)("This might take a while."),EditorSaveRenderPreviewPreviewLoadingStepUploadingTitle:(0,a.Iu)("Creating preview..."),EditorSaveRenderPreviewPreviewLoadingStepUploadingText:(0,a.Iu)("Analyzing all media to detect objects, environments, and motion salience."),EditorSaveRenderPreviewPreviewLoadingStepAnalyzingTitle:(0,a.Iu)("Creating preview..."),EditorSaveRenderPreviewPreviewLoadingStepAnalyzingText:(0,a.Iu)("Determining important characters, footage, and audio to select the best parts."),EditorSaveRenderPreviewPreviewLoadingStepRenderingTitle:(0,a.Iu)("Creating preview..."),EditorSaveRenderPreviewPreviewLoadingStepRenderingText:(0,a.Iu)("Applying color correction, content-aware graphics, and background effects."),EditorSaveRenderPreviewPreviewLoadingStepWrappingUpTitle:(0,a.Iu)("Almost done..."),EditorSaveRenderPreviewPreviewLoadingStepWrappingUpText:(0,a.Iu)("Rendering preview video."),EditorSaveRenderPreviewPreviewLoadingStepError:(0,a.Iu)("Ops.. Error UI Placeholder.."),EditorSaveRenderPreviewSaveRenderPreviewDefaultVideoTitle:(0,a.Iu)("Untitled"),EditorSaveRenderPreviewSaveRenderPreviewFeatureTourHeader:(0,a.Iu)("Save and distribute"),EditorSaveRenderPreviewSaveRenderPreviewFeatureTourText:(0,a.Iu)("click to learn more"),EditorSaveRenderPreviewSaveRenderPreviewFeatureTourButton:(0,a.Iu)("Close"),EditorSaveRenderPreviewSaveRenderPreviewFeatureTourContent:(0,a.Iu)("Export your draft as a video to download and distribute."),EditorSaveRenderPreviewSaveRenderPreviewErrorModalTitle:(0,a.Iu)("Render failed"),EditorSaveRenderPreviewSaveRenderPreviewErrorModalText:(0,a.Iu)("This draft had failed to render. You will have to revert to a valid version. Unfortunately unsaved changes will be lost."),EditorSaveRenderPreviewSaveRenderPreviewErrorModalButton:(0,a.Iu)("Revert"),EditorSaveRenderPreviewSaveRenderPreviewEdit:(0,a.Iu)("Edit"),EditorSaveRenderPreviewVideoPreview:(0,a.Iu)("Preview"),EditorSaveRenderPreviewOnSetErrorRevisionTitle:(0,a.Iu)("Drafts versions conflict"),EditorSaveRenderPreviewOnSetErrorRevisionBody:(0,a.Iu)("You are working on an outdated version of your video, click Restore to return to your latest version. Recent changes may be lost."),EditorSaveRenderPreviewOnSetErrorRevisionAction:(0,a.Iu)("Restore"),EditorSaveRenderPreviewOnSetErrorGeneralTitle:(0,a.Iu)("Failed to save"),EditorSaveRenderPreviewOnSetErrorGeneralBody:(0,a.Iu)("Unfortunately changes have failed to save"),EditorSaveRenderPreviewOnSetErrorGeneralAction:(0,a.Iu)("OK"),VideoTitleModalHeader:(0,a.Iu)("Name your video"),VideoTitleModalDraft:(0,a.Iu)("Name your video draft"),VideoTitleModalInputPlaceholder:(0,a.Iu)("Add a name"),PreviewScreenTooltipEditName:(0,a.Iu)("Edit name"),MediaLibraryContainerTabListStockLibrary:(0,a.Iu)("Stock"),MediaLibraryContainerTabListShopifyLibrary:(0,a.Iu)("Shopify"),MediaLibraryContainerTabListWOOCOMMERCE:(0,a.Iu)("WooCommerce"),MediaLibraryContainerTabListGooglePhotos:(0,a.Iu)("Google Photos"),MediaLibraryContainerTabListVimeoVideos:(0,a.Iu)("My videos"),MediaLibraryContainerTabListUploads:(0,a.Iu)("Uploads"),MediaLibraryContainerTabListVideoSessionUploads:(0,a.Iu)("Recent Uploads"),MediaLibraryContainerButtonUpload:(0,a.Iu)("Upload"),MediaLibStockSearchNoMediaText:(0,a.Iu)("Try searching again using broader keywords."),MediaLibStockSearchNoMediaTitle:function(e){return(0,a.Iu)({singular:'No results found for "{SEARCH}"',replacements:{SEARCH:e}})},MediaLibGoogleLoginHeader:(0,a.Iu)("Connect to Google Photos"),MediaLibGoogleLoginDisclaimer:(0,a.Iu)("Instantly add your images from Google Photos"),MediaLibGoogleLoginButton:(0,a.Iu)("Connect to Google Photos"),MediaLibGoogleHeaderSharedAlbum:(0,a.Iu)("Shared album"),MediaLibGoogleHeaderManageAccount:(0,a.Iu)("Change account"),MediaLibGoogleHeaderChangeAccount:(0,a.Iu)("Disconnect"),MediaLibGoogleHeaderDisconnect:(0,a.Iu)("Disconnect"),MediaLibGooglePhotosNoMediaTitle:(0,a.Iu)("No photos"),MediaLibGooglePhotosNoMediaText:(0,a.Iu)("There's no media on your Google Photos account."),ShopifyMediaContainerSearchPlaceholder:(0,a.Iu)("Search products"),ShopifyMediaContainerNoResultsHeader:function(e){return(0,a.Iu)({singular:"No results found for {SEARCH}",replacements:{SEARCH:e}})},ShopifyMediaContainerNoProductsHeader:(0,a.Iu)("This store has no products"),MediaContainerNoProductsText1:(0,a.Iu)("Upload files from your device, or select media from another tab."),MediaContainerNoMediaHeader:function(e){return(0,a.Iu)({singular:"Couldnt find media for {SEARCH}",replacements:{SEARCH:e}})},ShopifyMediaContainerNoMediaText1:(0,a.Iu)("You can either upload your own media, or select another product."),ShopifyMediaContainerDynamicRemainingMediaCounter:function(e){return(0,a.Iu)({count:e,singular:"You can add an item",plural:"You can add up to {TOTAL} items",replacements:{TOTAL:e}})},MediaLibStockSuggestionViewAll:(0,a.Iu)("View All"),MediaLibStockSuggestionPreviousLabel:(0,a.Iu)("Go to Previous Set"),MediaLibStockSuggestionNextLabel:(0,a.Iu)("Go to Next Set"),StockMediaContainerSearchPlaceholder:(0,a.Iu)("Search 30+ million clips & images"),StickerLibStockSuggestionViewAll:(0,a.Iu)("View All"),StockMediaContainerClearTooltip:(0,a.Iu)("Clear"),StockMediaContainerRadioFilterVideos:(0,a.Iu)("Videos"),StockMediaContainerRadioFilterImages:(0,a.Iu)("Images"),StockMediaHeaderSearchShort:(0,a.Iu)("Search over 30 millions clips and images"),StockMediaHeaderSearchShortFix:(0,a.Iu)("Search over 30 million clips and images"),StockMediaHeaderSearchFull:(0,a.Iu)("Search over 1,000,000 stock photos and videos"),StockMediaPopularCategories:(0,a.Iu)("Popular video categories"),StockMediaContainerVimeoVideosSearchPlaceholder:(0,a.Iu)("Search..."),UploadsMediaContainerSortOptionsDateAdded:(0,a.Iu)("Date added"),UploadsMediaContainerSortOptionsDateUsed:(0,a.Iu)("Date used"),UploadsMediaContainerSortOptionsDateUploaded:(0,a.Iu)("Date uploaded"),UploadsMediaContainerSortOptionsDateModified:(0,a.Iu)("Date modified"),UploadsMediaContainerSortOptionsDateCreated:(0,a.Iu)("Date created"),UploadsMediaContainerMediaTypeOptionsAll:(0,a.Iu)("All media"),UploadsMediaContainerMediaTypeOptionsPhotos:(0,a.Iu)("Photos"),UploadsMediaContainerMediaTypeOptionsVideos:(0,a.Iu)("Videos"),UploadsMediaContainerSourceOptionsAll:(0,a.Iu)("All sources"),UploadsMediaContainerSourceOptionsWeb:(0,a.Iu)("Web uploads"),UploadsMediaContainerSourceOptionsMobile:(0,a.Iu)("Mobile uploads"),UploadsMediaContainerOrientationsOptionsAll:(0,a.Iu)("All orientations"),UploadsMediaContainerOrientationsOptionsPortrait:(0,a.Iu)("Portrait"),UploadsMediaContainerOrientationsOptionsLandscape:(0,a.Iu)("Landscape"),UploadsMediaContainerOrientationsOptionsSquare:(0,a.Iu)("Square"),UploadsMediaContainerEmptyStateText1:(0,a.Iu)("No recent files"),UploadsMediaContainerEmptyStateText2:(0,a.Iu)("Your recently uploaded files will appear in this tab."),UploadsMediaContainerVimeoEmptyStateText1:(0,a.Iu)("No videos"),UploadsMediaContainerVimeoEmptyStateText2:(0,a.Iu)("Your uploaded videos to Vimeo will appear in this tab."),UploadsMediaContainerEmptyStateText3:(0,a.Iu)("Upload photo and video files to use in your videos"),StoryContainerTitle:(0,a.Iu)("Edit storyboard"),StoryContainerEmptyStateTitle:(0,a.Iu)("No media"),StoryContainerEmptyStateContent:(0,a.Iu)("Add footage to proceed with the creation"),StoryContainerOrientationOptionsAuto:(0,a.Iu)("Auto"),StoryContainerOrientationOptionsLandscape:(0,a.Iu)("Landscape (16:9)"),StoryContainerOrientationOptionsSquare:(0,a.Iu)("Square (1:1)"),StoryContainerOrientationOptionsPortrait:(0,a.Iu)("Portrait (9:16)"),StoryContainerVideoLengthOptionsAuto:(0,a.Iu)("Auto"),StoryContainerSortOptionsSelection:(0,a.Iu)("Selected Order"),StoryContainerSortOptionsManually:(0,a.Iu)("Manually"),StoryContainerSortOptionsAuto:(0,a.Iu)("Auto"),StoryContainerSortOptionsDate:(0,a.Iu)("Oldest First"),StoryContainerArrangeBy:(0,a.Iu)("Arrange By:"),StoryContainerDateAppendix:(0,a.Iu)("Latest - Newest"),StoryContainerVideoLengthOptionsFit:function(e){return(0,a.Iu)({singular:"Fit to {NUM} sec",replacements:{NUM:e}})},StoryContainerVideoLengthOptionsCustom:(0,a.Iu)("Custom"),StoryContainerTooMuchNotification:(0,a.Iu)("Some of your media will be left out to reach the selected duration."),StoryContainerTooLittleNotification:(0,a.Iu)("Since there isnt enough media, your video might be shorter than selected."),StoryContainerAutoSetNotification:(0,a.Iu)('"Auto" lets us set the best order. You\'ll see the changes once the video is ready.'),StoryContainerAddMedia:(0,a.Iu)("Add photos and videos"),StoryContainerNonEmptyAddMedia:(0,a.Iu)("Add media"),StoryContainerAddFootage:(0,a.Iu)("Add footage"),AddMessageComponentPlaceHolder:(0,a.Iu)("Add message"),MediaLibraryPageTitle:(0,a.Iu)("Add photos and videos"),StickerLibraryModalTitle:(0,a.Iu)("Add Sticker"),StickerLibFilterListCategoryAll:(0,a.Iu)("All"),StickerLibraryContainerButtonUpload:(0,a.Iu)("Upload"),MediaLibraryModalTitle:(0,a.Iu)("Add photos and videos"),MediaLibraryModalDynamicTitle:function(e){return(0,a.Iu)({count:e,singular:"Add an item",plural:"Add up to {TOTAL} photos and videos",replacements:{TOTAL:e}})},MediaLibraryModalCounter:function(e,t){return(0,a.Iu)({singular:"{COUNT} of {TOTAL}",replacements:{COUNT:e,TOTAL:t}})},ThemeLibPageTitle:(0,a.Iu)("Choose a style"),ThemeLibPageVideoModalButtonCurrent:(0,a.Iu)("Current"),ThemeLibPageVideoModalButtonUse:(0,a.Iu)("Use"),ThemeLibModalTitle:(0,a.Iu)("Choose a style"),ThemeLibModalVideoModalButtonCurrent:(0,a.Iu)("Current"),ThemeLibModalVideoModalButtonUse:(0,a.Iu)("Use"),ThemeLibSelectedThemeBoxCurrentlySelected:(0,a.Iu)("Currently selected"),MusicLibPageTitle:(0,a.Iu)("Add music"),MusicLibModalLegal:function(e){return(0,a.Iu)({singular:"By uploading a music track, you confirm that you own the music or have obtained all necessary licenses to incorporate it into a video as required by our {LINK}Terms of Service{/LINK}.",replacements:{LINK:e}})},TermsOfService:(0,a.Iu)("Terms of Service."),MusicLibModalLegalOK:(0,a.Iu)("I Agree"),MusicLibModalLegalTitle:(0,a.Iu)("Music Submission Terms"),MusicLibModalTitle:(0,a.Iu)("Add music"),MusicLibModalTitleChooseMusic:(0,a.Iu)("Choose music"),MusicLibSelectedMusicBoxNoMusicText1:(0,a.Iu)("Current"),MusicLibSelectedMusicBoxNoMusicText2:(0,a.Iu)("No music"),MusicLibSelectedMusicBoxDescriptionCurrent:(0,a.Iu)("CURRENT"),MusicLibMusicLibraryContainerMusicTabListRecommended:(0,a.Iu)("Recommended"),MusicLibMusicLibraryContainerMusicTabListAll:(0,a.Iu)("All music"),MusicLibMusicLibraryContainerMusicTabListRecent:(0,a.Iu)("Recent"),MusicLibMusicAllTracksNoResultsTitle:(0,a.Iu)("No Results"),MusicLibMusicAllTracksNoResultsText1:(0,a.Iu)("Try using a different filter combination or go to"),MusicLibMusicAllTracksNoResultsLinkText:(0,a.Iu)("recommended"),MusicLibMusicAllTracksNoResultsText2:(0,a.Iu)("music"),MusicLibMusicBoxError:(0,a.Iu)("This file cant be previewed"),MusicLibMusicFilterListCategorey:(0,a.Iu)("All categories"),MusicLibMusicFilterListMood:(0,a.Iu)("All moods"),MusicLibMusicFilterListGenre:(0,a.Iu)("All genres"),MusicLibMusicFilterListInstrumental:(0,a.Iu)("Instrumental only"),MusicLibMusicFilterListClearAll:(0,a.Iu)("Clear filters"),MusicLibMusicRecentTracksNoResultsTitle:(0,a.Iu)("No Recents yet"),MusicLibMusicRecentTracksNoResultsText:(0,a.Iu)("Recently used media will appear here."),MusicLibMusicPanelNoMusic:(0,a.Iu)("No Music"),MusicLibUploadYourMusic:(0,a.Iu)("Upload your music"),TrimModalDuration:(0,a.Iu)("Duration:"),TrimModalHeader:(0,a.Iu)("Trim"),ConnectivityErrorTitle:(0,a.Iu)("Connectivity problem"),ConnectivityErrorBody:(0,a.Iu)("Please check your internet connection and try again"),ConnectivityErrorActionReload:(0,a.Iu)("Retry"),ConnectivityErrorActionOK:(0,a.Iu)("OK"),DataErrorTitle:(0,a.Iu)("Problem occurred"),DataErrorOnGetStoryboardBody:(0,a.Iu)("Unfortunately, we can't complete this action"),DataErrorActionReload:(0,a.Iu)("Retry"),DataErrorActionOK:(0,a.Iu)("OK"),FontsReplacedTitle:(0,a.Iu)("Convert fonts"),FontsReplacedBody:(0,a.Iu)("Some fonts in this draft are no longer supported. Do you want to convert them and continue?"),FontsReplacedActionCancel:(0,a.Iu)("Cancel"),FontsReplacedActionContinue:(0,a.Iu)("Continue"),VideoTooShortTitle:(0,a.Iu)("Video too short"),VideoTooShortBody:(0,a.Iu)("There aren't enough photos and video clips to make a video. Please add more clips and try again."),VideoTooLongTitle:(0,a.Iu)("Video too long"),VideoTooLongBody:function(e){return(0,a.Iu)({singular:"Video cant be longer than {NUM} minutes.",replacements:{NUM:e}})},TextInputModalTitle:(0,a.Iu)("Insert your message"),TextInputModalPlaceholder:(0,a.Iu)("Add message"),TextInputModalHighlightButton:(0,a.Iu)("Highlight"),TextInputModalHighlightButtonTooltip:(0,a.Iu)("Select text to highlight"),PleaseTryAgain:(0,a.Iu)("Please try again."),AddVideoToLibraryErrorMessage:(0,a.Iu)("An error prevented this from being added to your videos. Please try again"),ModalsShareVideoModalTitle:(0,a.Iu)("Finalize video"),ModalsShareVideoModalTitleFinalize:(0,a.Iu)("Finalize video"),ModalsShareVideoModalDescription:(0,a.Iu)("Save your draft as a high resolution video for downloading and sharing."),ModalsShareVideoModalVideoTitleLabel:(0,a.Iu)("Title"),ModalsShareVideoModalPrivacyTitle:(0,a.Iu)("Privacy"),ModalsShareVideoModalPrivacyOptionsAnybody:(0,a.Iu)("Anyone can see this video"),ModalsShareVideoModalPrivacyOptionsNobody:(0,a.Iu)("Only I can see this video"),UploadMediaFailedTitle:(0,a.Iu)("Upload Failed"),UploadMediaFailedDescriptionMsg:function(e){return(0,a.Iu)({singular:'The file "{FILENAME}" has failed to upload.',replacements:{FILENAME:e}})},ModalsShareVideoModalEnterPassword:(0,a.Iu)("Enter Password"),UploadApi:o.S,BrandingAddLogo:(0,a.Iu)("Add logo"),AddCustomBrandColorsButton:(0,a.Iu)("Add your brand colors"),AddCustomBrandFontButton:(0,a.Iu)("Add your brand font"),UploadsMediaContainerVimeoSortOptionsDateModified:(0,a.Iu)("Date Modified"),UploadsMediaContainerVimeoSortOptionsAlphabetical:(0,a.Iu)("Alphabetical"),UploadsMediaContainerVimeoSortOptionsNumberOfPlays:(0,a.Iu)("Plays"),UploadsMediaContainerVimeoVideos:(0,a.Iu)("Vimeo videos"),UploadsMediaContainerMediaTypeOptionsUploadedMedia:(0,a.Iu)("Uploaded Media"),TextStickerReachMaxNumberLimitTitle:(0,a.Iu)("Text Stickers Limitation"),TextStickerReachMaxNumberLimitText:function(e){return(0,a.Iu)({singular:"Scenes support up to {MAX_TEXTS_PER_SCENE} text stickers.",replacements:{MAX_TEXTS_PER_SCENE:e}})},ImageStickerReachMaxNumberLimitTitle:(0,a.Iu)("Image Stickers Limitation"),ImageStickerReachMaxNumberLimitText:function(e){return(0,a.Iu)({singular:"Scenes support up to {MAX_IMAGE_STICKERS_PER_SCENE} image stickers.",replacements:{MAX_IMAGE_STICKERS_PER_SCENE:e}})},StickerAnimationTimingExplanatoryTooltip:(0,a.Iu)("Play the scene to show this sticker"),DropdownChange:(0,a.Iu)("Change"),SaveAndShare:(0,a.Iu)("Save & share"),HideVimeoWatermark:(0,a.Iu)("Hide Vimeo watermark"),Pro:(0,a.Iu)("PRO"),UpgradeToPro:(0,a.Iu)("Upgrade to Pro"),UpgradeToTier:function(e){return(0,a.Iu)("Upgrade to ".concat(e))},Edit:(0,a.Iu)("Edit"),FreeDurationToastTextFree:(0,a.Iu)("free"),DurationUpsellToast:function(){return(0,a.Iu)("With a free plan, your videos are limited.")},DurationUpsellToastLater:(0,a.Iu)("Later"),FreemiumToastOpenUpsellTextTier:function(e){return(0,a.Iu)("Try ".concat(e))},FreemiumToastCloseUpsellText:(0,a.Iu)("Upgrade later"),FreemiumToastCloseText:function(){return(0,a.Iu)("Upgrade later")},FreeDurationThresholdExceedLabelTooltip:function(e){return(0,a.Iu)({singular:"Upgrade to create videos longer than {DURATION_THRESHOLD} seconds",replacements:{DURATION_THRESHOLD:e}})},TimelineToStoryboardConversionErrorTitle:(0,a.Iu)("Error, we cant connect to server to complete the conversion process"),TimelineToStoryboardConversionErrorMessage:function(e){return(0,a.Iu)({singular:"Magisto wasnt able to convert your video. Please try again later, and {LINK}let us know{/LINK} if this keeps happening.",replacements:{LINK:e}})},TimelineToStoryboardConversionErrorAction:(0,a.Iu)("OK"),ErrorModalRetryLimitTitle:(0,a.Iu)("Please try again"),ErrorModalRetryLimitContent:(0,a.Iu)("A server error has occurred."),HigherTierRequiredDialogTitle:(0,a.Iu)("Access advanced features"),HigherTierRequiredDialogTextBeforeFeaturesList:(0,a.Iu)("This video includes these advanced features:"),HigherTierRequiredDialogTextAfterFeaturesList:(0,a.Iu)("To save or preview your video, please upgrade."),HigherTierRequiredDialogActionUpgrade:(0,a.Iu)("Upgrade"),HigherTierRequiredDialogActionClose:(0,a.Iu)("Close"),UnsupporedFeatureTitle:(0,a.Iu)("Unsupported feature"),UnsupportedFeatureContinue:(0,a.Iu)("Continue"),UnsupporedFeatureCancelGoBack:(0,a.Iu)("Cancel"),UnsupportedFeatureCutaways:(0,a.Iu)("Cutaways arent supported on this platform yet. If you continue, some elements of your video will change."),ThisSceneIsNowMuted:(0,a.Iu)("This scene is now muted"),RemoveSequence:(0,a.Iu)("Remove sequence"),WouldYouLikeToRemoveSequence:(0,a.Iu)("Would you like to remove the whole sequence?"),SceneIsTooShort:(0,a.Iu)("Scene is too short"),ScenesWillBeRemoved:function(e){return(0,a.Iu)({singular:"{SCENES_COUNT} scenes will be removed",replacements:{SCENES_COUNT:e}})},durationUpsellTitle:function(e,t){return(0,a.Iu)("Make videos longer than ".concat(e," seconds with Vimeo ").concat(t))},themeUpsellTitle:function(e){return(0,a.Iu)("Enjoy exclusive styles with Vimeo ".concat(e))},stockUpsellTitle:function(e){return(0,a.Iu)("Get millions of stock images & videos with Vimeo ".concat(e))},brandingUpsellTitle:function(e){return(0,a.Iu)("Add custom branding to your videos with Vimeo ".concat(e))},brandingColorUpsellTitle:function(e){return(0,a.Iu)("Set your colors & branding with Vimeo ".concat(e))},brandingFontUpsellTitle:function(e){return(0,a.Iu)("Set your font & branding with Vimeo ".concat(e))},brandingLogoUpsellTitle:function(e){return(0,a.Iu)("Add your logo & branding with  Vimeo ".concat(e))},uploadStickersUpsellTitle:function(e){return(0,a.Iu)("Add stickers to your video with Vimeo ".concat(e))},Undo:(0,a.Iu)("Undo"),Redo:(0,a.Iu)("Redo"),UndoNotification:function(e){return(0,a.Iu)({singular:"Undo {ACTION_DESCRIPTION}",replacements:{ACTION_DESCRIPTION:e}})},RedoNotification:function(e){return(0,a.Iu)({singular:"Redo {ACTION_DESCRIPTION}",replacements:{ACTION_DESCRIPTION:e}})},ActionDescriptionTrim:(0,a.Iu)("trim"),ActionDescriptionChangeMusicTrack:(0,a.Iu)("music track"),ActionDescriptionChangeStyle:(0,a.Iu)("style"),ActionDescriptionChangeBrand:(0,a.Iu)("brand"),ActionDescriptionDeleteScene:(0,a.Iu)("delete scene"),TextStickerDropShadowNone:(0,a.Iu)("None"),TextStickerDropShadowSoft:(0,a.Iu)("Soft"),TextStickerDropShadowNormal:(0,a.Iu)("Normal"),TextStickerDropShadowSharp:(0,a.Iu)("Sharp"),CutawayExplanatoryTitle:(0,a.Iu)("Adding cutaways to voiceover scenes"),CutawayExplanatoryBody:(0,a.Iu)("When a scene is at least 7 seconds long and includes audio with speech, you can add cutaways: short clips that play between the start and end of the scene. The scene's original audio will play over the cutaway footage."),CutawayExplanatoryBtnCaption:(0,a.Iu)("Got it"),CutawayExplanatoryTooltip:(0,a.Iu)("Voiceover scene"),teamToSaveAVideo:(0,a.Iu)("To save a video the Team owner needs to share a folder with you. To change these settings please contact the Team owner and then Retry."),teamNoSharedFoldersRetry:(0,a.Iu)("Retry"),Timeline:(0,a.Iu)("Timeline"),AutoDuration:(0,a.Iu)("Auto duration"),AutoDurationDialogBody:(0,a.Iu)("Adjust the scene durationincluding the length of time that stickers and text appearto help keep your video readable and professional."),AutoDurationDialogEnable:(0,a.Iu)("Enable"),AutoDurationDialogDisable:(0,a.Iu)("Disable")},c=Object.assign({},i,r.u);window.EditorTranslations=c},842407539419038:(e,t,n)=>{"use strict";n.d(t,{u:()=>o});var r=n(625235537144886),o={BrandingModalHeader:(0,r.Iu)("Brand kit"),BrandingModalSubHeader:(0,r.Iu)("Your preset will affect all of your videos. Upload your logo and pick out a color palette and font."),BrandingModalAddLogo:(0,r.Iu)("Logo"),BrandingModalAddColors:(0,r.Iu)("Custom colors"),BrandingModalAddFont:(0,r.Iu)("Default font"),BrandingModalEditLogo:(0,r.Iu)("Edit logo"),BrandingModalEditColors:(0,r.Iu)("Edit colors"),BrandingModalEditFont:(0,r.Iu)("Edit font"),BrandingModalFontAbc:(0,r.Iu)("Abc"),BrandingModalColorsColorPicker:(0,r.Iu)("Color picker"),BrandingModalColorsSwatches:(0,r.Iu)("Swatches"),BrandingModalColorsLabelPrimary:(0,r.Iu)("Primary"),BrandingModalColorsLabelSecondary:(0,r.Iu)("Secondary"),BrandingModalColorsLabelDefault:(0,r.Iu)("Text"),BrandingModalAddBrandedWatermarkToggle:(0,r.Iu)("Branded watermark"),BrandingModalLogoMaxSizeErrorTitle:(0,r.Iu)("File is too big"),BrandingModalLogoMaxSizeError:function(e){return(0,r.Iu)({singular:"Image size should be less than {SIZE}MB",replacements:{SIZE:e}})},BrandingModalLogoMinSizeErrorTitle:(0,r.Iu)("File is too small"),BrandingModalLogoMinSizeError:function(e,t){return(0,r.Iu)({singular:"Image size should be more than {HEIGHT}x{WIDTH}",replacements:{HEIGHT:e,WIDTH:t}})},BrandingModalBrandedSceneToggle:(0,r.Iu)("Branded scene"),BrandingModalOutroCardToggleInfo:(0,r.Iu)("Add your uploaded logo and contact info to end of your video."),BrandingModalBusinessName:(0,r.Iu)("Business name"),BrandingModalBusinessNamePlaceholder:(0,r.Iu)("Your name or business name"),BrandingModalBusinessContact:(0,r.Iu)("Contact info"),BrandingModalBusinessContactPlaceholder:(0,r.Iu)("Phone, website or social media account"),BrandingModalBusinessTagline:(0,r.Iu)("Tagline"),BrandingModalBusinessTaglinePlaceholder:(0,r.Iu)("Call to action"),BrandingModalBusinessIncludeLogo:(0,r.Iu)("Include logo"),BrandingConflictModalTitle:(0,r.Iu)("Update to the new brand"),BrandingConflictModalSubTitle:(0,r.Iu)("Lorem inpsum"),BrandingConflictUpdateBrand:(0,r.Iu)("Update brand"),BrandingPleaseTryAgain:(0,r.Iu)("Please try again."),BrandingErrorMessage:(0,r.Iu)("An error prevented this data from being saved."),BrandingConflictPleaseTryAgain:(0,r.Iu)("Please try again."),BrandingConflictErrorMessage:(0,r.Iu)("An error prevented this data from being saved.")}},961794091228847:(e,t,n)=>{"use strict";n.d(t,{S:()=>o});var r=n(625235537144886),o={AlertUpapiError:(0,r.Iu)("upapi error: "),AlertInvalidFileType:(0,r.Iu)("Sorry, we don't support this file type. Try again with a common photo or video file."),AlertErrorAlreadyChosen:(0,r.Iu)(" is already chosen"),AlertErrorInvalidFileType:(0,r.Iu)("Invalid file type"),AlertErrorFileTooSmall:function(e){return(0,r.Iu)({singular:"File is too small",replacements:{MIN_SIZE_KB:e}})},AlertErrorImageTooSmall:function(e){return(0,r.Iu)({singular:"Image is too small",replacements:{MIN_SIZE_PX:e}})},AlertErrorFileCountLimit:function(e,t){return(0,r.Iu)({singular:"The limit for {FILE_TYPE} is {LIMIT}",replacements:{FILE_TYPE:e,LIMIT:t}})},AlertErrorFileSizeLimit:function(e){return(0,r.Iu)({singular:"File is too large",replacements:{MAX_SIZE_MB:e}})},AlertErrorUploadError:(0,r.Iu)("This upload failed because of a network error."),AlertErrorFileDurationLimit:function(e){return(0,r.Iu)({singular:"Max duration is {MAX_DUR_SECONDS} seconds",replacements:{MAX_DUR_SECONDS:e}})},ErrorNoVideoSession:(0,r.Iu)("unable to start video session"),ErrorCantAddFileVideoSessionMissing:(0,r.Iu)("Sorry, the file failed to upload, please, try again."),ErrorCantAddFileUplOriginMissing:(0,r.Iu)("Sorry, we couldn't upload this file, try again later"),ErrorSendingMeta3Retries:(0,r.Iu)("Error sending meta after 3 retries!"),ErrorCouldNotFinishSession:(0,r.Iu)("could not finish session: "),ErrorLoadingSession:(0,r.Iu)("error loading session!"),ErrorFinishingSession:(0,r.Iu)("Error finishing session!"),ErrorCantUpload:function(e,t){return(0,r.Iu)({singular:"Can't upload file {NAME}: unknown upl_origin:{UPL_ORIGIN}",replacements:{NAME:e,UPL_ORIGIN:t}})},ErrorPreparingChunks:function(e){return(0,r.Iu)({singular:"Error preparing chunks after 3 retries {NAME}",replacements:{NAME:e}})},ErrorFailedUploadChunk:function(e,t){return(0,r.Iu)({singular:"{NAME}: chunk: {CHUNK_INDEX}: failed to upload chunk (after 3 retries).",replacements:{NAME:e,CHUNK_INDEX:t}})},ErrorFailedUploadChunkNoSrc:(0,r.Iu)("Can't upload chunk for non-existing srcfile: "),ErrorLimitFootageTitle:(0,r.Iu)("Can't exceed 100 photos or videos"),ErrorLimitFootage:(0,r.Iu)("You can add more media when you're editing this draft."),ErrorYouCannotUploadSameVideo:(0,r.Iu)("Sorry, you can't upload the same video multiple times."),ErrorYouCannotUploadSameVideoTitle:(0,r.Iu)("Can't upload again"),ErrorFailedToUpload:(0,r.Iu)("Failed to upload"),AlertErrorTotalFileDurationLimit:function(e,t,n){return(0,r.Iu)({singular:"You have uploaded {DURATION_USED} minutes of videos out of {MAX_DURATION} minutes allowed.\nPlease try again with a file smaller than {DURATION_LEFT} minutes.",replacements:{DURATION_USED:e,MAX_DURATION:t,DURATION_LEFT:n}})},AlertErrorTotalFileSizeLimit:function(e,t,n){return(0,r.Iu)({singular:"You have used {SIZE_USED} out of {MAX_SIZE}.\nPlease try again with a file smaller than {SIZE_LEFT}",replacements:{SIZE_USED:e,MAX_SIZE:t,SIZE_LEFT:n}})}}},28123281552855:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(647973004067521),o=n.n(r),a=n(530591121123384),i=n.n(a)()(o());i.push([e.id,"/*!\r\n * OverlayScrollbars\r\n * https://github.com/KingSora/OverlayScrollbars\r\n *\r\n * Version: 1.13.0\r\n *\r\n * Copyright KingSora | Rene Haas.\r\n * https://github.com/KingSora\r\n *\r\n * Released under the MIT license.\r\n * Date: 02.08.2020\r\n */\n/*\r\nOVERLAY SCROLLBARS CORE:\r\n*/\nhtml.os-html,\nhtml.os-html > .os-host {\n  display: block;\n  overflow: hidden;\n  box-sizing: border-box;\n  height: 100% !important;\n  width: 100% !important;\n  min-width: 100% !important;\n  min-height: 100% !important;\n  margin: 0 !important;\n  position: absolute !important;\n  /* could be position: fixed; but it causes issues on iOS (-webkit-overflow-scrolling: touch) */ }\n\nhtml.os-html > .os-host > .os-padding {\n  position: absolute;\n  /* could be position: fixed; but it causes issues on iOS (-webkit-overflow-scrolling: touch) */ }\n\nbody.os-dragging,\nbody.os-dragging * {\n  cursor: default; }\n\n.os-host,\n.os-host-textarea {\n  position: relative;\n  overflow: visible !important;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  -ms-flex-wrap: nowrap;\n  flex-wrap: nowrap;\n  -webkit-box-pack: start;\n  -ms-flex-pack: start;\n  justify-content: flex-start;\n  -ms-flex-line-pack: start;\n  align-content: flex-start;\n  -webkit-box-align: start;\n  -ms-flex-align: start;\n  -ms-grid-row-align: flex-start;\n  align-items: flex-start; }\n\n.os-host-flexbox {\n  overflow: hidden !important;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex; }\n\n.os-host-flexbox > .os-size-auto-observer {\n  height: inherit !important; }\n\n.os-host-flexbox > .os-content-glue {\n  -webkit-box-flex: 1;\n  -ms-flex-positive: 1;\n  flex-grow: 1;\n  -ms-flex-negative: 0;\n  flex-shrink: 0; }\n\n.os-host-flexbox > .os-size-auto-observer,\n.os-host-flexbox > .os-content-glue {\n  min-height: 0;\n  min-width: 0;\n  -webkit-box-flex: 0;\n  -ms-flex-positive: 0;\n  flex-grow: 0;\n  -ms-flex-negative: 1;\n  flex-shrink: 1;\n  -ms-flex-preferred-size: auto;\n  flex-basis: auto; }\n\n#os-dummy-scrollbar-size {\n  position: fixed;\n  opacity: 0;\n  -ms-filter: 'progid:DXImageTransform.Microsoft.Alpha(Opacity=0)';\n  visibility: hidden;\n  overflow: scroll;\n  height: 500px;\n  width: 500px; }\n\n#os-dummy-scrollbar-size > div {\n  width: 200%;\n  height: 200%;\n  margin: 10px 0; }\n\n/* fix restricted measuring */\n#os-dummy-scrollbar-size:before,\n#os-dummy-scrollbar-size:after,\n.os-content:before,\n.os-content:after {\n  content: '';\n  display: table;\n  width: 0.01px;\n  height: 0.01px;\n  line-height: 0;\n  font-size: 0;\n  flex-grow: 0;\n  flex-shrink: 0;\n  visibility: hidden; }\n\n#os-dummy-scrollbar-size,\n.os-viewport {\n  -ms-overflow-style: scrollbar !important; }\n\n.os-viewport-native-scrollbars-invisible#os-dummy-scrollbar-size,\n.os-viewport-native-scrollbars-invisible.os-viewport {\n  scrollbar-width: none !important; }\n\n.os-viewport-native-scrollbars-invisible#os-dummy-scrollbar-size::-webkit-scrollbar,\n.os-viewport-native-scrollbars-invisible.os-viewport::-webkit-scrollbar,\n.os-viewport-native-scrollbars-invisible#os-dummy-scrollbar-size::-webkit-scrollbar-corner,\n.os-viewport-native-scrollbars-invisible.os-viewport::-webkit-scrollbar-corner {\n  display: none !important;\n  width: 0px !important;\n  height: 0px !important;\n  visibility: hidden !important;\n  background: transparent !important; }\n\n.os-content-glue {\n  box-sizing: inherit;\n  max-height: 100%;\n  max-width: 100%;\n  width: 100%;\n  pointer-events: none; }\n\n.os-padding {\n  box-sizing: inherit;\n  direction: inherit;\n  position: absolute;\n  overflow: visible;\n  padding: 0;\n  margin: 0;\n  left: 0;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  width: auto !important;\n  height: auto !important; }\n\n.os-host-overflow > .os-padding {\n  overflow: hidden; }\n\n.os-viewport {\n  direction: inherit !important;\n  box-sizing: inherit !important;\n  resize: none !important;\n  outline: none !important;\n  position: absolute;\n  overflow: hidden;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  padding: 0;\n  margin: 0;\n  -webkit-overflow-scrolling: touch; }\n\n.os-content-arrange {\n  position: absolute;\n  z-index: -1;\n  min-height: 1px;\n  min-width: 1px;\n  pointer-events: none; }\n\n.os-content {\n  direction: inherit;\n  box-sizing: border-box !important;\n  position: relative;\n  display: block;\n  height: 100%;\n  width: 100%;\n  height: 100%;\n  width: 100%;\n  visibility: visible; }\n\n.os-content > .os-textarea {\n  box-sizing: border-box !important;\n  direction: inherit !important;\n  background: transparent !important;\n  outline: 0px none transparent !important;\n  overflow: hidden !important;\n  position: absolute !important;\n  display: block !important;\n  top: 0 !important;\n  left: 0 !important;\n  margin: 0 !important;\n  border-radius: 0px !important;\n  float: none !important;\n  -webkit-filter: none !important;\n  filter: none !important;\n  border: none !important;\n  resize: none !important;\n  -webkit-transform: none !important;\n  transform: none !important;\n  max-width: none !important;\n  max-height: none !important;\n  box-shadow: none !important;\n  -webkit-perspective: none !important;\n  perspective: none !important;\n  opacity: 1 !important;\n  z-index: 1 !important;\n  clip: auto !important;\n  vertical-align: baseline !important;\n  padding: 0px; }\n\n.os-host-rtl > .os-padding > .os-viewport > .os-content > .os-textarea {\n  right: 0 !important; }\n\n.os-content > .os-textarea-cover {\n  z-index: -1;\n  pointer-events: none; }\n\n.os-content > .os-textarea[wrap='off'] {\n  white-space: pre !important;\n  margin: 0px !important; }\n\n.os-text-inherit {\n  font-family: inherit;\n  font-size: inherit;\n  font-weight: inherit;\n  font-style: inherit;\n  font-variant: inherit;\n  text-transform: inherit;\n  text-decoration: inherit;\n  text-indent: inherit;\n  text-align: inherit;\n  text-shadow: inherit;\n  text-overflow: inherit;\n  letter-spacing: inherit;\n  word-spacing: inherit;\n  line-height: inherit;\n  unicode-bidi: inherit;\n  direction: inherit;\n  color: inherit;\n  cursor: text; }\n\n.os-resize-observer,\n.os-resize-observer-host {\n  box-sizing: inherit;\n  display: block;\n  visibility: hidden;\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 100%;\n  width: 100%;\n  overflow: hidden;\n  pointer-events: none;\n  z-index: -1; }\n\n.os-resize-observer-host {\n  padding: inherit;\n  border: inherit;\n  border-color: transparent;\n  border-style: solid;\n  box-sizing: border-box; }\n\n.os-resize-observer-host.observed {\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: flex-start; }\n\n.os-resize-observer-host > .os-resize-observer,\n.os-resize-observer-host.observed > .os-resize-observer {\n  height: 200%;\n  width: 200%;\n  padding: inherit;\n  border: inherit;\n  margin: 0;\n  display: block;\n  box-sizing: content-box; }\n\n.os-resize-observer-host.observed > .os-resize-observer,\n.os-resize-observer-host.observed > .os-resize-observer:before {\n  display: flex;\n  position: relative;\n  flex-grow: 1;\n  flex-shrink: 0;\n  flex-basis: auto;\n  box-sizing: border-box; }\n\n.os-resize-observer-host.observed > .os-resize-observer:before {\n  content: '';\n  box-sizing: content-box;\n  padding: inherit;\n  border: inherit;\n  margin: 0; }\n\n.os-size-auto-observer {\n  box-sizing: inherit !important;\n  height: 100%;\n  width: inherit;\n  max-width: 1px;\n  position: relative;\n  float: left;\n  max-height: 1px;\n  overflow: hidden;\n  z-index: -1;\n  padding: 0;\n  margin: 0;\n  pointer-events: none;\n  -webkit-box-flex: inherit;\n  -ms-flex-positive: inherit;\n  flex-grow: inherit;\n  -ms-flex-negative: 0;\n  flex-shrink: 0;\n  -ms-flex-preferred-size: 0;\n  flex-basis: 0; }\n\n.os-size-auto-observer > .os-resize-observer {\n  width: 1000%;\n  height: 1000%;\n  min-height: 1px;\n  min-width: 1px; }\n\n.os-resize-observer-item {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  overflow: hidden;\n  z-index: -1;\n  opacity: 0;\n  direction: ltr !important;\n  -webkit-box-flex: 0 !important;\n  -ms-flex: none !important;\n  flex: none !important; }\n\n.os-resize-observer-item-final {\n  position: absolute;\n  left: 0;\n  top: 0;\n  -webkit-transition: none !important;\n  transition: none !important;\n  -webkit-box-flex: 0 !important;\n  -ms-flex: none !important;\n  flex: none !important; }\n\n.os-resize-observer {\n  -webkit-animation-duration: 0.001s;\n  animation-duration: 0.001s;\n  -webkit-animation-name: os-resize-observer-dummy-animation;\n  animation-name: os-resize-observer-dummy-animation; }\n\nobject.os-resize-observer {\n  box-sizing: border-box !important; }\n\n@-webkit-keyframes os-resize-observer-dummy-animation {\n  from {\n    z-index: 0; }\n  to {\n    z-index: -1; } }\n\n@keyframes os-resize-observer-dummy-animation {\n  from {\n    z-index: 0; }\n  to {\n    z-index: -1; } }\n\n/*\r\nCUSTOM SCROLLBARS AND CORNER CORE:\r\n*/\n.os-host-transition > .os-scrollbar,\n.os-host-transition > .os-scrollbar-corner {\n  -webkit-transition: opacity 0.3s, visibility 0.3s, top 0.3s, right 0.3s, bottom 0.3s, left 0.3s;\n  transition: opacity 0.3s, visibility 0.3s, top 0.3s, right 0.3s, bottom 0.3s, left 0.3s; }\n\nhtml.os-html > .os-host > .os-scrollbar {\n  position: absolute;\n  /* could be position: fixed; but it causes issues on iOS (-webkit-overflow-scrolling: touch) */\n  z-index: 999999;\n  /* highest z-index of the page */ }\n\n.os-scrollbar,\n.os-scrollbar-corner {\n  position: absolute;\n  opacity: 1;\n  -ms-filter: 'progid:DXImageTransform.Microsoft.Alpha(Opacity=100)';\n  z-index: 1; }\n\n.os-scrollbar-corner {\n  bottom: 0;\n  right: 0; }\n\n.os-scrollbar {\n  pointer-events: none; }\n\n.os-scrollbar-track {\n  pointer-events: auto;\n  position: relative;\n  height: 100%;\n  width: 100%;\n  padding: 0 !important;\n  border: none !important; }\n\n.os-scrollbar-handle {\n  pointer-events: auto;\n  position: absolute;\n  width: 100%;\n  height: 100%; }\n\n.os-scrollbar-handle-off,\n.os-scrollbar-track-off {\n  pointer-events: none; }\n\n.os-scrollbar.os-scrollbar-unusable,\n.os-scrollbar.os-scrollbar-unusable * {\n  pointer-events: none !important; }\n\n.os-scrollbar.os-scrollbar-unusable .os-scrollbar-handle {\n  opacity: 0 !important; }\n\n.os-scrollbar-horizontal {\n  bottom: 0;\n  left: 0; }\n\n.os-scrollbar-vertical {\n  top: 0;\n  right: 0; }\n\n.os-host-rtl > .os-scrollbar-horizontal {\n  right: 0; }\n\n.os-host-rtl > .os-scrollbar-vertical {\n  right: auto;\n  left: 0; }\n\n.os-host-rtl > .os-scrollbar-corner {\n  right: auto;\n  left: 0; }\n\n.os-scrollbar-auto-hidden,\n.os-padding + .os-scrollbar-corner,\n.os-host-resize-disabled.os-host-scrollbar-horizontal-hidden > .os-scrollbar-corner,\n.os-host-scrollbar-horizontal-hidden > .os-scrollbar-horizontal,\n.os-host-resize-disabled.os-host-scrollbar-vertical-hidden > .os-scrollbar-corner,\n.os-host-scrollbar-vertical-hidden > .os-scrollbar-vertical,\n.os-scrollbar-horizontal.os-scrollbar-auto-hidden + .os-scrollbar-vertical + .os-scrollbar-corner,\n.os-scrollbar-horizontal + .os-scrollbar-vertical.os-scrollbar-auto-hidden + .os-scrollbar-corner,\n.os-scrollbar-horizontal.os-scrollbar-auto-hidden + .os-scrollbar-vertical.os-scrollbar-auto-hidden + .os-scrollbar-corner {\n  opacity: 0;\n  visibility: hidden;\n  pointer-events: none; }\n\n.os-scrollbar-corner-resize-both {\n  cursor: nwse-resize; }\n\n.os-host-rtl > .os-scrollbar-corner-resize-both {\n  cursor: nesw-resize; }\n\n.os-scrollbar-corner-resize-horizontal {\n  cursor: ew-resize; }\n\n.os-scrollbar-corner-resize-vertical {\n  cursor: ns-resize; }\n\n.os-dragging .os-scrollbar-corner.os-scrollbar-corner-resize {\n  cursor: default; }\n\n.os-host-resize-disabled.os-host-scrollbar-horizontal-hidden > .os-scrollbar-vertical {\n  top: 0;\n  bottom: 0; }\n\n.os-host-resize-disabled.os-host-scrollbar-vertical-hidden > .os-scrollbar-horizontal,\n.os-host-rtl.os-host-resize-disabled.os-host-scrollbar-vertical-hidden > .os-scrollbar-horizontal {\n  right: 0;\n  left: 0; }\n\n.os-scrollbar:hover,\n.os-scrollbar-corner.os-scrollbar-corner-resize {\n  opacity: 1 !important;\n  visibility: visible !important; }\n\n.os-scrollbar-corner.os-scrollbar-corner-resize {\n  background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgICB4bWxuczpjYz0iaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbnMjIiAgIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyIgICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgICB3aWR0aD0iMTAiICAgaGVpZ2h0PSIxMCIgICB2ZXJzaW9uPSIxLjEiPiAgPGcgICAgIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAsLTEwNDIuMzYyMikiICAgICBzdHlsZT0iZGlzcGxheTppbmxpbmUiPiAgICA8cGF0aCAgICAgICBzdHlsZT0iZmlsbDojMDAwMDAwO2ZpbGwtb3BhY2l0eTowLjQ5NDExNzY1O2ZpbGwtcnVsZTpldmVub2RkO3N0cm9rZTpub25lIiAgICAgICBkPSJtIDcuNDI0MjE4NywxMDQyLjM2MjIgYyAtMC43MjM1NzkyLDAgLTEuMzEwMTU2MiwwLjU4NjYgLTEuMzEwMTU2MiwxLjMxMDIgMCwwLjI5OSAwLjEwNDM0MTksMC41NzEgMC4yNzI5NDkyLDAuNzkxNSAwLjIwOTEwMjQsMC4xNDEzIDAuNDY1NjIwNiwwLjIxODQgMC43MzY5NjI5LDAuMjE4NCAwLjcyMzU3OTMsMCAxLjMxMDE1NjMsLTAuNTg2NiAxLjMxMDE1NjMsLTEuMzEwMiAwLC0wLjI3MTMgLTAuMDc3MDkzLC0wLjUyNzggLTAuMjE4MzU5NCwtMC43MzcgLTAuMjIwNDk0MSwtMC4xNjg2IC0wLjQ5MjU0NDMsLTAuMjcyOSAtMC43OTE1NTI4LC0wLjI3MjkgeiBtIDAsMy4wODQzIGMgLTAuNzIzNTc5MiwwIC0xLjMxMDE1NjIsMC41ODY2IC0xLjMxMDE1NjIsMS4zMTAyIDAsMC4yOTkgMC4xMDQzNDE5LDAuNTcxIDAuMjcyOTQ5MiwwLjc5MTUgMC4yMDkxMDI0LDAuMTQxMyAwLjQ2NTYyMDYsMC4yMTg0IDAuNzM2OTYyOSwwLjIxODQgMC43MjM1NzkzLDAgMS4zMTAxNTYzLC0wLjU4NjYgMS4zMTAxNTYzLC0xLjMxMDIgMCwtMC4yNzEzIC0wLjA3NzA5MywtMC41Mjc4IC0wLjIxODM1OTQsLTAuNzM2OSAtMC4yMjA0OTQxLC0wLjE2ODYgLTAuNDkyNTQ0MywtMC4yNzMgLTAuNzkxNTUyOCwtMC4yNzMgeiBtIC0zLjA4NDMyNjEsMCBjIC0wLjcyMzU3OTMsMCAtMS4zMTAxNTYzLDAuNTg2NiAtMS4zMTAxNTYzLDEuMzEwMiAwLDAuMjk5IDAuMTA0MzQxOSwwLjU3MSAwLjI3Mjk0OTIsMC43OTE1IDAuMjA5MTAyNCwwLjE0MTMgMC40NjU2MjA3LDAuMjE4NCAwLjczNjk2MjksMC4yMTg0IDAuNzIzNTc5MywwIDEuMzEwMTU2MywtMC41ODY2IDEuMzEwMTU2MywtMS4zMTAyIDAsLTAuMjcxMyAtMC4wNzcwOTMsLTAuNTI3OCAtMC4yMTgzNTk0LC0wLjczNjkgLTAuMjIwNDk0LC0wLjE2ODYgLTAuNDkyNTQ0MiwtMC4yNzMgLTAuNzkxNTUyNywtMC4yNzMgeiBtIC0zLjAyOTczNjQsMy4wMjk4IEMgMC41ODY1NzY5MywxMDQ4LjQ3NjMgMCwxMDQ5LjA2MjggMCwxMDQ5Ljc4NjQgYyAwLDAuMjk5IDAuMTA0MzQxOSwwLjU3MTEgMC4yNzI5NDkyMiwwLjc5MTYgMC4yMDkxMDIyOSwwLjE0MTIgMC40NjU2MjA2NSwwLjIxODMgMC43MzY5NjI4OCwwLjIxODMgMC43MjM1NzkzLDAgMS4zMTAxNTYzLC0wLjU4NjUgMS4zMTAxNTYzLC0xLjMxMDEgMCwtMC4yNzE0IC0wLjA3NzA5MywtMC41Mjc5IC0wLjIxODM1OTQsLTAuNzM3IC0wLjIyMDQ5NDEsLTAuMTY4NiAtMC40OTI1NDQzLC0wLjI3MjkgLTAuNzkxNTUyOCwtMC4yNzI5IHogbSAzLjAyOTczNjQsMCBjIC0wLjcyMzU3OTMsMCAtMS4zMTAxNTYzLDAuNTg2NSAtMS4zMTAxNTYzLDEuMzEwMSAwLDAuMjk5IDAuMTA0MzQxOSwwLjU3MTEgMC4yNzI5NDkyLDAuNzkxNiAwLjIwOTEwMjQsMC4xNDEyIDAuNDY1NjIwNywwLjIxODMgMC43MzY5NjI5LDAuMjE4MyAwLjcyMzU3OTMsMCAxLjMxMDE1NjMsLTAuNTg2NSAxLjMxMDE1NjMsLTEuMzEwMSAwLC0wLjI3MTQgLTAuMDc3MDkzLC0wLjUyNzkgLTAuMjE4MzU5NCwtMC43MzcgLTAuMjIwNDk0LC0wLjE2ODYgLTAuNDkyNTQ0MiwtMC4yNzI5IC0wLjc5MTU1MjcsLTAuMjcyOSB6IG0gMy4wODQzMjYxLDAgYyAtMC43MjM1NzkyLDAgLTEuMzEwMTU2MiwwLjU4NjUgLTEuMzEwMTU2MiwxLjMxMDEgMCwwLjI5OSAwLjEwNDM0MTksMC41NzExIDAuMjcyOTQ5MiwwLjc5MTYgMC4yMDkxMDI0LDAuMTQxMiAwLjQ2NTYyMDYsMC4yMTgzIDAuNzM2OTYyOSwwLjIxODMgMC43MjM1NzkzLDAgMS4zMTAxNTYzLC0wLjU4NjUgMS4zMTAxNTYzLC0xLjMxMDEgMCwtMC4yNzE0IC0wLjA3NzA5MywtMC41Mjc5IC0wLjIxODM1OTQsLTAuNzM3IC0wLjIyMDQ5NDEsLTAuMTY4NiAtMC40OTI1NDQzLC0wLjI3MjkgLTAuNzkxNTUyOCwtMC4yNzI5IHoiLz4gIDwvZz4gIDxnICAgICBzdHlsZT0iZGlzcGxheTppbmxpbmUiPiAgICA8cGF0aCAgICAgICBzdHlsZT0iZmlsbDojZmZmZmZmO2ZpbGwtb3BhY2l0eToxO2ZpbGwtcnVsZTpldmVub2RkO3N0cm9rZTpub25lIiAgICAgICBkPSJtIDguMjE1NzcxNSwwLjI3Mjk0OTIyIGMgMC4xNDEyNjY3LDAuMjA5MTAyMjkgMC4yMTgzNTk0LDAuNDY1NjIwNjUgMC4yMTgzNTk0LDAuNzM2OTYyODggMCwwLjcyMzU3OTMgLTAuNTg2NTc3LDEuMzEwMTU2MyAtMS4zMTAxNTYzLDEuMzEwMTU2MyAtMC4yNzEzNDIzLDAgLTAuNTI3ODYwNSwtMC4wNzcwOTMgLTAuNzM2OTYyOSwtMC4yMTgzNTk0IDAuMjM5NDEwNCwwLjMxMzA4NTkgMC42MTI2MzYyLDAuNTE4NjAzNSAxLjAzNzIwNywwLjUxODYwMzUgMC43MjM1NzkzLDAgMS4zMTAxNTYzLC0wLjU4NjU3NyAxLjMxMDE1NjMsLTEuMzEwMTU2MyAwLC0wLjQyNDU3MDc2IC0wLjIwNTUxNzYsLTAuNzk3Nzk2NTkgLTAuNTE4NjAzNSwtMS4wMzcyMDY5OCB6IG0gMCwzLjA4NDMyNjE4IGMgMC4xNDEyNjY3LDAuMjA5MTAyMyAwLjIxODM1OTQsMC40NjU2MjA2IDAuMjE4MzU5NCwwLjczNjk2MjkgMCwwLjcyMzU3OTMgLTAuNTg2NTc3LDEuMzEwMTU2MiAtMS4zMTAxNTYzLDEuMzEwMTU2MiAtMC4yNzEzNDIzLDAgLTAuNTI3ODYwNSwtMC4wNzcwOTMgLTAuNzM2OTYyOSwtMC4yMTgzNTkzIDAuMjM5NDEwNCwwLjMxMzA4NTkgMC42MTI2MzYyLDAuNTE4NjAzNSAxLjAzNzIwNywwLjUxODYwMzUgMC43MjM1NzkzLDAgMS4zMTAxNTYzLC0wLjU4NjU3NyAxLjMxMDE1NjMsLTEuMzEwMTU2MyAwLC0wLjQyNDU3MDggLTAuMjA1NTE3NiwtMC43OTc3OTY3IC0wLjUxODYwMzUsLTEuMDM3MjA3IHogbSAtMy4wODQzMjYyLDAgYyAwLjE0MTI2NjcsMC4yMDkxMDIzIDAuMjE4MzU5NCwwLjQ2NTYyMDYgMC4yMTgzNTk0LDAuNzM2OTYyOSAwLDAuNzIzNTc5MyAtMC41ODY1NzcsMS4zMTAxNTYyIC0xLjMxMDE1NjMsMS4zMTAxNTYyIC0wLjI3MTM0MjIsMCAtMC41Mjc4NjA1LC0wLjA3NzA5MyAtMC43MzY5NjI5LC0wLjIxODM1OTMgMC4yMzk0MTA0LDAuMzEzMDg1OSAwLjYxMjYzNjMsMC41MTg2MDM1IDEuMDM3MjA3MSwwLjUxODYwMzUgMC43MjM1NzkzLDAgMS4zMTAxNTYyLC0wLjU4NjU3NyAxLjMxMDE1NjIsLTEuMzEwMTU2MyAwLC0wLjQyNDU3MDggLTAuMjA1NTE3NSwtMC43OTc3OTY3IC0wLjUxODYwMzUsLTEuMDM3MjA3IHogTSAyLjEwMTcwOSw2LjM4NzAxMTcgYyAwLjE0MTI2NjcsMC4yMDkxMDI0IDAuMjE4MzU5NCwwLjQ2NTYyMDYgMC4yMTgzNTk0LDAuNzM2OTYyOSAwLDAuNzIzNTc5MyAtMC41ODY1NzcsMS4zMTAxNTYzIC0xLjMxMDE1NjMsMS4zMTAxNTYzIC0wLjI3MTM0MjIzLDAgLTAuNTI3ODYwNTksLTAuMDc3MDkzIC0wLjczNjk2Mjg4LC0wLjIxODM1OTQgMC4yMzk0MTAzOSwwLjMxMzA4NTkgMC42MTI2MzYyMiwwLjUxODYwMzUgMS4wMzcyMDY5OCwwLjUxODYwMzUgMC43MjM1NzkzLDAgMS4zMTAxNTYzLC0wLjU4NjU3NyAxLjMxMDE1NjMsLTEuMzEwMTU2MyAwLC0wLjQyNDU3MDggLTAuMjA1NTE3NiwtMC43OTc3OTY2IC0wLjUxODYwMzUsLTEuMDM3MjA3IHogbSAzLjAyOTczNjMsMCBjIDAuMTQxMjY2NywwLjIwOTEwMjQgMC4yMTgzNTk0LDAuNDY1NjIwNiAwLjIxODM1OTQsMC43MzY5NjI5IDAsMC43MjM1NzkzIC0wLjU4NjU3NywxLjMxMDE1NjMgLTEuMzEwMTU2MywxLjMxMDE1NjMgLTAuMjcxMzQyMiwwIC0wLjUyNzg2MDUsLTAuMDc3MDkzIC0wLjczNjk2MjksLTAuMjE4MzU5NCAwLjIzOTQxMDQsMC4zMTMwODU5IDAuNjEyNjM2MywwLjUxODYwMzUgMS4wMzcyMDcxLDAuNTE4NjAzNSAwLjcyMzU3OTMsMCAxLjMxMDE1NjIsLTAuNTg2NTc3IDEuMzEwMTU2MiwtMS4zMTAxNTYzIDAsLTAuNDI0NTcwOCAtMC4yMDU1MTc1LC0wLjc5Nzc5NjYgLTAuNTE4NjAzNSwtMS4wMzcyMDcgeiBtIDMuMDg0MzI2MiwwIGMgMC4xNDEyNjY3LDAuMjA5MTAyNCAwLjIxODM1OTQsMC40NjU2MjA2IDAuMjE4MzU5NCwwLjczNjk2MjkgMCwwLjcyMzU3OTMgLTAuNTg2NTc3LDEuMzEwMTU2MyAtMS4zMTAxNTYzLDEuMzEwMTU2MyAtMC4yNzEzNDIzLDAgLTAuNTI3ODYwNSwtMC4wNzcwOTMgLTAuNzM2OTYyOSwtMC4yMTgzNTk0IDAuMjM5NDEwNCwwLjMxMzA4NTkgMC42MTI2MzYyLDAuNTE4NjAzNSAxLjAzNzIwNywwLjUxODYwMzUgMC43MjM1NzkzLDAgMS4zMTAxNTYzLC0wLjU4NjU3NyAxLjMxMDE1NjMsLTEuMzEwMTU2MyAwLC0wLjQyNDU3MDggLTAuMjA1NTE3NiwtMC43OTc3OTY2IC0wLjUxODYwMzUsLTEuMDM3MjA3IHoiIC8+ICA8L2c+PC9zdmc+);\n  background-repeat: no-repeat;\n  background-position: 100% 100%;\n  pointer-events: auto !important; }\n\n.os-host-rtl > .os-scrollbar-corner.os-scrollbar-corner-resize {\n  -webkit-transform: scale(-1, 1);\n  transform: scale(-1, 1); }\n\n.os-host-overflow {\n  overflow: hidden !important; }\n\n/*\r\nTHEMES:\r\n*/\n/* NONE THEME: */\n.os-theme-none > .os-scrollbar-horizontal,\n.os-theme-none > .os-scrollbar-vertical,\n.os-theme-none > .os-scrollbar-corner {\n  display: none !important; }\n\n.os-theme-none > .os-scrollbar-corner-resize {\n  display: block !important;\n  min-width: 10px;\n  min-height: 10px; }\n\n/* DARK & LIGHT THEME: */\n.os-theme-dark > .os-scrollbar-horizontal,\n.os-theme-light > .os-scrollbar-horizontal {\n  right: 10px;\n  height: 10px; }\n\n.os-theme-dark > .os-scrollbar-vertical,\n.os-theme-light > .os-scrollbar-vertical {\n  bottom: 10px;\n  width: 10px; }\n\n.os-theme-dark.os-host-rtl > .os-scrollbar-horizontal,\n.os-theme-light.os-host-rtl > .os-scrollbar-horizontal {\n  left: 10px;\n  right: 0; }\n\n.os-theme-dark > .os-scrollbar-corner,\n.os-theme-light > .os-scrollbar-corner {\n  height: 10px;\n  width: 10px; }\n\n.os-theme-dark > .os-scrollbar-corner,\n.os-theme-light > .os-scrollbar-corner {\n  background-color: transparent; }\n\n.os-theme-dark > .os-scrollbar,\n.os-theme-light > .os-scrollbar {\n  padding: 2px;\n  box-sizing: border-box;\n  background: transparent; }\n\n.os-theme-dark > .os-scrollbar.os-scrollbar-unusable,\n.os-theme-light > .os-scrollbar.os-scrollbar-unusable {\n  background: transparent; }\n\n.os-theme-dark > .os-scrollbar > .os-scrollbar-track,\n.os-theme-light > .os-scrollbar > .os-scrollbar-track {\n  background: transparent; }\n\n.os-theme-dark > .os-scrollbar-horizontal > .os-scrollbar-track > .os-scrollbar-handle,\n.os-theme-light > .os-scrollbar-horizontal > .os-scrollbar-track > .os-scrollbar-handle {\n  min-width: 30px; }\n\n.os-theme-dark > .os-scrollbar-vertical > .os-scrollbar-track > .os-scrollbar-handle,\n.os-theme-light > .os-scrollbar-vertical > .os-scrollbar-track > .os-scrollbar-handle {\n  min-height: 30px; }\n\n.os-theme-dark.os-host-transition > .os-scrollbar > .os-scrollbar-track > .os-scrollbar-handle,\n.os-theme-light.os-host-transition > .os-scrollbar > .os-scrollbar-track > .os-scrollbar-handle {\n  -webkit-transition: background-color 0.3s;\n  transition: background-color 0.3s; }\n\n.os-theme-dark > .os-scrollbar > .os-scrollbar-track > .os-scrollbar-handle,\n.os-theme-light > .os-scrollbar > .os-scrollbar-track > .os-scrollbar-handle,\n.os-theme-dark > .os-scrollbar > .os-scrollbar-track,\n.os-theme-light > .os-scrollbar > .os-scrollbar-track {\n  border-radius: 10px; }\n\n.os-theme-dark > .os-scrollbar > .os-scrollbar-track > .os-scrollbar-handle {\n  background: rgba(0, 0, 0, 0.4); }\n\n.os-theme-light > .os-scrollbar > .os-scrollbar-track > .os-scrollbar-handle {\n  background: rgba(255, 255, 255, 0.4); }\n\n.os-theme-dark > .os-scrollbar:hover > .os-scrollbar-track > .os-scrollbar-handle {\n  background: rgba(0, 0, 0, 0.55); }\n\n.os-theme-light > .os-scrollbar:hover > .os-scrollbar-track > .os-scrollbar-handle {\n  background: rgba(255, 255, 255, 0.55); }\n\n.os-theme-dark > .os-scrollbar > .os-scrollbar-track > .os-scrollbar-handle.active {\n  background: rgba(0, 0, 0, 0.7); }\n\n.os-theme-light > .os-scrollbar > .os-scrollbar-track > .os-scrollbar-handle.active {\n  background: rgba(255, 255, 255, 0.7); }\n\n.os-theme-dark > .os-scrollbar-horizontal .os-scrollbar-handle:before,\n.os-theme-dark > .os-scrollbar-vertical .os-scrollbar-handle:before,\n.os-theme-light > .os-scrollbar-horizontal .os-scrollbar-handle:before,\n.os-theme-light > .os-scrollbar-vertical .os-scrollbar-handle:before {\n  content: '';\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  display: block; }\n\n.os-theme-dark.os-host-scrollbar-horizontal-hidden > .os-scrollbar-horizontal .os-scrollbar-handle:before,\n.os-theme-dark.os-host-scrollbar-vertical-hidden > .os-scrollbar-vertical .os-scrollbar-handle:before,\n.os-theme-light.os-host-scrollbar-horizontal-hidden > .os-scrollbar-horizontal .os-scrollbar-handle:before,\n.os-theme-light.os-host-scrollbar-vertical-hidden > .os-scrollbar-vertical .os-scrollbar-handle:before {\n  display: none; }\n\n.os-theme-dark > .os-scrollbar-horizontal .os-scrollbar-handle:before,\n.os-theme-light > .os-scrollbar-horizontal .os-scrollbar-handle:before {\n  top: -6px;\n  bottom: -2px; }\n\n.os-theme-dark > .os-scrollbar-vertical .os-scrollbar-handle:before,\n.os-theme-light > .os-scrollbar-vertical .os-scrollbar-handle:before {\n  left: -6px;\n  right: -2px; }\n\n.os-host-rtl.os-theme-dark > .os-scrollbar-vertical .os-scrollbar-handle:before,\n.os-host-rtl.os-theme-light > .os-scrollbar-vertical .os-scrollbar-handle:before {\n  right: -6px;\n  left: -2px; }\n\n.os-theme-dark > .os-scrollbar-vertical {\n  width: 14px; }\n\n.os-theme-dark > .os-scrollbar-horizontal {\n  height: 14px; }\n\n.os-theme-dark > .os-scrollbar {\n  padding: 3px; }\n  .os-theme-dark > .os-scrollbar > .os-scrollbar-track > .os-scrollbar-handle {\n    background: rgba(179, 191, 200, 0.6); }\n    .os-theme-dark > .os-scrollbar > .os-scrollbar-track > .os-scrollbar-handle.active, .os-theme-dark > .os-scrollbar > .os-scrollbar-track > .os-scrollbar-handle:hover, .os-theme-dark > .os-scrollbar > .os-scrollbar-track > .os-scrollbar-handle.active:hover {\n      background: rgba(179, 191, 200, 0.95); }\n\n*::-webkit-scrollbar {\n  width: 8px;\n  height: 8px;\n  background-color: transparent; }\n\n*::-webkit-scrollbar-thumb {\n  border-radius: 8px;\n  background-color: rgba(179, 191, 200, 0.6); }\n  *::-webkit-scrollbar-thumb:hover {\n    background: rgba(179, 191, 200, 0.95); }\n\n* {\n  scrollbar-width: thin;\n  scrollbar-color: rgba(179, 191, 200, 0.6) transparent; }\n\n#scene_editor_container {\n  background-color: lightblue;\n  width: 80%;\n  height: 80%;\n  margin: 0 auto; }\n\n#scene_editor_container.scene-content-container {\n  position: relative; }\n\n.ce-wrapper {\n  user-select: none; }\n  .ce-wrapper:focus {\n    outline: none !important; }\n\n.ce {\n  width: 100%;\n  height: 100%;\n  position: absolute; }\n  .ce .svg-test {\n    position: absolute;\n    top: 0;\n    left: 0; }\n  .ce .media-composition {\n    width: 100%;\n    height: 100%;\n    overflow: hidden; }\n    .ce .media-composition .scaled {\n      position: relative;\n      transform-origin: 0 0; }\n      .ce .media-composition .scaled img {\n        max-width: initial;\n        position: absolute;\n        transform-origin: left top;\n        pointer-events: none; }\n      .ce .media-composition .scaled video {\n        max-width: initial;\n        position: absolute;\n        transform-origin: left top; }\n  .ce .image-composition {\n    background-color: orange;\n    width: 100%;\n    height: 100%; }\n  .ce .text-composition {\n    background-color: cornflowerblue;\n    width: 100%;\n    height: 100%; }\n  .ce .graphic-composition {\n    background-color: darkseagreen;\n    width: 100%;\n    height: 100%; }\n  .ce .video-composition {\n    background-color: rebeccapurple;\n    width: 100%;\n    height: 100%; }\n\n.debug-info {\n  position: absolute;\n  background: rgba(0, 0, 0, 0.5);\n  color: #fff;\n  padding: 8px;\n  z-index: 900;\n  font-size: 0.7em;\n  text-align: left; }\n\nbody,\nhtml {\n  width: 100%;\n  height: 100%;\n  margin: 0;\n  padding: 0;\n  user-select: none;\n  -webkit-user-select: none; }\n\nbody,\nbody * {\n  font-family: HelveticaNeue, Helvetica, Arial, sans-serif; }\n\n* {\n  box-sizing: border-box; }\n\n#storyboard-editor {\n  display: flex;\n  flex-direction: column;\n  text-align: center;\n  height: 100%;\n  margin: 0;\n  min-width: 900px;\n  min-height: 607px; }\n  #storyboard-editor #busy-overlay {\n    position: fixed;\n    z-index: 9999999;\n    width: 100%;\n    height: 100%;\n    background-color: rgba(0, 0, 0, 0.33);\n    top: 0;\n    left: 0; }\n    #storyboard-editor #busy-overlay div {\n      position: fixed;\n      top: 50%;\n      left: 50%;\n      margin: -1.75rem 0 0 -1.75rem; }\n  #storyboard-editor .view-wrapper {\n    flex: 1 0 auto;\n    display: flex;\n    height: calc(100% - 63px);\n    font-size: 12px;\n    font-weight: normal;\n    font-style: normal;\n    font-stretch: normal;\n    line-height: 1.5; }\n    #storyboard-editor .view-wrapper .branding-colors {\n      font-size: 10px; }\n      #storyboard-editor .view-wrapper .branding-colors h6,\n      #storyboard-editor .view-wrapper .branding-colors input,\n      #storyboard-editor .view-wrapper .branding-colors a {\n        font-size: 10px; }\n      #storyboard-editor .view-wrapper .branding-colors .palettes {\n        width: 20px;\n        height: 20px;\n        display: inline-block;\n        width: 100%; }\n        #storyboard-editor .view-wrapper .branding-colors .palettes .palettes-dropdown-chevron {\n          width: 20px;\n          height: 20px;\n          display: inline;\n          vertical-align: initial; }\n          #storyboard-editor .view-wrapper .branding-colors .palettes .palettes-dropdown-chevron.opened {\n            transform: rotate(180deg); }\n      #storyboard-editor .view-wrapper .branding-colors .selected_palette_color_rect {\n        /* */\n        width: 20px;\n        height: 20px;\n        border: 1px solid;\n        display: inline-block;\n        outline: 1px solid #fff; }\n    #storyboard-editor .view-wrapper .content-wrapper {\n      display: flex;\n      flex-direction: column;\n      flex: 1 1 auto;\n      position: relative; }\n\n.layout-container {\n  border-radius: 5px;\n  background-color: #ffffff;\n  height: 100%; }\n  .layout-container .layout-header {\n    height: 40px;\n    line-height: 40px;\n    border-bottom: solid 1px #e3e8e9;\n    font-size: 16px;\n    font-weight: normal;\n    text-align: center;\n    color: #1a2e3b; }\n  .layout-container .layout-arrangement {\n    padding: 2px 14px 0;\n    overflow-y: auto;\n    height: calc(100% - 40px);\n    display: grid;\n    grid-template-columns: repeat(auto-fill, 50%);\n    align-content: baseline;\n    justify-items: center; }\n    .layout-container .layout-arrangement .layout-preview {\n      position: relative;\n      display: inline-flex;\n      border: solid 3px transparent;\n      cursor: pointer; }\n      .layout-container .layout-arrangement .layout-preview:hover {\n        border-color: #bce5f8; }\n      .layout-container .layout-arrangement .layout-preview.selected {\n        border-color: #00adef; }\n\n.major-button {\n  width: 100%;\n  height: 32px;\n  line-height: 32px;\n  border-radius: 2px;\n  background-color: #3a5161;\n  font-size: 14px;\n  font-weight: bold;\n  letter-spacing: 0.2px;\n  text-align: center;\n  color: #ffffff; }\n\ninput[type='button'].major-button {\n  line-height: initial; }\n\n#inspector-content-properties {\n  height: 100%;\n  overflow-y: auto; }\n\n#inspector-content-style {\n  height: 100%;\n  overflow-y: auto; }\n\n.media-inspector {\n  border-radius: 5px;\n  background-color: #ffffff;\n  height: 100%; }\n  .media-inspector .media-inspector-header {\n    height: 32px;\n    line-height: 32px;\n    border-bottom: solid 1px #e3e8e9;\n    font-size: 12px;\n    font-weight: bold;\n    text-align: center;\n    color: #1a2e3b; }\n  .media-inspector hr {\n    width: calc(100% + 34px);\n    margin-left: -17px;\n    height: 0;\n    -webkit-appearance: none;\n    border: 1px solid #e3e8e9;\n    border-bottom: 0;\n    border-right: 0;\n    border-left: 0;\n    margin-top: 0; }\n  .media-inspector .media-inspector-controls {\n    text-align: left;\n    padding: 0 15px 15px 15px; }\n    .media-inspector .media-inspector-controls .controls-label {\n      font-size: 12px;\n      font-weight: bold;\n      line-height: 1.5;\n      color: #1a2e3b; }\n    .media-inspector .media-inspector-controls .major-button {\n      width: 225px; }\n\n.bold {\n  font-weight: 900; }\n\n.center {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%; }\n\n.center-icon {\n  position: absolute;\n  top: 50%;\n  right: 50%;\n  transform: translate(50%, -50%); }\n\n.grow {\n  transform: scale(1.3);\n  transition: all 0.2s ease-in-out;\n  border-radius: 6.5px;\n  height: 100%;\n  width: 100%;\n  z-index: 1; }\n\n.hide {\n  display: none; }\n\n.music-bars-playing {\n  height: 30px;\n  left: 50%;\n  margin: -30px 0 0 -20px;\n  position: absolute;\n  bottom: 5px;\n  width: 40px; }\n  .music-bars-playing .bar {\n    background: #fff;\n    bottom: 1px;\n    height: 3px;\n    position: absolute;\n    width: 3px;\n    animation: sound 0ms -800ms linear infinite alternate; }\n\n@keyframes sound {\n  0% {\n    opacity: 0.35;\n    height: 3px; }\n  100% {\n    opacity: 1;\n    height: 28px; } }\n  .music-bars-playing .bar:nth-child(1) {\n    left: 1px;\n    animation-duration: 474ms; }\n  .music-bars-playing .bar:nth-child(2) {\n    left: 5px;\n    animation-duration: 433ms; }\n  .music-bars-playing .bar:nth-child(3) {\n    left: 9px;\n    animation-duration: 407ms; }\n  .music-bars-playing .bar:nth-child(4) {\n    left: 13px;\n    animation-duration: 458ms; }\n  .music-bars-playing .bar:nth-child(5) {\n    left: 17px;\n    animation-duration: 400ms; }\n  .music-bars-playing .bar:nth-child(6) {\n    left: 21px;\n    animation-duration: 427ms; }\n  .music-bars-playing .bar:nth-child(7) {\n    left: 25px;\n    animation-duration: 441ms; }\n  .music-bars-playing .bar:nth-child(8) {\n    left: 29px;\n    animation-duration: 419ms; }\n  .music-bars-playing .bar:nth-child(9) {\n    left: 33px;\n    animation-duration: 487ms; }\n  .music-bars-playing .bar:nth-child(10) {\n    left: 37px;\n    animation-duration: 442ms; }\n\n.music-loader {\n  display: flex;\n  justify-content: center;\n  position: absolute;\n  bottom: 10px;\n  text-align: center;\n  width: 100%; }\n\n.music-error {\n  position: absolute;\n  top: 50%;\n  text-align: center;\n  width: 100%;\n  color: #fff; }\n\n.box-placeholder-container {\n  display: flex;\n  flex-wrap: wrap;\n  justify-items: center; }\n  .box-placeholder-container .placeholder-container {\n    width: 150px;\n    height: 200px;\n    text-align: center;\n    margin: 0 0 40px 16px; }\n  .box-placeholder-container .placeholder-loading {\n    animation-duration: 1s;\n    animation-fill-mode: forwards;\n    animation-iteration-count: infinite;\n    animation-name: placeHolderShimmer;\n    animation-timing-function: linear;\n    background: #f6f7f8;\n    background: linear-gradient(to right, #eeeeee 8%, #dddddd 18%, #eeeeee 33%);\n    background-size: 800px 104px;\n    height: 96px;\n    position: relative; }\n    .box-placeholder-container .placeholder-loading.thumb {\n      height: 150px;\n      width: 150px;\n      margin-bottom: 10px;\n      border-radius: 5px; }\n    .box-placeholder-container .placeholder-loading.artist {\n      width: 120px;\n      height: 12px;\n      margin-bottom: 10px; }\n    .box-placeholder-container .placeholder-loading.name {\n      width: 98px;\n      height: 12px;\n      margin-bottom: 10px; }\n\n@keyframes placeHolderShimmer {\n  0% {\n    background-position: -150px 0; }\n  100% {\n    background-position: 150px 0; } }\n\n.use-button-wrapper {\n  position: absolute;\n  display: flex;\n  justify-content: center;\n  bottom: 15px;\n  width: 100%; }\n\n.use-button {\n  cursor: pointer;\n  text-align: center;\n  width: 100px;\n  height: 20px;\n  font-weight: bold;\n  font-size: 14px;\n  color: #fff;\n  border-radius: 3px;\n  border: solid 1px #ffffff;\n  background-color: rgba(0, 0, 0, 0.3); }\n\n.chip-list {\n  display: flex;\n  flex-wrap: wrap;\n  align-items: center;\n  margin-bottom: 10px; }\n\n.chip {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 5px 10px;\n  background-color: #4b4b4b;\n  margin-right: 10px;\n  border-radius: 100px;\n  max-width: 200px;\n  width: auto;\n  color: #fff; }\n\n.chip-close {\n  font-size: 14px;\n  margin-left: 10px;\n  cursor: pointer; }\n\n/*\n * react-circular-progressbar styles\n * All of the styles in this file are configurable!\n */\n.CircularProgressbar {\n  /*\n   * This fixes an issue where the CircularProgressbar svg has\n   * 0 width inside a \"display: flex\" container, and thus not visible.\n   */\n  width: 100%;\n  /*\n   * This fixes a centering issue with CircularProgressbarWithChildren:\n   * https://github.com/kevinsqi/react-circular-progressbar/issues/94\n   */\n  vertical-align: middle; }\n\n.CircularProgressbar .CircularProgressbar-path {\n  stroke: #3e98c7;\n  stroke-linecap: round;\n  -webkit-transition: stroke-dashoffset 0.5s ease 0s;\n  transition: stroke-dashoffset 0.5s ease 0s; }\n\n.CircularProgressbar .CircularProgressbar-trail {\n  stroke: #d6d6d6;\n  /* Used when trail is not full diameter, i.e. when props.circleRatio is set */\n  stroke-linecap: round; }\n\n.CircularProgressbar .CircularProgressbar-text {\n  fill: #3e98c7;\n  font-size: 20px;\n  dominant-baseline: middle;\n  text-anchor: middle; }\n\n.CircularProgressbar .CircularProgressbar-background {\n  fill: #d6d6d6; }\n\n/*\n * Sample background styles. Use these with e.g.:\n *\n *   <CircularProgressbar\n *     className=\"CircularProgressbar-inverted\"\n *     background\n *     percentage={50}\n *   />\n */\n.CircularProgressbar.CircularProgressbar-inverted .CircularProgressbar-background {\n  fill: #3e98c7; }\n\n.CircularProgressbar.CircularProgressbar-inverted .CircularProgressbar-text {\n  fill: #fff; }\n\n.CircularProgressbar.CircularProgressbar-inverted .CircularProgressbar-path {\n  stroke: #fff; }\n\n.CircularProgressbar.CircularProgressbar-inverted .CircularProgressbar-trail {\n  stroke: transparent; }\n\n.preview-button {\n  width: 110px;\n  height: 40px;\n  border-radius: 3px;\n  background-color: #00adef;\n  float: right;\n  font-size: 16px;\n  font-weight: bold;\n  color: #ffffff; }\n\n:focus {\n  outline: none; }\n\n.shz {\n  border-radius: 50%;\n  background: rgba(0, 0, 0, 0.7);\n  width: 60px;\n  height: 60px; }\n\n.grid {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  margin: 0 auto;\n  padding: 0;\n  max-width: 1340px; }\n\n.grid > * {\n  -webkit-box-flex: 1 1 100%;\n  -webkit-flex: 1 1 100%;\n  -ms-flex: 1 1 100%;\n  flex: 1 1 100%;\n  min-width: 0; }\n\n.grid-vert-center {\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n  -ms-flex-align: center;\n  align-items: center; }\n\n.grid-space-center {\n  -webkit-box-pack: center;\n  -webkit-justify-content: center;\n  -ms-flex-pack: center;\n  justify-content: center; }\n\n.shz-partial-equalizer {\n  opacity: 0;\n  pointer-events: none;\n  list-style: none;\n  width: 100%;\n  height: 100%;\n  border-radius: 5px; }\n\n.shz-partial-equalizer {\n  display: flex; }\n\n.shz-partial-equalizer {\n  opacity: 1;\n  -webkit-transition: opacity 0.5s cubic-bezier(0.4, 0, 0.2, 1);\n  transition: opacity 0.5s cubic-bezier(0.4, 0, 0.2, 1);\n  pointer-events: auto; }\n\n.shz-partial-equalizer li {\n  background: #fff;\n  max-width: 4px;\n  height: 100%;\n  margin-right: 2px;\n  border-radius: 3px; }\n\n.shz-partial-equalizer li {\n  -webkit-animation: equalizer 0.5s forwards ease-in-out infinite;\n  -ms-animation: equalizer 0.5s forwards ease-in-out infinite;\n  animation: equalizer 0.5s forwards ease-in-out infinite;\n  -webkit-animation-direction: alternate;\n  -ms-animation-direction: alternate;\n  animation-direction: alternate; }\n\n.shz-partial-equalizer li:nth-child(1) {\n  animation-duration: 2s; }\n\n.shz-partial-equalizer li:nth-child(2) {\n  animation-duration: 1.6s; }\n\n.shz-partial-equalizer li:nth-child(3) {\n  animation-duration: 1.9s; }\n\n.shz-partial-equalizer li:nth-child(4) {\n  animation-duration: 1.5s; }\n\n.shz-partial-equalizer li:nth-child(5) {\n  animation-duration: 1.7s; }\n\n.shz-partial-equalizer li:last-child {\n  margin-right: 0; }\n\n@-webkit-keyframes equalizer {\n  0% {\n    height: 5%; }\n  12% {\n    height: 10%; }\n  24% {\n    height: 40%; }\n  36% {\n    height: 15%; }\n  48% {\n    height: 25%; }\n  60% {\n    height: 30%; }\n  72% {\n    height: 20%; }\n  84% {\n    height: 35%; }\n  100% {\n    height: 5%; } }\n\n@keyframes equalizer {\n  0% {\n    height: 5%; }\n  12% {\n    height: 10%; }\n  24% {\n    height: 40%; }\n  36% {\n    height: 15%; }\n  48% {\n    height: 25%; }\n  60% {\n    height: 30%; }\n  72% {\n    height: 20%; }\n  84% {\n    height: 35%; }\n  100% {\n    height: 5%; } }\n\n.shz-partial-equalizer.grid-vert-bottom li {\n  animation-name: equalizer-bottom; }\n\n@-webkit-keyframes equalizer-bottom {\n  0% {\n    height: 5%; }\n  12% {\n    height: 40%; }\n  24% {\n    height: 100%; }\n  36% {\n    height: 30%; }\n  48% {\n    height: 55%; }\n  60% {\n    height: 80%; }\n  72% {\n    height: 60%; }\n  84% {\n    height: 35%; }\n  100% {\n    height: 5%; } }\n\n@keyframes equalizer-bottom {\n  0% {\n    height: 5%; }\n  12% {\n    height: 40%; }\n  24% {\n    height: 100%; }\n  36% {\n    height: 30%; }\n  48% {\n    height: 55%; }\n  60% {\n    height: 80%; }\n  72% {\n    height: 60%; }\n  84% {\n    height: 35%; }\n  100% {\n    height: 5%; } }\n\nsvg.shz-partial-equalizer-pause {\n  display: none;\n  margin: -10px 0 0 -9px;\n  opacity: 0;\n  -webkit-transition: opacity 0.5s cubic-bezier(0.4, 0.2, 0, 1);\n  transition: opacity 0.5s cubic-bezier(0.4, 0.2, 0, 1); }\n","",{version:3,sources:["webpack://./shared/style/main.scss"],names:[],mappings:"AAAA;;;;;;;;;;;EAWE;AACF;;CAEC;AACD;;EAEE,cAAc;EACd,gBAAgB;EAChB,sBAAsB;EACtB,uBAAuB;EACvB,sBAAsB;EACtB,0BAA0B;EAC1B,2BAA2B;EAC3B,oBAAoB;EACpB,6BAA6B;EAC7B,8FAA8F,EAAE;;AAElG;EACE,kBAAkB;EAClB,8FAA8F,EAAE;;AAElG;;EAEE,eAAe,EAAE;;AAEnB;;EAEE,kBAAkB;EAClB,4BAA4B;EAC5B,4BAA4B;EAC5B,6BAA6B;EAC7B,0BAA0B;EAC1B,sBAAsB;EACtB,qBAAqB;EACrB,iBAAiB;EACjB,uBAAuB;EACvB,oBAAoB;EACpB,2BAA2B;EAC3B,yBAAyB;EACzB,yBAAyB;EACzB,wBAAwB;EACxB,qBAAqB;EACrB,8BAA8B;EAC9B,uBAAuB,EAAE;;AAE3B;EACE,2BAA2B;EAC3B,oBAAoB;EACpB,oBAAoB;EACpB,aAAa,EAAE;;AAEjB;EACE,0BAA0B,EAAE;;AAE9B;EACE,mBAAmB;EACnB,oBAAoB;EACpB,YAAY;EACZ,oBAAoB;EACpB,cAAc,EAAE;;AAElB;;EAEE,aAAa;EACb,YAAY;EACZ,mBAAmB;EACnB,oBAAoB;EACpB,YAAY;EACZ,oBAAoB;EACpB,cAAc;EACd,6BAA6B;EAC7B,gBAAgB,EAAE;;AAEpB;EACE,eAAe;EACf,UAAU;EACV,gEAAgE;EAChE,kBAAkB;EAClB,gBAAgB;EAChB,aAAa;EACb,YAAY,EAAE;;AAEhB;EACE,WAAW;EACX,YAAY;EACZ,cAAc,EAAE;;AAElB,6BAA6B;AAC7B;;;;EAIE,WAAW;EACX,cAAc;EACd,aAAa;EACb,cAAc;EACd,cAAc;EACd,YAAY;EACZ,YAAY;EACZ,cAAc;EACd,kBAAkB,EAAE;;AAEtB;;EAEE,wCAAwC,EAAE;;AAE5C;;EAEE,gCAAgC,EAAE;;AAEpC;;;;EAIE,wBAAwB;EACxB,qBAAqB;EACrB,sBAAsB;EACtB,6BAA6B;EAC7B,kCAAkC,EAAE;;AAEtC;EACE,mBAAmB;EACnB,gBAAgB;EAChB,eAAe;EACf,WAAW;EACX,oBAAoB,EAAE;;AAExB;EACE,mBAAmB;EACnB,kBAAkB;EAClB,kBAAkB;EAClB,iBAAiB;EACjB,UAAU;EACV,SAAS;EACT,OAAO;EACP,MAAM;EACN,SAAS;EACT,QAAQ;EACR,sBAAsB;EACtB,uBAAuB,EAAE;;AAE3B;EACE,gBAAgB,EAAE;;AAEpB;EACE,6BAA6B;EAC7B,8BAA8B;EAC9B,uBAAuB;EACvB,wBAAwB;EACxB,kBAAkB;EAClB,gBAAgB;EAChB,MAAM;EACN,OAAO;EACP,SAAS;EACT,QAAQ;EACR,UAAU;EACV,SAAS;EACT,iCAAiC,EAAE;;AAErC;EACE,kBAAkB;EAClB,WAAW;EACX,eAAe;EACf,cAAc;EACd,oBAAoB,EAAE;;AAExB;EACE,kBAAkB;EAClB,iCAAiC;EACjC,kBAAkB;EAClB,cAAc;EACd,YAAY;EACZ,WAAW;EACX,YAAY;EACZ,WAAW;EACX,mBAAmB,EAAE;;AAEvB;EACE,iCAAiC;EACjC,6BAA6B;EAC7B,kCAAkC;EAClC,wCAAwC;EACxC,2BAA2B;EAC3B,6BAA6B;EAC7B,yBAAyB;EACzB,iBAAiB;EACjB,kBAAkB;EAClB,oBAAoB;EACpB,6BAA6B;EAC7B,sBAAsB;EACtB,+BAA+B;EAC/B,uBAAuB;EACvB,uBAAuB;EACvB,uBAAuB;EACvB,kCAAkC;EAClC,0BAA0B;EAC1B,0BAA0B;EAC1B,2BAA2B;EAC3B,2BAA2B;EAC3B,oCAAoC;EACpC,4BAA4B;EAC5B,qBAAqB;EACrB,qBAAqB;EACrB,qBAAqB;EACrB,mCAAmC;EACnC,YAAY,EAAE;;AAEhB;EACE,mBAAmB,EAAE;;AAEvB;EACE,WAAW;EACX,oBAAoB,EAAE;;AAExB;EACE,2BAA2B;EAC3B,sBAAsB,EAAE;;AAE1B;EACE,oBAAoB;EACpB,kBAAkB;EAClB,oBAAoB;EACpB,mBAAmB;EACnB,qBAAqB;EACrB,uBAAuB;EACvB,wBAAwB;EACxB,oBAAoB;EACpB,mBAAmB;EACnB,oBAAoB;EACpB,sBAAsB;EACtB,uBAAuB;EACvB,qBAAqB;EACrB,oBAAoB;EACpB,qBAAqB;EACrB,kBAAkB;EAClB,cAAc;EACd,YAAY,EAAE;;AAEhB;;EAEE,mBAAmB;EACnB,cAAc;EACd,kBAAkB;EAClB,kBAAkB;EAClB,MAAM;EACN,OAAO;EACP,YAAY;EACZ,WAAW;EACX,gBAAgB;EAChB,oBAAoB;EACpB,WAAW,EAAE;;AAEf;EACE,gBAAgB;EAChB,eAAe;EACf,yBAAyB;EACzB,mBAAmB;EACnB,sBAAsB,EAAE;;AAE1B;EACE,aAAa;EACb,sBAAsB;EACtB,2BAA2B;EAC3B,uBAAuB,EAAE;;AAE3B;;EAEE,YAAY;EACZ,WAAW;EACX,gBAAgB;EAChB,eAAe;EACf,SAAS;EACT,cAAc;EACd,uBAAuB,EAAE;;AAE3B;;EAEE,aAAa;EACb,kBAAkB;EAClB,YAAY;EACZ,cAAc;EACd,gBAAgB;EAChB,sBAAsB,EAAE;;AAE1B;EACE,WAAW;EACX,uBAAuB;EACvB,gBAAgB;EAChB,eAAe;EACf,SAAS,EAAE;;AAEb;EACE,8BAA8B;EAC9B,YAAY;EACZ,cAAc;EACd,cAAc;EACd,kBAAkB;EAClB,WAAW;EACX,eAAe;EACf,gBAAgB;EAChB,WAAW;EACX,UAAU;EACV,SAAS;EACT,oBAAoB;EACpB,yBAAyB;EACzB,0BAA0B;EAC1B,kBAAkB;EAClB,oBAAoB;EACpB,cAAc;EACd,0BAA0B;EAC1B,aAAa,EAAE;;AAEjB;EACE,YAAY;EACZ,aAAa;EACb,eAAe;EACf,cAAc,EAAE;;AAElB;EACE,kBAAkB;EAClB,MAAM;EACN,QAAQ;EACR,SAAS;EACT,OAAO;EACP,gBAAgB;EAChB,WAAW;EACX,UAAU;EACV,yBAAyB;EACzB,8BAA8B;EAC9B,yBAAyB;EACzB,qBAAqB,EAAE;;AAEzB;EACE,kBAAkB;EAClB,OAAO;EACP,MAAM;EACN,mCAAmC;EACnC,2BAA2B;EAC3B,8BAA8B;EAC9B,yBAAyB;EACzB,qBAAqB,EAAE;;AAEzB;EACE,kCAAkC;EAClC,0BAA0B;EAC1B,0DAA0D;EAC1D,kDAAkD,EAAE;;AAEtD;EACE,iCAAiC,EAAE;;AAErC;EACE;IACE,UAAU,EAAE;EACd;IACE,WAAW,EAAE,EAAE;;AAEnB;EACE;IACE,UAAU,EAAE;EACd;IACE,WAAW,EAAE,EAAE;;AAEnB;;CAEC;AACD;;EAEE,+FAA+F;EAC/F,uFAAuF,EAAE;;AAE3F;EACE,kBAAkB;EAClB,8FAA8F;EAC9F,eAAe;EACf,gCAAgC,EAAE;;AAEpC;;EAEE,kBAAkB;EAClB,UAAU;EACV,kEAAkE;EAClE,UAAU,EAAE;;AAEd;EACE,SAAS;EACT,QAAQ,EAAE;;AAEZ;EACE,oBAAoB,EAAE;;AAExB;EACE,oBAAoB;EACpB,kBAAkB;EAClB,YAAY;EACZ,WAAW;EACX,qBAAqB;EACrB,uBAAuB,EAAE;;AAE3B;EACE,oBAAoB;EACpB,kBAAkB;EAClB,WAAW;EACX,YAAY,EAAE;;AAEhB;;EAEE,oBAAoB,EAAE;;AAExB;;EAEE,+BAA+B,EAAE;;AAEnC;EACE,qBAAqB,EAAE;;AAEzB;EACE,SAAS;EACT,OAAO,EAAE;;AAEX;EACE,MAAM;EACN,QAAQ,EAAE;;AAEZ;EACE,QAAQ,EAAE;;AAEZ;EACE,WAAW;EACX,OAAO,EAAE;;AAEX;EACE,WAAW;EACX,OAAO,EAAE;;AAEX;;;;;;;;;EASE,UAAU;EACV,kBAAkB;EAClB,oBAAoB,EAAE;;AAExB;EACE,mBAAmB,EAAE;;AAEvB;EACE,mBAAmB,EAAE;;AAEvB;EACE,iBAAiB,EAAE;;AAErB;EACE,iBAAiB,EAAE;;AAErB;EACE,eAAe,EAAE;;AAEnB;EACE,MAAM;EACN,SAAS,EAAE;;AAEb;;EAEE,QAAQ;EACR,OAAO,EAAE;;AAEX;;EAEE,qBAAqB;EACrB,8BAA8B,EAAE;;AAElC;EACE,qpMAAqpM;EACrpM,4BAA4B;EAC5B,8BAA8B;EAC9B,+BAA+B,EAAE;;AAEnC;EACE,+BAA+B;EAC/B,uBAAuB,EAAE;;AAE3B;EACE,2BAA2B,EAAE;;AAE/B;;CAEC;AACD,gBAAgB;AAChB;;;EAGE,wBAAwB,EAAE;;AAE5B;EACE,yBAAyB;EACzB,eAAe;EACf,gBAAgB,EAAE;;AAEpB,wBAAwB;AACxB;;EAEE,WAAW;EACX,YAAY,EAAE;;AAEhB;;EAEE,YAAY;EACZ,WAAW,EAAE;;AAEf;;EAEE,UAAU;EACV,QAAQ,EAAE;;AAEZ;;EAEE,YAAY;EACZ,WAAW,EAAE;;AAEf;;EAEE,6BAA6B,EAAE;;AAEjC;;EAEE,YAAY;EACZ,sBAAsB;EACtB,uBAAuB,EAAE;;AAE3B;;EAEE,uBAAuB,EAAE;;AAE3B;;EAEE,uBAAuB,EAAE;;AAE3B;;EAEE,eAAe,EAAE;;AAEnB;;EAEE,gBAAgB,EAAE;;AAEpB;;EAEE,yCAAyC;EACzC,iCAAiC,EAAE;;AAErC;;;;EAIE,mBAAmB,EAAE;;AAEvB;EACE,8BAA8B,EAAE;;AAElC;EACE,oCAAoC,EAAE;;AAExC;EACE,+BAA+B,EAAE;;AAEnC;EACE,qCAAqC,EAAE;;AAEzC;EACE,8BAA8B,EAAE;;AAElC;EACE,oCAAoC,EAAE;;AAExC;;;;EAIE,WAAW;EACX,kBAAkB;EAClB,OAAO;EACP,QAAQ;EACR,MAAM;EACN,SAAS;EACT,cAAc,EAAE;;AAElB;;;;EAIE,aAAa,EAAE;;AAEjB;;EAEE,SAAS;EACT,YAAY,EAAE;;AAEhB;;EAEE,UAAU;EACV,WAAW,EAAE;;AAEf;;EAEE,WAAW;EACX,UAAU,EAAE;;AAEd;EACE,WAAW,EAAE;;AAEf;EACE,YAAY,EAAE;;AAEhB;EACE,YAAY,EAAE;EACd;IACE,oCAAoC,EAAE;IACtC;MACE,qCAAqC,EAAE;;AAE7C;EACE,UAAU;EACV,WAAW;EACX,6BAA6B,EAAE;;AAEjC;EACE,kBAAkB;EAClB,0CAA0C,EAAE;EAC5C;IACE,qCAAqC,EAAE;;AAE3C;EACE,qBAAqB;EACrB,qDAAqD,EAAE;;AAEzD;EACE,2BAA2B;EAC3B,UAAU;EACV,WAAW;EACX,cAAc,EAAE;;AAElB;EACE,kBAAkB,EAAE;;AAEtB;EACE,iBAAiB,EAAE;EACnB;IACE,wBAAwB,EAAE;;AAE9B;EACE,WAAW;EACX,YAAY;EACZ,kBAAkB,EAAE;EACpB;IACE,kBAAkB;IAClB,MAAM;IACN,OAAO,EAAE;EACX;IACE,WAAW;IACX,YAAY;IACZ,gBAAgB,EAAE;IAClB;MACE,kBAAkB;MAClB,qBAAqB,EAAE;MACvB;QACE,kBAAkB;QAClB,kBAAkB;QAClB,0BAA0B;QAC1B,oBAAoB,EAAE;MACxB;QACE,kBAAkB;QAClB,kBAAkB;QAClB,0BAA0B,EAAE;EAClC;IACE,wBAAwB;IACxB,WAAW;IACX,YAAY,EAAE;EAChB;IACE,gCAAgC;IAChC,WAAW;IACX,YAAY,EAAE;EAChB;IACE,8BAA8B;IAC9B,WAAW;IACX,YAAY,EAAE;EAChB;IACE,+BAA+B;IAC/B,WAAW;IACX,YAAY,EAAE;;AAElB;EACE,kBAAkB;EAClB,8BAA8B;EAC9B,WAAW;EACX,YAAY;EACZ,YAAY;EACZ,gBAAgB;EAChB,gBAAgB,EAAE;;AAEpB;;EAEE,WAAW;EACX,YAAY;EACZ,SAAS;EACT,UAAU;EACV,iBAAiB;EACjB,yBAAyB,EAAE;;AAE7B;;EAEE,wDAAwD,EAAE;;AAE5D;EACE,sBAAsB,EAAE;;AAE1B;EACE,aAAa;EACb,sBAAsB;EACtB,kBAAkB;EAClB,YAAY;EACZ,SAAS;EACT,gBAAgB;EAChB,iBAAiB,EAAE;EACnB;IACE,eAAe;IACf,gBAAgB;IAChB,WAAW;IACX,YAAY;IACZ,qCAAqC;IACrC,MAAM;IACN,OAAO,EAAE;IACT;MACE,eAAe;MACf,QAAQ;MACR,SAAS;MACT,6BAA6B,EAAE;EACnC;IACE,cAAc;IACd,aAAa;IACb,yBAAyB;IACzB,eAAe;IACf,mBAAmB;IACnB,kBAAkB;IAClB,oBAAoB;IACpB,gBAAgB,EAAE;IAClB;MACE,eAAe,EAAE;MACjB;;;QAGE,eAAe,EAAE;MACnB;QACE,WAAW;QACX,YAAY;QACZ,qBAAqB;QACrB,WAAW,EAAE;QACb;UACE,WAAW;UACX,YAAY;UACZ,eAAe;UACf,uBAAuB,EAAE;UACzB;YACE,yBAAyB,EAAE;MACjC;QACE,IAAI;QACJ,WAAW;QACX,YAAY;QACZ,iBAAiB;QACjB,qBAAqB;QACrB,uBAAuB,EAAE;IAC7B;MACE,aAAa;MACb,sBAAsB;MACtB,cAAc;MACd,kBAAkB,EAAE;;AAE1B;EACE,kBAAkB;EAClB,yBAAyB;EACzB,YAAY,EAAE;EACd;IACE,YAAY;IACZ,iBAAiB;IACjB,gCAAgC;IAChC,eAAe;IACf,mBAAmB;IACnB,kBAAkB;IAClB,cAAc,EAAE;EAClB;IACE,mBAAmB;IACnB,gBAAgB;IAChB,yBAAyB;IACzB,aAAa;IACb,6CAA6C;IAC7C,uBAAuB;IACvB,qBAAqB,EAAE;IACvB;MACE,kBAAkB;MAClB,oBAAoB;MACpB,6BAA6B;MAC7B,eAAe,EAAE;MACjB;QACE,qBAAqB,EAAE;MACzB;QACE,qBAAqB,EAAE;;AAE/B;EACE,WAAW;EACX,YAAY;EACZ,iBAAiB;EACjB,kBAAkB;EAClB,yBAAyB;EACzB,eAAe;EACf,iBAAiB;EACjB,qBAAqB;EACrB,kBAAkB;EAClB,cAAc,EAAE;;AAElB;EACE,oBAAoB,EAAE;;AAExB;EACE,YAAY;EACZ,gBAAgB,EAAE;;AAEpB;EACE,YAAY;EACZ,gBAAgB,EAAE;;AAEpB;EACE,kBAAkB;EAClB,yBAAyB;EACzB,YAAY,EAAE;EACd;IACE,YAAY;IACZ,iBAAiB;IACjB,gCAAgC;IAChC,eAAe;IACf,iBAAiB;IACjB,kBAAkB;IAClB,cAAc,EAAE;EAClB;IACE,wBAAwB;IACxB,kBAAkB;IAClB,SAAS;IACT,wBAAwB;IACxB,yBAAyB;IACzB,gBAAgB;IAChB,eAAe;IACf,cAAc;IACd,aAAa,EAAE;EACjB;IACE,gBAAgB;IAChB,yBAAyB,EAAE;IAC3B;MACE,eAAe;MACf,iBAAiB;MACjB,gBAAgB;MAChB,cAAc,EAAE;IAClB;MACE,YAAY,EAAE;;AAEpB;EACE,gBAAgB,EAAE;;AAEpB;EACE,aAAa;EACb,uBAAuB;EACvB,mBAAmB;EACnB,WAAW,EAAE;;AAEf;EACE,kBAAkB;EAClB,QAAQ;EACR,UAAU;EACV,+BAA+B,EAAE;;AAEnC;EACE,qBAAqB;EACrB,gCAAgC;EAChC,oBAAoB;EACpB,YAAY;EACZ,WAAW;EACX,UAAU,EAAE;;AAEd;EACE,aAAa,EAAE;;AAEjB;EACE,YAAY;EACZ,SAAS;EACT,uBAAuB;EACvB,kBAAkB;EAClB,WAAW;EACX,WAAW,EAAE;EACb;IACE,gBAAgB;IAChB,WAAW;IACX,WAAW;IACX,kBAAkB;IAClB,UAAU;IACV,qDAAqD,EAAE;;AAE3D;EACE;IACE,aAAa;IACb,WAAW,EAAE;EACf;IACE,UAAU;IACV,YAAY,EAAE,EAAE;EAClB;IACE,SAAS;IACT,yBAAyB,EAAE;EAC7B;IACE,SAAS;IACT,yBAAyB,EAAE;EAC7B;IACE,SAAS;IACT,yBAAyB,EAAE;EAC7B;IACE,UAAU;IACV,yBAAyB,EAAE;EAC7B;IACE,UAAU;IACV,yBAAyB,EAAE;EAC7B;IACE,UAAU;IACV,yBAAyB,EAAE;EAC7B;IACE,UAAU;IACV,yBAAyB,EAAE;EAC7B;IACE,UAAU;IACV,yBAAyB,EAAE;EAC7B;IACE,UAAU;IACV,yBAAyB,EAAE;EAC7B;IACE,UAAU;IACV,yBAAyB,EAAE;;AAE/B;EACE,aAAa;EACb,uBAAuB;EACvB,kBAAkB;EAClB,YAAY;EACZ,kBAAkB;EAClB,WAAW,EAAE;;AAEf;EACE,kBAAkB;EAClB,QAAQ;EACR,kBAAkB;EAClB,WAAW;EACX,WAAW,EAAE;;AAEf;EACE,aAAa;EACb,eAAe;EACf,qBAAqB,EAAE;EACvB;IACE,YAAY;IACZ,aAAa;IACb,kBAAkB;IAClB,qBAAqB,EAAE;EACzB;IACE,sBAAsB;IACtB,6BAA6B;IAC7B,mCAAmC;IACnC,kCAAkC;IAClC,iCAAiC;IACjC,mBAAmB;IACnB,2EAA2E;IAC3E,4BAA4B;IAC5B,YAAY;IACZ,kBAAkB,EAAE;IACpB;MACE,aAAa;MACb,YAAY;MACZ,mBAAmB;MACnB,kBAAkB,EAAE;IACtB;MACE,YAAY;MACZ,YAAY;MACZ,mBAAmB,EAAE;IACvB;MACE,WAAW;MACX,YAAY;MACZ,mBAAmB,EAAE;;AAE3B;EACE;IACE,6BAA6B,EAAE;EACjC;IACE,4BAA4B,EAAE,EAAE;;AAEpC;EACE,kBAAkB;EAClB,aAAa;EACb,uBAAuB;EACvB,YAAY;EACZ,WAAW,EAAE;;AAEf;EACE,eAAe;EACf,kBAAkB;EAClB,YAAY;EACZ,YAAY;EACZ,iBAAiB;EACjB,eAAe;EACf,WAAW;EACX,kBAAkB;EAClB,yBAAyB;EACzB,oCAAoC,EAAE;;AAExC;EACE,aAAa;EACb,eAAe;EACf,mBAAmB;EACnB,mBAAmB,EAAE;;AAEvB;EACE,aAAa;EACb,mBAAmB;EACnB,8BAA8B;EAC9B,iBAAiB;EACjB,yBAAyB;EACzB,kBAAkB;EAClB,oBAAoB;EACpB,gBAAgB;EAChB,WAAW;EACX,WAAW,EAAE;;AAEf;EACE,eAAe;EACf,iBAAiB;EACjB,eAAe,EAAE;;AAEnB;;;EAGE;AACF;EACE;;;IAGE;EACF,WAAW;EACX;;;IAGE;EACF,sBAAsB,EAAE;;AAE1B;EACE,eAAe;EACf,qBAAqB;EACrB,kDAAkD;EAClD,0CAA0C,EAAE;;AAE9C;EACE,eAAe;EACf,6EAA6E;EAC7E,qBAAqB,EAAE;;AAEzB;EACE,aAAa;EACb,eAAe;EACf,yBAAyB;EACzB,mBAAmB,EAAE;;AAEvB;EACE,aAAa,EAAE;;AAEjB;;;;;;;;EAQE;AACF;EACE,aAAa,EAAE;;AAEjB;EACE,UAAU,EAAE;;AAEd;EACE,YAAY,EAAE;;AAEhB;EACE,mBAAmB,EAAE;;AAEvB;EACE,YAAY;EACZ,YAAY;EACZ,kBAAkB;EAClB,yBAAyB;EACzB,YAAY;EACZ,eAAe;EACf,iBAAiB;EACjB,cAAc,EAAE;;AAElB;EACE,aAAa,EAAE;;AAEjB;EACE,kBAAkB;EAClB,8BAA8B;EAC9B,WAAW;EACX,YAAY,EAAE;;AAEhB;EACE,oBAAoB;EACpB,qBAAqB;EACrB,oBAAoB;EACpB,aAAa;EACb,cAAc;EACd,UAAU;EACV,iBAAiB,EAAE;;AAErB;EACE,0BAA0B;EAC1B,sBAAsB;EACtB,kBAAkB;EAClB,cAAc;EACd,YAAY,EAAE;;AAEhB;EACE,yBAAyB;EACzB,2BAA2B;EAC3B,sBAAsB;EACtB,mBAAmB,EAAE;;AAEvB;EACE,wBAAwB;EACxB,+BAA+B;EAC/B,qBAAqB;EACrB,uBAAuB,EAAE;;AAE3B;EACE,UAAU;EACV,oBAAoB;EACpB,gBAAgB;EAChB,WAAW;EACX,YAAY;EACZ,kBAAkB,EAAE;;AAEtB;EACE,aAAa,EAAE;;AAEjB;EACE,UAAU;EACV,6DAA6D;EAC7D,qDAAqD;EACrD,oBAAoB,EAAE;;AAExB;EACE,gBAAgB;EAChB,cAAc;EACd,YAAY;EACZ,iBAAiB;EACjB,kBAAkB,EAAE;;AAEtB;EACE,+DAA+D;EAC/D,2DAA2D;EAC3D,uDAAuD;EACvD,sCAAsC;EACtC,kCAAkC;EAClC,8BAA8B,EAAE;;AAElC;EACE,sBAAsB,EAAE;;AAE1B;EACE,wBAAwB,EAAE;;AAE5B;EACE,wBAAwB,EAAE;;AAE5B;EACE,wBAAwB,EAAE;;AAE5B;EACE,wBAAwB,EAAE;;AAE5B;EACE,eAAe,EAAE;;AAEnB;EACE;IACE,UAAU,EAAE;EACd;IACE,WAAW,EAAE;EACf;IACE,WAAW,EAAE;EACf;IACE,WAAW,EAAE;EACf;IACE,WAAW,EAAE;EACf;IACE,WAAW,EAAE;EACf;IACE,WAAW,EAAE;EACf;IACE,WAAW,EAAE;EACf;IACE,UAAU,EAAE,EAAE;;AAElB;EACE;IACE,UAAU,EAAE;EACd;IACE,WAAW,EAAE;EACf;IACE,WAAW,EAAE;EACf;IACE,WAAW,EAAE;EACf;IACE,WAAW,EAAE;EACf;IACE,WAAW,EAAE;EACf;IACE,WAAW,EAAE;EACf;IACE,WAAW,EAAE;EACf;IACE,UAAU,EAAE,EAAE;;AAElB;EACE,gCAAgC,EAAE;;AAEpC;EACE;IACE,UAAU,EAAE;EACd;IACE,WAAW,EAAE;EACf;IACE,YAAY,EAAE;EAChB;IACE,WAAW,EAAE;EACf;IACE,WAAW,EAAE;EACf;IACE,WAAW,EAAE;EACf;IACE,WAAW,EAAE;EACf;IACE,WAAW,EAAE;EACf;IACE,UAAU,EAAE,EAAE;;AAElB;EACE;IACE,UAAU,EAAE;EACd;IACE,WAAW,EAAE;EACf;IACE,YAAY,EAAE;EAChB;IACE,WAAW,EAAE;EACf;IACE,WAAW,EAAE;EACf;IACE,WAAW,EAAE;EACf;IACE,WAAW,EAAE;EACf;IACE,WAAW,EAAE;EACf;IACE,UAAU,EAAE,EAAE;;AAElB;EACE,aAAa;EACb,sBAAsB;EACtB,UAAU;EACV,6DAA6D;EAC7D,qDAAqD,EAAE",sourcesContent:["/*!\r\n * OverlayScrollbars\r\n * https://github.com/KingSora/OverlayScrollbars\r\n *\r\n * Version: 1.13.0\r\n *\r\n * Copyright KingSora | Rene Haas.\r\n * https://github.com/KingSora\r\n *\r\n * Released under the MIT license.\r\n * Date: 02.08.2020\r\n */\n/*\r\nOVERLAY SCROLLBARS CORE:\r\n*/\nhtml.os-html,\nhtml.os-html > .os-host {\n  display: block;\n  overflow: hidden;\n  box-sizing: border-box;\n  height: 100% !important;\n  width: 100% !important;\n  min-width: 100% !important;\n  min-height: 100% !important;\n  margin: 0 !important;\n  position: absolute !important;\n  /* could be position: fixed; but it causes issues on iOS (-webkit-overflow-scrolling: touch) */ }\n\nhtml.os-html > .os-host > .os-padding {\n  position: absolute;\n  /* could be position: fixed; but it causes issues on iOS (-webkit-overflow-scrolling: touch) */ }\n\nbody.os-dragging,\nbody.os-dragging * {\n  cursor: default; }\n\n.os-host,\n.os-host-textarea {\n  position: relative;\n  overflow: visible !important;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  -ms-flex-wrap: nowrap;\n  flex-wrap: nowrap;\n  -webkit-box-pack: start;\n  -ms-flex-pack: start;\n  justify-content: flex-start;\n  -ms-flex-line-pack: start;\n  align-content: flex-start;\n  -webkit-box-align: start;\n  -ms-flex-align: start;\n  -ms-grid-row-align: flex-start;\n  align-items: flex-start; }\n\n.os-host-flexbox {\n  overflow: hidden !important;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex; }\n\n.os-host-flexbox > .os-size-auto-observer {\n  height: inherit !important; }\n\n.os-host-flexbox > .os-content-glue {\n  -webkit-box-flex: 1;\n  -ms-flex-positive: 1;\n  flex-grow: 1;\n  -ms-flex-negative: 0;\n  flex-shrink: 0; }\n\n.os-host-flexbox > .os-size-auto-observer,\n.os-host-flexbox > .os-content-glue {\n  min-height: 0;\n  min-width: 0;\n  -webkit-box-flex: 0;\n  -ms-flex-positive: 0;\n  flex-grow: 0;\n  -ms-flex-negative: 1;\n  flex-shrink: 1;\n  -ms-flex-preferred-size: auto;\n  flex-basis: auto; }\n\n#os-dummy-scrollbar-size {\n  position: fixed;\n  opacity: 0;\n  -ms-filter: 'progid:DXImageTransform.Microsoft.Alpha(Opacity=0)';\n  visibility: hidden;\n  overflow: scroll;\n  height: 500px;\n  width: 500px; }\n\n#os-dummy-scrollbar-size > div {\n  width: 200%;\n  height: 200%;\n  margin: 10px 0; }\n\n/* fix restricted measuring */\n#os-dummy-scrollbar-size:before,\n#os-dummy-scrollbar-size:after,\n.os-content:before,\n.os-content:after {\n  content: '';\n  display: table;\n  width: 0.01px;\n  height: 0.01px;\n  line-height: 0;\n  font-size: 0;\n  flex-grow: 0;\n  flex-shrink: 0;\n  visibility: hidden; }\n\n#os-dummy-scrollbar-size,\n.os-viewport {\n  -ms-overflow-style: scrollbar !important; }\n\n.os-viewport-native-scrollbars-invisible#os-dummy-scrollbar-size,\n.os-viewport-native-scrollbars-invisible.os-viewport {\n  scrollbar-width: none !important; }\n\n.os-viewport-native-scrollbars-invisible#os-dummy-scrollbar-size::-webkit-scrollbar,\n.os-viewport-native-scrollbars-invisible.os-viewport::-webkit-scrollbar,\n.os-viewport-native-scrollbars-invisible#os-dummy-scrollbar-size::-webkit-scrollbar-corner,\n.os-viewport-native-scrollbars-invisible.os-viewport::-webkit-scrollbar-corner {\n  display: none !important;\n  width: 0px !important;\n  height: 0px !important;\n  visibility: hidden !important;\n  background: transparent !important; }\n\n.os-content-glue {\n  box-sizing: inherit;\n  max-height: 100%;\n  max-width: 100%;\n  width: 100%;\n  pointer-events: none; }\n\n.os-padding {\n  box-sizing: inherit;\n  direction: inherit;\n  position: absolute;\n  overflow: visible;\n  padding: 0;\n  margin: 0;\n  left: 0;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  width: auto !important;\n  height: auto !important; }\n\n.os-host-overflow > .os-padding {\n  overflow: hidden; }\n\n.os-viewport {\n  direction: inherit !important;\n  box-sizing: inherit !important;\n  resize: none !important;\n  outline: none !important;\n  position: absolute;\n  overflow: hidden;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  padding: 0;\n  margin: 0;\n  -webkit-overflow-scrolling: touch; }\n\n.os-content-arrange {\n  position: absolute;\n  z-index: -1;\n  min-height: 1px;\n  min-width: 1px;\n  pointer-events: none; }\n\n.os-content {\n  direction: inherit;\n  box-sizing: border-box !important;\n  position: relative;\n  display: block;\n  height: 100%;\n  width: 100%;\n  height: 100%;\n  width: 100%;\n  visibility: visible; }\n\n.os-content > .os-textarea {\n  box-sizing: border-box !important;\n  direction: inherit !important;\n  background: transparent !important;\n  outline: 0px none transparent !important;\n  overflow: hidden !important;\n  position: absolute !important;\n  display: block !important;\n  top: 0 !important;\n  left: 0 !important;\n  margin: 0 !important;\n  border-radius: 0px !important;\n  float: none !important;\n  -webkit-filter: none !important;\n  filter: none !important;\n  border: none !important;\n  resize: none !important;\n  -webkit-transform: none !important;\n  transform: none !important;\n  max-width: none !important;\n  max-height: none !important;\n  box-shadow: none !important;\n  -webkit-perspective: none !important;\n  perspective: none !important;\n  opacity: 1 !important;\n  z-index: 1 !important;\n  clip: auto !important;\n  vertical-align: baseline !important;\n  padding: 0px; }\n\n.os-host-rtl > .os-padding > .os-viewport > .os-content > .os-textarea {\n  right: 0 !important; }\n\n.os-content > .os-textarea-cover {\n  z-index: -1;\n  pointer-events: none; }\n\n.os-content > .os-textarea[wrap='off'] {\n  white-space: pre !important;\n  margin: 0px !important; }\n\n.os-text-inherit {\n  font-family: inherit;\n  font-size: inherit;\n  font-weight: inherit;\n  font-style: inherit;\n  font-variant: inherit;\n  text-transform: inherit;\n  text-decoration: inherit;\n  text-indent: inherit;\n  text-align: inherit;\n  text-shadow: inherit;\n  text-overflow: inherit;\n  letter-spacing: inherit;\n  word-spacing: inherit;\n  line-height: inherit;\n  unicode-bidi: inherit;\n  direction: inherit;\n  color: inherit;\n  cursor: text; }\n\n.os-resize-observer,\n.os-resize-observer-host {\n  box-sizing: inherit;\n  display: block;\n  visibility: hidden;\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 100%;\n  width: 100%;\n  overflow: hidden;\n  pointer-events: none;\n  z-index: -1; }\n\n.os-resize-observer-host {\n  padding: inherit;\n  border: inherit;\n  border-color: transparent;\n  border-style: solid;\n  box-sizing: border-box; }\n\n.os-resize-observer-host.observed {\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: flex-start; }\n\n.os-resize-observer-host > .os-resize-observer,\n.os-resize-observer-host.observed > .os-resize-observer {\n  height: 200%;\n  width: 200%;\n  padding: inherit;\n  border: inherit;\n  margin: 0;\n  display: block;\n  box-sizing: content-box; }\n\n.os-resize-observer-host.observed > .os-resize-observer,\n.os-resize-observer-host.observed > .os-resize-observer:before {\n  display: flex;\n  position: relative;\n  flex-grow: 1;\n  flex-shrink: 0;\n  flex-basis: auto;\n  box-sizing: border-box; }\n\n.os-resize-observer-host.observed > .os-resize-observer:before {\n  content: '';\n  box-sizing: content-box;\n  padding: inherit;\n  border: inherit;\n  margin: 0; }\n\n.os-size-auto-observer {\n  box-sizing: inherit !important;\n  height: 100%;\n  width: inherit;\n  max-width: 1px;\n  position: relative;\n  float: left;\n  max-height: 1px;\n  overflow: hidden;\n  z-index: -1;\n  padding: 0;\n  margin: 0;\n  pointer-events: none;\n  -webkit-box-flex: inherit;\n  -ms-flex-positive: inherit;\n  flex-grow: inherit;\n  -ms-flex-negative: 0;\n  flex-shrink: 0;\n  -ms-flex-preferred-size: 0;\n  flex-basis: 0; }\n\n.os-size-auto-observer > .os-resize-observer {\n  width: 1000%;\n  height: 1000%;\n  min-height: 1px;\n  min-width: 1px; }\n\n.os-resize-observer-item {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  overflow: hidden;\n  z-index: -1;\n  opacity: 0;\n  direction: ltr !important;\n  -webkit-box-flex: 0 !important;\n  -ms-flex: none !important;\n  flex: none !important; }\n\n.os-resize-observer-item-final {\n  position: absolute;\n  left: 0;\n  top: 0;\n  -webkit-transition: none !important;\n  transition: none !important;\n  -webkit-box-flex: 0 !important;\n  -ms-flex: none !important;\n  flex: none !important; }\n\n.os-resize-observer {\n  -webkit-animation-duration: 0.001s;\n  animation-duration: 0.001s;\n  -webkit-animation-name: os-resize-observer-dummy-animation;\n  animation-name: os-resize-observer-dummy-animation; }\n\nobject.os-resize-observer {\n  box-sizing: border-box !important; }\n\n@-webkit-keyframes os-resize-observer-dummy-animation {\n  from {\n    z-index: 0; }\n  to {\n    z-index: -1; } }\n\n@keyframes os-resize-observer-dummy-animation {\n  from {\n    z-index: 0; }\n  to {\n    z-index: -1; } }\n\n/*\r\nCUSTOM SCROLLBARS AND CORNER CORE:\r\n*/\n.os-host-transition > .os-scrollbar,\n.os-host-transition > .os-scrollbar-corner {\n  -webkit-transition: opacity 0.3s, visibility 0.3s, top 0.3s, right 0.3s, bottom 0.3s, left 0.3s;\n  transition: opacity 0.3s, visibility 0.3s, top 0.3s, right 0.3s, bottom 0.3s, left 0.3s; }\n\nhtml.os-html > .os-host > .os-scrollbar {\n  position: absolute;\n  /* could be position: fixed; but it causes issues on iOS (-webkit-overflow-scrolling: touch) */\n  z-index: 999999;\n  /* highest z-index of the page */ }\n\n.os-scrollbar,\n.os-scrollbar-corner {\n  position: absolute;\n  opacity: 1;\n  -ms-filter: 'progid:DXImageTransform.Microsoft.Alpha(Opacity=100)';\n  z-index: 1; }\n\n.os-scrollbar-corner {\n  bottom: 0;\n  right: 0; }\n\n.os-scrollbar {\n  pointer-events: none; }\n\n.os-scrollbar-track {\n  pointer-events: auto;\n  position: relative;\n  height: 100%;\n  width: 100%;\n  padding: 0 !important;\n  border: none !important; }\n\n.os-scrollbar-handle {\n  pointer-events: auto;\n  position: absolute;\n  width: 100%;\n  height: 100%; }\n\n.os-scrollbar-handle-off,\n.os-scrollbar-track-off {\n  pointer-events: none; }\n\n.os-scrollbar.os-scrollbar-unusable,\n.os-scrollbar.os-scrollbar-unusable * {\n  pointer-events: none !important; }\n\n.os-scrollbar.os-scrollbar-unusable .os-scrollbar-handle {\n  opacity: 0 !important; }\n\n.os-scrollbar-horizontal {\n  bottom: 0;\n  left: 0; }\n\n.os-scrollbar-vertical {\n  top: 0;\n  right: 0; }\n\n.os-host-rtl > .os-scrollbar-horizontal {\n  right: 0; }\n\n.os-host-rtl > .os-scrollbar-vertical {\n  right: auto;\n  left: 0; }\n\n.os-host-rtl > .os-scrollbar-corner {\n  right: auto;\n  left: 0; }\n\n.os-scrollbar-auto-hidden,\n.os-padding + .os-scrollbar-corner,\n.os-host-resize-disabled.os-host-scrollbar-horizontal-hidden > .os-scrollbar-corner,\n.os-host-scrollbar-horizontal-hidden > .os-scrollbar-horizontal,\n.os-host-resize-disabled.os-host-scrollbar-vertical-hidden > .os-scrollbar-corner,\n.os-host-scrollbar-vertical-hidden > .os-scrollbar-vertical,\n.os-scrollbar-horizontal.os-scrollbar-auto-hidden + .os-scrollbar-vertical + .os-scrollbar-corner,\n.os-scrollbar-horizontal + .os-scrollbar-vertical.os-scrollbar-auto-hidden + .os-scrollbar-corner,\n.os-scrollbar-horizontal.os-scrollbar-auto-hidden + .os-scrollbar-vertical.os-scrollbar-auto-hidden + .os-scrollbar-corner {\n  opacity: 0;\n  visibility: hidden;\n  pointer-events: none; }\n\n.os-scrollbar-corner-resize-both {\n  cursor: nwse-resize; }\n\n.os-host-rtl > .os-scrollbar-corner-resize-both {\n  cursor: nesw-resize; }\n\n.os-scrollbar-corner-resize-horizontal {\n  cursor: ew-resize; }\n\n.os-scrollbar-corner-resize-vertical {\n  cursor: ns-resize; }\n\n.os-dragging .os-scrollbar-corner.os-scrollbar-corner-resize {\n  cursor: default; }\n\n.os-host-resize-disabled.os-host-scrollbar-horizontal-hidden > .os-scrollbar-vertical {\n  top: 0;\n  bottom: 0; }\n\n.os-host-resize-disabled.os-host-scrollbar-vertical-hidden > .os-scrollbar-horizontal,\n.os-host-rtl.os-host-resize-disabled.os-host-scrollbar-vertical-hidden > .os-scrollbar-horizontal {\n  right: 0;\n  left: 0; }\n\n.os-scrollbar:hover,\n.os-scrollbar-corner.os-scrollbar-corner-resize {\n  opacity: 1 !important;\n  visibility: visible !important; }\n\n.os-scrollbar-corner.os-scrollbar-corner-resize {\n  background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgICB4bWxuczpjYz0iaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbnMjIiAgIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyIgICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgICB3aWR0aD0iMTAiICAgaGVpZ2h0PSIxMCIgICB2ZXJzaW9uPSIxLjEiPiAgPGcgICAgIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAsLTEwNDIuMzYyMikiICAgICBzdHlsZT0iZGlzcGxheTppbmxpbmUiPiAgICA8cGF0aCAgICAgICBzdHlsZT0iZmlsbDojMDAwMDAwO2ZpbGwtb3BhY2l0eTowLjQ5NDExNzY1O2ZpbGwtcnVsZTpldmVub2RkO3N0cm9rZTpub25lIiAgICAgICBkPSJtIDcuNDI0MjE4NywxMDQyLjM2MjIgYyAtMC43MjM1NzkyLDAgLTEuMzEwMTU2MiwwLjU4NjYgLTEuMzEwMTU2MiwxLjMxMDIgMCwwLjI5OSAwLjEwNDM0MTksMC41NzEgMC4yNzI5NDkyLDAuNzkxNSAwLjIwOTEwMjQsMC4xNDEzIDAuNDY1NjIwNiwwLjIxODQgMC43MzY5NjI5LDAuMjE4NCAwLjcyMzU3OTMsMCAxLjMxMDE1NjMsLTAuNTg2NiAxLjMxMDE1NjMsLTEuMzEwMiAwLC0wLjI3MTMgLTAuMDc3MDkzLC0wLjUyNzggLTAuMjE4MzU5NCwtMC43MzcgLTAuMjIwNDk0MSwtMC4xNjg2IC0wLjQ5MjU0NDMsLTAuMjcyOSAtMC43OTE1NTI4LC0wLjI3MjkgeiBtIDAsMy4wODQzIGMgLTAuNzIzNTc5MiwwIC0xLjMxMDE1NjIsMC41ODY2IC0xLjMxMDE1NjIsMS4zMTAyIDAsMC4yOTkgMC4xMDQzNDE5LDAuNTcxIDAuMjcyOTQ5MiwwLjc5MTUgMC4yMDkxMDI0LDAuMTQxMyAwLjQ2NTYyMDYsMC4yMTg0IDAuNzM2OTYyOSwwLjIxODQgMC43MjM1NzkzLDAgMS4zMTAxNTYzLC0wLjU4NjYgMS4zMTAxNTYzLC0xLjMxMDIgMCwtMC4yNzEzIC0wLjA3NzA5MywtMC41Mjc4IC0wLjIxODM1OTQsLTAuNzM2OSAtMC4yMjA0OTQxLC0wLjE2ODYgLTAuNDkyNTQ0MywtMC4yNzMgLTAuNzkxNTUyOCwtMC4yNzMgeiBtIC0zLjA4NDMyNjEsMCBjIC0wLjcyMzU3OTMsMCAtMS4zMTAxNTYzLDAuNTg2NiAtMS4zMTAxNTYzLDEuMzEwMiAwLDAuMjk5IDAuMTA0MzQxOSwwLjU3MSAwLjI3Mjk0OTIsMC43OTE1IDAuMjA5MTAyNCwwLjE0MTMgMC40NjU2MjA3LDAuMjE4NCAwLjczNjk2MjksMC4yMTg0IDAuNzIzNTc5MywwIDEuMzEwMTU2MywtMC41ODY2IDEuMzEwMTU2MywtMS4zMTAyIDAsLTAuMjcxMyAtMC4wNzcwOTMsLTAuNTI3OCAtMC4yMTgzNTk0LC0wLjczNjkgLTAuMjIwNDk0LC0wLjE2ODYgLTAuNDkyNTQ0MiwtMC4yNzMgLTAuNzkxNTUyNywtMC4yNzMgeiBtIC0zLjAyOTczNjQsMy4wMjk4IEMgMC41ODY1NzY5MywxMDQ4LjQ3NjMgMCwxMDQ5LjA2MjggMCwxMDQ5Ljc4NjQgYyAwLDAuMjk5IDAuMTA0MzQxOSwwLjU3MTEgMC4yNzI5NDkyMiwwLjc5MTYgMC4yMDkxMDIyOSwwLjE0MTIgMC40NjU2MjA2NSwwLjIxODMgMC43MzY5NjI4OCwwLjIxODMgMC43MjM1NzkzLDAgMS4zMTAxNTYzLC0wLjU4NjUgMS4zMTAxNTYzLC0xLjMxMDEgMCwtMC4yNzE0IC0wLjA3NzA5MywtMC41Mjc5IC0wLjIxODM1OTQsLTAuNzM3IC0wLjIyMDQ5NDEsLTAuMTY4NiAtMC40OTI1NDQzLC0wLjI3MjkgLTAuNzkxNTUyOCwtMC4yNzI5IHogbSAzLjAyOTczNjQsMCBjIC0wLjcyMzU3OTMsMCAtMS4zMTAxNTYzLDAuNTg2NSAtMS4zMTAxNTYzLDEuMzEwMSAwLDAuMjk5IDAuMTA0MzQxOSwwLjU3MTEgMC4yNzI5NDkyLDAuNzkxNiAwLjIwOTEwMjQsMC4xNDEyIDAuNDY1NjIwNywwLjIxODMgMC43MzY5NjI5LDAuMjE4MyAwLjcyMzU3OTMsMCAxLjMxMDE1NjMsLTAuNTg2NSAxLjMxMDE1NjMsLTEuMzEwMSAwLC0wLjI3MTQgLTAuMDc3MDkzLC0wLjUyNzkgLTAuMjE4MzU5NCwtMC43MzcgLTAuMjIwNDk0LC0wLjE2ODYgLTAuNDkyNTQ0MiwtMC4yNzI5IC0wLjc5MTU1MjcsLTAuMjcyOSB6IG0gMy4wODQzMjYxLDAgYyAtMC43MjM1NzkyLDAgLTEuMzEwMTU2MiwwLjU4NjUgLTEuMzEwMTU2MiwxLjMxMDEgMCwwLjI5OSAwLjEwNDM0MTksMC41NzExIDAuMjcyOTQ5MiwwLjc5MTYgMC4yMDkxMDI0LDAuMTQxMiAwLjQ2NTYyMDYsMC4yMTgzIDAuNzM2OTYyOSwwLjIxODMgMC43MjM1NzkzLDAgMS4zMTAxNTYzLC0wLjU4NjUgMS4zMTAxNTYzLC0xLjMxMDEgMCwtMC4yNzE0IC0wLjA3NzA5MywtMC41Mjc5IC0wLjIxODM1OTQsLTAuNzM3IC0wLjIyMDQ5NDEsLTAuMTY4NiAtMC40OTI1NDQzLC0wLjI3MjkgLTAuNzkxNTUyOCwtMC4yNzI5IHoiLz4gIDwvZz4gIDxnICAgICBzdHlsZT0iZGlzcGxheTppbmxpbmUiPiAgICA8cGF0aCAgICAgICBzdHlsZT0iZmlsbDojZmZmZmZmO2ZpbGwtb3BhY2l0eToxO2ZpbGwtcnVsZTpldmVub2RkO3N0cm9rZTpub25lIiAgICAgICBkPSJtIDguMjE1NzcxNSwwLjI3Mjk0OTIyIGMgMC4xNDEyNjY3LDAuMjA5MTAyMjkgMC4yMTgzNTk0LDAuNDY1NjIwNjUgMC4yMTgzNTk0LDAuNzM2OTYyODggMCwwLjcyMzU3OTMgLTAuNTg2NTc3LDEuMzEwMTU2MyAtMS4zMTAxNTYzLDEuMzEwMTU2MyAtMC4yNzEzNDIzLDAgLTAuNTI3ODYwNSwtMC4wNzcwOTMgLTAuNzM2OTYyOSwtMC4yMTgzNTk0IDAuMjM5NDEwNCwwLjMxMzA4NTkgMC42MTI2MzYyLDAuNTE4NjAzNSAxLjAzNzIwNywwLjUxODYwMzUgMC43MjM1NzkzLDAgMS4zMTAxNTYzLC0wLjU4NjU3NyAxLjMxMDE1NjMsLTEuMzEwMTU2MyAwLC0wLjQyNDU3MDc2IC0wLjIwNTUxNzYsLTAuNzk3Nzk2NTkgLTAuNTE4NjAzNSwtMS4wMzcyMDY5OCB6IG0gMCwzLjA4NDMyNjE4IGMgMC4xNDEyNjY3LDAuMjA5MTAyMyAwLjIxODM1OTQsMC40NjU2MjA2IDAuMjE4MzU5NCwwLjczNjk2MjkgMCwwLjcyMzU3OTMgLTAuNTg2NTc3LDEuMzEwMTU2MiAtMS4zMTAxNTYzLDEuMzEwMTU2MiAtMC4yNzEzNDIzLDAgLTAuNTI3ODYwNSwtMC4wNzcwOTMgLTAuNzM2OTYyOSwtMC4yMTgzNTkzIDAuMjM5NDEwNCwwLjMxMzA4NTkgMC42MTI2MzYyLDAuNTE4NjAzNSAxLjAzNzIwNywwLjUxODYwMzUgMC43MjM1NzkzLDAgMS4zMTAxNTYzLC0wLjU4NjU3NyAxLjMxMDE1NjMsLTEuMzEwMTU2MyAwLC0wLjQyNDU3MDggLTAuMjA1NTE3NiwtMC43OTc3OTY3IC0wLjUxODYwMzUsLTEuMDM3MjA3IHogbSAtMy4wODQzMjYyLDAgYyAwLjE0MTI2NjcsMC4yMDkxMDIzIDAuMjE4MzU5NCwwLjQ2NTYyMDYgMC4yMTgzNTk0LDAuNzM2OTYyOSAwLDAuNzIzNTc5MyAtMC41ODY1NzcsMS4zMTAxNTYyIC0xLjMxMDE1NjMsMS4zMTAxNTYyIC0wLjI3MTM0MjIsMCAtMC41Mjc4NjA1LC0wLjA3NzA5MyAtMC43MzY5NjI5LC0wLjIxODM1OTMgMC4yMzk0MTA0LDAuMzEzMDg1OSAwLjYxMjYzNjMsMC41MTg2MDM1IDEuMDM3MjA3MSwwLjUxODYwMzUgMC43MjM1NzkzLDAgMS4zMTAxNTYyLC0wLjU4NjU3NyAxLjMxMDE1NjIsLTEuMzEwMTU2MyAwLC0wLjQyNDU3MDggLTAuMjA1NTE3NSwtMC43OTc3OTY3IC0wLjUxODYwMzUsLTEuMDM3MjA3IHogTSAyLjEwMTcwOSw2LjM4NzAxMTcgYyAwLjE0MTI2NjcsMC4yMDkxMDI0IDAuMjE4MzU5NCwwLjQ2NTYyMDYgMC4yMTgzNTk0LDAuNzM2OTYyOSAwLDAuNzIzNTc5MyAtMC41ODY1NzcsMS4zMTAxNTYzIC0xLjMxMDE1NjMsMS4zMTAxNTYzIC0wLjI3MTM0MjIzLDAgLTAuNTI3ODYwNTksLTAuMDc3MDkzIC0wLjczNjk2Mjg4LC0wLjIxODM1OTQgMC4yMzk0MTAzOSwwLjMxMzA4NTkgMC42MTI2MzYyMiwwLjUxODYwMzUgMS4wMzcyMDY5OCwwLjUxODYwMzUgMC43MjM1NzkzLDAgMS4zMTAxNTYzLC0wLjU4NjU3NyAxLjMxMDE1NjMsLTEuMzEwMTU2MyAwLC0wLjQyNDU3MDggLTAuMjA1NTE3NiwtMC43OTc3OTY2IC0wLjUxODYwMzUsLTEuMDM3MjA3IHogbSAzLjAyOTczNjMsMCBjIDAuMTQxMjY2NywwLjIwOTEwMjQgMC4yMTgzNTk0LDAuNDY1NjIwNiAwLjIxODM1OTQsMC43MzY5NjI5IDAsMC43MjM1NzkzIC0wLjU4NjU3NywxLjMxMDE1NjMgLTEuMzEwMTU2MywxLjMxMDE1NjMgLTAuMjcxMzQyMiwwIC0wLjUyNzg2MDUsLTAuMDc3MDkzIC0wLjczNjk2MjksLTAuMjE4MzU5NCAwLjIzOTQxMDQsMC4zMTMwODU5IDAuNjEyNjM2MywwLjUxODYwMzUgMS4wMzcyMDcxLDAuNTE4NjAzNSAwLjcyMzU3OTMsMCAxLjMxMDE1NjIsLTAuNTg2NTc3IDEuMzEwMTU2MiwtMS4zMTAxNTYzIDAsLTAuNDI0NTcwOCAtMC4yMDU1MTc1LC0wLjc5Nzc5NjYgLTAuNTE4NjAzNSwtMS4wMzcyMDcgeiBtIDMuMDg0MzI2MiwwIGMgMC4xNDEyNjY3LDAuMjA5MTAyNCAwLjIxODM1OTQsMC40NjU2MjA2IDAuMjE4MzU5NCwwLjczNjk2MjkgMCwwLjcyMzU3OTMgLTAuNTg2NTc3LDEuMzEwMTU2MyAtMS4zMTAxNTYzLDEuMzEwMTU2MyAtMC4yNzEzNDIzLDAgLTAuNTI3ODYwNSwtMC4wNzcwOTMgLTAuNzM2OTYyOSwtMC4yMTgzNTk0IDAuMjM5NDEwNCwwLjMxMzA4NTkgMC42MTI2MzYyLDAuNTE4NjAzNSAxLjAzNzIwNywwLjUxODYwMzUgMC43MjM1NzkzLDAgMS4zMTAxNTYzLC0wLjU4NjU3NyAxLjMxMDE1NjMsLTEuMzEwMTU2MyAwLC0wLjQyNDU3MDggLTAuMjA1NTE3NiwtMC43OTc3OTY2IC0wLjUxODYwMzUsLTEuMDM3MjA3IHoiIC8+ICA8L2c+PC9zdmc+);\n  background-repeat: no-repeat;\n  background-position: 100% 100%;\n  pointer-events: auto !important; }\n\n.os-host-rtl > .os-scrollbar-corner.os-scrollbar-corner-resize {\n  -webkit-transform: scale(-1, 1);\n  transform: scale(-1, 1); }\n\n.os-host-overflow {\n  overflow: hidden !important; }\n\n/*\r\nTHEMES:\r\n*/\n/* NONE THEME: */\n.os-theme-none > .os-scrollbar-horizontal,\n.os-theme-none > .os-scrollbar-vertical,\n.os-theme-none > .os-scrollbar-corner {\n  display: none !important; }\n\n.os-theme-none > .os-scrollbar-corner-resize {\n  display: block !important;\n  min-width: 10px;\n  min-height: 10px; }\n\n/* DARK & LIGHT THEME: */\n.os-theme-dark > .os-scrollbar-horizontal,\n.os-theme-light > .os-scrollbar-horizontal {\n  right: 10px;\n  height: 10px; }\n\n.os-theme-dark > .os-scrollbar-vertical,\n.os-theme-light > .os-scrollbar-vertical {\n  bottom: 10px;\n  width: 10px; }\n\n.os-theme-dark.os-host-rtl > .os-scrollbar-horizontal,\n.os-theme-light.os-host-rtl > .os-scrollbar-horizontal {\n  left: 10px;\n  right: 0; }\n\n.os-theme-dark > .os-scrollbar-corner,\n.os-theme-light > .os-scrollbar-corner {\n  height: 10px;\n  width: 10px; }\n\n.os-theme-dark > .os-scrollbar-corner,\n.os-theme-light > .os-scrollbar-corner {\n  background-color: transparent; }\n\n.os-theme-dark > .os-scrollbar,\n.os-theme-light > .os-scrollbar {\n  padding: 2px;\n  box-sizing: border-box;\n  background: transparent; }\n\n.os-theme-dark > .os-scrollbar.os-scrollbar-unusable,\n.os-theme-light > .os-scrollbar.os-scrollbar-unusable {\n  background: transparent; }\n\n.os-theme-dark > .os-scrollbar > .os-scrollbar-track,\n.os-theme-light > .os-scrollbar > .os-scrollbar-track {\n  background: transparent; }\n\n.os-theme-dark > .os-scrollbar-horizontal > .os-scrollbar-track > .os-scrollbar-handle,\n.os-theme-light > .os-scrollbar-horizontal > .os-scrollbar-track > .os-scrollbar-handle {\n  min-width: 30px; }\n\n.os-theme-dark > .os-scrollbar-vertical > .os-scrollbar-track > .os-scrollbar-handle,\n.os-theme-light > .os-scrollbar-vertical > .os-scrollbar-track > .os-scrollbar-handle {\n  min-height: 30px; }\n\n.os-theme-dark.os-host-transition > .os-scrollbar > .os-scrollbar-track > .os-scrollbar-handle,\n.os-theme-light.os-host-transition > .os-scrollbar > .os-scrollbar-track > .os-scrollbar-handle {\n  -webkit-transition: background-color 0.3s;\n  transition: background-color 0.3s; }\n\n.os-theme-dark > .os-scrollbar > .os-scrollbar-track > .os-scrollbar-handle,\n.os-theme-light > .os-scrollbar > .os-scrollbar-track > .os-scrollbar-handle,\n.os-theme-dark > .os-scrollbar > .os-scrollbar-track,\n.os-theme-light > .os-scrollbar > .os-scrollbar-track {\n  border-radius: 10px; }\n\n.os-theme-dark > .os-scrollbar > .os-scrollbar-track > .os-scrollbar-handle {\n  background: rgba(0, 0, 0, 0.4); }\n\n.os-theme-light > .os-scrollbar > .os-scrollbar-track > .os-scrollbar-handle {\n  background: rgba(255, 255, 255, 0.4); }\n\n.os-theme-dark > .os-scrollbar:hover > .os-scrollbar-track > .os-scrollbar-handle {\n  background: rgba(0, 0, 0, 0.55); }\n\n.os-theme-light > .os-scrollbar:hover > .os-scrollbar-track > .os-scrollbar-handle {\n  background: rgba(255, 255, 255, 0.55); }\n\n.os-theme-dark > .os-scrollbar > .os-scrollbar-track > .os-scrollbar-handle.active {\n  background: rgba(0, 0, 0, 0.7); }\n\n.os-theme-light > .os-scrollbar > .os-scrollbar-track > .os-scrollbar-handle.active {\n  background: rgba(255, 255, 255, 0.7); }\n\n.os-theme-dark > .os-scrollbar-horizontal .os-scrollbar-handle:before,\n.os-theme-dark > .os-scrollbar-vertical .os-scrollbar-handle:before,\n.os-theme-light > .os-scrollbar-horizontal .os-scrollbar-handle:before,\n.os-theme-light > .os-scrollbar-vertical .os-scrollbar-handle:before {\n  content: '';\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  display: block; }\n\n.os-theme-dark.os-host-scrollbar-horizontal-hidden > .os-scrollbar-horizontal .os-scrollbar-handle:before,\n.os-theme-dark.os-host-scrollbar-vertical-hidden > .os-scrollbar-vertical .os-scrollbar-handle:before,\n.os-theme-light.os-host-scrollbar-horizontal-hidden > .os-scrollbar-horizontal .os-scrollbar-handle:before,\n.os-theme-light.os-host-scrollbar-vertical-hidden > .os-scrollbar-vertical .os-scrollbar-handle:before {\n  display: none; }\n\n.os-theme-dark > .os-scrollbar-horizontal .os-scrollbar-handle:before,\n.os-theme-light > .os-scrollbar-horizontal .os-scrollbar-handle:before {\n  top: -6px;\n  bottom: -2px; }\n\n.os-theme-dark > .os-scrollbar-vertical .os-scrollbar-handle:before,\n.os-theme-light > .os-scrollbar-vertical .os-scrollbar-handle:before {\n  left: -6px;\n  right: -2px; }\n\n.os-host-rtl.os-theme-dark > .os-scrollbar-vertical .os-scrollbar-handle:before,\n.os-host-rtl.os-theme-light > .os-scrollbar-vertical .os-scrollbar-handle:before {\n  right: -6px;\n  left: -2px; }\n\n.os-theme-dark > .os-scrollbar-vertical {\n  width: 14px; }\n\n.os-theme-dark > .os-scrollbar-horizontal {\n  height: 14px; }\n\n.os-theme-dark > .os-scrollbar {\n  padding: 3px; }\n  .os-theme-dark > .os-scrollbar > .os-scrollbar-track > .os-scrollbar-handle {\n    background: rgba(179, 191, 200, 0.6); }\n    .os-theme-dark > .os-scrollbar > .os-scrollbar-track > .os-scrollbar-handle.active, .os-theme-dark > .os-scrollbar > .os-scrollbar-track > .os-scrollbar-handle:hover, .os-theme-dark > .os-scrollbar > .os-scrollbar-track > .os-scrollbar-handle.active:hover {\n      background: rgba(179, 191, 200, 0.95); }\n\n*::-webkit-scrollbar {\n  width: 8px;\n  height: 8px;\n  background-color: transparent; }\n\n*::-webkit-scrollbar-thumb {\n  border-radius: 8px;\n  background-color: rgba(179, 191, 200, 0.6); }\n  *::-webkit-scrollbar-thumb:hover {\n    background: rgba(179, 191, 200, 0.95); }\n\n* {\n  scrollbar-width: thin;\n  scrollbar-color: rgba(179, 191, 200, 0.6) transparent; }\n\n#scene_editor_container {\n  background-color: lightblue;\n  width: 80%;\n  height: 80%;\n  margin: 0 auto; }\n\n#scene_editor_container.scene-content-container {\n  position: relative; }\n\n.ce-wrapper {\n  user-select: none; }\n  .ce-wrapper:focus {\n    outline: none !important; }\n\n.ce {\n  width: 100%;\n  height: 100%;\n  position: absolute; }\n  .ce .svg-test {\n    position: absolute;\n    top: 0;\n    left: 0; }\n  .ce .media-composition {\n    width: 100%;\n    height: 100%;\n    overflow: hidden; }\n    .ce .media-composition .scaled {\n      position: relative;\n      transform-origin: 0 0; }\n      .ce .media-composition .scaled img {\n        max-width: initial;\n        position: absolute;\n        transform-origin: left top;\n        pointer-events: none; }\n      .ce .media-composition .scaled video {\n        max-width: initial;\n        position: absolute;\n        transform-origin: left top; }\n  .ce .image-composition {\n    background-color: orange;\n    width: 100%;\n    height: 100%; }\n  .ce .text-composition {\n    background-color: cornflowerblue;\n    width: 100%;\n    height: 100%; }\n  .ce .graphic-composition {\n    background-color: darkseagreen;\n    width: 100%;\n    height: 100%; }\n  .ce .video-composition {\n    background-color: rebeccapurple;\n    width: 100%;\n    height: 100%; }\n\n.debug-info {\n  position: absolute;\n  background: rgba(0, 0, 0, 0.5);\n  color: #fff;\n  padding: 8px;\n  z-index: 900;\n  font-size: 0.7em;\n  text-align: left; }\n\nbody,\nhtml {\n  width: 100%;\n  height: 100%;\n  margin: 0;\n  padding: 0;\n  user-select: none;\n  -webkit-user-select: none; }\n\nbody,\nbody * {\n  font-family: HelveticaNeue, Helvetica, Arial, sans-serif; }\n\n* {\n  box-sizing: border-box; }\n\n#storyboard-editor {\n  display: flex;\n  flex-direction: column;\n  text-align: center;\n  height: 100%;\n  margin: 0;\n  min-width: 900px;\n  min-height: 607px; }\n  #storyboard-editor #busy-overlay {\n    position: fixed;\n    z-index: 9999999;\n    width: 100%;\n    height: 100%;\n    background-color: rgba(0, 0, 0, 0.33);\n    top: 0;\n    left: 0; }\n    #storyboard-editor #busy-overlay div {\n      position: fixed;\n      top: 50%;\n      left: 50%;\n      margin: -1.75rem 0 0 -1.75rem; }\n  #storyboard-editor .view-wrapper {\n    flex: 1 0 auto;\n    display: flex;\n    height: calc(100% - 63px);\n    font-size: 12px;\n    font-weight: normal;\n    font-style: normal;\n    font-stretch: normal;\n    line-height: 1.5; }\n    #storyboard-editor .view-wrapper .branding-colors {\n      font-size: 10px; }\n      #storyboard-editor .view-wrapper .branding-colors h6,\n      #storyboard-editor .view-wrapper .branding-colors input,\n      #storyboard-editor .view-wrapper .branding-colors a {\n        font-size: 10px; }\n      #storyboard-editor .view-wrapper .branding-colors .palettes {\n        width: 20px;\n        height: 20px;\n        display: inline-block;\n        width: 100%; }\n        #storyboard-editor .view-wrapper .branding-colors .palettes .palettes-dropdown-chevron {\n          width: 20px;\n          height: 20px;\n          display: inline;\n          vertical-align: initial; }\n          #storyboard-editor .view-wrapper .branding-colors .palettes .palettes-dropdown-chevron.opened {\n            transform: rotate(180deg); }\n      #storyboard-editor .view-wrapper .branding-colors .selected_palette_color_rect {\n        /* */\n        width: 20px;\n        height: 20px;\n        border: 1px solid;\n        display: inline-block;\n        outline: 1px solid #fff; }\n    #storyboard-editor .view-wrapper .content-wrapper {\n      display: flex;\n      flex-direction: column;\n      flex: 1 1 auto;\n      position: relative; }\n\n.layout-container {\n  border-radius: 5px;\n  background-color: #ffffff;\n  height: 100%; }\n  .layout-container .layout-header {\n    height: 40px;\n    line-height: 40px;\n    border-bottom: solid 1px #e3e8e9;\n    font-size: 16px;\n    font-weight: normal;\n    text-align: center;\n    color: #1a2e3b; }\n  .layout-container .layout-arrangement {\n    padding: 2px 14px 0;\n    overflow-y: auto;\n    height: calc(100% - 40px);\n    display: grid;\n    grid-template-columns: repeat(auto-fill, 50%);\n    align-content: baseline;\n    justify-items: center; }\n    .layout-container .layout-arrangement .layout-preview {\n      position: relative;\n      display: inline-flex;\n      border: solid 3px transparent;\n      cursor: pointer; }\n      .layout-container .layout-arrangement .layout-preview:hover {\n        border-color: #bce5f8; }\n      .layout-container .layout-arrangement .layout-preview.selected {\n        border-color: #00adef; }\n\n.major-button {\n  width: 100%;\n  height: 32px;\n  line-height: 32px;\n  border-radius: 2px;\n  background-color: #3a5161;\n  font-size: 14px;\n  font-weight: bold;\n  letter-spacing: 0.2px;\n  text-align: center;\n  color: #ffffff; }\n\ninput[type='button'].major-button {\n  line-height: initial; }\n\n#inspector-content-properties {\n  height: 100%;\n  overflow-y: auto; }\n\n#inspector-content-style {\n  height: 100%;\n  overflow-y: auto; }\n\n.media-inspector {\n  border-radius: 5px;\n  background-color: #ffffff;\n  height: 100%; }\n  .media-inspector .media-inspector-header {\n    height: 32px;\n    line-height: 32px;\n    border-bottom: solid 1px #e3e8e9;\n    font-size: 12px;\n    font-weight: bold;\n    text-align: center;\n    color: #1a2e3b; }\n  .media-inspector hr {\n    width: calc(100% + 34px);\n    margin-left: -17px;\n    height: 0;\n    -webkit-appearance: none;\n    border: 1px solid #e3e8e9;\n    border-bottom: 0;\n    border-right: 0;\n    border-left: 0;\n    margin-top: 0; }\n  .media-inspector .media-inspector-controls {\n    text-align: left;\n    padding: 0 15px 15px 15px; }\n    .media-inspector .media-inspector-controls .controls-label {\n      font-size: 12px;\n      font-weight: bold;\n      line-height: 1.5;\n      color: #1a2e3b; }\n    .media-inspector .media-inspector-controls .major-button {\n      width: 225px; }\n\n.bold {\n  font-weight: 900; }\n\n.center {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%; }\n\n.center-icon {\n  position: absolute;\n  top: 50%;\n  right: 50%;\n  transform: translate(50%, -50%); }\n\n.grow {\n  transform: scale(1.3);\n  transition: all 0.2s ease-in-out;\n  border-radius: 6.5px;\n  height: 100%;\n  width: 100%;\n  z-index: 1; }\n\n.hide {\n  display: none; }\n\n.music-bars-playing {\n  height: 30px;\n  left: 50%;\n  margin: -30px 0 0 -20px;\n  position: absolute;\n  bottom: 5px;\n  width: 40px; }\n  .music-bars-playing .bar {\n    background: #fff;\n    bottom: 1px;\n    height: 3px;\n    position: absolute;\n    width: 3px;\n    animation: sound 0ms -800ms linear infinite alternate; }\n\n@keyframes sound {\n  0% {\n    opacity: 0.35;\n    height: 3px; }\n  100% {\n    opacity: 1;\n    height: 28px; } }\n  .music-bars-playing .bar:nth-child(1) {\n    left: 1px;\n    animation-duration: 474ms; }\n  .music-bars-playing .bar:nth-child(2) {\n    left: 5px;\n    animation-duration: 433ms; }\n  .music-bars-playing .bar:nth-child(3) {\n    left: 9px;\n    animation-duration: 407ms; }\n  .music-bars-playing .bar:nth-child(4) {\n    left: 13px;\n    animation-duration: 458ms; }\n  .music-bars-playing .bar:nth-child(5) {\n    left: 17px;\n    animation-duration: 400ms; }\n  .music-bars-playing .bar:nth-child(6) {\n    left: 21px;\n    animation-duration: 427ms; }\n  .music-bars-playing .bar:nth-child(7) {\n    left: 25px;\n    animation-duration: 441ms; }\n  .music-bars-playing .bar:nth-child(8) {\n    left: 29px;\n    animation-duration: 419ms; }\n  .music-bars-playing .bar:nth-child(9) {\n    left: 33px;\n    animation-duration: 487ms; }\n  .music-bars-playing .bar:nth-child(10) {\n    left: 37px;\n    animation-duration: 442ms; }\n\n.music-loader {\n  display: flex;\n  justify-content: center;\n  position: absolute;\n  bottom: 10px;\n  text-align: center;\n  width: 100%; }\n\n.music-error {\n  position: absolute;\n  top: 50%;\n  text-align: center;\n  width: 100%;\n  color: #fff; }\n\n.box-placeholder-container {\n  display: flex;\n  flex-wrap: wrap;\n  justify-items: center; }\n  .box-placeholder-container .placeholder-container {\n    width: 150px;\n    height: 200px;\n    text-align: center;\n    margin: 0 0 40px 16px; }\n  .box-placeholder-container .placeholder-loading {\n    animation-duration: 1s;\n    animation-fill-mode: forwards;\n    animation-iteration-count: infinite;\n    animation-name: placeHolderShimmer;\n    animation-timing-function: linear;\n    background: #f6f7f8;\n    background: linear-gradient(to right, #eeeeee 8%, #dddddd 18%, #eeeeee 33%);\n    background-size: 800px 104px;\n    height: 96px;\n    position: relative; }\n    .box-placeholder-container .placeholder-loading.thumb {\n      height: 150px;\n      width: 150px;\n      margin-bottom: 10px;\n      border-radius: 5px; }\n    .box-placeholder-container .placeholder-loading.artist {\n      width: 120px;\n      height: 12px;\n      margin-bottom: 10px; }\n    .box-placeholder-container .placeholder-loading.name {\n      width: 98px;\n      height: 12px;\n      margin-bottom: 10px; }\n\n@keyframes placeHolderShimmer {\n  0% {\n    background-position: -150px 0; }\n  100% {\n    background-position: 150px 0; } }\n\n.use-button-wrapper {\n  position: absolute;\n  display: flex;\n  justify-content: center;\n  bottom: 15px;\n  width: 100%; }\n\n.use-button {\n  cursor: pointer;\n  text-align: center;\n  width: 100px;\n  height: 20px;\n  font-weight: bold;\n  font-size: 14px;\n  color: #fff;\n  border-radius: 3px;\n  border: solid 1px #ffffff;\n  background-color: rgba(0, 0, 0, 0.3); }\n\n.chip-list {\n  display: flex;\n  flex-wrap: wrap;\n  align-items: center;\n  margin-bottom: 10px; }\n\n.chip {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 5px 10px;\n  background-color: #4b4b4b;\n  margin-right: 10px;\n  border-radius: 100px;\n  max-width: 200px;\n  width: auto;\n  color: #fff; }\n\n.chip-close {\n  font-size: 14px;\n  margin-left: 10px;\n  cursor: pointer; }\n\n/*\n * react-circular-progressbar styles\n * All of the styles in this file are configurable!\n */\n.CircularProgressbar {\n  /*\n   * This fixes an issue where the CircularProgressbar svg has\n   * 0 width inside a \"display: flex\" container, and thus not visible.\n   */\n  width: 100%;\n  /*\n   * This fixes a centering issue with CircularProgressbarWithChildren:\n   * https://github.com/kevinsqi/react-circular-progressbar/issues/94\n   */\n  vertical-align: middle; }\n\n.CircularProgressbar .CircularProgressbar-path {\n  stroke: #3e98c7;\n  stroke-linecap: round;\n  -webkit-transition: stroke-dashoffset 0.5s ease 0s;\n  transition: stroke-dashoffset 0.5s ease 0s; }\n\n.CircularProgressbar .CircularProgressbar-trail {\n  stroke: #d6d6d6;\n  /* Used when trail is not full diameter, i.e. when props.circleRatio is set */\n  stroke-linecap: round; }\n\n.CircularProgressbar .CircularProgressbar-text {\n  fill: #3e98c7;\n  font-size: 20px;\n  dominant-baseline: middle;\n  text-anchor: middle; }\n\n.CircularProgressbar .CircularProgressbar-background {\n  fill: #d6d6d6; }\n\n/*\n * Sample background styles. Use these with e.g.:\n *\n *   <CircularProgressbar\n *     className=\"CircularProgressbar-inverted\"\n *     background\n *     percentage={50}\n *   />\n */\n.CircularProgressbar.CircularProgressbar-inverted .CircularProgressbar-background {\n  fill: #3e98c7; }\n\n.CircularProgressbar.CircularProgressbar-inverted .CircularProgressbar-text {\n  fill: #fff; }\n\n.CircularProgressbar.CircularProgressbar-inverted .CircularProgressbar-path {\n  stroke: #fff; }\n\n.CircularProgressbar.CircularProgressbar-inverted .CircularProgressbar-trail {\n  stroke: transparent; }\n\n.preview-button {\n  width: 110px;\n  height: 40px;\n  border-radius: 3px;\n  background-color: #00adef;\n  float: right;\n  font-size: 16px;\n  font-weight: bold;\n  color: #ffffff; }\n\n:focus {\n  outline: none; }\n\n.shz {\n  border-radius: 50%;\n  background: rgba(0, 0, 0, 0.7);\n  width: 60px;\n  height: 60px; }\n\n.grid {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  margin: 0 auto;\n  padding: 0;\n  max-width: 1340px; }\n\n.grid > * {\n  -webkit-box-flex: 1 1 100%;\n  -webkit-flex: 1 1 100%;\n  -ms-flex: 1 1 100%;\n  flex: 1 1 100%;\n  min-width: 0; }\n\n.grid-vert-center {\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n  -ms-flex-align: center;\n  align-items: center; }\n\n.grid-space-center {\n  -webkit-box-pack: center;\n  -webkit-justify-content: center;\n  -ms-flex-pack: center;\n  justify-content: center; }\n\n.shz-partial-equalizer {\n  opacity: 0;\n  pointer-events: none;\n  list-style: none;\n  width: 100%;\n  height: 100%;\n  border-radius: 5px; }\n\n.shz-partial-equalizer {\n  display: flex; }\n\n.shz-partial-equalizer {\n  opacity: 1;\n  -webkit-transition: opacity 0.5s cubic-bezier(0.4, 0, 0.2, 1);\n  transition: opacity 0.5s cubic-bezier(0.4, 0, 0.2, 1);\n  pointer-events: auto; }\n\n.shz-partial-equalizer li {\n  background: #fff;\n  max-width: 4px;\n  height: 100%;\n  margin-right: 2px;\n  border-radius: 3px; }\n\n.shz-partial-equalizer li {\n  -webkit-animation: equalizer 0.5s forwards ease-in-out infinite;\n  -ms-animation: equalizer 0.5s forwards ease-in-out infinite;\n  animation: equalizer 0.5s forwards ease-in-out infinite;\n  -webkit-animation-direction: alternate;\n  -ms-animation-direction: alternate;\n  animation-direction: alternate; }\n\n.shz-partial-equalizer li:nth-child(1) {\n  animation-duration: 2s; }\n\n.shz-partial-equalizer li:nth-child(2) {\n  animation-duration: 1.6s; }\n\n.shz-partial-equalizer li:nth-child(3) {\n  animation-duration: 1.9s; }\n\n.shz-partial-equalizer li:nth-child(4) {\n  animation-duration: 1.5s; }\n\n.shz-partial-equalizer li:nth-child(5) {\n  animation-duration: 1.7s; }\n\n.shz-partial-equalizer li:last-child {\n  margin-right: 0; }\n\n@-webkit-keyframes equalizer {\n  0% {\n    height: 5%; }\n  12% {\n    height: 10%; }\n  24% {\n    height: 40%; }\n  36% {\n    height: 15%; }\n  48% {\n    height: 25%; }\n  60% {\n    height: 30%; }\n  72% {\n    height: 20%; }\n  84% {\n    height: 35%; }\n  100% {\n    height: 5%; } }\n\n@keyframes equalizer {\n  0% {\n    height: 5%; }\n  12% {\n    height: 10%; }\n  24% {\n    height: 40%; }\n  36% {\n    height: 15%; }\n  48% {\n    height: 25%; }\n  60% {\n    height: 30%; }\n  72% {\n    height: 20%; }\n  84% {\n    height: 35%; }\n  100% {\n    height: 5%; } }\n\n.shz-partial-equalizer.grid-vert-bottom li {\n  animation-name: equalizer-bottom; }\n\n@-webkit-keyframes equalizer-bottom {\n  0% {\n    height: 5%; }\n  12% {\n    height: 40%; }\n  24% {\n    height: 100%; }\n  36% {\n    height: 30%; }\n  48% {\n    height: 55%; }\n  60% {\n    height: 80%; }\n  72% {\n    height: 60%; }\n  84% {\n    height: 35%; }\n  100% {\n    height: 5%; } }\n\n@keyframes equalizer-bottom {\n  0% {\n    height: 5%; }\n  12% {\n    height: 40%; }\n  24% {\n    height: 100%; }\n  36% {\n    height: 30%; }\n  48% {\n    height: 55%; }\n  60% {\n    height: 80%; }\n  72% {\n    height: 60%; }\n  84% {\n    height: 35%; }\n  100% {\n    height: 5%; } }\n\nsvg.shz-partial-equalizer-pause {\n  display: none;\n  margin: -10px 0 0 -9px;\n  opacity: 0;\n  -webkit-transition: opacity 0.5s cubic-bezier(0.4, 0.2, 0, 1);\n  transition: opacity 0.5s cubic-bezier(0.4, 0.2, 0, 1); }\n"],sourceRoot:""}]);const c=i},454501398700026:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=454501398700026,e.exports=t},157013716635298:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25 24"><g fill="none" fill-rule="evenodd"><path stroke="#1A2E3B" stroke-linejoin="round" stroke-width="2" d="M21 16.753L21 7.371 12.035 2.5 3 6.945 3 16.753 12 21.5z" transform="translate(1)"></path><g fill="#1A2E3B"><path d="M0 0H4V2H0zM0 6H8V8H0z" transform="translate(1) translate(8 8)"></path><path d="M-1.5 3H5.5V5H-1.5z" transform="translate(1) translate(8 8) rotate(90 2 4)"></path><path d="M6 4.5H8V6.5H6z" transform="translate(1) translate(8 8) matrix(-1 0 0 1 14 0)"></path></g></g></svg>'},112614667720657:e=>{"use strict";e.exports=React},350946856597094:e=>{"use strict";e.exports=ReactDOM}},a={};function i(e){if(a[e])return a[e].exports;var t=a[e]={id:e,loaded:!1,exports:{}};return o[e].call(t.exports,t,t.exports,i),t.loaded=!0,t.exports}i.m=o,i.x=e=>{},i.amdO={},i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,i.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"==typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"==typeof n.then)return n}var o=Object.create(null);i.r(o);var a={};e=e||[null,t({}),t([]),t(t)];for(var c=2&r&&n;"object"==typeof c&&!~e.indexOf(c);c=t(c))Object.getOwnPropertyNames(c).forEach((e=>a[e]=()=>n[e]));return a.default=()=>n,i.d(o,a),o},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.f={},i.e=e=>Promise.all(Object.keys(i.f).reduce(((t,n)=>(i.f[n](e,t),t)),[])),i.u=e=>e+"-bundle.js",i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n={},r="vimeo-create:",i.l=(e,t,o,a)=>{if(n[e])n[e].push(t);else{var c,l;if(void 0!==o)for(var s=document.getElementsByTagName("script"),u=0;u<s.length;u++){var d=s[u];if(d.getAttribute("src")==e||d.getAttribute("data-webpack")==r+o){c=d;break}}c||(l=!0,(c=document.createElement("script")).charset="utf-8",c.timeout=120,i.nc&&c.setAttribute("nonce",i.nc),c.setAttribute("data-webpack",r+o),c.src=e),n[e]=[t];var m=(t,r)=>{c.onerror=c.onload=null,clearTimeout(p);var o=n[e];if(delete n[e],c.parentNode&&c.parentNode.removeChild(c),o&&o.forEach((e=>e(r))),t)return t(r)},p=setTimeout(m.bind(null,void 0,{type:"timeout",target:c}),12e4);c.onerror=m.bind(null,c.onerror),c.onload=m.bind(null,c.onload),l&&document.head.appendChild(c)}},i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),i.j=189,(()=>{var e;i.g.importScripts&&(e=i.g.location+"");var t=i.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");n.length&&(e=n[n.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=e})(),(()=>{var e={189:0,915:0},t=[[609241156049813,216,619]];i.f.j=(t,n)=>{var r=i.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var o=new Promise(((n,o)=>{r=e[t]=[n,o]}));n.push(r[2]=o);var a=i.p+i.u(t),c=new Error;i.l(a,(n=>{if(i.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var o=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;c.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",c.name="ChunkLoadError",c.type=o,c.request=a,r[1](c)}}),"chunk-"+t,t)}};var n=e=>{},r=(r,o)=>{for(var a,c,[l,s,u,d]=o,m=0,p=[];m<l.length;m++)c=l[m],i.o(e,c)&&e[c]&&p.push(e[c][0]),e[c]=0;for(a in s)i.o(s,a)&&(i.m[a]=s[a]);for(u&&u(i),r&&r(o);p.length;)p.shift()();return d&&t.push.apply(t,d),n()},o=self.webpackChunkvimeo_create=self.webpackChunkvimeo_create||[];function a(){for(var n,r=0;r<t.length;r++){for(var o=t[r],a=!0,c=1;c<o.length;c++){var l=o[c];0!==e[l]&&(a=!1)}a&&(t.splice(r--,1),n=i(i.s=o[0]))}return 0===t.length&&(i.x(),i.x=e=>{}),n}o.forEach(r.bind(null,0)),o.push=r.bind(null,o.push.bind(o));var c=i.x;i.x=()=>(i.x=c||(e=>{}),(n=a)())})();i.x()})();